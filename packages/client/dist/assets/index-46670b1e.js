(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const te of document.querySelectorAll('link[rel="modulepreload"]'))ee(te);new MutationObserver(te=>{for(const ie of te)if(ie.type==="childList")for(const oe of ie.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&ee(oe)}).observe(document,{childList:!0,subtree:!0});function X(te){const ie={};return te.integrity&&(ie.integrity=te.integrity),te.referrerPolicy&&(ie.referrerPolicy=te.referrerPolicy),te.crossOrigin==="use-credentials"?ie.credentials="include":te.crossOrigin==="anonymous"?ie.credentials="omit":ie.credentials="same-origin",ie}function ee(te){if(te.ep)return;te.ep=!0;const ie=X(te);fetch(te.href,ie)}})();const style="",scriptRel="modulepreload",assetsURL=function(Z){return"/"+Z},seen={},__vitePreload=function(L,X,ee){if(!X||X.length===0)return L();const te=document.getElementsByTagName("link");return Promise.all(X.map(ie=>{if(ie=assetsURL(ie),ie in seen)return;seen[ie]=!0;const oe=ie.endsWith(".css"),se=oe?'[rel="stylesheet"]':"";if(!!ee)for(let le=te.length-1;le>=0;le--){const he=te[le];if(he.href===ie&&(!oe||he.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ie}"]${se}`))return;const ce=document.createElement("link");if(ce.rel=oe?"stylesheet":scriptRel,oe||(ce.as="script",ce.crossOrigin=""),ce.href=ie,document.head.appendChild(ce),oe)return new Promise((le,he)=>{ce.addEventListener("load",le),ce.addEventListener("error",()=>he(new Error(`Unable to preload CSS for ${ie}`)))})})).then(()=>L())};function createClientComponents({components:Z}){return{...Z}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}function getAugmentedNamespace(Z){if(Z.__esModule)return Z;var L=Z.default;if(typeof L=="function"){var X=function ee(){if(this instanceof ee){var te=[null];te.push.apply(te,arguments);var ie=Function.bind.apply(L,te);return new ie}return L.apply(this,arguments)};X.prototype=L.prototype}else X={};return Object.defineProperty(X,"__esModule",{value:!0}),Object.keys(Z).forEach(function(ee){var te=Object.getOwnPropertyDescriptor(Z,ee);Object.defineProperty(X,ee,te.get?te:{enumerable:!0,get:function(){return Z[ee]}})}),X}var extendStatics=function(Z,L){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ee){X.__proto__=ee}||function(X,ee){for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&(X[te]=ee[te])},extendStatics(Z,L)};function __extends$1(Z,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");extendStatics(Z,L);function X(){this.constructor=Z}Z.prototype=L===null?Object.create(L):(X.prototype=L.prototype,new X)}function __awaiter$4(Z,L,X,ee){function te(ie){return ie instanceof X?ie:new X(function(oe){oe(ie)})}return new(X||(X=Promise))(function(ie,oe){function se(le){try{ce(ee.next(le))}catch(he){oe(he)}}function ue(le){try{ce(ee.throw(le))}catch(he){oe(he)}}function ce(le){le.done?ie(le.value):te(le.value).then(se,ue)}ce((ee=ee.apply(Z,L||[])).next())})}function __generator(Z,L){var X={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},ee,te,ie,oe;return oe={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function se(ce){return function(le){return ue([ce,le])}}function ue(ce){if(ee)throw new TypeError("Generator is already executing.");for(;oe&&(oe=0,ce[0]&&(X=0)),X;)try{if(ee=1,te&&(ie=ce[0]&2?te.return:ce[0]?te.throw||((ie=te.return)&&ie.call(te),0):te.next)&&!(ie=ie.call(te,ce[1])).done)return ie;switch(te=0,ie&&(ce=[ce[0]&2,ie.value]),ce[0]){case 0:case 1:ie=ce;break;case 4:return X.label++,{value:ce[1],done:!1};case 5:X.label++,te=ce[1],ce=[0];continue;case 7:ce=X.ops.pop(),X.trys.pop();continue;default:if(ie=X.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(ce[0]===6||ce[0]===2)){X=0;continue}if(ce[0]===3&&(!ie||ce[1]>ie[0]&&ce[1]<ie[3])){X.label=ce[1];break}if(ce[0]===6&&X.label<ie[1]){X.label=ie[1],ie=ce;break}if(ie&&X.label<ie[2]){X.label=ie[2],X.ops.push(ce);break}ie[2]&&X.ops.pop(),X.trys.pop();continue}ce=L.call(Z,X)}catch(le){ce=[6,le],te=0}finally{ee=ie=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}}function __values(Z){var L=typeof Symbol=="function"&&Symbol.iterator,X=L&&Z[L],ee=0;if(X)return X.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&ee>=Z.length&&(Z=void 0),{value:Z&&Z[ee++],done:!Z}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$4(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var ee=X.call(Z),te,ie=[],oe;try{for(;(L===void 0||L-- >0)&&!(te=ee.next()).done;)ie.push(te.value)}catch(se){oe={error:se}}finally{try{te&&!te.done&&(X=ee.return)&&X.call(ee)}finally{if(oe)throw oe.error}}return ie}function __spreadArray$3(Z,L,X){if(X||arguments.length===2)for(var ee=0,te=L.length,ie;ee<te;ee++)(ie||!(ee in L))&&(ie||(ie=Array.prototype.slice.call(L,0,ee)),ie[ee]=L[ee]);return Z.concat(ie||Array.prototype.slice.call(L))}function __await(Z){return this instanceof __await?(this.v=Z,this):new __await(Z)}function __asyncGenerator(Z,L,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee=X.apply(Z,L||[]),te,ie=[];return te={},oe("next"),oe("throw"),oe("return"),te[Symbol.asyncIterator]=function(){return this},te;function oe(pe){ee[pe]&&(te[pe]=function(we){return new Promise(function(_e,xe){ie.push([pe,we,_e,xe])>1||se(pe,we)})})}function se(pe,we){try{ue(ee[pe](we))}catch(_e){he(ie[0][3],_e)}}function ue(pe){pe.value instanceof __await?Promise.resolve(pe.value.v).then(ce,le):he(ie[0][2],pe)}function ce(pe){se("next",pe)}function le(pe){se("throw",pe)}function he(pe,we){pe(we),ie.shift(),ie.length&&se(ie[0][0],ie[0][1])}}function __asyncValues(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=Z[Symbol.asyncIterator],X;return L?L.call(Z):(Z=typeof __values=="function"?__values(Z):Z[Symbol.iterator](),X={},ee("next"),ee("throw"),ee("return"),X[Symbol.asyncIterator]=function(){return this},X);function ee(ie){X[ie]=Z[ie]&&function(oe){return new Promise(function(se,ue){oe=Z[ie](oe),te(se,ue,oe.done,oe.value)})}}function te(ie,oe,se,ue){Promise.resolve(ue).then(function(ce){ie({value:ce,done:se})},oe)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$2(Z){return typeof Z=="function"}function createErrorClass(Z){var L=function(ee){Error.call(ee),ee.stack=new Error().stack},X=Z(L);return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}var UnsubscriptionError=createErrorClass(function(Z){return function(X){Z(this),this.message=X?X.length+` errors occurred during unsubscription:
`+X.map(function(ee,te){return te+1+") "+ee.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=X}});function arrRemove(Z,L){if(Z){var X=Z.indexOf(L);0<=X&&Z.splice(X,1)}}var Subscription=function(){function Z(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}return Z.prototype.unsubscribe=function(){var L,X,ee,te,ie;if(!this.closed){this.closed=!0;var oe=this._parentage;if(oe)if(this._parentage=null,Array.isArray(oe))try{for(var se=__values(oe),ue=se.next();!ue.done;ue=se.next()){var ce=ue.value;ce.remove(this)}}catch(xe){L={error:xe}}finally{try{ue&&!ue.done&&(X=se.return)&&X.call(se)}finally{if(L)throw L.error}}else oe.remove(this);var le=this.initialTeardown;if(isFunction$2(le))try{le()}catch(xe){ie=xe instanceof UnsubscriptionError?xe.errors:[xe]}var he=this._finalizers;if(he){this._finalizers=null;try{for(var pe=__values(he),we=pe.next();!we.done;we=pe.next()){var _e=we.value;try{execFinalizer(_e)}catch(xe){ie=ie??[],xe instanceof UnsubscriptionError?ie=__spreadArray$3(__spreadArray$3([],__read$4(ie)),__read$4(xe.errors)):ie.push(xe)}}}catch(xe){ee={error:xe}}finally{try{we&&!we.done&&(te=pe.return)&&te.call(pe)}finally{if(ee)throw ee.error}}}if(ie)throw new UnsubscriptionError(ie)}},Z.prototype.add=function(L){var X;if(L&&L!==this)if(this.closed)execFinalizer(L);else{if(L instanceof Z){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=(X=this._finalizers)!==null&&X!==void 0?X:[]).push(L)}},Z.prototype._hasParent=function(L){var X=this._parentage;return X===L||Array.isArray(X)&&X.includes(L)},Z.prototype._addParent=function(L){var X=this._parentage;this._parentage=Array.isArray(X)?(X.push(L),X):X?[X,L]:L},Z.prototype._removeParent=function(L){var X=this._parentage;X===L?this._parentage=null:Array.isArray(X)&&arrRemove(X,L)},Z.prototype.remove=function(L){var X=this._finalizers;X&&arrRemove(X,L),L instanceof Z&&L._removeParent(this)},Z.EMPTY=function(){var L=new Z;return L.closed=!0,L}(),Z}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(Z){return Z instanceof Subscription||Z&&"closed"in Z&&isFunction$2(Z.remove)&&isFunction$2(Z.add)&&isFunction$2(Z.unsubscribe)}function execFinalizer(Z){isFunction$2(Z)?Z():Z.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(Z,L){for(var X=[],ee=2;ee<arguments.length;ee++)X[ee-2]=arguments[ee];var te=timeoutProvider.delegate;return te?.setTimeout?te.setTimeout.apply(te,__spreadArray$3([Z,L],__read$4(X))):setTimeout.apply(void 0,__spreadArray$3([Z,L],__read$4(X)))},clearTimeout:function(Z){var L=timeoutProvider.delegate;return(L?.clearTimeout||clearTimeout)(Z)},delegate:void 0};function reportUnhandledError(Z){timeoutProvider.setTimeout(function(){throw Z})}function noop$2(){}function errorContext(Z){Z()}var Subscriber=function(Z){__extends$1(L,Z);function L(X){var ee=Z.call(this)||this;return ee.isStopped=!1,X?(ee.destination=X,isSubscription(X)&&X.add(ee)):ee.destination=EMPTY_OBSERVER,ee}return L.create=function(X,ee,te){return new SafeSubscriber(X,ee,te)},L.prototype.next=function(X){this.isStopped||this._next(X)},L.prototype.error=function(X){this.isStopped||(this.isStopped=!0,this._error(X))},L.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},L.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,Z.prototype.unsubscribe.call(this),this.destination=null)},L.prototype._next=function(X){this.destination.next(X)},L.prototype._error=function(X){try{this.destination.error(X)}finally{this.unsubscribe()}},L.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},L}(Subscription),_bind=Function.prototype.bind;function bind(Z,L){return _bind.call(Z,L)}var ConsumerObserver=function(){function Z(L){this.partialObserver=L}return Z.prototype.next=function(L){var X=this.partialObserver;if(X.next)try{X.next(L)}catch(ee){handleUnhandledError(ee)}},Z.prototype.error=function(L){var X=this.partialObserver;if(X.error)try{X.error(L)}catch(ee){handleUnhandledError(ee)}else handleUnhandledError(L)},Z.prototype.complete=function(){var L=this.partialObserver;if(L.complete)try{L.complete()}catch(X){handleUnhandledError(X)}},Z}(),SafeSubscriber=function(Z){__extends$1(L,Z);function L(X,ee,te){var ie=Z.call(this)||this,oe;if(isFunction$2(X)||!X)oe={next:X??void 0,error:ee??void 0,complete:te??void 0};else{var se;ie&&config.useDeprecatedNextContext?(se=Object.create(X),se.unsubscribe=function(){return ie.unsubscribe()},oe={next:X.next&&bind(X.next,se),error:X.error&&bind(X.error,se),complete:X.complete&&bind(X.complete,se)}):oe=X}return ie.destination=new ConsumerObserver(oe),ie}return L}(Subscriber);function handleUnhandledError(Z){reportUnhandledError(Z)}function defaultErrorHandler(Z){throw Z}var EMPTY_OBSERVER={closed:!0,next:noop$2,error:defaultErrorHandler,complete:noop$2},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(Z){return Z}function pipe(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];return pipeFromArray$1(Z)}function pipeFromArray$1(Z){return Z.length===0?identity$1:Z.length===1?Z[0]:function(X){return Z.reduce(function(ee,te){return te(ee)},X)}}var Observable=function(){function Z(L){L&&(this._subscribe=L)}return Z.prototype.lift=function(L){var X=new Z;return X.source=this,X.operator=L,X},Z.prototype.subscribe=function(L,X,ee){var te=this,ie=isSubscriber(L)?L:new SafeSubscriber(L,X,ee);return errorContext(function(){var oe=te,se=oe.operator,ue=oe.source;ie.add(se?se.call(ie,ue):ue?te._subscribe(ie):te._trySubscribe(ie))}),ie},Z.prototype._trySubscribe=function(L){try{return this._subscribe(L)}catch(X){L.error(X)}},Z.prototype.forEach=function(L,X){var ee=this;return X=getPromiseCtor(X),new X(function(te,ie){var oe=new SafeSubscriber({next:function(se){try{L(se)}catch(ue){ie(ue),oe.unsubscribe()}},error:ie,complete:te});ee.subscribe(oe)})},Z.prototype._subscribe=function(L){var X;return(X=this.source)===null||X===void 0?void 0:X.subscribe(L)},Z.prototype[observable$1]=function(){return this},Z.prototype.pipe=function(){for(var L=[],X=0;X<arguments.length;X++)L[X]=arguments[X];return pipeFromArray$1(L)(this)},Z.prototype.toPromise=function(L){var X=this;return L=getPromiseCtor(L),new L(function(ee,te){var ie;X.subscribe(function(oe){return ie=oe},function(oe){return te(oe)},function(){return ee(ie)})})},Z.create=function(L){return new Z(L)},Z}();function getPromiseCtor(Z){var L;return(L=Z??config.Promise)!==null&&L!==void 0?L:Promise}function isObserver(Z){return Z&&isFunction$2(Z.next)&&isFunction$2(Z.error)&&isFunction$2(Z.complete)}function isSubscriber(Z){return Z&&Z instanceof Subscriber||isObserver(Z)&&isSubscription(Z)}function hasLift(Z){return isFunction$2(Z?.lift)}function operate(Z){return function(L){if(hasLift(L))return L.lift(function(X){try{return Z(X,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(Z,L,X,ee,te){return new OperatorSubscriber(Z,L,X,ee,te)}var OperatorSubscriber=function(Z){__extends$1(L,Z);function L(X,ee,te,ie,oe,se){var ue=Z.call(this,X)||this;return ue.onFinalize=oe,ue.shouldUnsubscribe=se,ue._next=ee?function(ce){try{ee(ce)}catch(le){X.error(le)}}:Z.prototype._next,ue._error=ie?function(ce){try{ie(ce)}catch(le){X.error(le)}finally{this.unsubscribe()}}:Z.prototype._error,ue._complete=te?function(){try{te()}catch(ce){X.error(ce)}finally{this.unsubscribe()}}:Z.prototype._complete,ue}return L.prototype.unsubscribe=function(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ee=this.closed;Z.prototype.unsubscribe.call(this),!ee&&((X=this.onFinalize)===null||X===void 0||X.call(this))}},L}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(Z){return function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(Z){__extends$1(L,Z);function L(){var X=Z.call(this)||this;return X.closed=!1,X.currentObservers=null,X.observers=[],X.isStopped=!1,X.hasError=!1,X.thrownError=null,X}return L.prototype.lift=function(X){var ee=new AnonymousSubject(this,this);return ee.operator=X,ee},L.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},L.prototype.next=function(X){var ee=this;errorContext(function(){var te,ie;if(ee._throwIfClosed(),!ee.isStopped){ee.currentObservers||(ee.currentObservers=Array.from(ee.observers));try{for(var oe=__values(ee.currentObservers),se=oe.next();!se.done;se=oe.next()){var ue=se.value;ue.next(X)}}catch(ce){te={error:ce}}finally{try{se&&!se.done&&(ie=oe.return)&&ie.call(oe)}finally{if(te)throw te.error}}}})},L.prototype.error=function(X){var ee=this;errorContext(function(){if(ee._throwIfClosed(),!ee.isStopped){ee.hasError=ee.isStopped=!0,ee.thrownError=X;for(var te=ee.observers;te.length;)te.shift().error(X)}})},L.prototype.complete=function(){var X=this;errorContext(function(){if(X._throwIfClosed(),!X.isStopped){X.isStopped=!0;for(var ee=X.observers;ee.length;)ee.shift().complete()}})},L.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(L.prototype,"observed",{get:function(){var X;return((X=this.observers)===null||X===void 0?void 0:X.length)>0},enumerable:!1,configurable:!0}),L.prototype._trySubscribe=function(X){return this._throwIfClosed(),Z.prototype._trySubscribe.call(this,X)},L.prototype._subscribe=function(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)},L.prototype._innerSubscribe=function(X){var ee=this,te=this,ie=te.hasError,oe=te.isStopped,se=te.observers;return ie||oe?EMPTY_SUBSCRIPTION:(this.currentObservers=null,se.push(X),new Subscription(function(){ee.currentObservers=null,arrRemove(se,X)}))},L.prototype._checkFinalizedStatuses=function(X){var ee=this,te=ee.hasError,ie=ee.thrownError,oe=ee.isStopped;te?X.error(ie):oe&&X.complete()},L.prototype.asObservable=function(){var X=new Observable;return X.source=this,X},L.create=function(X,ee){return new AnonymousSubject(X,ee)},L}(Observable),AnonymousSubject=function(Z){__extends$1(L,Z);function L(X,ee){var te=Z.call(this)||this;return te.destination=X,te.source=ee,te}return L.prototype.next=function(X){var ee,te;(te=(ee=this.destination)===null||ee===void 0?void 0:ee.next)===null||te===void 0||te.call(ee,X)},L.prototype.error=function(X){var ee,te;(te=(ee=this.destination)===null||ee===void 0?void 0:ee.error)===null||te===void 0||te.call(ee,X)},L.prototype.complete=function(){var X,ee;(ee=(X=this.destination)===null||X===void 0?void 0:X.complete)===null||ee===void 0||ee.call(X)},L.prototype._subscribe=function(X){var ee,te;return(te=(ee=this.source)===null||ee===void 0?void 0:ee.subscribe(X))!==null&&te!==void 0?te:EMPTY_SUBSCRIPTION},L}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(Z){__extends$1(L,Z);function L(X,ee,te){X===void 0&&(X=1/0),ee===void 0&&(ee=1/0),te===void 0&&(te=dateTimestampProvider);var ie=Z.call(this)||this;return ie._bufferSize=X,ie._windowTime=ee,ie._timestampProvider=te,ie._buffer=[],ie._infiniteTimeWindow=!0,ie._infiniteTimeWindow=ee===1/0,ie._bufferSize=Math.max(1,X),ie._windowTime=Math.max(1,ee),ie}return L.prototype.next=function(X){var ee=this,te=ee.isStopped,ie=ee._buffer,oe=ee._infiniteTimeWindow,se=ee._timestampProvider,ue=ee._windowTime;te||(ie.push(X),!oe&&ie.push(se.now()+ue)),this._trimBuffer(),Z.prototype.next.call(this,X)},L.prototype._subscribe=function(X){this._throwIfClosed(),this._trimBuffer();for(var ee=this._innerSubscribe(X),te=this,ie=te._infiniteTimeWindow,oe=te._buffer,se=oe.slice(),ue=0;ue<se.length&&!X.closed;ue+=ie?1:2)X.next(se[ue]);return this._checkFinalizedStatuses(X),ee},L.prototype._trimBuffer=function(){var X=this,ee=X._bufferSize,te=X._timestampProvider,ie=X._buffer,oe=X._infiniteTimeWindow,se=(oe?1:2)*ee;if(ee<1/0&&se<ie.length&&ie.splice(0,ie.length-se),!oe){for(var ue=te.now(),ce=0,le=1;le<ie.length&&ie[le]<=ue;le+=2)ce=le;ce&&ie.splice(0,ce+1)}},L}(Subject),EMPTY=new Observable(function(Z){return Z.complete()});function isScheduler(Z){return Z&&isFunction$2(Z.schedule)}function last(Z){return Z[Z.length-1]}function popResultSelector(Z){return isFunction$2(last(Z))?Z.pop():void 0}function popScheduler(Z){return isScheduler(last(Z))?Z.pop():void 0}var isArrayLike=function(Z){return Z&&typeof Z.length=="number"&&typeof Z!="function"};function isPromise(Z){return isFunction$2(Z?.then)}function isInteropObservable(Z){return isFunction$2(Z[observable$1])}function isAsyncIterable$2(Z){return Symbol.asyncIterator&&isFunction$2(Z?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(Z){return new TypeError("You provided "+(Z!==null&&typeof Z=="object"?"an invalid object":"'"+Z+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable$1(Z){return isFunction$2(Z?.[iterator])}function readableStreamLikeToAsyncGenerator(Z){return __asyncGenerator(this,arguments,function(){var X,ee,te,ie;return __generator(this,function(oe){switch(oe.label){case 0:X=Z.getReader(),oe.label=1;case 1:oe.trys.push([1,,9,10]),oe.label=2;case 2:return[4,__await(X.read())];case 3:return ee=oe.sent(),te=ee.value,ie=ee.done,ie?[4,__await(void 0)]:[3,5];case 4:return[2,oe.sent()];case 5:return[4,__await(te)];case 6:return[4,oe.sent()];case 7:return oe.sent(),[3,2];case 8:return[3,10];case 9:return X.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(Z){return isFunction$2(Z?.getReader)}function innerFrom(Z){if(Z instanceof Observable)return Z;if(Z!=null){if(isInteropObservable(Z))return fromInteropObservable(Z);if(isArrayLike(Z))return fromArrayLike(Z);if(isPromise(Z))return fromPromise(Z);if(isAsyncIterable$2(Z))return fromAsyncIterable(Z);if(isIterable$1(Z))return fromIterable(Z);if(isReadableStreamLike(Z))return fromReadableStreamLike(Z)}throw createInvalidObservableTypeError(Z)}function fromInteropObservable(Z){return new Observable(function(L){var X=Z[observable$1]();if(isFunction$2(X.subscribe))return X.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(Z){return new Observable(function(L){for(var X=0;X<Z.length&&!L.closed;X++)L.next(Z[X]);L.complete()})}function fromPromise(Z){return new Observable(function(L){Z.then(function(X){L.closed||(L.next(X),L.complete())},function(X){return L.error(X)}).then(null,reportUnhandledError)})}function fromIterable(Z){return new Observable(function(L){var X,ee;try{for(var te=__values(Z),ie=te.next();!ie.done;ie=te.next()){var oe=ie.value;if(L.next(oe),L.closed)return}}catch(se){X={error:se}}finally{try{ie&&!ie.done&&(ee=te.return)&&ee.call(te)}finally{if(X)throw X.error}}L.complete()})}function fromAsyncIterable(Z){return new Observable(function(L){process$1(Z,L).catch(function(X){return L.error(X)})})}function fromReadableStreamLike(Z){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(Z))}function process$1(Z,L){var X,ee,te,ie;return __awaiter$4(this,void 0,void 0,function(){var oe,se;return __generator(this,function(ue){switch(ue.label){case 0:ue.trys.push([0,5,6,11]),X=__asyncValues(Z),ue.label=1;case 1:return[4,X.next()];case 2:if(ee=ue.sent(),!!ee.done)return[3,4];if(oe=ee.value,L.next(oe),L.closed)return[2];ue.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return se=ue.sent(),te={error:se},[3,11];case 6:return ue.trys.push([6,,9,10]),ee&&!ee.done&&(ie=X.return)?[4,ie.call(X)]:[3,8];case 7:ue.sent(),ue.label=8;case 8:return[3,10];case 9:if(te)throw te.error;return[7];case 10:return[7];case 11:return L.complete(),[2]}})})}function executeSchedule(Z,L,X,ee,te){ee===void 0&&(ee=0),te===void 0&&(te=!1);var ie=L.schedule(function(){X(),te?Z.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(Z.add(ie),!te)return ie}function observeOn(Z,L){return L===void 0&&(L=0),operate(function(X,ee){X.subscribe(createOperatorSubscriber(ee,function(te){return executeSchedule(ee,Z,function(){return ee.next(te)},L)},function(){return executeSchedule(ee,Z,function(){return ee.complete()},L)},function(te){return executeSchedule(ee,Z,function(){return ee.error(te)},L)}))})}function subscribeOn(Z,L){return L===void 0&&(L=0),operate(function(X,ee){ee.add(Z.schedule(function(){return X.subscribe(ee)},L))})}function scheduleObservable(Z,L){return innerFrom(Z).pipe(subscribeOn(L),observeOn(L))}function schedulePromise(Z,L){return innerFrom(Z).pipe(subscribeOn(L),observeOn(L))}function scheduleArray(Z,L){return new Observable(function(X){var ee=0;return L.schedule(function(){ee===Z.length?X.complete():(X.next(Z[ee++]),X.closed||this.schedule())})})}function scheduleIterable(Z,L){return new Observable(function(X){var ee;return executeSchedule(X,L,function(){ee=Z[iterator](),executeSchedule(X,L,function(){var te,ie,oe;try{te=ee.next(),ie=te.value,oe=te.done}catch(se){X.error(se);return}oe?X.complete():X.next(ie)},0,!0)}),function(){return isFunction$2(ee?.return)&&ee.return()}})}function scheduleAsyncIterable(Z,L){if(!Z)throw new Error("Iterable cannot be null");return new Observable(function(X){executeSchedule(X,L,function(){var ee=Z[Symbol.asyncIterator]();executeSchedule(X,L,function(){ee.next().then(function(te){te.done?X.complete():X.next(te.value)})},0,!0)})})}function scheduleReadableStreamLike(Z,L){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(Z),L)}function scheduled(Z,L){if(Z!=null){if(isInteropObservable(Z))return scheduleObservable(Z,L);if(isArrayLike(Z))return scheduleArray(Z,L);if(isPromise(Z))return schedulePromise(Z,L);if(isAsyncIterable$2(Z))return scheduleAsyncIterable(Z,L);if(isIterable$1(Z))return scheduleIterable(Z,L);if(isReadableStreamLike(Z))return scheduleReadableStreamLike(Z,L)}throw createInvalidObservableTypeError(Z)}function from(Z,L){return L?scheduled(Z,L):innerFrom(Z)}function of(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];var X=popScheduler(Z);return from(Z,X)}var EmptyError=createErrorClass(function(Z){return function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(Z,L){var X=typeof L=="object";return new Promise(function(ee,te){var ie=new SafeSubscriber({next:function(oe){ee(oe),ie.unsubscribe()},error:te,complete:function(){X?ee(L.defaultValue):te(new EmptyError)}});Z.subscribe(ie)})}function map(Z,L){return operate(function(X,ee){var te=0;X.subscribe(createOperatorSubscriber(ee,function(ie){ee.next(Z.call(L,ie,te++))}))})}var isArray$3=Array.isArray;function callOrApply(Z,L){return isArray$3(L)?Z.apply(void 0,__spreadArray$3([],__read$4(L))):Z(L)}function mapOneOrManyArgs(Z){return map(function(L){return callOrApply(Z,L)})}var isArray$2=Array.isArray,getPrototypeOf$1=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(Z){if(Z.length===1){var L=Z[0];if(isArray$2(L))return{args:L,keys:null};if(isPOJO(L)){var X=getKeys(L);return{args:X.map(function(ee){return L[ee]}),keys:X}}}return{args:Z,keys:null}}function isPOJO(Z){return Z&&typeof Z=="object"&&getPrototypeOf$1(Z)===objectProto}function createObject(Z,L){return Z.reduce(function(X,ee,te){return X[ee]=L[te],X},{})}function combineLatest(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];var X=popScheduler(Z),ee=popResultSelector(Z),te=argsArgArrayOrObject(Z),ie=te.args,oe=te.keys;if(ie.length===0)return from([],X);var se=new Observable(combineLatestInit(ie,X,oe?function(ue){return createObject(oe,ue)}:identity$1));return ee?se.pipe(mapOneOrManyArgs(ee)):se}function combineLatestInit(Z,L,X){return X===void 0&&(X=identity$1),function(ee){maybeSchedule(L,function(){for(var te=Z.length,ie=new Array(te),oe=te,se=te,ue=function(le){maybeSchedule(L,function(){var he=from(Z[le],L),pe=!1;he.subscribe(createOperatorSubscriber(ee,function(we){ie[le]=we,pe||(pe=!0,se--),se||ee.next(X(ie.slice()))},function(){--oe||ee.complete()}))},ee)},ce=0;ce<te;ce++)ue(ce)},ee)}}function maybeSchedule(Z,L,X){Z?executeSchedule(X,Z,L):L()}function mergeInternals(Z,L,X,ee,te,ie,oe,se){var ue=[],ce=0,le=0,he=!1,pe=function(){he&&!ue.length&&!ce&&L.complete()},we=function(xe){return ce<ee?_e(xe):ue.push(xe)},_e=function(xe){ie&&L.next(xe),ce++;var Ae=!1;innerFrom(X(xe,le++)).subscribe(createOperatorSubscriber(L,function(Ie){te?.(Ie),ie?we(Ie):L.next(Ie)},function(){Ae=!0},void 0,function(){if(Ae)try{ce--;for(var Ie=function(){var Pe=ue.shift();oe?executeSchedule(L,oe,function(){return _e(Pe)}):_e(Pe)};ue.length&&ce<ee;)Ie();pe()}catch(Pe){L.error(Pe)}}))};return Z.subscribe(createOperatorSubscriber(L,we,function(){he=!0,pe()})),function(){se?.()}}function mergeMap(Z,L,X){return X===void 0&&(X=1/0),isFunction$2(L)?mergeMap(function(ee,te){return map(function(ie,oe){return L(ee,ie,te,oe)})(innerFrom(Z(ee,te)))},X):(typeof L=="number"&&(X=L),operate(function(ee,te){return mergeInternals(ee,te,Z,X)}))}function mergeAll(Z){return Z===void 0&&(Z=1/0),mergeMap(identity$1,Z)}function concatAll(){return mergeAll(1)}function concat$2(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];return concatAll()(from(Z,popScheduler(Z)))}function defer(Z){return new Observable(function(L){innerFrom(Z()).subscribe(L)})}function filter(Z,L){return operate(function(X,ee){var te=0;X.subscribe(createOperatorSubscriber(ee,function(ie){return Z.call(L,ie,te++)&&ee.next(ie)}))})}function catchError(Z){return operate(function(L,X){var ee=null,te=!1,ie;ee=L.subscribe(createOperatorSubscriber(X,void 0,void 0,function(oe){ie=innerFrom(Z(oe,catchError(Z)(L))),ee?(ee.unsubscribe(),ee=null,ie.subscribe(X)):te=!0})),te&&(ee.unsubscribe(),ee=null,ie.subscribe(X))})}function concatMap(Z,L){return isFunction$2(L)?mergeMap(Z,L,1):mergeMap(Z,1)}function take(Z){return Z<=0?function(){return EMPTY}:operate(function(L,X){var ee=0;L.subscribe(createOperatorSubscriber(X,function(te){++ee<=Z&&(X.next(te),Z<=ee&&X.complete())}))})}function share$1(Z){Z===void 0&&(Z={});var L=Z.connector,X=L===void 0?function(){return new Subject}:L,ee=Z.resetOnError,te=ee===void 0?!0:ee,ie=Z.resetOnComplete,oe=ie===void 0?!0:ie,se=Z.resetOnRefCountZero,ue=se===void 0?!0:se;return function(ce){var le=null,he=null,pe=null,we=0,_e=!1,xe=!1,Ae=function(){he?.unsubscribe(),he=null},Ie=function(){Ae(),le=pe=null,_e=xe=!1},Pe=function(){var Ce=le;Ie(),Ce?.unsubscribe()};return operate(function(Ce,We){we++,!xe&&!_e&&Ae();var Ve=pe=pe??X();We.add(function(){we--,we===0&&!xe&&!_e&&(he=handleReset(Pe,ue))}),Ve.subscribe(We),le||(le=new SafeSubscriber({next:function(Ge){return Ve.next(Ge)},error:function(Ge){xe=!0,Ae(),he=handleReset(Ie,te,Ge),Ve.error(Ge)},complete:function(){_e=!0,Ae(),he=handleReset(Ie,oe),Ve.complete()}}),from(Ce).subscribe(le))})(ce)}}function handleReset(Z,L){for(var X=[],ee=2;ee<arguments.length;ee++)X[ee-2]=arguments[ee];return L===!0?(Z(),null):L===!1?null:L.apply(void 0,__spreadArray$3([],__read$4(X))).pipe(take(1)).subscribe(function(){return Z()})}function shareReplay(Z,L,X){var ee,te,ie,oe,se=!1;return Z&&typeof Z=="object"?(ee=Z.bufferSize,oe=ee===void 0?1/0:ee,te=Z.windowTime,L=te===void 0?1/0:te,ie=Z.refCount,se=ie===void 0?!1:ie,X=Z.scheduler):oe=Z??1/0,share$1({connector:function(){return new ReplaySubject(oe,L,X)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:se})}function tap(Z,L,X){var ee=isFunction$2(Z)||L||X?{next:Z,error:L,complete:X}:Z;return ee?operate(function(te,ie){var oe;(oe=ee.subscribe)===null||oe===void 0||oe.call(ee);var se=!0;te.subscribe(createOperatorSubscriber(ie,function(ue){var ce;(ce=ee.next)===null||ce===void 0||ce.call(ee,ue),ie.next(ue)},function(){var ue;se=!1,(ue=ee.complete)===null||ue===void 0||ue.call(ee),ie.complete()},function(ue){var ce;se=!1,(ce=ee.error)===null||ce===void 0||ce.call(ee,ue),ie.error(ue)},function(){var ue,ce;se&&((ue=ee.unsubscribe)===null||ue===void 0||ue.call(ee)),(ce=ee.finalize)===null||ce===void 0||ce.call(ee)}))}):identity$1}var bnExports={},bn={get exports(){return bnExports},set exports(Z){bnExports=Z}};const __viteBrowserExternal={},Tm=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(Tm);(function(Z){(function(L,X){function ee(Me,de){if(!Me)throw new Error(de||"Assertion failed")}function te(Me,de){Me.super_=de;var ve=function(){};ve.prototype=de.prototype,Me.prototype=new ve,Me.prototype.constructor=Me}function ie(Me,de,ve){if(ie.isBN(Me))return Me;this.negative=0,this.words=null,this.length=0,this.red=null,Me!==null&&((de==="le"||de==="be")&&(ve=de,de=10),this._init(Me||0,de||10,ve||"be"))}typeof L=="object"?L.exports=ie:X.BN=ie,ie.BN=ie,ie.wordSize=26;var oe;try{typeof window<"u"&&typeof window.Buffer<"u"?oe=window.Buffer:oe=require$$0.Buffer}catch{}ie.isBN=function(de){return de instanceof ie?!0:de!==null&&typeof de=="object"&&de.constructor.wordSize===ie.wordSize&&Array.isArray(de.words)},ie.max=function(de,ve){return de.cmp(ve)>0?de:ve},ie.min=function(de,ve){return de.cmp(ve)<0?de:ve},ie.prototype._init=function(de,ve,Se){if(typeof de=="number")return this._initNumber(de,ve,Se);if(typeof de=="object")return this._initArray(de,ve,Se);ve==="hex"&&(ve=16),ee(ve===(ve|0)&&ve>=2&&ve<=36),de=de.toString().replace(/\s+/g,"");var $e=0;de[0]==="-"&&($e++,this.negative=1),$e<de.length&&(ve===16?this._parseHex(de,$e,Se):(this._parseBase(de,ve,$e),Se==="le"&&this._initArray(this.toArray(),ve,Se)))},ie.prototype._initNumber=function(de,ve,Se){de<0&&(this.negative=1,de=-de),de<67108864?(this.words=[de&67108863],this.length=1):de<4503599627370496?(this.words=[de&67108863,de/67108864&67108863],this.length=2):(ee(de<9007199254740992),this.words=[de&67108863,de/67108864&67108863,1],this.length=3),Se==="le"&&this._initArray(this.toArray(),ve,Se)},ie.prototype._initArray=function(de,ve,Se){if(ee(typeof de.length=="number"),de.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(de.length/3),this.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)this.words[$e]=0;var Be,Le,Ue=0;if(Se==="be")for($e=de.length-1,Be=0;$e>=0;$e-=3)Le=de[$e]|de[$e-1]<<8|de[$e-2]<<16,this.words[Be]|=Le<<Ue&67108863,this.words[Be+1]=Le>>>26-Ue&67108863,Ue+=24,Ue>=26&&(Ue-=26,Be++);else if(Se==="le")for($e=0,Be=0;$e<de.length;$e+=3)Le=de[$e]|de[$e+1]<<8|de[$e+2]<<16,this.words[Be]|=Le<<Ue&67108863,this.words[Be+1]=Le>>>26-Ue&67108863,Ue+=24,Ue>=26&&(Ue-=26,Be++);return this._strip()};function se(Me,de){var ve=Me.charCodeAt(de);if(ve>=48&&ve<=57)return ve-48;if(ve>=65&&ve<=70)return ve-55;if(ve>=97&&ve<=102)return ve-87;ee(!1,"Invalid character in "+Me)}function ue(Me,de,ve){var Se=se(Me,ve);return ve-1>=de&&(Se|=se(Me,ve-1)<<4),Se}ie.prototype._parseHex=function(de,ve,Se){this.length=Math.ceil((de.length-ve)/6),this.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)this.words[$e]=0;var Be=0,Le=0,Ue;if(Se==="be")for($e=de.length-1;$e>=ve;$e-=2)Ue=ue(de,ve,$e)<<Be,this.words[Le]|=Ue&67108863,Be>=18?(Be-=18,Le+=1,this.words[Le]|=Ue>>>26):Be+=8;else{var Ne=de.length-ve;for($e=Ne%2===0?ve+1:ve;$e<de.length;$e+=2)Ue=ue(de,ve,$e)<<Be,this.words[Le]|=Ue&67108863,Be>=18?(Be-=18,Le+=1,this.words[Le]|=Ue>>>26):Be+=8}this._strip()};function ce(Me,de,ve,Se){for(var $e=0,Be=0,Le=Math.min(Me.length,ve),Ue=de;Ue<Le;Ue++){var Ne=Me.charCodeAt(Ue)-48;$e*=Se,Ne>=49?Be=Ne-49+10:Ne>=17?Be=Ne-17+10:Be=Ne,ee(Ne>=0&&Be<Se,"Invalid character"),$e+=Be}return $e}ie.prototype._parseBase=function(de,ve,Se){this.words=[0],this.length=1;for(var $e=0,Be=1;Be<=67108863;Be*=ve)$e++;$e--,Be=Be/ve|0;for(var Le=de.length-Se,Ue=Le%$e,Ne=Math.min(Le,Le-Ue)+Se,ge=0,Oe=Se;Oe<Ne;Oe+=$e)ge=ce(de,Oe,Oe+$e,ve),this.imuln(Be),this.words[0]+ge<67108864?this.words[0]+=ge:this._iaddn(ge);if(Ue!==0){var rt=1;for(ge=ce(de,Oe,de.length,ve),Oe=0;Oe<Ue;Oe++)rt*=ve;this.imuln(rt),this.words[0]+ge<67108864?this.words[0]+=ge:this._iaddn(ge)}this._strip()},ie.prototype.copy=function(de){de.words=new Array(this.length);for(var ve=0;ve<this.length;ve++)de.words[ve]=this.words[ve];de.length=this.length,de.negative=this.negative,de.red=this.red};function le(Me,de){Me.words=de.words,Me.length=de.length,Me.negative=de.negative,Me.red=de.red}if(ie.prototype._move=function(de){le(de,this)},ie.prototype.clone=function(){var de=new ie(null);return this.copy(de),de},ie.prototype._expand=function(de){for(;this.length<de;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=he}catch{ie.prototype.inspect=he}else ie.prototype.inspect=he;function he(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var pe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],we=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_e=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(de,ve){de=de||10,ve=ve|0||1;var Se;if(de===16||de==="hex"){Se="";for(var $e=0,Be=0,Le=0;Le<this.length;Le++){var Ue=this.words[Le],Ne=((Ue<<$e|Be)&16777215).toString(16);Be=Ue>>>24-$e&16777215,$e+=2,$e>=26&&($e-=26,Le--),Be!==0||Le!==this.length-1?Se=pe[6-Ne.length]+Ne+Se:Se=Ne+Se}for(Be!==0&&(Se=Be.toString(16)+Se);Se.length%ve!==0;)Se="0"+Se;return this.negative!==0&&(Se="-"+Se),Se}if(de===(de|0)&&de>=2&&de<=36){var ge=we[de],Oe=_e[de];Se="";var rt=this.clone();for(rt.negative=0;!rt.isZero();){var Te=rt.modrn(Oe).toString(de);rt=rt.idivn(Oe),rt.isZero()?Se=Te+Se:Se=pe[ge-Te.length]+Te+Se}for(this.isZero()&&(Se="0"+Se);Se.length%ve!==0;)Se="0"+Se;return this.negative!==0&&(Se="-"+Se),Se}ee(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var de=this.words[0];return this.length===2?de+=this.words[1]*67108864:this.length===3&&this.words[2]===1?de+=4503599627370496+this.words[1]*67108864:this.length>2&&ee(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-de:de},ie.prototype.toJSON=function(){return this.toString(16,2)},oe&&(ie.prototype.toBuffer=function(de,ve){return this.toArrayLike(oe,de,ve)}),ie.prototype.toArray=function(de,ve){return this.toArrayLike(Array,de,ve)};var xe=function(de,ve){return de.allocUnsafe?de.allocUnsafe(ve):new de(ve)};ie.prototype.toArrayLike=function(de,ve,Se){this._strip();var $e=this.byteLength(),Be=Se||Math.max(1,$e);ee($e<=Be,"byte array longer than desired length"),ee(Be>0,"Requested array length <= 0");var Le=xe(de,Be),Ue=ve==="le"?"LE":"BE";return this["_toArrayLike"+Ue](Le,$e),Le},ie.prototype._toArrayLikeLE=function(de,ve){for(var Se=0,$e=0,Be=0,Le=0;Be<this.length;Be++){var Ue=this.words[Be]<<Le|$e;de[Se++]=Ue&255,Se<de.length&&(de[Se++]=Ue>>8&255),Se<de.length&&(de[Se++]=Ue>>16&255),Le===6?(Se<de.length&&(de[Se++]=Ue>>24&255),$e=0,Le=0):($e=Ue>>>24,Le+=2)}if(Se<de.length)for(de[Se++]=$e;Se<de.length;)de[Se++]=0},ie.prototype._toArrayLikeBE=function(de,ve){for(var Se=de.length-1,$e=0,Be=0,Le=0;Be<this.length;Be++){var Ue=this.words[Be]<<Le|$e;de[Se--]=Ue&255,Se>=0&&(de[Se--]=Ue>>8&255),Se>=0&&(de[Se--]=Ue>>16&255),Le===6?(Se>=0&&(de[Se--]=Ue>>24&255),$e=0,Le=0):($e=Ue>>>24,Le+=2)}if(Se>=0)for(de[Se--]=$e;Se>=0;)de[Se--]=0},Math.clz32?ie.prototype._countBits=function(de){return 32-Math.clz32(de)}:ie.prototype._countBits=function(de){var ve=de,Se=0;return ve>=4096&&(Se+=13,ve>>>=13),ve>=64&&(Se+=7,ve>>>=7),ve>=8&&(Se+=4,ve>>>=4),ve>=2&&(Se+=2,ve>>>=2),Se+ve},ie.prototype._zeroBits=function(de){if(de===0)return 26;var ve=de,Se=0;return ve&8191||(Se+=13,ve>>>=13),ve&127||(Se+=7,ve>>>=7),ve&15||(Se+=4,ve>>>=4),ve&3||(Se+=2,ve>>>=2),ve&1||Se++,Se},ie.prototype.bitLength=function(){var de=this.words[this.length-1],ve=this._countBits(de);return(this.length-1)*26+ve};function Ae(Me){for(var de=new Array(Me.bitLength()),ve=0;ve<de.length;ve++){var Se=ve/26|0,$e=ve%26;de[ve]=Me.words[Se]>>>$e&1}return de}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var de=0,ve=0;ve<this.length;ve++){var Se=this._zeroBits(this.words[ve]);if(de+=Se,Se!==26)break}return de},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(de){return this.negative!==0?this.abs().inotn(de).iaddn(1):this.clone()},ie.prototype.fromTwos=function(de){return this.testn(de-1)?this.notn(de).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(de){for(;this.length<de.length;)this.words[this.length++]=0;for(var ve=0;ve<de.length;ve++)this.words[ve]=this.words[ve]|de.words[ve];return this._strip()},ie.prototype.ior=function(de){return ee((this.negative|de.negative)===0),this.iuor(de)},ie.prototype.or=function(de){return this.length>de.length?this.clone().ior(de):de.clone().ior(this)},ie.prototype.uor=function(de){return this.length>de.length?this.clone().iuor(de):de.clone().iuor(this)},ie.prototype.iuand=function(de){var ve;this.length>de.length?ve=de:ve=this;for(var Se=0;Se<ve.length;Se++)this.words[Se]=this.words[Se]&de.words[Se];return this.length=ve.length,this._strip()},ie.prototype.iand=function(de){return ee((this.negative|de.negative)===0),this.iuand(de)},ie.prototype.and=function(de){return this.length>de.length?this.clone().iand(de):de.clone().iand(this)},ie.prototype.uand=function(de){return this.length>de.length?this.clone().iuand(de):de.clone().iuand(this)},ie.prototype.iuxor=function(de){var ve,Se;this.length>de.length?(ve=this,Se=de):(ve=de,Se=this);for(var $e=0;$e<Se.length;$e++)this.words[$e]=ve.words[$e]^Se.words[$e];if(this!==ve)for(;$e<ve.length;$e++)this.words[$e]=ve.words[$e];return this.length=ve.length,this._strip()},ie.prototype.ixor=function(de){return ee((this.negative|de.negative)===0),this.iuxor(de)},ie.prototype.xor=function(de){return this.length>de.length?this.clone().ixor(de):de.clone().ixor(this)},ie.prototype.uxor=function(de){return this.length>de.length?this.clone().iuxor(de):de.clone().iuxor(this)},ie.prototype.inotn=function(de){ee(typeof de=="number"&&de>=0);var ve=Math.ceil(de/26)|0,Se=de%26;this._expand(ve),Se>0&&ve--;for(var $e=0;$e<ve;$e++)this.words[$e]=~this.words[$e]&67108863;return Se>0&&(this.words[$e]=~this.words[$e]&67108863>>26-Se),this._strip()},ie.prototype.notn=function(de){return this.clone().inotn(de)},ie.prototype.setn=function(de,ve){ee(typeof de=="number"&&de>=0);var Se=de/26|0,$e=de%26;return this._expand(Se+1),ve?this.words[Se]=this.words[Se]|1<<$e:this.words[Se]=this.words[Se]&~(1<<$e),this._strip()},ie.prototype.iadd=function(de){var ve;if(this.negative!==0&&de.negative===0)return this.negative=0,ve=this.isub(de),this.negative^=1,this._normSign();if(this.negative===0&&de.negative!==0)return de.negative=0,ve=this.isub(de),de.negative=1,ve._normSign();var Se,$e;this.length>de.length?(Se=this,$e=de):(Se=de,$e=this);for(var Be=0,Le=0;Le<$e.length;Le++)ve=(Se.words[Le]|0)+($e.words[Le]|0)+Be,this.words[Le]=ve&67108863,Be=ve>>>26;for(;Be!==0&&Le<Se.length;Le++)ve=(Se.words[Le]|0)+Be,this.words[Le]=ve&67108863,Be=ve>>>26;if(this.length=Se.length,Be!==0)this.words[this.length]=Be,this.length++;else if(Se!==this)for(;Le<Se.length;Le++)this.words[Le]=Se.words[Le];return this},ie.prototype.add=function(de){var ve;return de.negative!==0&&this.negative===0?(de.negative=0,ve=this.sub(de),de.negative^=1,ve):de.negative===0&&this.negative!==0?(this.negative=0,ve=de.sub(this),this.negative=1,ve):this.length>de.length?this.clone().iadd(de):de.clone().iadd(this)},ie.prototype.isub=function(de){if(de.negative!==0){de.negative=0;var ve=this.iadd(de);return de.negative=1,ve._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(de),this.negative=1,this._normSign();var Se=this.cmp(de);if(Se===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $e,Be;Se>0?($e=this,Be=de):($e=de,Be=this);for(var Le=0,Ue=0;Ue<Be.length;Ue++)ve=($e.words[Ue]|0)-(Be.words[Ue]|0)+Le,Le=ve>>26,this.words[Ue]=ve&67108863;for(;Le!==0&&Ue<$e.length;Ue++)ve=($e.words[Ue]|0)+Le,Le=ve>>26,this.words[Ue]=ve&67108863;if(Le===0&&Ue<$e.length&&$e!==this)for(;Ue<$e.length;Ue++)this.words[Ue]=$e.words[Ue];return this.length=Math.max(this.length,Ue),$e!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(de){return this.clone().isub(de)};function Ie(Me,de,ve){ve.negative=de.negative^Me.negative;var Se=Me.length+de.length|0;ve.length=Se,Se=Se-1|0;var $e=Me.words[0]|0,Be=de.words[0]|0,Le=$e*Be,Ue=Le&67108863,Ne=Le/67108864|0;ve.words[0]=Ue;for(var ge=1;ge<Se;ge++){for(var Oe=Ne>>>26,rt=Ne&67108863,Te=Math.min(ge,de.length-1),qe=Math.max(0,ge-Me.length+1);qe<=Te;qe++){var Fe=ge-qe|0;$e=Me.words[Fe]|0,Be=de.words[qe]|0,Le=$e*Be+rt,Oe+=Le/67108864|0,rt=Le&67108863}ve.words[ge]=rt|0,Ne=Oe|0}return Ne!==0?ve.words[ge]=Ne|0:ve.length--,ve._strip()}var Pe=function(de,ve,Se){var $e=de.words,Be=ve.words,Le=Se.words,Ue=0,Ne,ge,Oe,rt=$e[0]|0,Te=rt&8191,qe=rt>>>13,Fe=$e[1]|0,Ze=Fe&8191,Ye=Fe>>>13,et=$e[2]|0,Xe=et&8191,Ke=et>>>13,at=$e[3]|0,Je=at&8191,it=at>>>13,Ht=$e[4]|0,dt=Ht&8191,ft=Ht>>>13,Kt=$e[5]|0,ht=Kt&8191,pt=Kt>>>13,Xt=$e[6]|0,yt=Xt&8191,mt=Xt>>>13,Jt=$e[7]|0,gt=Jt&8191,bt=Jt>>>13,Qt=$e[8]|0,vt=Qt&8191,wt=Qt>>>13,er=$e[9]|0,Et=er&8191,_t=er>>>13,tr=Be[0]|0,Tt=tr&8191,xt=tr>>>13,rr=Be[1]|0,At=rr&8191,St=rr>>>13,nr=Be[2]|0,It=nr&8191,Rt=nr>>>13,ir=Be[3]|0,$t=ir&8191,Pt=ir>>>13,or=Be[4]|0,Nt=or&8191,Ct=or>>>13,sr=Be[5]|0,Bt=sr&8191,Ot=sr>>>13,ar=Be[6]|0,Mt=ar&8191,kt=ar>>>13,ur=Be[7]|0,Ft=ur&8191,Lt=ur>>>13,cr=Be[8]|0,Ut=cr&8191,Dt=cr>>>13,lr=Be[9]|0,jt=lr&8191,Zt=lr>>>13;Se.negative=de.negative^ve.negative,Se.length=19,Ne=Math.imul(Te,Tt),ge=Math.imul(Te,xt),ge=ge+Math.imul(qe,Tt)|0,Oe=Math.imul(qe,xt);var zt=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(zt>>>26)|0,zt&=67108863,Ne=Math.imul(Ze,Tt),ge=Math.imul(Ze,xt),ge=ge+Math.imul(Ye,Tt)|0,Oe=Math.imul(Ye,xt),Ne=Ne+Math.imul(Te,At)|0,ge=ge+Math.imul(Te,St)|0,ge=ge+Math.imul(qe,At)|0,Oe=Oe+Math.imul(qe,St)|0;var Wt=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,Ne=Math.imul(Xe,Tt),ge=Math.imul(Xe,xt),ge=ge+Math.imul(Ke,Tt)|0,Oe=Math.imul(Ke,xt),Ne=Ne+Math.imul(Ze,At)|0,ge=ge+Math.imul(Ze,St)|0,ge=ge+Math.imul(Ye,At)|0,Oe=Oe+Math.imul(Ye,St)|0,Ne=Ne+Math.imul(Te,It)|0,ge=ge+Math.imul(Te,Rt)|0,ge=ge+Math.imul(qe,It)|0,Oe=Oe+Math.imul(qe,Rt)|0;var qt=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(qt>>>26)|0,qt&=67108863,Ne=Math.imul(Je,Tt),ge=Math.imul(Je,xt),ge=ge+Math.imul(it,Tt)|0,Oe=Math.imul(it,xt),Ne=Ne+Math.imul(Xe,At)|0,ge=ge+Math.imul(Xe,St)|0,ge=ge+Math.imul(Ke,At)|0,Oe=Oe+Math.imul(Ke,St)|0,Ne=Ne+Math.imul(Ze,It)|0,ge=ge+Math.imul(Ze,Rt)|0,ge=ge+Math.imul(Ye,It)|0,Oe=Oe+Math.imul(Ye,Rt)|0,Ne=Ne+Math.imul(Te,$t)|0,ge=ge+Math.imul(Te,Pt)|0,ge=ge+Math.imul(qe,$t)|0,Oe=Oe+Math.imul(qe,Pt)|0;var Vt=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,Ne=Math.imul(dt,Tt),ge=Math.imul(dt,xt),ge=ge+Math.imul(ft,Tt)|0,Oe=Math.imul(ft,xt),Ne=Ne+Math.imul(Je,At)|0,ge=ge+Math.imul(Je,St)|0,ge=ge+Math.imul(it,At)|0,Oe=Oe+Math.imul(it,St)|0,Ne=Ne+Math.imul(Xe,It)|0,ge=ge+Math.imul(Xe,Rt)|0,ge=ge+Math.imul(Ke,It)|0,Oe=Oe+Math.imul(Ke,Rt)|0,Ne=Ne+Math.imul(Ze,$t)|0,ge=ge+Math.imul(Ze,Pt)|0,ge=ge+Math.imul(Ye,$t)|0,Oe=Oe+Math.imul(Ye,Pt)|0,Ne=Ne+Math.imul(Te,Nt)|0,ge=ge+Math.imul(Te,Ct)|0,ge=ge+Math.imul(qe,Nt)|0,Oe=Oe+Math.imul(qe,Ct)|0;var Gt=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,Ne=Math.imul(ht,Tt),ge=Math.imul(ht,xt),ge=ge+Math.imul(pt,Tt)|0,Oe=Math.imul(pt,xt),Ne=Ne+Math.imul(dt,At)|0,ge=ge+Math.imul(dt,St)|0,ge=ge+Math.imul(ft,At)|0,Oe=Oe+Math.imul(ft,St)|0,Ne=Ne+Math.imul(Je,It)|0,ge=ge+Math.imul(Je,Rt)|0,ge=ge+Math.imul(it,It)|0,Oe=Oe+Math.imul(it,Rt)|0,Ne=Ne+Math.imul(Xe,$t)|0,ge=ge+Math.imul(Xe,Pt)|0,ge=ge+Math.imul(Ke,$t)|0,Oe=Oe+Math.imul(Ke,Pt)|0,Ne=Ne+Math.imul(Ze,Nt)|0,ge=ge+Math.imul(Ze,Ct)|0,ge=ge+Math.imul(Ye,Nt)|0,Oe=Oe+Math.imul(Ye,Ct)|0,Ne=Ne+Math.imul(Te,Bt)|0,ge=ge+Math.imul(Te,Ot)|0,ge=ge+Math.imul(qe,Bt)|0,Oe=Oe+Math.imul(qe,Ot)|0;var dr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(dr>>>26)|0,dr&=67108863,Ne=Math.imul(yt,Tt),ge=Math.imul(yt,xt),ge=ge+Math.imul(mt,Tt)|0,Oe=Math.imul(mt,xt),Ne=Ne+Math.imul(ht,At)|0,ge=ge+Math.imul(ht,St)|0,ge=ge+Math.imul(pt,At)|0,Oe=Oe+Math.imul(pt,St)|0,Ne=Ne+Math.imul(dt,It)|0,ge=ge+Math.imul(dt,Rt)|0,ge=ge+Math.imul(ft,It)|0,Oe=Oe+Math.imul(ft,Rt)|0,Ne=Ne+Math.imul(Je,$t)|0,ge=ge+Math.imul(Je,Pt)|0,ge=ge+Math.imul(it,$t)|0,Oe=Oe+Math.imul(it,Pt)|0,Ne=Ne+Math.imul(Xe,Nt)|0,ge=ge+Math.imul(Xe,Ct)|0,ge=ge+Math.imul(Ke,Nt)|0,Oe=Oe+Math.imul(Ke,Ct)|0,Ne=Ne+Math.imul(Ze,Bt)|0,ge=ge+Math.imul(Ze,Ot)|0,ge=ge+Math.imul(Ye,Bt)|0,Oe=Oe+Math.imul(Ye,Ot)|0,Ne=Ne+Math.imul(Te,Mt)|0,ge=ge+Math.imul(Te,kt)|0,ge=ge+Math.imul(qe,Mt)|0,Oe=Oe+Math.imul(qe,kt)|0;var hr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(hr>>>26)|0,hr&=67108863,Ne=Math.imul(gt,Tt),ge=Math.imul(gt,xt),ge=ge+Math.imul(bt,Tt)|0,Oe=Math.imul(bt,xt),Ne=Ne+Math.imul(yt,At)|0,ge=ge+Math.imul(yt,St)|0,ge=ge+Math.imul(mt,At)|0,Oe=Oe+Math.imul(mt,St)|0,Ne=Ne+Math.imul(ht,It)|0,ge=ge+Math.imul(ht,Rt)|0,ge=ge+Math.imul(pt,It)|0,Oe=Oe+Math.imul(pt,Rt)|0,Ne=Ne+Math.imul(dt,$t)|0,ge=ge+Math.imul(dt,Pt)|0,ge=ge+Math.imul(ft,$t)|0,Oe=Oe+Math.imul(ft,Pt)|0,Ne=Ne+Math.imul(Je,Nt)|0,ge=ge+Math.imul(Je,Ct)|0,ge=ge+Math.imul(it,Nt)|0,Oe=Oe+Math.imul(it,Ct)|0,Ne=Ne+Math.imul(Xe,Bt)|0,ge=ge+Math.imul(Xe,Ot)|0,ge=ge+Math.imul(Ke,Bt)|0,Oe=Oe+Math.imul(Ke,Ot)|0,Ne=Ne+Math.imul(Ze,Mt)|0,ge=ge+Math.imul(Ze,kt)|0,ge=ge+Math.imul(Ye,Mt)|0,Oe=Oe+Math.imul(Ye,kt)|0,Ne=Ne+Math.imul(Te,Ft)|0,ge=ge+Math.imul(Te,Lt)|0,ge=ge+Math.imul(qe,Ft)|0,Oe=Oe+Math.imul(qe,Lt)|0;var pr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(pr>>>26)|0,pr&=67108863,Ne=Math.imul(vt,Tt),ge=Math.imul(vt,xt),ge=ge+Math.imul(wt,Tt)|0,Oe=Math.imul(wt,xt),Ne=Ne+Math.imul(gt,At)|0,ge=ge+Math.imul(gt,St)|0,ge=ge+Math.imul(bt,At)|0,Oe=Oe+Math.imul(bt,St)|0,Ne=Ne+Math.imul(yt,It)|0,ge=ge+Math.imul(yt,Rt)|0,ge=ge+Math.imul(mt,It)|0,Oe=Oe+Math.imul(mt,Rt)|0,Ne=Ne+Math.imul(ht,$t)|0,ge=ge+Math.imul(ht,Pt)|0,ge=ge+Math.imul(pt,$t)|0,Oe=Oe+Math.imul(pt,Pt)|0,Ne=Ne+Math.imul(dt,Nt)|0,ge=ge+Math.imul(dt,Ct)|0,ge=ge+Math.imul(ft,Nt)|0,Oe=Oe+Math.imul(ft,Ct)|0,Ne=Ne+Math.imul(Je,Bt)|0,ge=ge+Math.imul(Je,Ot)|0,ge=ge+Math.imul(it,Bt)|0,Oe=Oe+Math.imul(it,Ot)|0,Ne=Ne+Math.imul(Xe,Mt)|0,ge=ge+Math.imul(Xe,kt)|0,ge=ge+Math.imul(Ke,Mt)|0,Oe=Oe+Math.imul(Ke,kt)|0,Ne=Ne+Math.imul(Ze,Ft)|0,ge=ge+Math.imul(Ze,Lt)|0,ge=ge+Math.imul(Ye,Ft)|0,Oe=Oe+Math.imul(Ye,Lt)|0,Ne=Ne+Math.imul(Te,Ut)|0,ge=ge+Math.imul(Te,Dt)|0,ge=ge+Math.imul(qe,Ut)|0,Oe=Oe+Math.imul(qe,Dt)|0;var yr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(yr>>>26)|0,yr&=67108863,Ne=Math.imul(Et,Tt),ge=Math.imul(Et,xt),ge=ge+Math.imul(_t,Tt)|0,Oe=Math.imul(_t,xt),Ne=Ne+Math.imul(vt,At)|0,ge=ge+Math.imul(vt,St)|0,ge=ge+Math.imul(wt,At)|0,Oe=Oe+Math.imul(wt,St)|0,Ne=Ne+Math.imul(gt,It)|0,ge=ge+Math.imul(gt,Rt)|0,ge=ge+Math.imul(bt,It)|0,Oe=Oe+Math.imul(bt,Rt)|0,Ne=Ne+Math.imul(yt,$t)|0,ge=ge+Math.imul(yt,Pt)|0,ge=ge+Math.imul(mt,$t)|0,Oe=Oe+Math.imul(mt,Pt)|0,Ne=Ne+Math.imul(ht,Nt)|0,ge=ge+Math.imul(ht,Ct)|0,ge=ge+Math.imul(pt,Nt)|0,Oe=Oe+Math.imul(pt,Ct)|0,Ne=Ne+Math.imul(dt,Bt)|0,ge=ge+Math.imul(dt,Ot)|0,ge=ge+Math.imul(ft,Bt)|0,Oe=Oe+Math.imul(ft,Ot)|0,Ne=Ne+Math.imul(Je,Mt)|0,ge=ge+Math.imul(Je,kt)|0,ge=ge+Math.imul(it,Mt)|0,Oe=Oe+Math.imul(it,kt)|0,Ne=Ne+Math.imul(Xe,Ft)|0,ge=ge+Math.imul(Xe,Lt)|0,ge=ge+Math.imul(Ke,Ft)|0,Oe=Oe+Math.imul(Ke,Lt)|0,Ne=Ne+Math.imul(Ze,Ut)|0,ge=ge+Math.imul(Ze,Dt)|0,ge=ge+Math.imul(Ye,Ut)|0,Oe=Oe+Math.imul(Ye,Dt)|0,Ne=Ne+Math.imul(Te,jt)|0,ge=ge+Math.imul(Te,Zt)|0,ge=ge+Math.imul(qe,jt)|0,Oe=Oe+Math.imul(qe,Zt)|0;var gr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(gr>>>26)|0,gr&=67108863,Ne=Math.imul(Et,At),ge=Math.imul(Et,St),ge=ge+Math.imul(_t,At)|0,Oe=Math.imul(_t,St),Ne=Ne+Math.imul(vt,It)|0,ge=ge+Math.imul(vt,Rt)|0,ge=ge+Math.imul(wt,It)|0,Oe=Oe+Math.imul(wt,Rt)|0,Ne=Ne+Math.imul(gt,$t)|0,ge=ge+Math.imul(gt,Pt)|0,ge=ge+Math.imul(bt,$t)|0,Oe=Oe+Math.imul(bt,Pt)|0,Ne=Ne+Math.imul(yt,Nt)|0,ge=ge+Math.imul(yt,Ct)|0,ge=ge+Math.imul(mt,Nt)|0,Oe=Oe+Math.imul(mt,Ct)|0,Ne=Ne+Math.imul(ht,Bt)|0,ge=ge+Math.imul(ht,Ot)|0,ge=ge+Math.imul(pt,Bt)|0,Oe=Oe+Math.imul(pt,Ot)|0,Ne=Ne+Math.imul(dt,Mt)|0,ge=ge+Math.imul(dt,kt)|0,ge=ge+Math.imul(ft,Mt)|0,Oe=Oe+Math.imul(ft,kt)|0,Ne=Ne+Math.imul(Je,Ft)|0,ge=ge+Math.imul(Je,Lt)|0,ge=ge+Math.imul(it,Ft)|0,Oe=Oe+Math.imul(it,Lt)|0,Ne=Ne+Math.imul(Xe,Ut)|0,ge=ge+Math.imul(Xe,Dt)|0,ge=ge+Math.imul(Ke,Ut)|0,Oe=Oe+Math.imul(Ke,Dt)|0,Ne=Ne+Math.imul(Ze,jt)|0,ge=ge+Math.imul(Ze,Zt)|0,ge=ge+Math.imul(Ye,jt)|0,Oe=Oe+Math.imul(Ye,Zt)|0;var br=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(br>>>26)|0,br&=67108863,Ne=Math.imul(Et,It),ge=Math.imul(Et,Rt),ge=ge+Math.imul(_t,It)|0,Oe=Math.imul(_t,Rt),Ne=Ne+Math.imul(vt,$t)|0,ge=ge+Math.imul(vt,Pt)|0,ge=ge+Math.imul(wt,$t)|0,Oe=Oe+Math.imul(wt,Pt)|0,Ne=Ne+Math.imul(gt,Nt)|0,ge=ge+Math.imul(gt,Ct)|0,ge=ge+Math.imul(bt,Nt)|0,Oe=Oe+Math.imul(bt,Ct)|0,Ne=Ne+Math.imul(yt,Bt)|0,ge=ge+Math.imul(yt,Ot)|0,ge=ge+Math.imul(mt,Bt)|0,Oe=Oe+Math.imul(mt,Ot)|0,Ne=Ne+Math.imul(ht,Mt)|0,ge=ge+Math.imul(ht,kt)|0,ge=ge+Math.imul(pt,Mt)|0,Oe=Oe+Math.imul(pt,kt)|0,Ne=Ne+Math.imul(dt,Ft)|0,ge=ge+Math.imul(dt,Lt)|0,ge=ge+Math.imul(ft,Ft)|0,Oe=Oe+Math.imul(ft,Lt)|0,Ne=Ne+Math.imul(Je,Ut)|0,ge=ge+Math.imul(Je,Dt)|0,ge=ge+Math.imul(it,Ut)|0,Oe=Oe+Math.imul(it,Dt)|0,Ne=Ne+Math.imul(Xe,jt)|0,ge=ge+Math.imul(Xe,Zt)|0,ge=ge+Math.imul(Ke,jt)|0,Oe=Oe+Math.imul(Ke,Zt)|0;var vr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(vr>>>26)|0,vr&=67108863,Ne=Math.imul(Et,$t),ge=Math.imul(Et,Pt),ge=ge+Math.imul(_t,$t)|0,Oe=Math.imul(_t,Pt),Ne=Ne+Math.imul(vt,Nt)|0,ge=ge+Math.imul(vt,Ct)|0,ge=ge+Math.imul(wt,Nt)|0,Oe=Oe+Math.imul(wt,Ct)|0,Ne=Ne+Math.imul(gt,Bt)|0,ge=ge+Math.imul(gt,Ot)|0,ge=ge+Math.imul(bt,Bt)|0,Oe=Oe+Math.imul(bt,Ot)|0,Ne=Ne+Math.imul(yt,Mt)|0,ge=ge+Math.imul(yt,kt)|0,ge=ge+Math.imul(mt,Mt)|0,Oe=Oe+Math.imul(mt,kt)|0,Ne=Ne+Math.imul(ht,Ft)|0,ge=ge+Math.imul(ht,Lt)|0,ge=ge+Math.imul(pt,Ft)|0,Oe=Oe+Math.imul(pt,Lt)|0,Ne=Ne+Math.imul(dt,Ut)|0,ge=ge+Math.imul(dt,Dt)|0,ge=ge+Math.imul(ft,Ut)|0,Oe=Oe+Math.imul(ft,Dt)|0,Ne=Ne+Math.imul(Je,jt)|0,ge=ge+Math.imul(Je,Zt)|0,ge=ge+Math.imul(it,jt)|0,Oe=Oe+Math.imul(it,Zt)|0;var wr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(wr>>>26)|0,wr&=67108863,Ne=Math.imul(Et,Nt),ge=Math.imul(Et,Ct),ge=ge+Math.imul(_t,Nt)|0,Oe=Math.imul(_t,Ct),Ne=Ne+Math.imul(vt,Bt)|0,ge=ge+Math.imul(vt,Ot)|0,ge=ge+Math.imul(wt,Bt)|0,Oe=Oe+Math.imul(wt,Ot)|0,Ne=Ne+Math.imul(gt,Mt)|0,ge=ge+Math.imul(gt,kt)|0,ge=ge+Math.imul(bt,Mt)|0,Oe=Oe+Math.imul(bt,kt)|0,Ne=Ne+Math.imul(yt,Ft)|0,ge=ge+Math.imul(yt,Lt)|0,ge=ge+Math.imul(mt,Ft)|0,Oe=Oe+Math.imul(mt,Lt)|0,Ne=Ne+Math.imul(ht,Ut)|0,ge=ge+Math.imul(ht,Dt)|0,ge=ge+Math.imul(pt,Ut)|0,Oe=Oe+Math.imul(pt,Dt)|0,Ne=Ne+Math.imul(dt,jt)|0,ge=ge+Math.imul(dt,Zt)|0,ge=ge+Math.imul(ft,jt)|0,Oe=Oe+Math.imul(ft,Zt)|0;var Er=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(Er>>>26)|0,Er&=67108863,Ne=Math.imul(Et,Bt),ge=Math.imul(Et,Ot),ge=ge+Math.imul(_t,Bt)|0,Oe=Math.imul(_t,Ot),Ne=Ne+Math.imul(vt,Mt)|0,ge=ge+Math.imul(vt,kt)|0,ge=ge+Math.imul(wt,Mt)|0,Oe=Oe+Math.imul(wt,kt)|0,Ne=Ne+Math.imul(gt,Ft)|0,ge=ge+Math.imul(gt,Lt)|0,ge=ge+Math.imul(bt,Ft)|0,Oe=Oe+Math.imul(bt,Lt)|0,Ne=Ne+Math.imul(yt,Ut)|0,ge=ge+Math.imul(yt,Dt)|0,ge=ge+Math.imul(mt,Ut)|0,Oe=Oe+Math.imul(mt,Dt)|0,Ne=Ne+Math.imul(ht,jt)|0,ge=ge+Math.imul(ht,Zt)|0,ge=ge+Math.imul(pt,jt)|0,Oe=Oe+Math.imul(pt,Zt)|0;var _r=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(_r>>>26)|0,_r&=67108863,Ne=Math.imul(Et,Mt),ge=Math.imul(Et,kt),ge=ge+Math.imul(_t,Mt)|0,Oe=Math.imul(_t,kt),Ne=Ne+Math.imul(vt,Ft)|0,ge=ge+Math.imul(vt,Lt)|0,ge=ge+Math.imul(wt,Ft)|0,Oe=Oe+Math.imul(wt,Lt)|0,Ne=Ne+Math.imul(gt,Ut)|0,ge=ge+Math.imul(gt,Dt)|0,ge=ge+Math.imul(bt,Ut)|0,Oe=Oe+Math.imul(bt,Dt)|0,Ne=Ne+Math.imul(yt,jt)|0,ge=ge+Math.imul(yt,Zt)|0,ge=ge+Math.imul(mt,jt)|0,Oe=Oe+Math.imul(mt,Zt)|0;var Tr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,Ne=Math.imul(Et,Ft),ge=Math.imul(Et,Lt),ge=ge+Math.imul(_t,Ft)|0,Oe=Math.imul(_t,Lt),Ne=Ne+Math.imul(vt,Ut)|0,ge=ge+Math.imul(vt,Dt)|0,ge=ge+Math.imul(wt,Ut)|0,Oe=Oe+Math.imul(wt,Dt)|0,Ne=Ne+Math.imul(gt,jt)|0,ge=ge+Math.imul(gt,Zt)|0,ge=ge+Math.imul(bt,jt)|0,Oe=Oe+Math.imul(bt,Zt)|0;var xr=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(xr>>>26)|0,xr&=67108863,Ne=Math.imul(Et,Ut),ge=Math.imul(Et,Dt),ge=ge+Math.imul(_t,Ut)|0,Oe=Math.imul(_t,Dt),Ne=Ne+Math.imul(vt,jt)|0,ge=ge+Math.imul(vt,Zt)|0,ge=ge+Math.imul(wt,jt)|0,Oe=Oe+Math.imul(wt,Zt)|0;var Ar=(Ue+Ne|0)+((ge&8191)<<13)|0;Ue=(Oe+(ge>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Ne=Math.imul(Et,jt),ge=Math.imul(Et,Zt),ge=ge+Math.imul(_t,jt)|0,Oe=Math.imul(_t,Zt);var Sr=(Ue+Ne|0)+((ge&8191)<<13)|0;return Ue=(Oe+(ge>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Le[0]=zt,Le[1]=Wt,Le[2]=qt,Le[3]=Vt,Le[4]=Gt,Le[5]=dr,Le[6]=hr,Le[7]=pr,Le[8]=yr,Le[9]=gr,Le[10]=br,Le[11]=vr,Le[12]=wr,Le[13]=Er,Le[14]=_r,Le[15]=Tr,Le[16]=xr,Le[17]=Ar,Le[18]=Sr,Ue!==0&&(Le[19]=Ue,Se.length++),Se};Math.imul||(Pe=Ie);function Ce(Me,de,ve){ve.negative=de.negative^Me.negative,ve.length=Me.length+de.length;for(var Se=0,$e=0,Be=0;Be<ve.length-1;Be++){var Le=$e;$e=0;for(var Ue=Se&67108863,Ne=Math.min(Be,de.length-1),ge=Math.max(0,Be-Me.length+1);ge<=Ne;ge++){var Oe=Be-ge,rt=Me.words[Oe]|0,Te=de.words[ge]|0,qe=rt*Te,Fe=qe&67108863;Le=Le+(qe/67108864|0)|0,Fe=Fe+Ue|0,Ue=Fe&67108863,Le=Le+(Fe>>>26)|0,$e+=Le>>>26,Le&=67108863}ve.words[Be]=Ue,Se=Le,Le=$e}return Se!==0?ve.words[Be]=Se:ve.length--,ve._strip()}function We(Me,de,ve){return Ce(Me,de,ve)}ie.prototype.mulTo=function(de,ve){var Se,$e=this.length+de.length;return this.length===10&&de.length===10?Se=Pe(this,de,ve):$e<63?Se=Ie(this,de,ve):$e<1024?Se=Ce(this,de,ve):Se=We(this,de,ve),Se},ie.prototype.mul=function(de){var ve=new ie(null);return ve.words=new Array(this.length+de.length),this.mulTo(de,ve)},ie.prototype.mulf=function(de){var ve=new ie(null);return ve.words=new Array(this.length+de.length),We(this,de,ve)},ie.prototype.imul=function(de){return this.clone().mulTo(de,this)},ie.prototype.imuln=function(de){var ve=de<0;ve&&(de=-de),ee(typeof de=="number"),ee(de<67108864);for(var Se=0,$e=0;$e<this.length;$e++){var Be=(this.words[$e]|0)*de,Le=(Be&67108863)+(Se&67108863);Se>>=26,Se+=Be/67108864|0,Se+=Le>>>26,this.words[$e]=Le&67108863}return Se!==0&&(this.words[$e]=Se,this.length++),ve?this.ineg():this},ie.prototype.muln=function(de){return this.clone().imuln(de)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(de){var ve=Ae(de);if(ve.length===0)return new ie(1);for(var Se=this,$e=0;$e<ve.length&&ve[$e]===0;$e++,Se=Se.sqr());if(++$e<ve.length)for(var Be=Se.sqr();$e<ve.length;$e++,Be=Be.sqr())ve[$e]!==0&&(Se=Se.mul(Be));return Se},ie.prototype.iushln=function(de){ee(typeof de=="number"&&de>=0);var ve=de%26,Se=(de-ve)/26,$e=67108863>>>26-ve<<26-ve,Be;if(ve!==0){var Le=0;for(Be=0;Be<this.length;Be++){var Ue=this.words[Be]&$e,Ne=(this.words[Be]|0)-Ue<<ve;this.words[Be]=Ne|Le,Le=Ue>>>26-ve}Le&&(this.words[Be]=Le,this.length++)}if(Se!==0){for(Be=this.length-1;Be>=0;Be--)this.words[Be+Se]=this.words[Be];for(Be=0;Be<Se;Be++)this.words[Be]=0;this.length+=Se}return this._strip()},ie.prototype.ishln=function(de){return ee(this.negative===0),this.iushln(de)},ie.prototype.iushrn=function(de,ve,Se){ee(typeof de=="number"&&de>=0);var $e;ve?$e=(ve-ve%26)/26:$e=0;var Be=de%26,Le=Math.min((de-Be)/26,this.length),Ue=67108863^67108863>>>Be<<Be,Ne=Se;if($e-=Le,$e=Math.max(0,$e),Ne){for(var ge=0;ge<Le;ge++)Ne.words[ge]=this.words[ge];Ne.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,ge=0;ge<this.length;ge++)this.words[ge]=this.words[ge+Le];else this.words[0]=0,this.length=1;var Oe=0;for(ge=this.length-1;ge>=0&&(Oe!==0||ge>=$e);ge--){var rt=this.words[ge]|0;this.words[ge]=Oe<<26-Be|rt>>>Be,Oe=rt&Ue}return Ne&&Oe!==0&&(Ne.words[Ne.length++]=Oe),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(de,ve,Se){return ee(this.negative===0),this.iushrn(de,ve,Se)},ie.prototype.shln=function(de){return this.clone().ishln(de)},ie.prototype.ushln=function(de){return this.clone().iushln(de)},ie.prototype.shrn=function(de){return this.clone().ishrn(de)},ie.prototype.ushrn=function(de){return this.clone().iushrn(de)},ie.prototype.testn=function(de){ee(typeof de=="number"&&de>=0);var ve=de%26,Se=(de-ve)/26,$e=1<<ve;if(this.length<=Se)return!1;var Be=this.words[Se];return!!(Be&$e)},ie.prototype.imaskn=function(de){ee(typeof de=="number"&&de>=0);var ve=de%26,Se=(de-ve)/26;if(ee(this.negative===0,"imaskn works only with positive numbers"),this.length<=Se)return this;if(ve!==0&&Se++,this.length=Math.min(Se,this.length),ve!==0){var $e=67108863^67108863>>>ve<<ve;this.words[this.length-1]&=$e}return this._strip()},ie.prototype.maskn=function(de){return this.clone().imaskn(de)},ie.prototype.iaddn=function(de){return ee(typeof de=="number"),ee(de<67108864),de<0?this.isubn(-de):this.negative!==0?this.length===1&&(this.words[0]|0)<=de?(this.words[0]=de-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(de),this.negative=1,this):this._iaddn(de)},ie.prototype._iaddn=function(de){this.words[0]+=de;for(var ve=0;ve<this.length&&this.words[ve]>=67108864;ve++)this.words[ve]-=67108864,ve===this.length-1?this.words[ve+1]=1:this.words[ve+1]++;return this.length=Math.max(this.length,ve+1),this},ie.prototype.isubn=function(de){if(ee(typeof de=="number"),ee(de<67108864),de<0)return this.iaddn(-de);if(this.negative!==0)return this.negative=0,this.iaddn(de),this.negative=1,this;if(this.words[0]-=de,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ve=0;ve<this.length&&this.words[ve]<0;ve++)this.words[ve]+=67108864,this.words[ve+1]-=1;return this._strip()},ie.prototype.addn=function(de){return this.clone().iaddn(de)},ie.prototype.subn=function(de){return this.clone().isubn(de)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(de,ve,Se){var $e=de.length+Se,Be;this._expand($e);var Le,Ue=0;for(Be=0;Be<de.length;Be++){Le=(this.words[Be+Se]|0)+Ue;var Ne=(de.words[Be]|0)*ve;Le-=Ne&67108863,Ue=(Le>>26)-(Ne/67108864|0),this.words[Be+Se]=Le&67108863}for(;Be<this.length-Se;Be++)Le=(this.words[Be+Se]|0)+Ue,Ue=Le>>26,this.words[Be+Se]=Le&67108863;if(Ue===0)return this._strip();for(ee(Ue===-1),Ue=0,Be=0;Be<this.length;Be++)Le=-(this.words[Be]|0)+Ue,Ue=Le>>26,this.words[Be]=Le&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(de,ve){var Se=this.length-de.length,$e=this.clone(),Be=de,Le=Be.words[Be.length-1]|0,Ue=this._countBits(Le);Se=26-Ue,Se!==0&&(Be=Be.ushln(Se),$e.iushln(Se),Le=Be.words[Be.length-1]|0);var Ne=$e.length-Be.length,ge;if(ve!=="mod"){ge=new ie(null),ge.length=Ne+1,ge.words=new Array(ge.length);for(var Oe=0;Oe<ge.length;Oe++)ge.words[Oe]=0}var rt=$e.clone()._ishlnsubmul(Be,1,Ne);rt.negative===0&&($e=rt,ge&&(ge.words[Ne]=1));for(var Te=Ne-1;Te>=0;Te--){var qe=($e.words[Be.length+Te]|0)*67108864+($e.words[Be.length+Te-1]|0);for(qe=Math.min(qe/Le|0,67108863),$e._ishlnsubmul(Be,qe,Te);$e.negative!==0;)qe--,$e.negative=0,$e._ishlnsubmul(Be,1,Te),$e.isZero()||($e.negative^=1);ge&&(ge.words[Te]=qe)}return ge&&ge._strip(),$e._strip(),ve!=="div"&&Se!==0&&$e.iushrn(Se),{div:ge||null,mod:$e}},ie.prototype.divmod=function(de,ve,Se){if(ee(!de.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var $e,Be,Le;return this.negative!==0&&de.negative===0?(Le=this.neg().divmod(de,ve),ve!=="mod"&&($e=Le.div.neg()),ve!=="div"&&(Be=Le.mod.neg(),Se&&Be.negative!==0&&Be.iadd(de)),{div:$e,mod:Be}):this.negative===0&&de.negative!==0?(Le=this.divmod(de.neg(),ve),ve!=="mod"&&($e=Le.div.neg()),{div:$e,mod:Le.mod}):this.negative&de.negative?(Le=this.neg().divmod(de.neg(),ve),ve!=="div"&&(Be=Le.mod.neg(),Se&&Be.negative!==0&&Be.isub(de)),{div:Le.div,mod:Be}):de.length>this.length||this.cmp(de)<0?{div:new ie(0),mod:this}:de.length===1?ve==="div"?{div:this.divn(de.words[0]),mod:null}:ve==="mod"?{div:null,mod:new ie(this.modrn(de.words[0]))}:{div:this.divn(de.words[0]),mod:new ie(this.modrn(de.words[0]))}:this._wordDiv(de,ve)},ie.prototype.div=function(de){return this.divmod(de,"div",!1).div},ie.prototype.mod=function(de){return this.divmod(de,"mod",!1).mod},ie.prototype.umod=function(de){return this.divmod(de,"mod",!0).mod},ie.prototype.divRound=function(de){var ve=this.divmod(de);if(ve.mod.isZero())return ve.div;var Se=ve.div.negative!==0?ve.mod.isub(de):ve.mod,$e=de.ushrn(1),Be=de.andln(1),Le=Se.cmp($e);return Le<0||Be===1&&Le===0?ve.div:ve.div.negative!==0?ve.div.isubn(1):ve.div.iaddn(1)},ie.prototype.modrn=function(de){var ve=de<0;ve&&(de=-de),ee(de<=67108863);for(var Se=(1<<26)%de,$e=0,Be=this.length-1;Be>=0;Be--)$e=(Se*$e+(this.words[Be]|0))%de;return ve?-$e:$e},ie.prototype.modn=function(de){return this.modrn(de)},ie.prototype.idivn=function(de){var ve=de<0;ve&&(de=-de),ee(de<=67108863);for(var Se=0,$e=this.length-1;$e>=0;$e--){var Be=(this.words[$e]|0)+Se*67108864;this.words[$e]=Be/de|0,Se=Be%de}return this._strip(),ve?this.ineg():this},ie.prototype.divn=function(de){return this.clone().idivn(de)},ie.prototype.egcd=function(de){ee(de.negative===0),ee(!de.isZero());var ve=this,Se=de.clone();ve.negative!==0?ve=ve.umod(de):ve=ve.clone();for(var $e=new ie(1),Be=new ie(0),Le=new ie(0),Ue=new ie(1),Ne=0;ve.isEven()&&Se.isEven();)ve.iushrn(1),Se.iushrn(1),++Ne;for(var ge=Se.clone(),Oe=ve.clone();!ve.isZero();){for(var rt=0,Te=1;!(ve.words[0]&Te)&&rt<26;++rt,Te<<=1);if(rt>0)for(ve.iushrn(rt);rt-- >0;)($e.isOdd()||Be.isOdd())&&($e.iadd(ge),Be.isub(Oe)),$e.iushrn(1),Be.iushrn(1);for(var qe=0,Fe=1;!(Se.words[0]&Fe)&&qe<26;++qe,Fe<<=1);if(qe>0)for(Se.iushrn(qe);qe-- >0;)(Le.isOdd()||Ue.isOdd())&&(Le.iadd(ge),Ue.isub(Oe)),Le.iushrn(1),Ue.iushrn(1);ve.cmp(Se)>=0?(ve.isub(Se),$e.isub(Le),Be.isub(Ue)):(Se.isub(ve),Le.isub($e),Ue.isub(Be))}return{a:Le,b:Ue,gcd:Se.iushln(Ne)}},ie.prototype._invmp=function(de){ee(de.negative===0),ee(!de.isZero());var ve=this,Se=de.clone();ve.negative!==0?ve=ve.umod(de):ve=ve.clone();for(var $e=new ie(1),Be=new ie(0),Le=Se.clone();ve.cmpn(1)>0&&Se.cmpn(1)>0;){for(var Ue=0,Ne=1;!(ve.words[0]&Ne)&&Ue<26;++Ue,Ne<<=1);if(Ue>0)for(ve.iushrn(Ue);Ue-- >0;)$e.isOdd()&&$e.iadd(Le),$e.iushrn(1);for(var ge=0,Oe=1;!(Se.words[0]&Oe)&&ge<26;++ge,Oe<<=1);if(ge>0)for(Se.iushrn(ge);ge-- >0;)Be.isOdd()&&Be.iadd(Le),Be.iushrn(1);ve.cmp(Se)>=0?(ve.isub(Se),$e.isub(Be)):(Se.isub(ve),Be.isub($e))}var rt;return ve.cmpn(1)===0?rt=$e:rt=Be,rt.cmpn(0)<0&&rt.iadd(de),rt},ie.prototype.gcd=function(de){if(this.isZero())return de.abs();if(de.isZero())return this.abs();var ve=this.clone(),Se=de.clone();ve.negative=0,Se.negative=0;for(var $e=0;ve.isEven()&&Se.isEven();$e++)ve.iushrn(1),Se.iushrn(1);do{for(;ve.isEven();)ve.iushrn(1);for(;Se.isEven();)Se.iushrn(1);var Be=ve.cmp(Se);if(Be<0){var Le=ve;ve=Se,Se=Le}else if(Be===0||Se.cmpn(1)===0)break;ve.isub(Se)}while(!0);return Se.iushln($e)},ie.prototype.invm=function(de){return this.egcd(de).a.umod(de)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(de){return this.words[0]&de},ie.prototype.bincn=function(de){ee(typeof de=="number");var ve=de%26,Se=(de-ve)/26,$e=1<<ve;if(this.length<=Se)return this._expand(Se+1),this.words[Se]|=$e,this;for(var Be=$e,Le=Se;Be!==0&&Le<this.length;Le++){var Ue=this.words[Le]|0;Ue+=Be,Be=Ue>>>26,Ue&=67108863,this.words[Le]=Ue}return Be!==0&&(this.words[Le]=Be,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(de){var ve=de<0;if(this.negative!==0&&!ve)return-1;if(this.negative===0&&ve)return 1;this._strip();var Se;if(this.length>1)Se=1;else{ve&&(de=-de),ee(de<=67108863,"Number is too big");var $e=this.words[0]|0;Se=$e===de?0:$e<de?-1:1}return this.negative!==0?-Se|0:Se},ie.prototype.cmp=function(de){if(this.negative!==0&&de.negative===0)return-1;if(this.negative===0&&de.negative!==0)return 1;var ve=this.ucmp(de);return this.negative!==0?-ve|0:ve},ie.prototype.ucmp=function(de){if(this.length>de.length)return 1;if(this.length<de.length)return-1;for(var ve=0,Se=this.length-1;Se>=0;Se--){var $e=this.words[Se]|0,Be=de.words[Se]|0;if($e!==Be){$e<Be?ve=-1:$e>Be&&(ve=1);break}}return ve},ie.prototype.gtn=function(de){return this.cmpn(de)===1},ie.prototype.gt=function(de){return this.cmp(de)===1},ie.prototype.gten=function(de){return this.cmpn(de)>=0},ie.prototype.gte=function(de){return this.cmp(de)>=0},ie.prototype.ltn=function(de){return this.cmpn(de)===-1},ie.prototype.lt=function(de){return this.cmp(de)===-1},ie.prototype.lten=function(de){return this.cmpn(de)<=0},ie.prototype.lte=function(de){return this.cmp(de)<=0},ie.prototype.eqn=function(de){return this.cmpn(de)===0},ie.prototype.eq=function(de){return this.cmp(de)===0},ie.red=function(de){return new nt(de)},ie.prototype.toRed=function(de){return ee(!this.red,"Already a number in reduction context"),ee(this.negative===0,"red works only with positives"),de.convertTo(this)._forceRed(de)},ie.prototype.fromRed=function(){return ee(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(de){return this.red=de,this},ie.prototype.forceRed=function(de){return ee(!this.red,"Already a number in reduction context"),this._forceRed(de)},ie.prototype.redAdd=function(de){return ee(this.red,"redAdd works only with red numbers"),this.red.add(this,de)},ie.prototype.redIAdd=function(de){return ee(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,de)},ie.prototype.redSub=function(de){return ee(this.red,"redSub works only with red numbers"),this.red.sub(this,de)},ie.prototype.redISub=function(de){return ee(this.red,"redISub works only with red numbers"),this.red.isub(this,de)},ie.prototype.redShl=function(de){return ee(this.red,"redShl works only with red numbers"),this.red.shl(this,de)},ie.prototype.redMul=function(de){return ee(this.red,"redMul works only with red numbers"),this.red._verify2(this,de),this.red.mul(this,de)},ie.prototype.redIMul=function(de){return ee(this.red,"redMul works only with red numbers"),this.red._verify2(this,de),this.red.imul(this,de)},ie.prototype.redSqr=function(){return ee(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ee(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ee(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ee(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ee(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(de){return ee(this.red&&!de.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,de)};var Ve={k256:null,p224:null,p192:null,p25519:null};function Ge(Me,de){this.name=Me,this.p=new ie(de,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ge.prototype._tmp=function(){var de=new ie(null);return de.words=new Array(Math.ceil(this.n/13)),de},Ge.prototype.ireduce=function(de){var ve=de,Se;do this.split(ve,this.tmp),ve=this.imulK(ve),ve=ve.iadd(this.tmp),Se=ve.bitLength();while(Se>this.n);var $e=Se<this.n?-1:ve.ucmp(this.p);return $e===0?(ve.words[0]=0,ve.length=1):$e>0?ve.isub(this.p):ve.strip!==void 0?ve.strip():ve._strip(),ve},Ge.prototype.split=function(de,ve){de.iushrn(this.n,0,ve)},Ge.prototype.imulK=function(de){return de.imul(this.k)};function tt(){Ge.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}te(tt,Ge),tt.prototype.split=function(de,ve){for(var Se=4194303,$e=Math.min(de.length,9),Be=0;Be<$e;Be++)ve.words[Be]=de.words[Be];if(ve.length=$e,de.length<=9){de.words[0]=0,de.length=1;return}var Le=de.words[9];for(ve.words[ve.length++]=Le&Se,Be=10;Be<de.length;Be++){var Ue=de.words[Be]|0;de.words[Be-10]=(Ue&Se)<<4|Le>>>22,Le=Ue}Le>>>=22,de.words[Be-10]=Le,Le===0&&de.length>10?de.length-=10:de.length-=9},tt.prototype.imulK=function(de){de.words[de.length]=0,de.words[de.length+1]=0,de.length+=2;for(var ve=0,Se=0;Se<de.length;Se++){var $e=de.words[Se]|0;ve+=$e*977,de.words[Se]=ve&67108863,ve=$e*64+(ve/67108864|0)}return de.words[de.length-1]===0&&(de.length--,de.words[de.length-1]===0&&de.length--),de};function Qe(){Ge.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}te(Qe,Ge);function ot(){Ge.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}te(ot,Ge);function st(){Ge.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}te(st,Ge),st.prototype.imulK=function(de){for(var ve=0,Se=0;Se<de.length;Se++){var $e=(de.words[Se]|0)*19+ve,Be=$e&67108863;$e>>>=26,de.words[Se]=Be,ve=$e}return ve!==0&&(de.words[de.length++]=ve),de},ie._prime=function(de){if(Ve[de])return Ve[de];var ve;if(de==="k256")ve=new tt;else if(de==="p224")ve=new Qe;else if(de==="p192")ve=new ot;else if(de==="p25519")ve=new st;else throw new Error("Unknown prime "+de);return Ve[de]=ve,ve};function nt(Me){if(typeof Me=="string"){var de=ie._prime(Me);this.m=de.p,this.prime=de}else ee(Me.gtn(1),"modulus must be greater than 1"),this.m=Me,this.prime=null}nt.prototype._verify1=function(de){ee(de.negative===0,"red works only with positives"),ee(de.red,"red works only with red numbers")},nt.prototype._verify2=function(de,ve){ee((de.negative|ve.negative)===0,"red works only with positives"),ee(de.red&&de.red===ve.red,"red works only with red numbers")},nt.prototype.imod=function(de){return this.prime?this.prime.ireduce(de)._forceRed(this):(le(de,de.umod(this.m)._forceRed(this)),de)},nt.prototype.neg=function(de){return de.isZero()?de.clone():this.m.sub(de)._forceRed(this)},nt.prototype.add=function(de,ve){this._verify2(de,ve);var Se=de.add(ve);return Se.cmp(this.m)>=0&&Se.isub(this.m),Se._forceRed(this)},nt.prototype.iadd=function(de,ve){this._verify2(de,ve);var Se=de.iadd(ve);return Se.cmp(this.m)>=0&&Se.isub(this.m),Se},nt.prototype.sub=function(de,ve){this._verify2(de,ve);var Se=de.sub(ve);return Se.cmpn(0)<0&&Se.iadd(this.m),Se._forceRed(this)},nt.prototype.isub=function(de,ve){this._verify2(de,ve);var Se=de.isub(ve);return Se.cmpn(0)<0&&Se.iadd(this.m),Se},nt.prototype.shl=function(de,ve){return this._verify1(de),this.imod(de.ushln(ve))},nt.prototype.imul=function(de,ve){return this._verify2(de,ve),this.imod(de.imul(ve))},nt.prototype.mul=function(de,ve){return this._verify2(de,ve),this.imod(de.mul(ve))},nt.prototype.isqr=function(de){return this.imul(de,de.clone())},nt.prototype.sqr=function(de){return this.mul(de,de)},nt.prototype.sqrt=function(de){if(de.isZero())return de.clone();var ve=this.m.andln(3);if(ee(ve%2===1),ve===3){var Se=this.m.add(new ie(1)).iushrn(2);return this.pow(de,Se)}for(var $e=this.m.subn(1),Be=0;!$e.isZero()&&$e.andln(1)===0;)Be++,$e.iushrn(1);ee(!$e.isZero());var Le=new ie(1).toRed(this),Ue=Le.redNeg(),Ne=this.m.subn(1).iushrn(1),ge=this.m.bitLength();for(ge=new ie(2*ge*ge).toRed(this);this.pow(ge,Ne).cmp(Ue)!==0;)ge.redIAdd(Ue);for(var Oe=this.pow(ge,$e),rt=this.pow(de,$e.addn(1).iushrn(1)),Te=this.pow(de,$e),qe=Be;Te.cmp(Le)!==0;){for(var Fe=Te,Ze=0;Fe.cmp(Le)!==0;Ze++)Fe=Fe.redSqr();ee(Ze<qe);var Ye=this.pow(Oe,new ie(1).iushln(qe-Ze-1));rt=rt.redMul(Ye),Oe=Ye.redSqr(),Te=Te.redMul(Oe),qe=Ze}return rt},nt.prototype.invm=function(de){var ve=de._invmp(this.m);return ve.negative!==0?(ve.negative=0,this.imod(ve).redNeg()):this.imod(ve)},nt.prototype.pow=function(de,ve){if(ve.isZero())return new ie(1).toRed(this);if(ve.cmpn(1)===0)return de.clone();var Se=4,$e=new Array(1<<Se);$e[0]=new ie(1).toRed(this),$e[1]=de;for(var Be=2;Be<$e.length;Be++)$e[Be]=this.mul($e[Be-1],de);var Le=$e[0],Ue=0,Ne=0,ge=ve.bitLength()%26;for(ge===0&&(ge=26),Be=ve.length-1;Be>=0;Be--){for(var Oe=ve.words[Be],rt=ge-1;rt>=0;rt--){var Te=Oe>>rt&1;if(Le!==$e[0]&&(Le=this.sqr(Le)),Te===0&&Ue===0){Ne=0;continue}Ue<<=1,Ue|=Te,Ne++,!(Ne!==Se&&(Be!==0||rt!==0))&&(Le=this.mul(Le,$e[Ue]),Ne=0,Ue=0)}ge=26}return Le},nt.prototype.convertTo=function(de){var ve=de.umod(this.m);return ve===de?ve.clone():ve},nt.prototype.convertFrom=function(de){var ve=de.clone();return ve.red=null,ve},ie.mont=function(de){return new lt(de)};function lt(Me){nt.call(this,Me),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}te(lt,nt),lt.prototype.convertTo=function(de){return this.imod(de.ushln(this.shift))},lt.prototype.convertFrom=function(de){var ve=this.imod(de.mul(this.rinv));return ve.red=null,ve},lt.prototype.imul=function(de,ve){if(de.isZero()||ve.isZero())return de.words[0]=0,de.length=1,de;var Se=de.imul(ve),$e=Se.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Be=Se.isub($e).iushrn(this.shift),Le=Be;return Be.cmp(this.m)>=0?Le=Be.isub(this.m):Be.cmpn(0)<0&&(Le=Be.iadd(this.m)),Le._forceRed(this)},lt.prototype.mul=function(de,ve){if(de.isZero()||ve.isZero())return new ie(0)._forceRed(this);var Se=de.mul(ve),$e=Se.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Be=Se.isub($e).iushrn(this.shift),Le=Be;return Be.cmp(this.m)>=0?Le=Be.isub(this.m):Be.cmpn(0)<0&&(Le=Be.iadd(this.m)),Le._forceRed(this)},lt.prototype.invm=function(de){var ve=this.imod(de._invmp(this.m).mul(this.r2));return ve._forceRed(this)}})(Z,commonjsGlobal)})(bn);const BN$1=bnExports,version$d="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const Z=[];if(["NFD","NFC","NFKD","NFKC"].forEach(L=>{try{if("test".normalize(L)!=="test")throw new Error("bad normalize")}catch{Z.push(L)}}),Z.length)throw new Error("missing "+Z.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(Z){return Z.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(Z){Z.DEBUG="DEBUG",Z.INFO="INFO",Z.WARNING="WARNING",Z.ERROR="ERROR",Z.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(Z){Z.UNKNOWN_ERROR="UNKNOWN_ERROR",Z.NOT_IMPLEMENTED="NOT_IMPLEMENTED",Z.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",Z.NETWORK_ERROR="NETWORK_ERROR",Z.SERVER_ERROR="SERVER_ERROR",Z.TIMEOUT="TIMEOUT",Z.BUFFER_OVERRUN="BUFFER_OVERRUN",Z.NUMERIC_FAULT="NUMERIC_FAULT",Z.MISSING_NEW="MISSING_NEW",Z.INVALID_ARGUMENT="INVALID_ARGUMENT",Z.MISSING_ARGUMENT="MISSING_ARGUMENT",Z.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",Z.CALL_EXCEPTION="CALL_EXCEPTION",Z.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",Z.NONCE_EXPIRED="NONCE_EXPIRED",Z.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",Z.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",Z.TRANSACTION_REPLACED="TRANSACTION_REPLACED",Z.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(L){Object.defineProperty(this,"version",{enumerable:!0,value:L,writable:!1})}_log(L,X){const ee=L.toLowerCase();LogLevels[ee]==null&&this.throwArgumentError("invalid log level name","logLevel",L),!(_logLevel>LogLevels[ee])&&console.log.apply(console,X)}debug(...L){this._log(Logger.levels.DEBUG,L)}info(...L){this._log(Logger.levels.INFO,L)}warn(...L){this._log(Logger.levels.WARNING,L)}makeError(L,X,ee){if(_censorErrors)return this.makeError("censored error",X,{});X||(X=Logger.errors.UNKNOWN_ERROR),ee||(ee={});const te=[];Object.keys(ee).forEach(ue=>{const ce=ee[ue];try{if(ce instanceof Uint8Array){let le="";for(let he=0;he<ce.length;he++)le+=HEX[ce[he]>>4],le+=HEX[ce[he]&15];te.push(ue+"=Uint8Array(0x"+le+")")}else te.push(ue+"="+JSON.stringify(ce))}catch{te.push(ue+"="+JSON.stringify(ee[ue].toString()))}}),te.push(`code=${X}`),te.push(`version=${this.version}`);const ie=L;let oe="";switch(X){case ErrorCode.NUMERIC_FAULT:{oe="NUMERIC_FAULT";const ue=L;switch(ue){case"overflow":case"underflow":case"division-by-zero":oe+="-"+ue;break;case"negative-power":case"negative-width":oe+="-unsupported";break;case"unbound-bitwise-result":oe+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:oe=X;break}oe&&(L+=" [ See: https://links.ethers.org/v5-errors-"+oe+" ]"),te.length&&(L+=" ("+te.join(", ")+")");const se=new Error(L);return se.reason=ie,se.code=X,Object.keys(ee).forEach(function(ue){se[ue]=ee[ue]}),se}throwError(L,X,ee){throw this.makeError(L,X,ee)}throwArgumentError(L,X,ee){return this.throwError(L,Logger.errors.INVALID_ARGUMENT,{argument:X,value:ee})}assert(L,X,ee,te){L||this.throwError(X,ee,te)}assertArgument(L,X,ee,te){L||this.throwArgumentError(X,ee,te)}checkNormalize(L){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(L,X){typeof L=="number"&&(X==null&&(X="value not safe"),(L<0||L>=9007199254740991)&&this.throwError(X,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:L}),L%1&&this.throwError(X,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:L}))}checkArgumentCount(L,X,ee){ee?ee=": "+ee:ee="",L<X&&this.throwError("missing argument"+ee,Logger.errors.MISSING_ARGUMENT,{count:L,expectedCount:X}),L>X&&this.throwError("too many arguments"+ee,Logger.errors.UNEXPECTED_ARGUMENT,{count:L,expectedCount:X})}checkNew(L,X){(L===Object||L==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:X.name})}checkAbstract(L,X){L===X?this.throwError("cannot instantiate abstract class "+JSON.stringify(X.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:L.name,operation:"new"}):(L===Object||L==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:X.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$d)),_globalLogger}static setCensorship(L,X){if(!L&&X&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!L)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!L,_permanentCensorErrors=!!X}static setLogLevel(L){const X=LogLevels[L.toLowerCase()];if(X==null){Logger.globalLogger().warn("invalid log level - "+L);return}_logLevel=X}static from(L){return new Logger(L)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$c="bytes/5.7.0",logger$e=new Logger(version$c);function isHexable(Z){return!!Z.toHexString}function addSlice(Z){return Z.slice||(Z.slice=function(){const L=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(Z,L)))}),Z}function isBytesLike(Z){return isHexString(Z)&&!(Z.length%2)||isBytes(Z)}function isInteger(Z){return typeof Z=="number"&&Z==Z&&Z%1===0}function isBytes(Z){if(Z==null)return!1;if(Z.constructor===Uint8Array)return!0;if(typeof Z=="string"||!isInteger(Z.length)||Z.length<0)return!1;for(let L=0;L<Z.length;L++){const X=Z[L];if(!isInteger(X)||X<0||X>=256)return!1}return!0}function arrayify(Z,L){if(L||(L={}),typeof Z=="number"){logger$e.checkSafeUint53(Z,"invalid arrayify value");const X=[];for(;Z;)X.unshift(Z&255),Z=parseInt(String(Z/256));return X.length===0&&X.push(0),addSlice(new Uint8Array(X))}if(L.allowMissingPrefix&&typeof Z=="string"&&Z.substring(0,2)!=="0x"&&(Z="0x"+Z),isHexable(Z)&&(Z=Z.toHexString()),isHexString(Z)){let X=Z.substring(2);X.length%2&&(L.hexPad==="left"?X="0"+X:L.hexPad==="right"?X+="0":logger$e.throwArgumentError("hex data is odd-length","value",Z));const ee=[];for(let te=0;te<X.length;te+=2)ee.push(parseInt(X.substring(te,te+2),16));return addSlice(new Uint8Array(ee))}return isBytes(Z)?addSlice(new Uint8Array(Z)):logger$e.throwArgumentError("invalid arrayify value","value",Z)}function concat$1(Z){const L=Z.map(te=>arrayify(te)),X=L.reduce((te,ie)=>te+ie.length,0),ee=new Uint8Array(X);return L.reduce((te,ie)=>(ee.set(ie,te),te+ie.length),0),addSlice(ee)}function stripZeros(Z){let L=arrayify(Z);if(L.length===0)return L;let X=0;for(;X<L.length&&L[X]===0;)X++;return X&&(L=L.slice(X)),L}function isHexString(Z,L){return!(typeof Z!="string"||!Z.match(/^0x[0-9A-Fa-f]*$/)||L&&Z.length!==2+2*L)}const HexCharacters="0123456789abcdef";function hexlify(Z,L){if(L||(L={}),typeof Z=="number"){logger$e.checkSafeUint53(Z,"invalid hexlify value");let X="";for(;Z;)X=HexCharacters[Z&15]+X,Z=Math.floor(Z/16);return X.length?(X.length%2&&(X="0"+X),"0x"+X):"0x00"}if(typeof Z=="bigint")return Z=Z.toString(16),Z.length%2?"0x0"+Z:"0x"+Z;if(L.allowMissingPrefix&&typeof Z=="string"&&Z.substring(0,2)!=="0x"&&(Z="0x"+Z),isHexable(Z))return Z.toHexString();if(isHexString(Z))return Z.length%2&&(L.hexPad==="left"?Z="0x0"+Z.substring(2):L.hexPad==="right"?Z+="0":logger$e.throwArgumentError("hex data is odd-length","value",Z)),Z.toLowerCase();if(isBytes(Z)){let X="0x";for(let ee=0;ee<Z.length;ee++){let te=Z[ee];X+=HexCharacters[(te&240)>>4]+HexCharacters[te&15]}return X}return logger$e.throwArgumentError("invalid hexlify value","value",Z)}function hexDataLength(Z){if(typeof Z!="string")Z=hexlify(Z);else if(!isHexString(Z)||Z.length%2)return null;return(Z.length-2)/2}function hexDataSlice(Z,L,X){return typeof Z!="string"?Z=hexlify(Z):(!isHexString(Z)||Z.length%2)&&logger$e.throwArgumentError("invalid hexData","value",Z),L=2+2*L,X!=null?"0x"+Z.substring(L,2+2*X):"0x"+Z.substring(L)}function hexConcat(Z){let L="0x";return Z.forEach(X=>{L+=hexlify(X).substring(2)}),L}function hexZeroPad(Z,L){for(typeof Z!="string"?Z=hexlify(Z):isHexString(Z)||logger$e.throwArgumentError("invalid hex string","value",Z),Z.length>2*L+2&&logger$e.throwArgumentError("value out of range","value",arguments[1]);Z.length<2*L+2;)Z="0x0"+Z.substring(2);return Z}const version$b="bignumber/5.7.0";var BN=BN$1.BN;const logger$d=new Logger(version$b),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(L,X){L!==_constructorGuard$1&&logger$d.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=X,this._isBigNumber=!0,Object.freeze(this)}fromTwos(L){return toBigNumber(toBN(this).fromTwos(L))}toTwos(L){return toBigNumber(toBN(this).toTwos(L))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(L){return toBigNumber(toBN(this).add(toBN(L)))}sub(L){return toBigNumber(toBN(this).sub(toBN(L)))}div(L){return BigNumber.from(L).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(L)))}mul(L){return toBigNumber(toBN(this).mul(toBN(L)))}mod(L){const X=toBN(L);return X.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(X))}pow(L){const X=toBN(L);return X.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(X))}and(L){const X=toBN(L);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(X))}or(L){const X=toBN(L);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(X))}xor(L){const X=toBN(L);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(X))}mask(L){return(this.isNegative()||L<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(L))}shl(L){return(this.isNegative()||L<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(L))}shr(L){return(this.isNegative()||L<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(L))}eq(L){return toBN(this).eq(toBN(L))}lt(L){return toBN(this).lt(toBN(L))}lte(L){return toBN(this).lte(toBN(L))}gt(L){return toBN(this).gt(toBN(L))}gte(L){return toBN(this).gte(toBN(L))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$d.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$d.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$d.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$d.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(L){return{type:"BigNumber",hex:this.toHexString()}}static from(L){if(L instanceof BigNumber)return L;if(typeof L=="string")return L.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex$1(L)):L.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex$1(new BN(L))):logger$d.throwArgumentError("invalid BigNumber string","value",L);if(typeof L=="number")return L%1&&throwFault("underflow","BigNumber.from",L),(L>=MAX_SAFE||L<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",L),BigNumber.from(String(L));const X=L;if(typeof X=="bigint")return BigNumber.from(X.toString());if(isBytes(X))return BigNumber.from(hexlify(X));if(X)if(X.toHexString){const ee=X.toHexString();if(typeof ee=="string")return BigNumber.from(ee)}else{let ee=X._hex;if(ee==null&&X.type==="BigNumber"&&(ee=X.hex),typeof ee=="string"&&(isHexString(ee)||ee[0]==="-"&&isHexString(ee.substring(1))))return BigNumber.from(ee)}return logger$d.throwArgumentError("invalid BigNumber value","value",L)}static isBigNumber(L){return!!(L&&L._isBigNumber)}}function toHex$1(Z){if(typeof Z!="string")return toHex$1(Z.toString(16));if(Z[0]==="-")return Z=Z.substring(1),Z[0]==="-"&&logger$d.throwArgumentError("invalid hex","value",Z),Z=toHex$1(Z),Z==="0x00"?Z:"-"+Z;if(Z.substring(0,2)!=="0x"&&(Z="0x"+Z),Z==="0x")return"0x00";for(Z.length%2&&(Z="0x0"+Z.substring(2));Z.length>4&&Z.substring(0,4)==="0x00";)Z="0x"+Z.substring(4);return Z}function toBigNumber(Z){return BigNumber.from(toHex$1(Z))}function toBN(Z){const L=BigNumber.from(Z).toHexString();return L[0]==="-"?new BN("-"+L.substring(3),16):new BN(L.substring(2),16)}function throwFault(Z,L,X){const ee={fault:Z,operation:L};return X!=null&&(ee.value=X),logger$d.throwError(Z,Logger.errors.NUMERIC_FAULT,ee)}function _base36To16(Z){return new BN(Z,36).toString(16)}const version$a="properties/5.7.0";var __awaiter$3=globalThis&&globalThis.__awaiter||function(Z,L,X,ee){function te(ie){return ie instanceof X?ie:new X(function(oe){oe(ie)})}return new(X||(X=Promise))(function(ie,oe){function se(le){try{ce(ee.next(le))}catch(he){oe(he)}}function ue(le){try{ce(ee.throw(le))}catch(he){oe(he)}}function ce(le){le.done?ie(le.value):te(le.value).then(se,ue)}ce((ee=ee.apply(Z,L||[])).next())})};const logger$c=new Logger(version$a);function defineReadOnly(Z,L,X){Object.defineProperty(Z,L,{enumerable:!0,value:X,writable:!1})}function getStatic(Z,L){for(let X=0;X<32;X++){if(Z[L])return Z[L];if(!Z.prototype||typeof Z.prototype!="object")break;Z=Object.getPrototypeOf(Z.prototype).constructor}return null}function resolveProperties(Z){return __awaiter$3(this,void 0,void 0,function*(){const L=Object.keys(Z).map(ee=>{const te=Z[ee];return Promise.resolve(te).then(ie=>({key:ee,value:ie}))});return(yield Promise.all(L)).reduce((ee,te)=>(ee[te.key]=te.value,ee),{})})}function shallowCopy(Z){const L={};for(const X in Z)L[X]=Z[X];return L}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(Z){if(Z==null||opaque[typeof Z])return!0;if(Array.isArray(Z)||typeof Z=="object"){if(!Object.isFrozen(Z))return!1;const L=Object.keys(Z);for(let X=0;X<L.length;X++){let ee=null;try{ee=Z[L[X]]}catch{continue}if(!_isFrozen(ee))return!1}return!0}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof Z}`,"object",Z)}function _deepCopy(Z){if(_isFrozen(Z))return Z;if(Array.isArray(Z))return Object.freeze(Z.map(L=>deepCopy(L)));if(typeof Z=="object"){const L={};for(const X in Z){const ee=Z[X];ee!==void 0&&defineReadOnly(L,X,deepCopy(ee))}return L}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof Z}`,"object",Z)}function deepCopy(Z){return _deepCopy(Z)}class Description{constructor(L){for(const X in L)this[X]=deepCopy(L[X])}}const version$9="abi/5.7.0",logger$b=new Logger(version$9),_constructorGuard={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(Z,L){if(Z==="bytes"||Z==="string"){if(ModifiersBytes[L])return!0}else if(Z==="address"){if(L==="payable")return!0}else if((Z.indexOf("[")>=0||Z==="tuple")&&ModifiersNest[L])return!0;return(ModifiersBytes[L]||L==="payable")&&logger$b.throwArgumentError("invalid modifier","name",L),!1}function parseParamType(Z,L){let X=Z;function ee(se){logger$b.throwArgumentError(`unexpected character at position ${se}`,"param",Z)}Z=Z.replace(/\s/g," ");function te(se){let ue={type:"",name:"",parent:se,state:{allowType:!0}};return L&&(ue.indexed=!1),ue}let ie={type:"",name:"",state:{allowType:!0}},oe=ie;for(let se=0;se<Z.length;se++){let ue=Z[se];switch(ue){case"(":oe.state.allowType&&oe.type===""?oe.type="tuple":oe.state.allowParams||ee(se),oe.state.allowType=!1,oe.type=verifyType(oe.type),oe.components=[te(oe)],oe=oe.components[0];break;case")":delete oe.state,oe.name==="indexed"&&(L||ee(se),oe.indexed=!0,oe.name=""),checkModifier(oe.type,oe.name)&&(oe.name=""),oe.type=verifyType(oe.type);let ce=oe;oe=oe.parent,oe||ee(se),delete ce.parent,oe.state.allowParams=!1,oe.state.allowName=!0,oe.state.allowArray=!0;break;case",":delete oe.state,oe.name==="indexed"&&(L||ee(se),oe.indexed=!0,oe.name=""),checkModifier(oe.type,oe.name)&&(oe.name=""),oe.type=verifyType(oe.type);let le=te(oe.parent);oe.parent.components.push(le),delete oe.parent,oe=le;break;case" ":oe.state.allowType&&oe.type!==""&&(oe.type=verifyType(oe.type),delete oe.state.allowType,oe.state.allowName=!0,oe.state.allowParams=!0),oe.state.allowName&&oe.name!==""&&(oe.name==="indexed"?(L||ee(se),oe.indexed&&ee(se),oe.indexed=!0,oe.name=""):checkModifier(oe.type,oe.name)?oe.name="":oe.state.allowName=!1);break;case"[":oe.state.allowArray||ee(se),oe.type+=ue,oe.state.allowArray=!1,oe.state.allowName=!1,oe.state.readArray=!0;break;case"]":oe.state.readArray||ee(se),oe.type+=ue,oe.state.readArray=!1,oe.state.allowArray=!0,oe.state.allowName=!0;break;default:oe.state.allowType?(oe.type+=ue,oe.state.allowParams=!0,oe.state.allowArray=!0):oe.state.allowName?(oe.name+=ue,delete oe.state.allowArray):oe.state.readArray?oe.type+=ue:ee(se)}}return oe.parent&&logger$b.throwArgumentError("unexpected eof","param",Z),delete ie.state,oe.name==="indexed"?(L||ee(X.length-7),oe.indexed&&ee(X.length-7),oe.indexed=!0,oe.name=""):checkModifier(oe.type,oe.name)&&(oe.name=""),ie.type=verifyType(ie.type),ie}function populate(Z,L){for(let X in L)defineReadOnly(Z,X,L[X])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(L,X){L!==_constructorGuard&&logger$b.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,X);let ee=this.type.match(paramTypeArray);ee?populate(this,{arrayLength:parseInt(ee[2]||"-1"),arrayChildren:ParamType.fromObject({type:ee[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json){let ee={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(ee.indexed=this.indexed),this.components&&(ee.components=this.components.map(te=>JSON.parse(te.format(L)))),JSON.stringify(ee)}let X="";return this.baseType==="array"?(X+=this.arrayChildren.format(L),X+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(L!==FormatTypes.sighash&&(X+=this.type),X+="("+this.components.map(ee=>ee.format(L)).join(L===FormatTypes.full?", ":",")+")"):X+=this.type,L!==FormatTypes.sighash&&(this.indexed===!0&&(X+=" indexed"),L===FormatTypes.full&&this.name&&(X+=" "+this.name)),X}static from(L,X){return typeof L=="string"?ParamType.fromString(L,X):ParamType.fromObject(L)}static fromObject(L){return ParamType.isParamType(L)?L:new ParamType(_constructorGuard,{name:L.name||null,type:verifyType(L.type),indexed:L.indexed==null?null:!!L.indexed,components:L.components?L.components.map(ParamType.fromObject):null})}static fromString(L,X){function ee(te){return ParamType.fromObject({name:te.name,type:te.type,indexed:te.indexed,components:te.components})}return ee(parseParamType(L,!!X))}static isParamType(L){return!!(L!=null&&L._isParamType)}}function parseParams(Z,L){return splitNesting(Z).map(X=>ParamType.fromString(X,L))}class Fragment{constructor(L,X){L!==_constructorGuard&&logger$b.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,X),this._isFragment=!0,Object.freeze(this)}static from(L){return Fragment.isFragment(L)?L:typeof L=="string"?Fragment.fromString(L):Fragment.fromObject(L)}static fromObject(L){if(Fragment.isFragment(L))return L;switch(L.type){case"function":return FunctionFragment.fromObject(L);case"event":return EventFragment.fromObject(L);case"constructor":return ConstructorFragment.fromObject(L);case"error":return ErrorFragment.fromObject(L);case"fallback":case"receive":return null}return logger$b.throwArgumentError("invalid fragment object","value",L)}static fromString(L){return L=L.replace(/\s/g," "),L=L.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),L=L.trim(),L.split(" ")[0]==="event"?EventFragment.fromString(L.substring(5).trim()):L.split(" ")[0]==="function"?FunctionFragment.fromString(L.substring(8).trim()):L.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(L.trim()):L.split(" ")[0]==="error"?ErrorFragment.fromString(L.substring(5).trim()):logger$b.throwArgumentError("unsupported fragment","value",L)}static isFragment(L){return!!(L&&L._isFragment)}}class EventFragment extends Fragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ee=>JSON.parse(ee.format(L)))});let X="";return L!==FormatTypes.sighash&&(X+="event "),X+=this.name+"("+this.inputs.map(ee=>ee.format(L)).join(L===FormatTypes.full?", ":",")+") ",L!==FormatTypes.sighash&&this.anonymous&&(X+="anonymous "),X.trim()}static from(L){return typeof L=="string"?EventFragment.fromString(L):EventFragment.fromObject(L)}static fromObject(L){if(EventFragment.isEventFragment(L))return L;L.type!=="event"&&logger$b.throwArgumentError("invalid event object","value",L);const X={name:verifyIdentifier(L.name),anonymous:L.anonymous,inputs:L.inputs?L.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard,X)}static fromString(L){let X=L.match(regexParen);X||logger$b.throwArgumentError("invalid event string","value",L);let ee=!1;return X[3].split(" ").forEach(te=>{switch(te.trim()){case"anonymous":ee=!0;break;case"":break;default:logger$b.warn("unknown modifier: "+te)}}),EventFragment.fromObject({name:X[1].trim(),anonymous:ee,inputs:parseParams(X[2],!0),type:"event"})}static isEventFragment(L){return L&&L._isFragment&&L.type==="event"}}function parseGas(Z,L){L.gas=null;let X=Z.split("@");return X.length!==1?(X.length>2&&logger$b.throwArgumentError("invalid human-readable ABI signature","value",Z),X[1].match(/^[0-9]+$/)||logger$b.throwArgumentError("invalid human-readable ABI signature gas","value",Z),L.gas=BigNumber.from(X[1]),X[0]):Z}function parseModifiers(Z,L){L.constant=!1,L.payable=!1,L.stateMutability="nonpayable",Z.split(" ").forEach(X=>{switch(X.trim()){case"constant":L.constant=!0;break;case"payable":L.payable=!0,L.stateMutability="payable";break;case"nonpayable":L.payable=!1,L.stateMutability="nonpayable";break;case"pure":L.constant=!0,L.stateMutability="pure";break;case"view":L.constant=!0,L.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+X)}})}function verifyState(Z){let L={constant:!1,payable:!0,stateMutability:"payable"};return Z.stateMutability!=null?(L.stateMutability=Z.stateMutability,L.constant=L.stateMutability==="view"||L.stateMutability==="pure",Z.constant!=null&&!!Z.constant!==L.constant&&logger$b.throwArgumentError("cannot have constant function with mutability "+L.stateMutability,"value",Z),L.payable=L.stateMutability==="payable",Z.payable!=null&&!!Z.payable!==L.payable&&logger$b.throwArgumentError("cannot have payable function with mutability "+L.stateMutability,"value",Z)):Z.payable!=null?(L.payable=!!Z.payable,Z.constant==null&&!L.payable&&Z.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",Z),L.constant=!!Z.constant,L.constant?L.stateMutability="view":L.stateMutability=L.payable?"payable":"nonpayable",L.payable&&L.constant&&logger$b.throwArgumentError("cannot have constant payable function","value",Z)):Z.constant!=null?(L.constant=!!Z.constant,L.payable=!L.constant,L.stateMutability=L.constant?"view":"payable"):Z.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",Z),L}class ConstructorFragment extends Fragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ee=>JSON.parse(ee.format(L)))});L===FormatTypes.sighash&&logger$b.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let X="constructor("+this.inputs.map(ee=>ee.format(L)).join(L===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(X+=this.stateMutability+" "),X.trim()}static from(L){return typeof L=="string"?ConstructorFragment.fromString(L):ConstructorFragment.fromObject(L)}static fromObject(L){if(ConstructorFragment.isConstructorFragment(L))return L;L.type!=="constructor"&&logger$b.throwArgumentError("invalid constructor object","value",L);let X=verifyState(L);X.constant&&logger$b.throwArgumentError("constructor cannot be constant","value",L);const ee={name:null,type:L.type,inputs:L.inputs?L.inputs.map(ParamType.fromObject):[],payable:X.payable,stateMutability:X.stateMutability,gas:L.gas?BigNumber.from(L.gas):null};return new ConstructorFragment(_constructorGuard,ee)}static fromString(L){let X={type:"constructor"};L=parseGas(L,X);let ee=L.match(regexParen);return(!ee||ee[1].trim()!=="constructor")&&logger$b.throwArgumentError("invalid constructor string","value",L),X.inputs=parseParams(ee[2].trim(),!1),parseModifiers(ee[3].trim(),X),ConstructorFragment.fromObject(X)}static isConstructorFragment(L){return L&&L._isFragment&&L.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ee=>JSON.parse(ee.format(L))),outputs:this.outputs.map(ee=>JSON.parse(ee.format(L)))});let X="";return L!==FormatTypes.sighash&&(X+="function "),X+=this.name+"("+this.inputs.map(ee=>ee.format(L)).join(L===FormatTypes.full?", ":",")+") ",L!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(X+=this.stateMutability+" "):this.constant&&(X+="view "),this.outputs&&this.outputs.length&&(X+="returns ("+this.outputs.map(ee=>ee.format(L)).join(", ")+") "),this.gas!=null&&(X+="@"+this.gas.toString()+" ")),X.trim()}static from(L){return typeof L=="string"?FunctionFragment.fromString(L):FunctionFragment.fromObject(L)}static fromObject(L){if(FunctionFragment.isFunctionFragment(L))return L;L.type!=="function"&&logger$b.throwArgumentError("invalid function object","value",L);let X=verifyState(L);const ee={type:L.type,name:verifyIdentifier(L.name),constant:X.constant,inputs:L.inputs?L.inputs.map(ParamType.fromObject):[],outputs:L.outputs?L.outputs.map(ParamType.fromObject):[],payable:X.payable,stateMutability:X.stateMutability,gas:L.gas?BigNumber.from(L.gas):null};return new FunctionFragment(_constructorGuard,ee)}static fromString(L){let X={type:"function"};L=parseGas(L,X);let ee=L.split(" returns ");ee.length>2&&logger$b.throwArgumentError("invalid function string","value",L);let te=ee[0].match(regexParen);if(te||logger$b.throwArgumentError("invalid function signature","value",L),X.name=te[1].trim(),X.name&&verifyIdentifier(X.name),X.inputs=parseParams(te[2],!1),parseModifiers(te[3].trim(),X),ee.length>1){let ie=ee[1].match(regexParen);(ie[1].trim()!=""||ie[3].trim()!="")&&logger$b.throwArgumentError("unexpected tokens","value",L),X.outputs=parseParams(ie[2],!1)}else X.outputs=[];return FunctionFragment.fromObject(X)}static isFunctionFragment(L){return L&&L._isFragment&&L.type==="function"}}function checkForbidden(Z){const L=Z.format();return(L==="Error(string)"||L==="Panic(uint256)")&&logger$b.throwArgumentError(`cannot specify user defined ${L} error`,"fragment",Z),Z}class ErrorFragment extends Fragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(ee=>JSON.parse(ee.format(L)))});let X="";return L!==FormatTypes.sighash&&(X+="error "),X+=this.name+"("+this.inputs.map(ee=>ee.format(L)).join(L===FormatTypes.full?", ":",")+") ",X.trim()}static from(L){return typeof L=="string"?ErrorFragment.fromString(L):ErrorFragment.fromObject(L)}static fromObject(L){if(ErrorFragment.isErrorFragment(L))return L;L.type!=="error"&&logger$b.throwArgumentError("invalid error object","value",L);const X={type:L.type,name:verifyIdentifier(L.name),inputs:L.inputs?L.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard,X))}static fromString(L){let X={type:"error"},ee=L.match(regexParen);return ee||logger$b.throwArgumentError("invalid error signature","value",L),X.name=ee[1].trim(),X.name&&verifyIdentifier(X.name),X.inputs=parseParams(ee[2],!1),checkForbidden(ErrorFragment.fromObject(X))}static isErrorFragment(L){return L&&L._isFragment&&L.type==="error"}}function verifyType(Z){return Z.match(/^uint($|[^1-9])/)?Z="uint256"+Z.substring(4):Z.match(/^int($|[^1-9])/)&&(Z="int256"+Z.substring(3)),Z}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(Z){return(!Z||!Z.match(regexIdentifier))&&logger$b.throwArgumentError(`invalid identifier "${Z}"`,"value",Z),Z}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(Z){Z=Z.trim();let L=[],X="",ee=0;for(let te=0;te<Z.length;te++){let ie=Z[te];ie===","&&ee===0?(L.push(X),X=""):(X+=ie,ie==="("?ee++:ie===")"&&(ee--,ee===-1&&logger$b.throwArgumentError("unbalanced parenthesis","value",Z)))}return X&&L.push(X),L}const logger$a=new Logger(version$9);function checkResultErrors(Z){const L=[],X=function(ee,te){if(Array.isArray(te))for(let ie in te){const oe=ee.slice();oe.push(ie);try{X(oe,te[ie])}catch(se){L.push({path:oe,error:se})}}};return X([],Z),L}class Coder{constructor(L,X,ee,te){this.name=L,this.type=X,this.localName=ee,this.dynamic=te}_throwError(L,X){logger$a.throwArgumentError(L,this.localName,X)}}let Writer$2=class{constructor(L){defineReadOnly(this,"wordSize",L||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(L)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(L){return this._data.push(L),this._dataLength+=L.length,L.length}appendWriter(L){return this._writeData(concat$1(L._data))}writeBytes(L){let X=arrayify(L);const ee=X.length%this.wordSize;return ee&&(X=concat$1([X,this._padding.slice(ee)])),this._writeData(X)}_getValue(L){let X=arrayify(BigNumber.from(L));return X.length>this.wordSize&&logger$a.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:X.length}),X.length%this.wordSize&&(X=concat$1([this._padding.slice(X.length%this.wordSize),X])),X}writeValue(L){return this._writeData(this._getValue(L))}writeUpdatableValue(){const L=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,X=>{this._data[L]=this._getValue(X)}}},Reader$2=class Ir{constructor(L,X,ee,te){defineReadOnly(this,"_data",arrayify(L)),defineReadOnly(this,"wordSize",X||32),defineReadOnly(this,"_coerceFunc",ee),defineReadOnly(this,"allowLoose",te),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(L,X){let ee=L.match("^u?int([0-9]+)$");return ee&&parseInt(ee[1])<=48&&(X=X.toNumber()),X}coerce(L,X){return this._coerceFunc?this._coerceFunc(L,X):Ir.coerce(L,X)}_peekBytes(L,X,ee){let te=Math.ceil(X/this.wordSize)*this.wordSize;return this._offset+te>this._data.length&&(this.allowLoose&&ee&&this._offset+X<=this._data.length?te=X:logger$a.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+te})),this._data.slice(this._offset,this._offset+te)}subReader(L){return new Ir(this._data.slice(this._offset+L),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(L,X){let ee=this._peekBytes(0,L,!!X);return this._offset+=ee.length,ee.slice(0,L)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}};var sha3Exports={},sha3$1={get exports(){return sha3Exports},set exports(Z){sha3Exports=Z}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(Z){(function(){var L="input is invalid type",X="finalize already called",ee=typeof window=="object",te=ee?window:{};te.JS_SHA3_NO_WINDOW&&(ee=!1);var ie=!ee&&typeof self=="object",oe=!te.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;oe?te=commonjsGlobal:ie&&(te=self);var se=!te.JS_SHA3_NO_COMMON_JS&&!0&&Z.exports,ue=!te.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ce="0123456789abcdef".split(""),le=[31,7936,2031616,520093696],he=[4,1024,262144,67108864],pe=[1,256,65536,16777216],we=[6,1536,393216,100663296],_e=[0,8,16,24],xe=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Ae=[224,256,384,512],Ie=[128,256],Pe=["hex","buffer","arrayBuffer","array","digest"],Ce={128:168,256:136};(te.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Te){return Object.prototype.toString.call(Te)==="[object Array]"}),ue&&(te.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Te){return typeof Te=="object"&&Te.buffer&&Te.buffer.constructor===ArrayBuffer});for(var We=function(Te,qe,Fe){return function(Ze){return new ge(Te,qe,Te).update(Ze)[Fe]()}},Ve=function(Te,qe,Fe){return function(Ze,Ye){return new ge(Te,qe,Ye).update(Ze)[Fe]()}},Ge=function(Te,qe,Fe){return function(Ze,Ye,et,Xe){return de["cshake"+Te].update(Ze,Ye,et,Xe)[Fe]()}},tt=function(Te,qe,Fe){return function(Ze,Ye,et,Xe){return de["kmac"+Te].update(Ze,Ye,et,Xe)[Fe]()}},Qe=function(Te,qe,Fe,Ze){for(var Ye=0;Ye<Pe.length;++Ye){var et=Pe[Ye];Te[et]=qe(Fe,Ze,et)}return Te},ot=function(Te,qe){var Fe=We(Te,qe,"hex");return Fe.create=function(){return new ge(Te,qe,Te)},Fe.update=function(Ze){return Fe.create().update(Ze)},Qe(Fe,We,Te,qe)},st=function(Te,qe){var Fe=Ve(Te,qe,"hex");return Fe.create=function(Ze){return new ge(Te,qe,Ze)},Fe.update=function(Ze,Ye){return Fe.create(Ye).update(Ze)},Qe(Fe,Ve,Te,qe)},nt=function(Te,qe){var Fe=Ce[Te],Ze=Ge(Te,qe,"hex");return Ze.create=function(Ye,et,Xe){return!et&&!Xe?de["shake"+Te].create(Ye):new ge(Te,qe,Ye).bytepad([et,Xe],Fe)},Ze.update=function(Ye,et,Xe,Ke){return Ze.create(et,Xe,Ke).update(Ye)},Qe(Ze,Ge,Te,qe)},lt=function(Te,qe){var Fe=Ce[Te],Ze=tt(Te,qe,"hex");return Ze.create=function(Ye,et,Xe){return new Oe(Te,qe,et).bytepad(["KMAC",Xe],Fe).bytepad([Ye],Fe)},Ze.update=function(Ye,et,Xe,Ke){return Ze.create(Ye,Xe,Ke).update(et)},Qe(Ze,tt,Te,qe)},Me=[{name:"keccak",padding:pe,bits:Ae,createMethod:ot},{name:"sha3",padding:we,bits:Ae,createMethod:ot},{name:"shake",padding:le,bits:Ie,createMethod:st},{name:"cshake",padding:he,bits:Ie,createMethod:nt},{name:"kmac",padding:he,bits:Ie,createMethod:lt}],de={},ve=[],Se=0;Se<Me.length;++Se)for(var $e=Me[Se],Be=$e.bits,Le=0;Le<Be.length;++Le){var Ue=$e.name+"_"+Be[Le];if(ve.push(Ue),de[Ue]=$e.createMethod(Be[Le],$e.padding),$e.name!=="sha3"){var Ne=$e.name+Be[Le];ve.push(Ne),de[Ne]=de[Ue]}}function ge(Te,qe,Fe){this.blocks=[],this.s=[],this.padding=qe,this.outputBits=Fe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Te<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Fe>>5,this.extraBytes=(Fe&31)>>3;for(var Ze=0;Ze<50;++Ze)this.s[Ze]=0}ge.prototype.update=function(Te){if(this.finalized)throw new Error(X);var qe,Fe=typeof Te;if(Fe!=="string"){if(Fe==="object"){if(Te===null)throw new Error(L);if(ue&&Te.constructor===ArrayBuffer)Te=new Uint8Array(Te);else if(!Array.isArray(Te)&&(!ue||!ArrayBuffer.isView(Te)))throw new Error(L)}else throw new Error(L);qe=!0}for(var Ze=this.blocks,Ye=this.byteCount,et=Te.length,Xe=this.blockCount,Ke=0,at=this.s,Je,it;Ke<et;){if(this.reset)for(this.reset=!1,Ze[0]=this.block,Je=1;Je<Xe+1;++Je)Ze[Je]=0;if(qe)for(Je=this.start;Ke<et&&Je<Ye;++Ke)Ze[Je>>2]|=Te[Ke]<<_e[Je++&3];else for(Je=this.start;Ke<et&&Je<Ye;++Ke)it=Te.charCodeAt(Ke),it<128?Ze[Je>>2]|=it<<_e[Je++&3]:it<2048?(Ze[Je>>2]|=(192|it>>6)<<_e[Je++&3],Ze[Je>>2]|=(128|it&63)<<_e[Je++&3]):it<55296||it>=57344?(Ze[Je>>2]|=(224|it>>12)<<_e[Je++&3],Ze[Je>>2]|=(128|it>>6&63)<<_e[Je++&3],Ze[Je>>2]|=(128|it&63)<<_e[Je++&3]):(it=65536+((it&1023)<<10|Te.charCodeAt(++Ke)&1023),Ze[Je>>2]|=(240|it>>18)<<_e[Je++&3],Ze[Je>>2]|=(128|it>>12&63)<<_e[Je++&3],Ze[Je>>2]|=(128|it>>6&63)<<_e[Je++&3],Ze[Je>>2]|=(128|it&63)<<_e[Je++&3]);if(this.lastByteIndex=Je,Je>=Ye){for(this.start=Je-Ye,this.block=Ze[Xe],Je=0;Je<Xe;++Je)at[Je]^=Ze[Je];rt(at),this.reset=!0}else this.start=Je}return this},ge.prototype.encode=function(Te,qe){var Fe=Te&255,Ze=1,Ye=[Fe];for(Te=Te>>8,Fe=Te&255;Fe>0;)Ye.unshift(Fe),Te=Te>>8,Fe=Te&255,++Ze;return qe?Ye.push(Ze):Ye.unshift(Ze),this.update(Ye),Ye.length},ge.prototype.encodeString=function(Te){var qe,Fe=typeof Te;if(Fe!=="string"){if(Fe==="object"){if(Te===null)throw new Error(L);if(ue&&Te.constructor===ArrayBuffer)Te=new Uint8Array(Te);else if(!Array.isArray(Te)&&(!ue||!ArrayBuffer.isView(Te)))throw new Error(L)}else throw new Error(L);qe=!0}var Ze=0,Ye=Te.length;if(qe)Ze=Ye;else for(var et=0;et<Te.length;++et){var Xe=Te.charCodeAt(et);Xe<128?Ze+=1:Xe<2048?Ze+=2:Xe<55296||Xe>=57344?Ze+=3:(Xe=65536+((Xe&1023)<<10|Te.charCodeAt(++et)&1023),Ze+=4)}return Ze+=this.encode(Ze*8),this.update(Te),Ze},ge.prototype.bytepad=function(Te,qe){for(var Fe=this.encode(qe),Ze=0;Ze<Te.length;++Ze)Fe+=this.encodeString(Te[Ze]);var Ye=qe-Fe%qe,et=[];return et.length=Ye,this.update(et),this},ge.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Te=this.blocks,qe=this.lastByteIndex,Fe=this.blockCount,Ze=this.s;if(Te[qe>>2]|=this.padding[qe&3],this.lastByteIndex===this.byteCount)for(Te[0]=Te[Fe],qe=1;qe<Fe+1;++qe)Te[qe]=0;for(Te[Fe-1]|=2147483648,qe=0;qe<Fe;++qe)Ze[qe]^=Te[qe];rt(Ze)}},ge.prototype.toString=ge.prototype.hex=function(){this.finalize();for(var Te=this.blockCount,qe=this.s,Fe=this.outputBlocks,Ze=this.extraBytes,Ye=0,et=0,Xe="",Ke;et<Fe;){for(Ye=0;Ye<Te&&et<Fe;++Ye,++et)Ke=qe[Ye],Xe+=ce[Ke>>4&15]+ce[Ke&15]+ce[Ke>>12&15]+ce[Ke>>8&15]+ce[Ke>>20&15]+ce[Ke>>16&15]+ce[Ke>>28&15]+ce[Ke>>24&15];et%Te===0&&(rt(qe),Ye=0)}return Ze&&(Ke=qe[Ye],Xe+=ce[Ke>>4&15]+ce[Ke&15],Ze>1&&(Xe+=ce[Ke>>12&15]+ce[Ke>>8&15]),Ze>2&&(Xe+=ce[Ke>>20&15]+ce[Ke>>16&15])),Xe},ge.prototype.arrayBuffer=function(){this.finalize();var Te=this.blockCount,qe=this.s,Fe=this.outputBlocks,Ze=this.extraBytes,Ye=0,et=0,Xe=this.outputBits>>3,Ke;Ze?Ke=new ArrayBuffer(Fe+1<<2):Ke=new ArrayBuffer(Xe);for(var at=new Uint32Array(Ke);et<Fe;){for(Ye=0;Ye<Te&&et<Fe;++Ye,++et)at[et]=qe[Ye];et%Te===0&&rt(qe)}return Ze&&(at[Ye]=qe[Ye],Ke=Ke.slice(0,Xe)),Ke},ge.prototype.buffer=ge.prototype.arrayBuffer,ge.prototype.digest=ge.prototype.array=function(){this.finalize();for(var Te=this.blockCount,qe=this.s,Fe=this.outputBlocks,Ze=this.extraBytes,Ye=0,et=0,Xe=[],Ke,at;et<Fe;){for(Ye=0;Ye<Te&&et<Fe;++Ye,++et)Ke=et<<2,at=qe[Ye],Xe[Ke]=at&255,Xe[Ke+1]=at>>8&255,Xe[Ke+2]=at>>16&255,Xe[Ke+3]=at>>24&255;et%Te===0&&rt(qe)}return Ze&&(Ke=et<<2,at=qe[Ye],Xe[Ke]=at&255,Ze>1&&(Xe[Ke+1]=at>>8&255),Ze>2&&(Xe[Ke+2]=at>>16&255)),Xe};function Oe(Te,qe,Fe){ge.call(this,Te,qe,Fe)}Oe.prototype=new ge,Oe.prototype.finalize=function(){return this.encode(this.outputBits,!0),ge.prototype.finalize.call(this)};var rt=function(Te){var qe,Fe,Ze,Ye,et,Xe,Ke,at,Je,it,Ht,dt,ft,Kt,ht,pt,Xt,yt,mt,Jt,gt,bt,Qt,vt,wt,er,Et,_t,tr,Tt,xt,rr,At,St,nr,It,Rt,ir,$t,Pt,or,Nt,Ct,sr,Bt,Ot,ar,Mt,kt,ur,Ft,Lt,cr,Ut,Dt,lr,jt,Zt,zt,Wt,qt,Vt,Gt;for(Ze=0;Ze<48;Ze+=2)Ye=Te[0]^Te[10]^Te[20]^Te[30]^Te[40],et=Te[1]^Te[11]^Te[21]^Te[31]^Te[41],Xe=Te[2]^Te[12]^Te[22]^Te[32]^Te[42],Ke=Te[3]^Te[13]^Te[23]^Te[33]^Te[43],at=Te[4]^Te[14]^Te[24]^Te[34]^Te[44],Je=Te[5]^Te[15]^Te[25]^Te[35]^Te[45],it=Te[6]^Te[16]^Te[26]^Te[36]^Te[46],Ht=Te[7]^Te[17]^Te[27]^Te[37]^Te[47],dt=Te[8]^Te[18]^Te[28]^Te[38]^Te[48],ft=Te[9]^Te[19]^Te[29]^Te[39]^Te[49],qe=dt^(Xe<<1|Ke>>>31),Fe=ft^(Ke<<1|Xe>>>31),Te[0]^=qe,Te[1]^=Fe,Te[10]^=qe,Te[11]^=Fe,Te[20]^=qe,Te[21]^=Fe,Te[30]^=qe,Te[31]^=Fe,Te[40]^=qe,Te[41]^=Fe,qe=Ye^(at<<1|Je>>>31),Fe=et^(Je<<1|at>>>31),Te[2]^=qe,Te[3]^=Fe,Te[12]^=qe,Te[13]^=Fe,Te[22]^=qe,Te[23]^=Fe,Te[32]^=qe,Te[33]^=Fe,Te[42]^=qe,Te[43]^=Fe,qe=Xe^(it<<1|Ht>>>31),Fe=Ke^(Ht<<1|it>>>31),Te[4]^=qe,Te[5]^=Fe,Te[14]^=qe,Te[15]^=Fe,Te[24]^=qe,Te[25]^=Fe,Te[34]^=qe,Te[35]^=Fe,Te[44]^=qe,Te[45]^=Fe,qe=at^(dt<<1|ft>>>31),Fe=Je^(ft<<1|dt>>>31),Te[6]^=qe,Te[7]^=Fe,Te[16]^=qe,Te[17]^=Fe,Te[26]^=qe,Te[27]^=Fe,Te[36]^=qe,Te[37]^=Fe,Te[46]^=qe,Te[47]^=Fe,qe=it^(Ye<<1|et>>>31),Fe=Ht^(et<<1|Ye>>>31),Te[8]^=qe,Te[9]^=Fe,Te[18]^=qe,Te[19]^=Fe,Te[28]^=qe,Te[29]^=Fe,Te[38]^=qe,Te[39]^=Fe,Te[48]^=qe,Te[49]^=Fe,Kt=Te[0],ht=Te[1],Ot=Te[11]<<4|Te[10]>>>28,ar=Te[10]<<4|Te[11]>>>28,_t=Te[20]<<3|Te[21]>>>29,tr=Te[21]<<3|Te[20]>>>29,Wt=Te[31]<<9|Te[30]>>>23,qt=Te[30]<<9|Te[31]>>>23,Nt=Te[40]<<18|Te[41]>>>14,Ct=Te[41]<<18|Te[40]>>>14,St=Te[2]<<1|Te[3]>>>31,nr=Te[3]<<1|Te[2]>>>31,pt=Te[13]<<12|Te[12]>>>20,Xt=Te[12]<<12|Te[13]>>>20,Mt=Te[22]<<10|Te[23]>>>22,kt=Te[23]<<10|Te[22]>>>22,Tt=Te[33]<<13|Te[32]>>>19,xt=Te[32]<<13|Te[33]>>>19,Vt=Te[42]<<2|Te[43]>>>30,Gt=Te[43]<<2|Te[42]>>>30,Ut=Te[5]<<30|Te[4]>>>2,Dt=Te[4]<<30|Te[5]>>>2,It=Te[14]<<6|Te[15]>>>26,Rt=Te[15]<<6|Te[14]>>>26,yt=Te[25]<<11|Te[24]>>>21,mt=Te[24]<<11|Te[25]>>>21,ur=Te[34]<<15|Te[35]>>>17,Ft=Te[35]<<15|Te[34]>>>17,rr=Te[45]<<29|Te[44]>>>3,At=Te[44]<<29|Te[45]>>>3,vt=Te[6]<<28|Te[7]>>>4,wt=Te[7]<<28|Te[6]>>>4,lr=Te[17]<<23|Te[16]>>>9,jt=Te[16]<<23|Te[17]>>>9,ir=Te[26]<<25|Te[27]>>>7,$t=Te[27]<<25|Te[26]>>>7,Jt=Te[36]<<21|Te[37]>>>11,gt=Te[37]<<21|Te[36]>>>11,Lt=Te[47]<<24|Te[46]>>>8,cr=Te[46]<<24|Te[47]>>>8,sr=Te[8]<<27|Te[9]>>>5,Bt=Te[9]<<27|Te[8]>>>5,er=Te[18]<<20|Te[19]>>>12,Et=Te[19]<<20|Te[18]>>>12,Zt=Te[29]<<7|Te[28]>>>25,zt=Te[28]<<7|Te[29]>>>25,Pt=Te[38]<<8|Te[39]>>>24,or=Te[39]<<8|Te[38]>>>24,bt=Te[48]<<14|Te[49]>>>18,Qt=Te[49]<<14|Te[48]>>>18,Te[0]=Kt^~pt&yt,Te[1]=ht^~Xt&mt,Te[10]=vt^~er&_t,Te[11]=wt^~Et&tr,Te[20]=St^~It&ir,Te[21]=nr^~Rt&$t,Te[30]=sr^~Ot&Mt,Te[31]=Bt^~ar&kt,Te[40]=Ut^~lr&Zt,Te[41]=Dt^~jt&zt,Te[2]=pt^~yt&Jt,Te[3]=Xt^~mt&gt,Te[12]=er^~_t&Tt,Te[13]=Et^~tr&xt,Te[22]=It^~ir&Pt,Te[23]=Rt^~$t&or,Te[32]=Ot^~Mt&ur,Te[33]=ar^~kt&Ft,Te[42]=lr^~Zt&Wt,Te[43]=jt^~zt&qt,Te[4]=yt^~Jt&bt,Te[5]=mt^~gt&Qt,Te[14]=_t^~Tt&rr,Te[15]=tr^~xt&At,Te[24]=ir^~Pt&Nt,Te[25]=$t^~or&Ct,Te[34]=Mt^~ur&Lt,Te[35]=kt^~Ft&cr,Te[44]=Zt^~Wt&Vt,Te[45]=zt^~qt&Gt,Te[6]=Jt^~bt&Kt,Te[7]=gt^~Qt&ht,Te[16]=Tt^~rr&vt,Te[17]=xt^~At&wt,Te[26]=Pt^~Nt&St,Te[27]=or^~Ct&nr,Te[36]=ur^~Lt&sr,Te[37]=Ft^~cr&Bt,Te[46]=Wt^~Vt&Ut,Te[47]=qt^~Gt&Dt,Te[8]=bt^~Kt&pt,Te[9]=Qt^~ht&Xt,Te[18]=rr^~vt&er,Te[19]=At^~wt&Et,Te[28]=Nt^~St&It,Te[29]=Ct^~nr&Rt,Te[38]=Lt^~sr&Ot,Te[39]=cr^~Bt&ar,Te[48]=Vt^~Ut&lr,Te[49]=Gt^~Dt&jt,Te[0]^=xe[Ze],Te[1]^=xe[Ze+1]};if(se)Z.exports=de;else for(Se=0;Se<ve.length;++Se)te[ve[Se]]=de[ve[Se]]})()})(sha3$1);const sha3=sha3Exports;function keccak256$1(Z){return"0x"+sha3.keccak_256(arrayify(Z))}const version$8="rlp/5.7.0",logger$9=new Logger(version$8);function arrayifyInteger(Z){const L=[];for(;Z;)L.unshift(Z&255),Z>>=8;return L}function _encode(Z){if(Array.isArray(Z)){let ee=[];if(Z.forEach(function(ie){ee=ee.concat(_encode(ie))}),ee.length<=55)return ee.unshift(192+ee.length),ee;const te=arrayifyInteger(ee.length);return te.unshift(247+te.length),te.concat(ee)}isBytesLike(Z)||logger$9.throwArgumentError("RLP object must be BytesLike","object",Z);const L=Array.prototype.slice.call(arrayify(Z));if(L.length===1&&L[0]<=127)return L;if(L.length<=55)return L.unshift(128+L.length),L;const X=arrayifyInteger(L.length);return X.unshift(183+X.length),X.concat(L)}function encode(Z){return hexlify(_encode(Z))}const version$7="address/5.7.0",logger$8=new Logger(version$7);function getChecksumAddress(Z){isHexString(Z,20)||logger$8.throwArgumentError("invalid address","address",Z),Z=Z.toLowerCase();const L=Z.substring(2).split(""),X=new Uint8Array(40);for(let te=0;te<40;te++)X[te]=L[te].charCodeAt(0);const ee=arrayify(keccak256$1(X));for(let te=0;te<40;te+=2)ee[te>>1]>>4>=8&&(L[te]=L[te].toUpperCase()),(ee[te>>1]&15)>=8&&(L[te+1]=L[te+1].toUpperCase());return"0x"+L.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(Z){return Math.log10?Math.log10(Z):Math.log(Z)/Math.LN10}const ibanLookup={};for(let Z=0;Z<10;Z++)ibanLookup[String(Z)]=String(Z);for(let Z=0;Z<26;Z++)ibanLookup[String.fromCharCode(65+Z)]=String(10+Z);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(Z){Z=Z.toUpperCase(),Z=Z.substring(4)+Z.substring(0,2)+"00";let L=Z.split("").map(ee=>ibanLookup[ee]).join("");for(;L.length>=safeDigits;){let ee=L.substring(0,safeDigits);L=parseInt(ee,10)%97+L.substring(ee.length)}let X=String(98-parseInt(L,10)%97);for(;X.length<2;)X="0"+X;return X}function getAddress$1(Z){let L=null;if(typeof Z!="string"&&logger$8.throwArgumentError("invalid address","address",Z),Z.match(/^(0x)?[0-9a-fA-F]{40}$/))Z.substring(0,2)!=="0x"&&(Z="0x"+Z),L=getChecksumAddress(Z),Z.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&L!==Z&&logger$8.throwArgumentError("bad address checksum","address",Z);else if(Z.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(Z.substring(2,4)!==ibanChecksum(Z)&&logger$8.throwArgumentError("bad icap checksum","address",Z),L=_base36To16(Z.substring(4));L.length<40;)L="0"+L;L=getChecksumAddress("0x"+L)}else logger$8.throwArgumentError("invalid address","address",Z);return L}function isAddress$1(Z){try{return getAddress$1(Z),!0}catch{}return!1}function getContractAddress$1(Z){let L=null;try{L=getAddress$1(Z.from)}catch{logger$8.throwArgumentError("missing from address","transaction",Z)}const X=stripZeros(arrayify(BigNumber.from(Z.nonce).toHexString()));return getAddress$1(hexDataSlice(keccak256$1(encode([L,X])),12))}class AddressCoder extends Coder{constructor(L){super("address","address",L,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(L,X){try{X=getAddress$1(X)}catch(ee){this._throwError(ee.message,X)}return L.writeValue(X)}decode(L){return getAddress$1(hexZeroPad(L.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(L){super(L.name,L.type,void 0,L.dynamic),this.coder=L}defaultValue(){return this.coder.defaultValue()}encode(L,X){return this.coder.encode(L,X)}decode(L){return this.coder.decode(L)}}const logger$7=new Logger(version$9);function pack(Z,L,X){let ee=null;if(Array.isArray(X))ee=X;else if(X&&typeof X=="object"){let ue={};ee=L.map(ce=>{const le=ce.localName;return le||logger$7.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ce,value:X}),ue[le]&&logger$7.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ce,value:X}),ue[le]=!0,X[le]})}else logger$7.throwArgumentError("invalid tuple value","tuple",X);L.length!==ee.length&&logger$7.throwArgumentError("types/value length mismatch","tuple",X);let te=new Writer$2(Z.wordSize),ie=new Writer$2(Z.wordSize),oe=[];L.forEach((ue,ce)=>{let le=ee[ce];if(ue.dynamic){let he=ie.length;ue.encode(ie,le);let pe=te.writeUpdatableValue();oe.push(we=>{pe(we+he)})}else ue.encode(te,le)}),oe.forEach(ue=>{ue(te.length)});let se=Z.appendWriter(te);return se+=Z.appendWriter(ie),se}function unpack(Z,L){let X=[],ee=Z.subReader(0);L.forEach(ie=>{let oe=null;if(ie.dynamic){let se=Z.readValue(),ue=ee.subReader(se.toNumber());try{oe=ie.decode(ue)}catch(ce){if(ce.code===Logger.errors.BUFFER_OVERRUN)throw ce;oe=ce,oe.baseType=ie.name,oe.name=ie.localName,oe.type=ie.type}}else try{oe=ie.decode(Z)}catch(se){if(se.code===Logger.errors.BUFFER_OVERRUN)throw se;oe=se,oe.baseType=ie.name,oe.name=ie.localName,oe.type=ie.type}oe!=null&&X.push(oe)});const te=L.reduce((ie,oe)=>{const se=oe.localName;return se&&(ie[se]||(ie[se]=0),ie[se]++),ie},{});L.forEach((ie,oe)=>{let se=ie.localName;if(!se||te[se]!==1||(se==="length"&&(se="_length"),X[se]!=null))return;const ue=X[oe];ue instanceof Error?Object.defineProperty(X,se,{enumerable:!0,get:()=>{throw ue}}):X[se]=ue});for(let ie=0;ie<X.length;ie++){const oe=X[ie];oe instanceof Error&&Object.defineProperty(X,ie,{enumerable:!0,get:()=>{throw oe}})}return Object.freeze(X)}class ArrayCoder extends Coder{constructor(L,X,ee){const te=L.type+"["+(X>=0?X:"")+"]",ie=X===-1||L.dynamic;super("array",te,ee,ie),this.coder=L,this.length=X}defaultValue(){const L=this.coder.defaultValue(),X=[];for(let ee=0;ee<this.length;ee++)X.push(L);return X}encode(L,X){Array.isArray(X)||this._throwError("expected array value",X);let ee=this.length;ee===-1&&(ee=X.length,L.writeValue(X.length)),logger$7.checkArgumentCount(X.length,ee,"coder array"+(this.localName?" "+this.localName:""));let te=[];for(let ie=0;ie<X.length;ie++)te.push(this.coder);return pack(L,te,X)}decode(L){let X=this.length;X===-1&&(X=L.readValue().toNumber(),X*32>L._data.length&&logger$7.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:L._data.length,count:X}));let ee=[];for(let te=0;te<X;te++)ee.push(new AnonymousCoder(this.coder));return L.coerce(this.name,unpack(L,ee))}}class BooleanCoder extends Coder{constructor(L){super("bool","bool",L,!1)}defaultValue(){return!1}encode(L,X){return L.writeValue(X?1:0)}decode(L){return L.coerce(this.type,!L.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(L,X){super(L,L,X,!0)}defaultValue(){return"0x"}encode(L,X){X=arrayify(X);let ee=L.writeValue(X.length);return ee+=L.writeBytes(X),ee}decode(L){return L.readBytes(L.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(L){super("bytes",L)}decode(L){return L.coerce(this.name,hexlify(super.decode(L)))}}class FixedBytesCoder extends Coder{constructor(L,X){let ee="bytes"+String(L);super(ee,ee,X,!1),this.size=L}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(L,X){let ee=arrayify(X);return ee.length!==this.size&&this._throwError("incorrect data length",X),L.writeBytes(ee)}decode(L){return L.coerce(this.name,hexlify(L.readBytes(this.size)))}}class NullCoder extends Coder{constructor(L){super("null","",L,!1)}defaultValue(){return null}encode(L,X){return X!=null&&this._throwError("not null",X),L.writeBytes([])}decode(L){return L.readBytes(0),L.coerce(this.name,null)}}const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(L,X,ee){const te=(X?"int":"uint")+L*8;super(te,te,ee,!1),this.size=L,this.signed=X}defaultValue(){return 0}encode(L,X){let ee=BigNumber.from(X),te=MaxUint256.mask(L.wordSize*8);if(this.signed){let ie=te.mask(this.size*8-1);(ee.gt(ie)||ee.lt(ie.add(One).mul(NegativeOne)))&&this._throwError("value out-of-bounds",X)}else(ee.lt(Zero)||ee.gt(te.mask(this.size*8)))&&this._throwError("value out-of-bounds",X);return ee=ee.toTwos(this.size*8).mask(this.size*8),this.signed&&(ee=ee.fromTwos(this.size*8).toTwos(8*L.wordSize)),L.writeValue(ee)}decode(L){let X=L.readValue().mask(this.size*8);return this.signed&&(X=X.fromTwos(this.size*8)),L.coerce(this.name,X)}}const version$6="strings/5.7.0",logger$6=new Logger(version$6);var UnicodeNormalizationForm;(function(Z){Z.current="",Z.NFC="NFC",Z.NFD="NFD",Z.NFKC="NFKC",Z.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(Z){Z.UNEXPECTED_CONTINUE="unexpected continuation byte",Z.BAD_PREFIX="bad codepoint prefix",Z.OVERRUN="string overrun",Z.MISSING_CONTINUE="missing continuation byte",Z.OUT_OF_RANGE="out of UTF-8 range",Z.UTF16_SURROGATE="UTF-16 surrogate",Z.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(Z,L,X,ee,te){return logger$6.throwArgumentError(`invalid codepoint at offset ${L}; ${Z}`,"bytes",X)}function ignoreFunc(Z,L,X,ee,te){if(Z===Utf8ErrorReason.BAD_PREFIX||Z===Utf8ErrorReason.UNEXPECTED_CONTINUE){let ie=0;for(let oe=L+1;oe<X.length&&X[oe]>>6===2;oe++)ie++;return ie}return Z===Utf8ErrorReason.OVERRUN?X.length-L-1:0}function replaceFunc(Z,L,X,ee,te){return Z===Utf8ErrorReason.OVERLONG?(ee.push(te),0):(ee.push(65533),ignoreFunc(Z,L,X))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(Z,L){L==null&&(L=Utf8ErrorFuncs.error),Z=arrayify(Z);const X=[];let ee=0;for(;ee<Z.length;){const te=Z[ee++];if(!(te>>7)){X.push(te);continue}let ie=null,oe=null;if((te&224)===192)ie=1,oe=127;else if((te&240)===224)ie=2,oe=2047;else if((te&248)===240)ie=3,oe=65535;else{(te&192)===128?ee+=L(Utf8ErrorReason.UNEXPECTED_CONTINUE,ee-1,Z,X):ee+=L(Utf8ErrorReason.BAD_PREFIX,ee-1,Z,X);continue}if(ee-1+ie>=Z.length){ee+=L(Utf8ErrorReason.OVERRUN,ee-1,Z,X);continue}let se=te&(1<<8-ie-1)-1;for(let ue=0;ue<ie;ue++){let ce=Z[ee];if((ce&192)!=128){ee+=L(Utf8ErrorReason.MISSING_CONTINUE,ee,Z,X),se=null;break}se=se<<6|ce&63,ee++}if(se!==null){if(se>1114111){ee+=L(Utf8ErrorReason.OUT_OF_RANGE,ee-1-ie,Z,X,se);continue}if(se>=55296&&se<=57343){ee+=L(Utf8ErrorReason.UTF16_SURROGATE,ee-1-ie,Z,X,se);continue}if(se<=oe){ee+=L(Utf8ErrorReason.OVERLONG,ee-1-ie,Z,X,se);continue}X.push(se)}}return X}function toUtf8Bytes(Z,L=UnicodeNormalizationForm.current){L!=UnicodeNormalizationForm.current&&(logger$6.checkNormalize(),Z=Z.normalize(L));let X=[];for(let ee=0;ee<Z.length;ee++){const te=Z.charCodeAt(ee);if(te<128)X.push(te);else if(te<2048)X.push(te>>6|192),X.push(te&63|128);else if((te&64512)==55296){ee++;const ie=Z.charCodeAt(ee);if(ee>=Z.length||(ie&64512)!==56320)throw new Error("invalid utf-8 string");const oe=65536+((te&1023)<<10)+(ie&1023);X.push(oe>>18|240),X.push(oe>>12&63|128),X.push(oe>>6&63|128),X.push(oe&63|128)}else X.push(te>>12|224),X.push(te>>6&63|128),X.push(te&63|128)}return arrayify(X)}function _toUtf8String(Z){return Z.map(L=>L<=65535?String.fromCharCode(L):(L-=65536,String.fromCharCode((L>>10&1023)+55296,(L&1023)+56320))).join("")}function toUtf8String(Z,L){return _toUtf8String(getUtf8CodePoints(Z,L))}class StringCoder extends DynamicBytesCoder{constructor(L){super("string",L)}defaultValue(){return""}encode(L,X){return super.encode(L,toUtf8Bytes(X))}decode(L){return toUtf8String(super.decode(L))}}class TupleCoder extends Coder{constructor(L,X){let ee=!1;const te=[];L.forEach(oe=>{oe.dynamic&&(ee=!0),te.push(oe.type)});const ie="tuple("+te.join(",")+")";super("tuple",ie,X,ee),this.coders=L}defaultValue(){const L=[];this.coders.forEach(ee=>{L.push(ee.defaultValue())});const X=this.coders.reduce((ee,te)=>{const ie=te.localName;return ie&&(ee[ie]||(ee[ie]=0),ee[ie]++),ee},{});return this.coders.forEach((ee,te)=>{let ie=ee.localName;!ie||X[ie]!==1||(ie==="length"&&(ie="_length"),L[ie]==null&&(L[ie]=L[te]))}),Object.freeze(L)}encode(L,X){return pack(L,this.coders,X)}decode(L){return L.coerce(this.name,unpack(L,this.coders))}}const logger$5=new Logger(version$9),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(L){defineReadOnly(this,"coerceFunc",L||null)}_getCoder(L){switch(L.baseType){case"address":return new AddressCoder(L.name);case"bool":return new BooleanCoder(L.name);case"string":return new StringCoder(L.name);case"bytes":return new BytesCoder(L.name);case"array":return new ArrayCoder(this._getCoder(L.arrayChildren),L.arrayLength,L.name);case"tuple":return new TupleCoder((L.components||[]).map(ee=>this._getCoder(ee)),L.name);case"":return new NullCoder(L.name)}let X=L.type.match(paramTypeNumber);if(X){let ee=parseInt(X[2]||"256");return(ee===0||ee>256||ee%8!==0)&&logger$5.throwArgumentError("invalid "+X[1]+" bit length","param",L),new NumberCoder(ee/8,X[1]==="int",L.name)}if(X=L.type.match(paramTypeBytes),X){let ee=parseInt(X[1]);return(ee===0||ee>32)&&logger$5.throwArgumentError("invalid bytes length","param",L),new FixedBytesCoder(ee,L.name)}return logger$5.throwArgumentError("invalid type","type",L.type)}_getWordSize(){return 32}_getReader(L,X){return new Reader$2(L,this._getWordSize(),this.coerceFunc,X)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(L){const X=L.map(te=>this._getCoder(ParamType.from(te)));return new TupleCoder(X,"_").defaultValue()}encode(L,X){L.length!==X.length&&logger$5.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:L.length,values:X.length},value:{types:L,values:X}});const ee=L.map(oe=>this._getCoder(ParamType.from(oe))),te=new TupleCoder(ee,"_"),ie=this._getWriter();return te.encode(ie,X),ie.data}decode(L,X,ee){const te=L.map(oe=>this._getCoder(ParamType.from(oe)));return new TupleCoder(te,"_").decode(this._getReader(arrayify(X),ee))}}const defaultAbiCoder=new AbiCoder;function id$1(Z){return keccak256$1(toUtf8Bytes(Z))}const logger$4=new Logger(version$9);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(L){return!!(L&&L._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(Z,L){const X=new Error(`deferred error during ABI decoding triggered accessing ${Z}`);return X.error=L,X}class Interface{constructor(L){let X=[];typeof L=="string"?X=JSON.parse(L):X=L,defineReadOnly(this,"fragments",X.map(ee=>Fragment.from(ee)).filter(ee=>ee!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(ee=>{let te=null;switch(ee.type){case"constructor":if(this.deploy){logger$4.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",ee);return;case"function":te=this.functions;break;case"event":te=this.events;break;case"error":te=this.errors;break;default:return}let ie=ee.format();if(te[ie]){logger$4.warn("duplicate definition - "+ie);return}te[ie]=ee}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(L){L||(L=FormatTypes.full),L===FormatTypes.sighash&&logger$4.throwArgumentError("interface does not support formatting sighash","format",L);const X=this.fragments.map(ee=>ee.format(L));return L===FormatTypes.json?JSON.stringify(X.map(ee=>JSON.parse(ee))):X}static getAbiCoder(){return defaultAbiCoder}static getAddress(L){return getAddress$1(L)}static getSighash(L){return hexDataSlice(id$1(L.format()),0,4)}static getEventTopic(L){return id$1(L.format())}getFunction(L){if(isHexString(L)){for(const ee in this.functions)if(L===this.getSighash(ee))return this.functions[ee];logger$4.throwArgumentError("no matching function","sighash",L)}if(L.indexOf("(")===-1){const ee=L.trim(),te=Object.keys(this.functions).filter(ie=>ie.split("(")[0]===ee);return te.length===0?logger$4.throwArgumentError("no matching function","name",ee):te.length>1&&logger$4.throwArgumentError("multiple matching functions","name",ee),this.functions[te[0]]}const X=this.functions[FunctionFragment.fromString(L).format()];return X||logger$4.throwArgumentError("no matching function","signature",L),X}getEvent(L){if(isHexString(L)){const ee=L.toLowerCase();for(const te in this.events)if(ee===this.getEventTopic(te))return this.events[te];logger$4.throwArgumentError("no matching event","topichash",ee)}if(L.indexOf("(")===-1){const ee=L.trim(),te=Object.keys(this.events).filter(ie=>ie.split("(")[0]===ee);return te.length===0?logger$4.throwArgumentError("no matching event","name",ee):te.length>1&&logger$4.throwArgumentError("multiple matching events","name",ee),this.events[te[0]]}const X=this.events[EventFragment.fromString(L).format()];return X||logger$4.throwArgumentError("no matching event","signature",L),X}getError(L){if(isHexString(L)){const ee=getStatic(this.constructor,"getSighash");for(const te in this.errors){const ie=this.errors[te];if(L===ee(ie))return this.errors[te]}logger$4.throwArgumentError("no matching error","sighash",L)}if(L.indexOf("(")===-1){const ee=L.trim(),te=Object.keys(this.errors).filter(ie=>ie.split("(")[0]===ee);return te.length===0?logger$4.throwArgumentError("no matching error","name",ee):te.length>1&&logger$4.throwArgumentError("multiple matching errors","name",ee),this.errors[te[0]]}const X=this.errors[FunctionFragment.fromString(L).format()];return X||logger$4.throwArgumentError("no matching error","signature",L),X}getSighash(L){if(typeof L=="string")try{L=this.getFunction(L)}catch(X){try{L=this.getError(L)}catch{throw X}}return getStatic(this.constructor,"getSighash")(L)}getEventTopic(L){return typeof L=="string"&&(L=this.getEvent(L)),getStatic(this.constructor,"getEventTopic")(L)}_decodeParams(L,X){return this._abiCoder.decode(L,X)}_encodeParams(L,X){return this._abiCoder.encode(L,X)}encodeDeploy(L){return this._encodeParams(this.deploy.inputs,L||[])}decodeErrorResult(L,X){typeof L=="string"&&(L=this.getError(L));const ee=arrayify(X);return hexlify(ee.slice(0,4))!==this.getSighash(L)&&logger$4.throwArgumentError(`data signature does not match error ${L.name}.`,"data",hexlify(ee)),this._decodeParams(L.inputs,ee.slice(4))}encodeErrorResult(L,X){return typeof L=="string"&&(L=this.getError(L)),hexlify(concat$1([this.getSighash(L),this._encodeParams(L.inputs,X||[])]))}decodeFunctionData(L,X){typeof L=="string"&&(L=this.getFunction(L));const ee=arrayify(X);return hexlify(ee.slice(0,4))!==this.getSighash(L)&&logger$4.throwArgumentError(`data signature does not match function ${L.name}.`,"data",hexlify(ee)),this._decodeParams(L.inputs,ee.slice(4))}encodeFunctionData(L,X){return typeof L=="string"&&(L=this.getFunction(L)),hexlify(concat$1([this.getSighash(L),this._encodeParams(L.inputs,X||[])]))}decodeFunctionResult(L,X){typeof L=="string"&&(L=this.getFunction(L));let ee=arrayify(X),te=null,ie="",oe=null,se=null,ue=null;switch(ee.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(L.outputs,ee)}catch{}break;case 4:{const ce=hexlify(ee.slice(0,4)),le=BuiltinErrors[ce];if(le)oe=this._abiCoder.decode(le.inputs,ee.slice(4)),se=le.name,ue=le.signature,le.reason&&(te=oe[0]),se==="Error"?ie=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(oe[0])}`:se==="Panic"&&(ie=`; VM Exception while processing transaction: reverted with panic code ${oe[0]}`);else try{const he=this.getError(ce);oe=this._abiCoder.decode(he.inputs,ee.slice(4)),se=he.name,ue=he.format()}catch{}break}}return logger$4.throwError("call revert exception"+ie,Logger.errors.CALL_EXCEPTION,{method:L.format(),data:hexlify(X),errorArgs:oe,errorName:se,errorSignature:ue,reason:te})}encodeFunctionResult(L,X){return typeof L=="string"&&(L=this.getFunction(L)),hexlify(this._abiCoder.encode(L.outputs,X||[]))}encodeFilterTopics(L,X){typeof L=="string"&&(L=this.getEvent(L)),X.length>L.inputs.length&&logger$4.throwError("too many arguments for "+L.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:X});let ee=[];L.anonymous||ee.push(this.getEventTopic(L));const te=(ie,oe)=>ie.type==="string"?id$1(oe):ie.type==="bytes"?keccak256$1(hexlify(oe)):(ie.type==="bool"&&typeof oe=="boolean"&&(oe=oe?"0x01":"0x00"),ie.type.match(/^u?int/)&&(oe=BigNumber.from(oe).toHexString()),ie.type==="address"&&this._abiCoder.encode(["address"],[oe]),hexZeroPad(hexlify(oe),32));for(X.forEach((ie,oe)=>{let se=L.inputs[oe];if(!se.indexed){ie!=null&&logger$4.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+se.name,ie);return}ie==null?ee.push(null):se.baseType==="array"||se.baseType==="tuple"?logger$4.throwArgumentError("filtering with tuples or arrays not supported","contract."+se.name,ie):Array.isArray(ie)?ee.push(ie.map(ue=>te(se,ue))):ee.push(te(se,ie))});ee.length&&ee[ee.length-1]===null;)ee.pop();return ee}encodeEventLog(L,X){typeof L=="string"&&(L=this.getEvent(L));const ee=[],te=[],ie=[];return L.anonymous||ee.push(this.getEventTopic(L)),X.length!==L.inputs.length&&logger$4.throwArgumentError("event arguments/values mismatch","values",X),L.inputs.forEach((oe,se)=>{const ue=X[se];if(oe.indexed)if(oe.type==="string")ee.push(id$1(ue));else if(oe.type==="bytes")ee.push(keccak256$1(ue));else{if(oe.baseType==="tuple"||oe.baseType==="array")throw new Error("not implemented");ee.push(this._abiCoder.encode([oe.type],[ue]))}else te.push(oe),ie.push(ue)}),{data:this._abiCoder.encode(te,ie),topics:ee}}decodeEventLog(L,X,ee){if(typeof L=="string"&&(L=this.getEvent(L)),ee!=null&&!L.anonymous){let pe=this.getEventTopic(L);(!isHexString(ee[0],32)||ee[0].toLowerCase()!==pe)&&logger$4.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:pe,value:ee[0]}),ee=ee.slice(1)}let te=[],ie=[],oe=[];L.inputs.forEach((pe,we)=>{pe.indexed?pe.type==="string"||pe.type==="bytes"||pe.baseType==="tuple"||pe.baseType==="array"?(te.push(ParamType.fromObject({type:"bytes32",name:pe.name})),oe.push(!0)):(te.push(pe),oe.push(!1)):(ie.push(pe),oe.push(!1))});let se=ee!=null?this._abiCoder.decode(te,concat$1(ee)):null,ue=this._abiCoder.decode(ie,X,!0),ce=[],le=0,he=0;L.inputs.forEach((pe,we)=>{if(pe.indexed)if(se==null)ce[we]=new Indexed({_isIndexed:!0,hash:null});else if(oe[we])ce[we]=new Indexed({_isIndexed:!0,hash:se[he++]});else try{ce[we]=se[he++]}catch(_e){ce[we]=_e}else try{ce[we]=ue[le++]}catch(_e){ce[we]=_e}if(pe.name&&ce[pe.name]==null){const _e=ce[we];_e instanceof Error?Object.defineProperty(ce,pe.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(pe.name)}`,_e)}}):ce[pe.name]=_e}});for(let pe=0;pe<ce.length;pe++){const we=ce[pe];we instanceof Error&&Object.defineProperty(ce,pe,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${pe}`,we)}})}return Object.freeze(ce)}parseTransaction(L){let X=this.getFunction(L.data.substring(0,10).toLowerCase());return X?new TransactionDescription({args:this._abiCoder.decode(X.inputs,"0x"+L.data.substring(10)),functionFragment:X,name:X.name,signature:X.format(),sighash:this.getSighash(X),value:BigNumber.from(L.value||"0")}):null}parseLog(L){let X=this.getEvent(L.topics[0]);return!X||X.anonymous?null:new LogDescription({eventFragment:X,name:X.name,signature:X.format(),topic:this.getEventTopic(X),args:this.decodeEventLog(X,L.data,L.topics)})}parseError(L){const X=hexlify(L);let ee=this.getError(X.substring(0,10).toLowerCase());return ee?new ErrorDescription({args:this._abiCoder.decode(ee.inputs,"0x"+X.substring(10)),errorFragment:ee,name:ee.name,signature:ee.format(),sighash:this.getSighash(ee)}):null}static isInterface(L){return!!(L&&L._isInterface)}}const version$5="abstract-provider/5.7.0";var __awaiter$2=globalThis&&globalThis.__awaiter||function(Z,L,X,ee){function te(ie){return ie instanceof X?ie:new X(function(oe){oe(ie)})}return new(X||(X=Promise))(function(ie,oe){function se(le){try{ce(ee.next(le))}catch(he){oe(he)}}function ue(le){try{ce(ee.throw(le))}catch(he){oe(he)}}function ce(le){le.done?ie(le.value):te(le.value).then(se,ue)}ce((ee=ee.apply(Z,L||[])).next())})};const logger$3=new Logger(version$5);class Provider{constructor(){logger$3.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$2(this,void 0,void 0,function*(){const{block:L,gasPrice:X}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(oe=>null)});let ee=null,te=null,ie=null;return L&&L.baseFeePerGas&&(ee=L.baseFeePerGas,ie=BigNumber.from("1500000000"),te=L.baseFeePerGas.mul(2).add(ie)),{lastBaseFeePerGas:ee,maxFeePerGas:te,maxPriorityFeePerGas:ie,gasPrice:X}})}addListener(L,X){return this.on(L,X)}removeListener(L,X){return this.off(L,X)}static isProvider(L){return!!(L&&L._isProvider)}}const version$4="abstract-signer/5.7.0";var __awaiter$1=globalThis&&globalThis.__awaiter||function(Z,L,X,ee){function te(ie){return ie instanceof X?ie:new X(function(oe){oe(ie)})}return new(X||(X=Promise))(function(ie,oe){function se(le){try{ce(ee.next(le))}catch(he){oe(he)}}function ue(le){try{ce(ee.throw(le))}catch(he){oe(he)}}function ce(le){le.done?ie(le.value):te(le.value).then(se,ue)}ce((ee=ee.apply(Z,L||[])).next())})};const logger$2=new Logger(version$4),allowedTransactionKeys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$2.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(L){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),L)})}getTransactionCount(L){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),L)})}estimateGas(L){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const X=yield resolveProperties(this.checkTransaction(L));return yield this.provider.estimateGas(X)})}call(L,X){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("call");const ee=yield resolveProperties(this.checkTransaction(L));return yield this.provider.call(ee,X)})}sendTransaction(L){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const X=yield this.populateTransaction(L),ee=yield this.signTransaction(X);return yield this.provider.sendTransaction(ee)})}getChainId(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(L){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(L)})}checkTransaction(L){for(const ee in L)allowedTransactionKeys.indexOf(ee)===-1&&logger$2.throwArgumentError("invalid transaction key: "+ee,"transaction",L);const X=shallowCopy(L);return X.from==null?X.from=this.getAddress():X.from=Promise.all([Promise.resolve(X.from),this.getAddress()]).then(ee=>(ee[0].toLowerCase()!==ee[1].toLowerCase()&&logger$2.throwArgumentError("from address mismatch","transaction",L),ee[0])),X}populateTransaction(L){return __awaiter$1(this,void 0,void 0,function*(){const X=yield resolveProperties(this.checkTransaction(L));X.to!=null&&(X.to=Promise.resolve(X.to).then(te=>__awaiter$1(this,void 0,void 0,function*(){if(te==null)return null;const ie=yield this.resolveName(te);return ie==null&&logger$2.throwArgumentError("provided ENS name resolves to null","tx.to",te),ie})),X.to.catch(te=>{}));const ee=X.maxFeePerGas!=null||X.maxPriorityFeePerGas!=null;if(X.gasPrice!=null&&(X.type===2||ee)?logger$2.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",L):(X.type===0||X.type===1)&&ee&&logger$2.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",L),(X.type===2||X.type==null)&&X.maxFeePerGas!=null&&X.maxPriorityFeePerGas!=null)X.type=2;else if(X.type===0||X.type===1)X.gasPrice==null&&(X.gasPrice=this.getGasPrice());else{const te=yield this.getFeeData();if(X.type==null)if(te.maxFeePerGas!=null&&te.maxPriorityFeePerGas!=null)if(X.type=2,X.gasPrice!=null){const ie=X.gasPrice;delete X.gasPrice,X.maxFeePerGas=ie,X.maxPriorityFeePerGas=ie}else X.maxFeePerGas==null&&(X.maxFeePerGas=te.maxFeePerGas),X.maxPriorityFeePerGas==null&&(X.maxPriorityFeePerGas=te.maxPriorityFeePerGas);else te.gasPrice!=null?(ee&&logger$2.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),X.gasPrice==null&&(X.gasPrice=te.gasPrice),X.type=0):logger$2.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else X.type===2&&(X.maxFeePerGas==null&&(X.maxFeePerGas=te.maxFeePerGas),X.maxPriorityFeePerGas==null&&(X.maxPriorityFeePerGas=te.maxPriorityFeePerGas))}return X.nonce==null&&(X.nonce=this.getTransactionCount("pending")),X.gasLimit==null&&(X.gasLimit=this.estimateGas(X).catch(te=>{if(forwardErrors.indexOf(te.code)>=0)throw te;return logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:te,tx:X})})),X.chainId==null?X.chainId=this.getChainId():X.chainId=Promise.all([Promise.resolve(X.chainId),this.getChainId()]).then(te=>(te[1]!==0&&te[0]!==te[1]&&logger$2.throwArgumentError("chainId address mismatch","transaction",L),te[0])),yield resolveProperties(X)})}_checkProvider(L){this.provider||logger$2.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:L||"_checkProvider"})}static isSigner(L){return!!(L&&L._isSigner)}}class VoidSigner extends Signer{constructor(L,X){super(),defineReadOnly(this,"address",L),defineReadOnly(this,"provider",X||null)}getAddress(){return Promise.resolve(this.address)}_fail(L,X){return Promise.resolve().then(()=>{logger$2.throwError(L,Logger.errors.UNSUPPORTED_OPERATION,{operation:X})})}signMessage(L){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(L){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(L,X,ee){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(L){return new VoidSigner(this.address,L)}}const version$3="transactions/5.7.0",logger$1=new Logger(version$3);var TransactionTypes;(function(Z){Z[Z.legacy=0]="legacy",Z[Z.eip2930=1]="eip2930",Z[Z.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function accessSetify(Z,L){return{address:getAddress$1(Z),storageKeys:(L||[]).map((X,ee)=>(hexDataLength(X)!==32&&logger$1.throwArgumentError("invalid access list storageKey",`accessList[${Z}:${ee}]`,X),X.toLowerCase()))}}function accessListify(Z){if(Array.isArray(Z))return Z.map((X,ee)=>Array.isArray(X)?(X.length>2&&logger$1.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${ee}]`,X),accessSetify(X[0],X[1])):accessSetify(X.address,X.storageKeys));const L=Object.keys(Z).map(X=>{const ee=Z[X].reduce((te,ie)=>(te[ie]=!0,te),{});return accessSetify(X,Object.keys(ee).sort())});return L.sort((X,ee)=>X.address.localeCompare(ee.address)),L}const version$2="contracts/5.7.0";var __awaiter=globalThis&&globalThis.__awaiter||function(Z,L,X,ee){function te(ie){return ie instanceof X?ie:new X(function(oe){oe(ie)})}return new(X||(X=Promise))(function(ie,oe){function se(le){try{ce(ee.next(le))}catch(he){oe(he)}}function ue(le){try{ce(ee.throw(le))}catch(he){oe(he)}}function ce(le){le.done?ie(le.value):te(le.value).then(se,ue)}ce((ee=ee.apply(Z,L||[])).next())})};const logger=new Logger(version$2);function resolveName(Z,L){return __awaiter(this,void 0,void 0,function*(){const X=yield L;typeof X!="string"&&logger.throwArgumentError("invalid address or ENS name","name",X);try{return getAddress$1(X)}catch{}Z||logger.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const ee=yield Z.resolveName(X);return ee==null&&logger.throwArgumentError("resolver or addr is not configured for ENS name","name",X),ee})}function resolveAddresses(Z,L,X){return __awaiter(this,void 0,void 0,function*(){return Array.isArray(X)?yield Promise.all(X.map((ee,te)=>resolveAddresses(Z,Array.isArray(L)?L[te]:L[ee.name],ee))):X.type==="address"?yield resolveName(Z,L):X.type==="tuple"?yield resolveAddresses(Z,L,X.components):X.baseType==="array"?Array.isArray(L)?yield Promise.all(L.map(ee=>resolveAddresses(Z,ee,X.arrayChildren))):Promise.reject(logger.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:L})):L})}function populateTransaction(Z,L,X){return __awaiter(this,void 0,void 0,function*(){let ee={};X.length===L.inputs.length+1&&typeof X[X.length-1]=="object"&&(ee=shallowCopy(X.pop())),logger.checkArgumentCount(X.length,L.inputs.length,"passed to contract"),Z.signer?ee.from?ee.from=resolveProperties({override:resolveName(Z.signer,ee.from),signer:Z.signer.getAddress()}).then(ce=>__awaiter(this,void 0,void 0,function*(){return getAddress$1(ce.signer)!==ce.override&&logger.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),ce.override})):ee.from=Z.signer.getAddress():ee.from&&(ee.from=resolveName(Z.provider,ee.from));const te=yield resolveProperties({args:resolveAddresses(Z.signer||Z.provider,X,L.inputs),address:Z.resolvedAddress,overrides:resolveProperties(ee)||{}}),ie=Z.interface.encodeFunctionData(L,te.args),oe={data:ie,to:te.address},se=te.overrides;if(se.nonce!=null&&(oe.nonce=BigNumber.from(se.nonce).toNumber()),se.gasLimit!=null&&(oe.gasLimit=BigNumber.from(se.gasLimit)),se.gasPrice!=null&&(oe.gasPrice=BigNumber.from(se.gasPrice)),se.maxFeePerGas!=null&&(oe.maxFeePerGas=BigNumber.from(se.maxFeePerGas)),se.maxPriorityFeePerGas!=null&&(oe.maxPriorityFeePerGas=BigNumber.from(se.maxPriorityFeePerGas)),se.from!=null&&(oe.from=se.from),se.type!=null&&(oe.type=se.type),se.accessList!=null&&(oe.accessList=accessListify(se.accessList)),oe.gasLimit==null&&L.gas!=null){let ce=21e3;const le=arrayify(ie);for(let he=0;he<le.length;he++)ce+=4,le[he]&&(ce+=64);oe.gasLimit=BigNumber.from(L.gas).add(ce)}if(se.value){const ce=BigNumber.from(se.value);!ce.isZero()&&!L.payable&&logger.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:ee.value}),oe.value=ce}se.customData&&(oe.customData=shallowCopy(se.customData)),se.ccipReadEnabled&&(oe.ccipReadEnabled=!!se.ccipReadEnabled),delete ee.nonce,delete ee.gasLimit,delete ee.gasPrice,delete ee.from,delete ee.value,delete ee.type,delete ee.accessList,delete ee.maxFeePerGas,delete ee.maxPriorityFeePerGas,delete ee.customData,delete ee.ccipReadEnabled;const ue=Object.keys(ee).filter(ce=>ee[ce]!=null);return ue.length&&logger.throwError(`cannot override ${ue.map(ce=>JSON.stringify(ce)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ue}),oe})}function buildPopulate(Z,L){return function(...X){return populateTransaction(Z,L,X)}}function buildEstimate(Z,L){const X=Z.signer||Z.provider;return function(...ee){return __awaiter(this,void 0,void 0,function*(){X||logger.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const te=yield populateTransaction(Z,L,ee);return yield X.estimateGas(te)})}}function addContractWait(Z,L){const X=L.wait.bind(L);L.wait=ee=>X(ee).then(te=>(te.events=te.logs.map(ie=>{let oe=deepCopy(ie),se=null;try{se=Z.interface.parseLog(ie)}catch{}return se&&(oe.args=se.args,oe.decode=(ue,ce)=>Z.interface.decodeEventLog(se.eventFragment,ue,ce),oe.event=se.name,oe.eventSignature=se.signature),oe.removeListener=()=>Z.provider,oe.getBlock=()=>Z.provider.getBlock(te.blockHash),oe.getTransaction=()=>Z.provider.getTransaction(te.transactionHash),oe.getTransactionReceipt=()=>Promise.resolve(te),oe}),te))}function buildCall(Z,L,X){const ee=Z.signer||Z.provider;return function(...te){return __awaiter(this,void 0,void 0,function*(){let ie;if(te.length===L.inputs.length+1&&typeof te[te.length-1]=="object"){const ue=shallowCopy(te.pop());ue.blockTag!=null&&(ie=yield ue.blockTag),delete ue.blockTag,te.push(ue)}Z.deployTransaction!=null&&(yield Z._deployed(ie));const oe=yield populateTransaction(Z,L,te),se=yield ee.call(oe,ie);try{let ue=Z.interface.decodeFunctionResult(L,se);return X&&L.outputs.length===1&&(ue=ue[0]),ue}catch(ue){throw ue.code===Logger.errors.CALL_EXCEPTION&&(ue.address=Z.address,ue.args=te,ue.transaction=oe),ue}})}}function buildSend(Z,L){return function(...X){return __awaiter(this,void 0,void 0,function*(){Z.signer||logger.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),Z.deployTransaction!=null&&(yield Z._deployed());const ee=yield populateTransaction(Z,L,X),te=yield Z.signer.sendTransaction(ee);return addContractWait(Z,te),te})}}function buildDefault(Z,L,X){return L.constant?buildCall(Z,L,X):buildSend(Z,L)}function getEventTag(Z){return Z.address&&(Z.topics==null||Z.topics.length===0)?"*":(Z.address||"*")+"@"+(Z.topics?Z.topics.map(L=>Array.isArray(L)?L.join("|"):L).join(":"):"")}class RunningEvent{constructor(L,X){defineReadOnly(this,"tag",L),defineReadOnly(this,"filter",X),this._listeners=[]}addListener(L,X){this._listeners.push({listener:L,once:X})}removeListener(L){let X=!1;this._listeners=this._listeners.filter(ee=>X||ee.listener!==L?!0:(X=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(L=>L.listener)}listenerCount(){return this._listeners.length}run(L){const X=this.listenerCount();return this._listeners=this._listeners.filter(ee=>{const te=L.slice();return setTimeout(()=>{ee.listener.apply(this,te)},0),!ee.once}),X}prepareEvent(L){}getEmit(L){return[L]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(L,X,ee,te){const ie={address:L};let oe=X.getEventTopic(ee);te?(oe!==te[0]&&logger.throwArgumentError("topic mismatch","topics",te),ie.topics=te.slice()):ie.topics=[oe],super(getEventTag(ie),ie),defineReadOnly(this,"address",L),defineReadOnly(this,"interface",X),defineReadOnly(this,"fragment",ee)}prepareEvent(L){super.prepareEvent(L),L.event=this.fragment.name,L.eventSignature=this.fragment.format(),L.decode=(X,ee)=>this.interface.decodeEventLog(this.fragment,X,ee);try{L.args=this.interface.decodeEventLog(this.fragment,L.data,L.topics)}catch(X){L.args=null,L.decodeError=X}}getEmit(L){const X=checkResultErrors(L.args);if(X.length)throw X[0].error;const ee=(L.args||[]).slice();return ee.push(L),ee}}class WildcardRunningEvent extends RunningEvent{constructor(L,X){super("*",{address:L}),defineReadOnly(this,"address",L),defineReadOnly(this,"interface",X)}prepareEvent(L){super.prepareEvent(L);try{const X=this.interface.parseLog(L);L.event=X.name,L.eventSignature=X.signature,L.decode=(ee,te)=>this.interface.decodeEventLog(X.eventFragment,ee,te),L.args=X.args}catch{}}}class BaseContract{constructor(L,X,ee){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(X)),ee==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(ee)?(defineReadOnly(this,"provider",ee.provider||null),defineReadOnly(this,"signer",ee)):Provider.isProvider(ee)?(defineReadOnly(this,"provider",ee),defineReadOnly(this,"signer",null)):logger.throwArgumentError("invalid signer or provider","signerOrProvider",ee),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const oe={};Object.keys(this.interface.events).forEach(se=>{const ue=this.interface.events[se];defineReadOnly(this.filters,se,(...ce)=>({address:this.address,topics:this.interface.encodeFilterTopics(ue,ce)})),oe[ue.name]||(oe[ue.name]=[]),oe[ue.name].push(se)}),Object.keys(oe).forEach(se=>{const ue=oe[se];ue.length===1?defineReadOnly(this.filters,se,this.filters[ue[0]]):logger.warn(`Duplicate definition of ${se} (${ue.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),L==null&&logger.throwArgumentError("invalid contract address or ENS name","addressOrName",L),defineReadOnly(this,"address",L),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,L));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress$1(L)))}catch{logger.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(oe=>{});const te={},ie={};Object.keys(this.interface.functions).forEach(oe=>{const se=this.interface.functions[oe];if(ie[oe]){logger.warn(`Duplicate ABI entry for ${JSON.stringify(oe)}`);return}ie[oe]=!0;{const ue=se.name;te[`%${ue}`]||(te[`%${ue}`]=[]),te[`%${ue}`].push(oe)}this[oe]==null&&defineReadOnly(this,oe,buildDefault(this,se,!0)),this.functions[oe]==null&&defineReadOnly(this.functions,oe,buildDefault(this,se,!1)),this.callStatic[oe]==null&&defineReadOnly(this.callStatic,oe,buildCall(this,se,!0)),this.populateTransaction[oe]==null&&defineReadOnly(this.populateTransaction,oe,buildPopulate(this,se)),this.estimateGas[oe]==null&&defineReadOnly(this.estimateGas,oe,buildEstimate(this,se))}),Object.keys(te).forEach(oe=>{const se=te[oe];if(se.length>1)return;oe=oe.substring(1);const ue=se[0];try{this[oe]==null&&defineReadOnly(this,oe,this[ue])}catch{}this.functions[oe]==null&&defineReadOnly(this.functions,oe,this.functions[ue]),this.callStatic[oe]==null&&defineReadOnly(this.callStatic,oe,this.callStatic[ue]),this.populateTransaction[oe]==null&&defineReadOnly(this.populateTransaction,oe,this.populateTransaction[ue]),this.estimateGas[oe]==null&&defineReadOnly(this.estimateGas,oe,this.estimateGas[ue])})}static getContractAddress(L){return getContractAddress$1(L)}static getInterface(L){return Interface.isInterface(L)?L:new Interface(L)}deployed(){return this._deployed()}_deployed(L){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,L).then(X=>(X==="0x"&&logger.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(L){this.signer||logger.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const X=shallowCopy(L||{});return["from","to"].forEach(function(ee){X[ee]!=null&&logger.throwError("cannot override "+ee,Logger.errors.UNSUPPORTED_OPERATION,{operation:ee})}),X.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(X))}connect(L){typeof L=="string"&&(L=new VoidSigner(L,this.provider));const X=new this.constructor(this.address,this.interface,L);return this.deployTransaction&&defineReadOnly(X,"deployTransaction",this.deployTransaction),X}attach(L){return new this.constructor(L,this.interface,this.signer||this.provider)}static isIndexed(L){return Indexed.isIndexed(L)}_normalizeRunningEvent(L){return this._runningEvents[L.tag]?this._runningEvents[L.tag]:L}_getRunningEvent(L){if(typeof L=="string"){if(L==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(L==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(L==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const X=this.interface.getEvent(L);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,X))}if(L.topics&&L.topics.length>0){try{const ee=L.topics[0];if(typeof ee!="string")throw new Error("invalid topic");const te=this.interface.getEvent(ee);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,te,L.topics))}catch{}const X={address:this.address,topics:L.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(X),X))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(L){if(L.listenerCount()===0){delete this._runningEvents[L.tag];const X=this._wrappedEmits[L.tag];X&&L.filter&&(this.provider.off(L.filter,X),delete this._wrappedEmits[L.tag])}}_wrapEvent(L,X,ee){const te=deepCopy(X);return te.removeListener=()=>{ee&&(L.removeListener(ee),this._checkRunningEvents(L))},te.getBlock=()=>this.provider.getBlock(X.blockHash),te.getTransaction=()=>this.provider.getTransaction(X.transactionHash),te.getTransactionReceipt=()=>this.provider.getTransactionReceipt(X.transactionHash),L.prepareEvent(te),te}_addEventListener(L,X,ee){if(this.provider||logger.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),L.addListener(X,ee),this._runningEvents[L.tag]=L,!this._wrappedEmits[L.tag]){const te=ie=>{let oe=this._wrapEvent(L,ie,X);if(oe.decodeError==null)try{const se=L.getEmit(oe);this.emit(L.filter,...se)}catch(se){oe.decodeError=se.error}L.filter!=null&&this.emit("event",oe),oe.decodeError!=null&&this.emit("error",oe.decodeError,oe)};this._wrappedEmits[L.tag]=te,L.filter!=null&&this.provider.on(L.filter,te)}}queryFilter(L,X,ee){const te=this._getRunningEvent(L),ie=shallowCopy(te.filter);return typeof X=="string"&&isHexString(X,32)?(ee!=null&&logger.throwArgumentError("cannot specify toBlock with blockhash","toBlock",ee),ie.blockHash=X):(ie.fromBlock=X??0,ie.toBlock=ee??"latest"),this.provider.getLogs(ie).then(oe=>oe.map(se=>this._wrapEvent(te,se,null)))}on(L,X){return this._addEventListener(this._getRunningEvent(L),X,!1),this}once(L,X){return this._addEventListener(this._getRunningEvent(L),X,!0),this}emit(L,...X){if(!this.provider)return!1;const ee=this._getRunningEvent(L),te=ee.run(X)>0;return this._checkRunningEvents(ee),te}listenerCount(L){return this.provider?L==null?Object.keys(this._runningEvents).reduce((X,ee)=>X+this._runningEvents[ee].listenerCount(),0):this._getRunningEvent(L).listenerCount():0}listeners(L){if(!this.provider)return[];if(L==null){const X=[];for(let ee in this._runningEvents)this._runningEvents[ee].listeners().forEach(te=>{X.push(te)});return X}return this._getRunningEvent(L).listeners()}removeAllListeners(L){if(!this.provider)return this;if(L==null){for(const ee in this._runningEvents){const te=this._runningEvents[ee];te.removeAllListeners(),this._checkRunningEvents(te)}return this}const X=this._getRunningEvent(L);return X.removeAllListeners(),this._checkRunningEvents(X),this}off(L,X){if(!this.provider)return this;const ee=this._getRunningEvent(L);return ee.removeListener(X),this._checkRunningEvents(ee),this}removeListener(L,X){return this.off(L,X)}}class Contract extends BaseContract{}function Jr(Z,L){let X={};for(let ee in Z)X[ee]=L(Z[ee],ee);return X}var fe=function(){let Z=mr,L=fr;return L(Z(32),8)+"-"+L(Z(16),4)+"-"+L(16384|Z(12),4)+"-"+L(32768|Z(14),4)+"-"+L(Z(48),12)},mr=function(Z){if(Z<0||Z>53)return NaN;let L=0|Math.random()*1073741824;return Z>30?L+(0|Math.random()*(1<<Z-30))*1073741824:L>>>30-Z},fr=function(Z,L){let X=Z.toString(16),ee=L-X.length,te="0";for(;ee>0;ee>>>=1,te+=te)ee&1&&(X=te+X);return X};function y$3(Z){return{...Z,[Symbol.iterator](){return this}}}function I$3(Z,L){return y$3({next(){let{done:X,value:ee}=Z.next();return{done:X,value:X?ee:L(ee)}}})}function Cr(Z){if(Z<2)throw new Error("Minimum size is 2");if(Z>64)throw new Error("Maximum size is 64");let L=2**(Z-1)-1,X=-L-1;return ee=>{if(ee=ee<<0,ee>L||ee<X)throw console.log("value",ee,L,X,ee>L,ee<X),new Error(`Int${Z} overflow`);return ee<0?2**Z+ee:ee}}Cr(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var W=(Z=>(Z[Z.Boolean=0]="Boolean",Z[Z.Number=1]="Number",Z[Z.OptionalNumber=2]="OptionalNumber",Z[Z.BigInt=3]="BigInt",Z[Z.OptionalBigInt=4]="OptionalBigInt",Z[Z.String=5]="String",Z[Z.OptionalString=6]="OptionalString",Z[Z.NumberArray=7]="NumberArray",Z[Z.OptionalNumberArray=8]="OptionalNumberArray",Z[Z.BigIntArray=9]="BigIntArray",Z[Z.OptionalBigIntArray=10]="OptionalBigIntArray",Z[Z.StringArray=11]="StringArray",Z[Z.OptionalStringArray=12]="OptionalStringArray",Z[Z.Entity=13]="Entity",Z[Z.OptionalEntity=14]="OptionalEntity",Z[Z.EntityArray=15]="EntityArray",Z[Z.OptionalEntityArray=16]="OptionalEntityArray",Z[Z.T=17]="T",Z[Z.OptionalT=18]="OptionalT",Z))(W||{}),Q=(Z=>(Z[Z.Enter=0]="Enter",Z[Z.Exit=1]="Exit",Z[Z.Update=2]="Update",Z[Z.Noop=3]="Noop",Z))(Q||{}),H$1=[14,16,2,8,4,10,6,12,18];function S$2(Z){return Symbol.for(Z)}function C$2(Z){return Symbol.keyFor(Z)}function $$2(Z){let L=new Map;function X(se){let ue=L.get(ee(se));return ue?new Set([...ue].map(C$2)):new Set}function ee(se){return Object.values(se).join("/")}function te(se,ue){if(!ue)return;let ce=ee(ue),le=L.get(ce);le||(le=new Set,L.set(ce,le)),le.add(se)}function ie(se,ue){if(!ue)return;let ce=ee(ue),le=L.get(ce);le&&le.delete(se)}for(let se of b$4(Z)){let ue=x$6(Z,se);te(S$2(se),ue)}let oe=Z.update$.subscribe(({entity:se,value:ue})=>{ie(S$2(se),ue[1]),te(S$2(se),ue[0])});return Z.world.registerDisposer(()=>oe?.unsubscribe()),{...Z,getEntitiesWithValue:X}}function h$4(Z){return Z.metadata?.componentName??Z.metadata?.tableName??Z.metadata?.tableId??Z.metadata?.contractId??Z.id}function Re(Z,L,X){if(Object.keys(L).length===0)throw new Error("Component schema must have at least one key");let ee=X?.id??fe(),te=Jr(L,()=>new Map),ie=new Subject,oe=X?.metadata,se={values:te,schema:L,id:ee,update$:ie,metadata:oe,entities:()=>I$3(Object.values(te)[0].keys(),C$2),world:Z};return X?.indexed&&(se=$$2(se)),Z.registerComponent(se),se}function T$2(Z,L,X){let ee=S$2(L),te=x$6(Z,L);for(let[ie,oe]of Object.entries(X))Z.values[ie]?Z.values[ie].set(ee,oe):Z.metadata?.tableId&&/^\d+$/.test(ie)||console.warn("Component definition for",h$4(Z),"is missing key",ie,", ignoring value",oe,"for entity",L,". Existing keys: ",Object.keys(Z.values));Z.update$.next({entity:L,value:[X,te],component:Z})}function je(Z,L,X,ee){let te=x$6(Z,L);if(te===void 0){if(ee===void 0)throw new Error(`Can't update component ${h$4(Z)} without a current value or initial value`);T$2(Z,L,{...ee,...X})}else T$2(Z,L,{...te,...X})}function w$2(Z,L){let X=S$2(L),ee=x$6(Z,L);for(let te of Object.keys(Z.values))Z.values[te].delete(X);Z.update$.next({entity:L,value:[void 0,ee],component:Z})}function v$4(Z,L){let X=S$2(L);return Object.values(Z.values)[0].has(X)}function x$6(Z,L){let X={},ee=S$2(L),te=Object.keys(Z.schema);for(let ie of te){let oe=Z.values[ie].get(ee);if(oe===void 0&&!H$1.includes(Z.schema[ie]))return;X[ie]=oe}return X}function De(Z,L){let X=x$6(Z,L);if(!X)throw new Error(`No value for component ${h$4(Z)} on entity ${L}`);return X}function b$4(Z){return Z.entities()}var K$1=(Z=>(Z[Z.Has=0]="Has",Z[Z.HasValue=1]="HasValue",Z[Z.Not=2]="Not",Z[Z.NotValue=3]="NotValue",Z[Z.ProxyRead=4]="ProxyRead",Z[Z.ProxyExpand=5]="ProxyExpand",Z))(K$1||{});function Yt(){let Z=new Set,L=[],X=[];function ee({id:le,idSuffix:he}={}){let pe=le||Z.size+(he?"-"+he:""),we=S$2(pe);return Z.add(we),pe}function te(){return I$3(Z.values(),C$2)}function ie(le){L.push(le)}function oe(le){for(let[,he]of X.filter(pe=>!le||pe[0]===le))he();X=X.filter(he=>le&&he[0]!==le)}function se(le,he=""){X.push([he,le])}function ue(le){let he=S$2(le);return Z.has(he)}function ce(le){for(let he of L)v$4(he,le)&&w$2(he,le);Z.delete(S$2(le))}return{registerEntity:ee,components:L,registerComponent:ie,dispose:oe,registerDisposer:se,hasEntity:ue,getEntities:te,entitySymbols:Z,deleteEntity:ce}}var i$1=/\[\]$/;function r$3(Z){return Z.replace(i$1,"")}var n$1=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],y$2=n$1.slice(98),s$3={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function T$1(Z){return y$2.includes(Z)}var a$3={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},A$2={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20},P$6={...a$3,...s$3};const version$1="0.9.3";let BaseError$1=class Rr extends Error{constructor(L,X={}){const ee=X.cause instanceof Rr?X.cause.details:X.cause?.message?X.cause.message:X.details,te=X.cause instanceof Rr&&X.cause.docsPath||X.docsPath,ie=[L||"An error occurred.","",...X.metaMessages?[...X.metaMessages,""]:[],...te?[`Docs: https://abitype.dev${te}`]:[],...ee?[`Details: ${ee}`]:[],`Version: abitype@${version$1}`].join(`
`);super(ie),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),X.cause&&(this.cause=X.cause),this.details=ee,this.docsPath=te,this.metaMessages=X.metaMessages,this.shortMessage=L}};function execTyped(Z,L){return Z.exec(L)?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(Z){return errorSignatureRegex.test(Z)}function execErrorSignature(Z){return execTyped(errorSignatureRegex,Z)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(Z){return eventSignatureRegex.test(Z)}function execEventSignature(Z){return execTyped(eventSignatureRegex,Z)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(Z){return functionSignatureRegex.test(Z)}function execFunctionSignature(Z){return execTyped(functionSignatureRegex,Z)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(Z){return structSignatureRegex.test(Z)}function execStructSignature(Z){return execTyped(structSignatureRegex,Z)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(Z){return constructorSignatureRegex.test(Z)}function execConstructorSignature(Z){return execTyped(constructorSignatureRegex,Z)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(Z){return fallbackSignatureRegex.test(Z)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(Z){return receiveSignatureRegex.test(Z)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:L}){super("Unknown type.",{metaMessages:[`Type "${L}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:L}){super("Unknown type.",{metaMessages:[`Type "${L}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$1{constructor({params:L}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(L,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$1{constructor({param:L}){super("Invalid ABI parameter.",{details:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:L,name:X}){super("Invalid ABI parameter.",{details:L,metaMessages:[`"${X}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:L,type:X,modifier:ee}){super("Invalid ABI parameter.",{details:L,metaMessages:[`Modifier "${ee}" not allowed${X?` in "${X}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:L,type:X,modifier:ee}){super("Invalid ABI parameter.",{details:L,metaMessages:[`Modifier "${ee}" not allowed${X?` in "${X}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${ee}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:L}){super("Invalid ABI parameter.",{details:JSON.stringify(L,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:L,type:X}){super(`Invalid ${X} signature.`,{details:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:L}){super("Unknown signature.",{details:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:L}){super("Invalid struct signature.",{details:L,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:L}){super("Circular reference detected.",{metaMessages:[`Struct "${L}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:L,depth:X}){super("Unbalanced parentheses.",{metaMessages:[`"${L.trim()}" has too many ${X>0?"opening":"closing"} parentheses.`],details:`Depth "${X}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(Z,L){return L?`${L}:${Z}`:Z}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(Z,L={}){if(isFunctionSignature(Z)){const X=execFunctionSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"function"});const ee=splitParameters(X.parameters),te=[],ie=ee.length;for(let se=0;se<ie;se++)te.push(parseAbiParameter(ee[se],{modifiers:functionModifiers,structs:L,type:"function"}));const oe=[];if(X.returns){const se=splitParameters(X.returns),ue=se.length;for(let ce=0;ce<ue;ce++)oe.push(parseAbiParameter(se[ce],{modifiers:functionModifiers,structs:L,type:"function"}))}return{name:X.name,type:"function",stateMutability:X.stateMutability??"nonpayable",inputs:te,outputs:oe}}if(isEventSignature(Z)){const X=execEventSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"event"});const ee=splitParameters(X.parameters),te=[],ie=ee.length;for(let oe=0;oe<ie;oe++)te.push(parseAbiParameter(ee[oe],{modifiers:eventModifiers,structs:L,type:"event"}));return{name:X.name,type:"event",inputs:te}}if(isErrorSignature(Z)){const X=execErrorSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"error"});const ee=splitParameters(X.parameters),te=[],ie=ee.length;for(let oe=0;oe<ie;oe++)te.push(parseAbiParameter(ee[oe],{structs:L,type:"error"}));return{name:X.name,type:"error",inputs:te}}if(isConstructorSignature(Z)){const X=execConstructorSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"constructor"});const ee=splitParameters(X.parameters),te=[],ie=ee.length;for(let oe=0;oe<ie;oe++)te.push(parseAbiParameter(ee[oe],{structs:L,type:"constructor"}));return{type:"constructor",stateMutability:X.stateMutability??"nonpayable",inputs:te}}if(isFallbackSignature(Z))return{type:"fallback"};if(isReceiveSignature(Z))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:Z})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(Z,L){const X=getParameterCacheKey(Z,L?.type);if(parameterCache.has(X))return parameterCache.get(X);const ee=isTupleRegex.test(Z),te=execTyped(ee?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,Z);if(!te)throw new InvalidParameterError({param:Z});if(te.name&&isSolidityKeyword(te.name))throw new SolidityProtectedKeywordError({param:Z,name:te.name});const ie=te.name?{name:te.name}:{},oe=te.modifier==="indexed"?{indexed:!0}:{},se=L?.structs??{};let ue,ce={};if(ee){ue="tuple";const he=splitParameters(te.type),pe=[],we=he.length;for(let _e=0;_e<we;_e++)pe.push(parseAbiParameter(he[_e],{structs:se}));ce={components:pe}}else if(te.type in se)ue="tuple",ce={components:se[te.type]};else if(dynamicIntegerRegex.test(te.type))ue=`${te.type}256`;else if(ue=te.type,L?.type!=="struct"&&!isSolidityType(ue))throw new UnknownSolidityTypeError({type:ue});if(te.modifier){if(!L?.modifiers?.has?.(te.modifier))throw new InvalidModifierError({param:Z,type:L?.type,modifier:te.modifier});if(functionModifiers.has(te.modifier)&&!isValidDataLocation(ue,!!te.array))throw new InvalidFunctionModifierError({param:Z,type:L?.type,modifier:te.modifier})}const le={type:`${ue}${te.array??""}`,...ie,...oe,...ce};return parameterCache.set(X,le),le}function splitParameters(Z,L=[],X="",ee=0){if(Z===""){if(X==="")return L;if(ee!==0)throw new InvalidParenthesisError({current:X,depth:ee});return L.push(X.trim()),L}const te=Z.length;for(let ie=0;ie<te;ie++){const oe=Z[ie],se=Z.slice(ie+1);switch(oe){case",":return ee===0?splitParameters(se,[...L,X.trim()]):splitParameters(se,L,`${X}${oe}`,ee);case"(":return splitParameters(se,L,`${X}${oe}`,ee+1);case")":return splitParameters(se,L,`${X}${oe}`,ee-1);default:return splitParameters(se,L,`${X}${oe}`,ee)}}return[]}function isSolidityType(Z){return Z==="address"||Z==="bool"||Z==="function"||Z==="string"||bytesRegex$1.test(Z)||integerRegex$1.test(Z)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(Z){return Z==="address"||Z==="bool"||Z==="function"||Z==="string"||Z==="tuple"||bytesRegex$1.test(Z)||integerRegex$1.test(Z)||protectedKeywordsRegex.test(Z)}function isValidDataLocation(Z,L){return L||Z==="bytes"||Z==="string"||Z==="tuple"}function parseStructs(Z){const L={},X=Z.length;for(let oe=0;oe<X;oe++){const se=Z[oe];if(!isStructSignature(se))continue;const ue=execStructSignature(se);if(!ue)throw new InvalidSignatureError({signature:se,type:"struct"});const ce=ue.properties.split(";"),le=[],he=ce.length;for(let pe=0;pe<he;pe++){const _e=ce[pe].trim();if(!_e)continue;const xe=parseAbiParameter(_e,{type:"struct"});le.push(xe)}if(!le.length)throw new InvalidStructSignatureError({signature:se});L[ue.name]=le}const ee={},te=Object.entries(L),ie=te.length;for(let oe=0;oe<ie;oe++){const[se,ue]=te[oe];ee[se]=resolveStructs(ue,L)}return ee}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(Z,L,X=new Set){const ee=[],te=Z.length;for(let ie=0;ie<te;ie++){const oe=Z[ie];if(isTupleRegex.test(oe.type))ee.push(oe);else{const ue=execTyped(typeWithoutTupleRegex,oe.type);if(!ue?.type)throw new InvalidAbiTypeParameterError({abiParameter:oe});const{array:ce,type:le}=ue;if(le in L){if(X.has(le))throw new CircularReferenceError({type:le});ee.push({...oe,type:`tuple${ce??""}`,components:resolveStructs(L[le]??[],L,new Set([...X,le]))})}else if(isSolidityType(le))ee.push(oe);else throw new UnknownTypeError({type:le})}}return ee}function parseAbi(Z){const L=parseStructs(Z),X=[],ee=Z.length;for(let te=0;te<ee;te++){const ie=Z[te];isStructSignature(ie)||X.push(parseSignature(ie,L))}return X}function parseAbiParameters(Z){const L=[];if(typeof Z=="string"){const X=splitParameters(Z),ee=X.length;for(let te=0;te<ee;te++)L.push(parseAbiParameter(X[te],{modifiers}))}else{const X=parseStructs(Z),ee=Z.length;for(let te=0;te<ee;te++){const ie=Z[te];if(isStructSignature(ie))continue;const oe=splitParameters(ie),se=oe.length;for(let ue=0;ue<se;ue++)L.push(parseAbiParameter(oe[ue],{modifiers,structs:X}))}}if(L.length===0)throw new InvalidAbiParametersError({params:Z});return L}function formatAbiItem(Z,{includeName:L=!1}={}){if(Z.type!=="function"&&Z.type!=="event"&&Z.type!=="error")throw new InvalidDefinitionTypeError(Z.type);return`${Z.name}(${formatAbiParams(Z.inputs,{includeName:L})})`}function formatAbiParams(Z,{includeName:L=!1}={}){return Z?Z.map(X=>formatAbiParam(X,{includeName:L})).join(L?", ":","):""}function formatAbiParam(Z,{includeName:L}){return Z.type.startsWith("tuple")?`(${formatAbiParams(Z.components,{includeName:L})})${Z.type.slice(5)}`:Z.type+(L&&Z.name?` ${Z.name}`:"")}function isHex(Z,{strict:L=!0}={}){return!Z||typeof Z!="string"?!1:L?/^0x[0-9a-fA-F]*$/.test(Z):Z.startsWith("0x")}function size$1(Z){return isHex(Z,{strict:!1})?Math.ceil((Z.length-2)/2):Z.length}const version="1.5.4",getContractAddress=Z=>Z,getUrl$1=Z=>Z,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(L,X={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const ee=X.cause instanceof BaseError?X.cause.details:X.cause?.message?X.cause.message:X.details,te=X.cause instanceof BaseError&&X.cause.docsPath||X.docsPath;this.message=[L||"An error occurred.","",...X.metaMessages?[...X.metaMessages,""]:[],...te?[`Docs: https://viem.sh${te}.html${X.docsSlug?`#${X.docsSlug}`:""}`]:[],...ee?[`Details: ${ee}`]:[],`Version: ${this.version}`].join(`
`),X.cause&&(this.cause=X.cause),this.details=ee,this.docsPath=te,this.metaMessages=X.metaMessages,this.shortMessage=L}walk(L){return walk(this,L)}}function walk(Z,L){return L?.(Z)?Z:Z&&typeof Z=="object"&&"cause"in Z?walk(Z.cause,L):L?null:Z}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:L}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:L}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:L,params:X,size:ee}){super([`Data size of ${ee} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(X,{includeName:!0})})`,`Data:   ${L} (${ee} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=L,this.params=X,this.size=ee}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:L,givenLength:X,type:ee}){super([`ABI encoding array length mismatch for type ${ee}.`,`Expected length: ${L}`,`Given length: ${X}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:L,value:X}){super(`Size of bytes "${X}" (bytes${size$1(X)}) does not match expected size (bytes${L}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:L,givenLength:X}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${L}`,`Given length (values): ${X}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(L,{docsPath:X}){super([`Encoded error signature "${L}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${L}.`].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=L}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:L}){super("Cannot extract event signature from empty topics.",{docsPath:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(L,{docsPath:X}){super([`Encoded event signature "${L}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${L}.`].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(L,{docsPath:X}={}){super([`Event ${L?`"${L}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(L,{docsPath:X}={}){super([`Function ${L?`"${L}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(L,{docsPath:X}){super([`Function "${L}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:L,givenSize:X}){super(`Expected bytes${L}, got bytes${X}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:L,data:X,params:ee,size:te}){super([`Data size of ${te} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ee,{includeName:!0})})`,`Data:   ${X} (${te} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=L,this.data=X,this.params=ee,this.size=te}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:L,param:X}){super([`Expected a topic for indexed event parameter${X.name?` "${X.name}"`:""} on event "${formatAbiItem(L,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=L}}class InvalidAbiEncodingTypeError extends BaseError{constructor(L,{docsPath:X}){super([`Type "${L}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(L,{docsPath:X}){super([`Type "${L}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(L){super([`Value "${L}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(L){super([`"${L}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError{constructor(L){super(`Filter type "${L}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:L,position:X,size:ee}){super(`Slice ${X==="start"?"starting":"ending"} at offset "${L}" is out-of-bounds (size: ${ee}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:L,targetSize:X,type:ee}){super(`${ee.charAt(0).toUpperCase()}${ee.slice(1).toLowerCase()} size (${L}) exceeds padding size (${X}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(Z,{dir:L,size:X=32}={}){return typeof Z=="string"?padHex(Z,{dir:L,size:X}):padBytes(Z,{dir:L,size:X})}function padHex(Z,{dir:L,size:X=32}={}){if(X===null)return Z;const ee=Z.replace("0x","");if(ee.length>X*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(ee.length/2),targetSize:X,type:"hex"});return`0x${ee[L==="right"?"padEnd":"padStart"](X*2,"0")}`}function padBytes(Z,{dir:L,size:X=32}={}){if(X===null)return Z;if(Z.length>X)throw new SizeExceedsPaddingSizeError({size:Z.length,targetSize:X,type:"bytes"});const ee=new Uint8Array(X);for(let te=0;te<X;te++){const ie=L==="right";ee[ie?te:X-te-1]=Z[ie?te:Z.length-te-1]}return ee}class IntegerOutOfRangeError extends BaseError{constructor({max:L,min:X,signed:ee,size:te,value:ie}){super(`Number "${ie}" is not in safe ${te?`${te*8}-bit ${ee?"signed":"unsigned"} `:""}integer range ${L?`(${X} to ${L})`:`(above ${X})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(L){super(`Hex value "${L}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:L,maxSize:X}){super(`Size cannot exceed ${X} bytes. Given size: ${L} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(Z,{dir:L="left"}={}){let X=typeof Z=="string"?Z.replace("0x",""):Z,ee=0;for(let te=0;te<X.length-1&&X[L==="left"?te:X.length-te-1].toString()==="0";te++)ee++;return X=L==="left"?X.slice(ee):X.slice(0,X.length-ee),typeof Z=="string"?(X.length===1&&L==="right"&&(X=`${X}0`),`0x${X.length%2===1?`0${X}`:X}`):X}function assertSize(Z,{size:L}){if(size$1(Z)>L)throw new SizeOverflowError({givenSize:size$1(Z),maxSize:L})}function hexToBigInt(Z,L={}){const{signed:X}=L;L.size&&assertSize(Z,{size:L.size});const ee=BigInt(Z);if(!X)return ee;const te=(Z.length-2)/2,ie=(1n<<BigInt(te)*8n-1n)-1n;return ee<=ie?ee:ee-BigInt(`0x${"f".padStart(te*2,"f")}`)-1n}function hexToBool(Z,L={}){let X=Z;if(L.size&&(assertSize(X,{size:L.size}),X=trim(X)),trim(X)==="0x00")return!1;if(trim(X)==="0x01")return!0;throw new InvalidHexBooleanError(X)}function hexToNumber$1(Z,L={}){return Number(hexToBigInt(Z,L))}function hexToString(Z,L={}){let X=hexToBytes$1(Z);return L.size&&(assertSize(X,{size:L.size}),X=trim(X,{dir:"right"})),new TextDecoder().decode(X)}const hexes$1=Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function toHex(Z,L={}){return typeof Z=="number"||typeof Z=="bigint"?numberToHex(Z,L):typeof Z=="string"?stringToHex(Z,L):typeof Z=="boolean"?boolToHex(Z,L):bytesToHex$1(Z,L)}function boolToHex(Z,L={}){const X=`0x${Number(Z)}`;return typeof L.size=="number"?(assertSize(X,{size:L.size}),pad(X,{size:L.size})):X}function bytesToHex$1(Z,L={}){let X="";for(let te=0;te<Z.length;te++)X+=hexes$1[Z[te]];const ee=`0x${X}`;return typeof L.size=="number"?(assertSize(ee,{size:L.size}),pad(ee,{dir:"right",size:L.size})):ee}function numberToHex(Z,L={}){const{signed:X,size:ee}=L,te=BigInt(Z);let ie;ee?X?ie=(1n<<BigInt(ee)*8n-1n)-1n:ie=2n**(BigInt(ee)*8n)-1n:typeof Z=="number"&&(ie=BigInt(Number.MAX_SAFE_INTEGER));const oe=typeof ie=="bigint"&&X?-ie-1n:0;if(ie&&te>ie||te<oe){const ue=typeof Z=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:ie?`${ie}${ue}`:void 0,min:`${oe}${ue}`,signed:X,size:ee,value:`${Z}${ue}`})}const se=`0x${(X&&te<0?(1n<<BigInt(ee*8))+BigInt(te):te).toString(16)}`;return ee?pad(se,{size:ee}):se}const encoder$1=new TextEncoder;function stringToHex(Z,L={}){const X=encoder$1.encode(Z);return bytesToHex$1(X,L)}const encoder=new TextEncoder;function toBytes$2(Z,L={}){return typeof Z=="number"||typeof Z=="bigint"?numberToBytes(Z,L):typeof Z=="boolean"?boolToBytes(Z,L):isHex(Z)?hexToBytes$1(Z,L):stringToBytes(Z,L)}function boolToBytes(Z,L={}){const X=new Uint8Array(1);return X[0]=Number(Z),typeof L.size=="number"?(assertSize(X,{size:L.size}),pad(X,{size:L.size})):X}function hexToBytes$1(Z,L={}){let X=Z;L.size&&(assertSize(X,{size:L.size}),X=pad(X,{dir:"right",size:L.size}));let ee=X.slice(2);ee.length%2&&(ee=`0${ee}`);const te=new Uint8Array(ee.length/2);for(let ie=0;ie<te.length;ie++){const oe=ie*2,se=ee.slice(oe,oe+2),ue=Number.parseInt(se,16);if(Number.isNaN(ue)||ue<0)throw new BaseError(`Invalid byte sequence ("${se}" in "${ee}").`);te[ie]=ue}return te}function numberToBytes(Z,L){const X=numberToHex(Z,L);return hexToBytes$1(X)}function stringToBytes(Z,L={}){const X=encoder.encode(Z);return typeof L.size=="number"?(assertSize(X,{size:L.size}),pad(X,{dir:"right",size:L.size})):X}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(Z){const L=Z.match(paramsRegex),X=L?.[2]||void 0,ee=L?.[3],te=L?.[5]||void 0;return{type:X,name:ee,params:te}}function extractFunctionName(Z){return extractFunctionParts(Z).name}function extractFunctionParams(Z){return extractFunctionParts(Z).params?.split(",").map(ee=>ee.trim().split(" "))?.map(ee=>({type:ee[0],name:ee[1]==="indexed"?ee[2]:ee[1],...ee[1]==="indexed"?{indexed:!0}:{}}))}function number$1(Z){if(!Number.isSafeInteger(Z)||Z<0)throw new Error(`Wrong positive integer: ${Z}`)}function bool$1(Z){if(typeof Z!="boolean")throw new Error(`Expected boolean, not ${Z}`)}function bytes$1(Z,...L){if(!(Z instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length>0&&!L.includes(Z.length))throw new TypeError(`Expected Uint8Array of length ${L}, not of length=${Z.length}`)}function hash$2(Z){if(typeof Z!="function"||typeof Z.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(Z.outputLen),number$1(Z.blockLen)}function exists$1(Z,L=!0){if(Z.destroyed)throw new Error("Hash instance has been destroyed");if(L&&Z.finished)throw new Error("Hash#digest() has already been called")}function output$1(Z,L){bytes$1(Z);const X=L.outputLen;if(Z.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}const assert$1={number:number$1,bool:bool$1,bytes:bytes$1,hash:hash$2,exists:exists$1,output:output$1},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(Z,L=!1){return L?{h:Number(Z&U32_MASK64),l:Number(Z>>_32n&U32_MASK64)}:{h:Number(Z>>_32n&U32_MASK64)|0,l:Number(Z&U32_MASK64)|0}}function split(Z,L=!1){let X=new Uint32Array(Z.length),ee=new Uint32Array(Z.length);for(let te=0;te<Z.length;te++){const{h:ie,l:oe}=fromBig(Z[te],L);[X[te],ee[te]]=[ie,oe]}return[X,ee]}const toBig=(Z,L)=>BigInt(Z>>>0)<<_32n|BigInt(L>>>0),shrSH=(Z,L,X)=>Z>>>X,shrSL=(Z,L,X)=>Z<<32-X|L>>>X,rotrSH=(Z,L,X)=>Z>>>X|L<<32-X,rotrSL=(Z,L,X)=>Z<<32-X|L>>>X,rotrBH=(Z,L,X)=>Z<<64-X|L>>>X-32,rotrBL=(Z,L,X)=>Z>>>X-32|L<<64-X,rotr32H=(Z,L)=>L,rotr32L=(Z,L)=>Z,rotlSH=(Z,L,X)=>Z<<X|L>>>32-X,rotlSL=(Z,L,X)=>L<<X|Z>>>32-X,rotlBH=(Z,L,X)=>L<<X-32|Z>>>64-X,rotlBL=(Z,L,X)=>Z<<X-32|L>>>64-X;function add(Z,L,X,ee){const te=(L>>>0)+(ee>>>0);return{h:Z+X+(te/2**32|0)|0,l:te|0}}const add3L=(Z,L,X)=>(Z>>>0)+(L>>>0)+(X>>>0),add3H=(Z,L,X,ee)=>L+X+ee+(Z/2**32|0)|0,add4L=(Z,L,X,ee)=>(Z>>>0)+(L>>>0)+(X>>>0)+(ee>>>0),add4H=(Z,L,X,ee,te)=>L+X+ee+te+(Z/2**32|0)|0,add5L=(Z,L,X,ee,te)=>(Z>>>0)+(L>>>0)+(X>>>0)+(ee>>>0)+(te>>>0),add5H=(Z,L,X,ee,te,ie)=>L+X+ee+te+ie+(Z/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=Z=>new Uint32Array(Z.buffer,Z.byteOffset,Math.floor(Z.byteLength/4)),isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function utf8ToBytes$2(Z){if(typeof Z!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof Z}`);return new TextEncoder().encode(Z)}function toBytes$1(Z){if(typeof Z=="string"&&(Z=utf8ToBytes$2(Z)),!(Z instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof Z})`);return Z}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(Z){const L=ee=>Z().update(toBytes$1(ee)).digest(),X=Z();return L.outputLen=X.outputLen,L.blockLen=X.blockLen,L.create=()=>Z(),L}function wrapConstructorWithOpts(Z){const L=(ee,te)=>Z(te).update(toBytes$1(ee)).digest(),X=Z({});return L.outputLen=X.outputLen,L.blockLen=X.blockLen,L.create=ee=>Z(ee),L}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let Z=0,L=_1n$5,X=1,ee=0;Z<24;Z++){[X,ee]=[ee,(2*X+3*ee)%5],SHA3_PI.push(2*(5*ee+X)),SHA3_ROTL.push((Z+1)*(Z+2)/2%64);let te=_0n$4;for(let ie=0;ie<7;ie++)L=(L<<_1n$5^(L>>_7n)*_0x71n)%_256n,L&_2n$3&&(te^=_1n$5<<(_1n$5<<BigInt(ie))-_1n$5);_SHA3_IOTA.push(te)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64.split(_SHA3_IOTA,!0),rotlH=(Z,L,X)=>X>32?u64.rotlBH(Z,L,X):u64.rotlSH(Z,L,X),rotlL=(Z,L,X)=>X>32?u64.rotlBL(Z,L,X):u64.rotlSL(Z,L,X);function keccakP(Z,L=24){const X=new Uint32Array(10);for(let ee=24-L;ee<24;ee++){for(let oe=0;oe<10;oe++)X[oe]=Z[oe]^Z[oe+10]^Z[oe+20]^Z[oe+30]^Z[oe+40];for(let oe=0;oe<10;oe+=2){const se=(oe+8)%10,ue=(oe+2)%10,ce=X[ue],le=X[ue+1],he=rotlH(ce,le,1)^X[se],pe=rotlL(ce,le,1)^X[se+1];for(let we=0;we<50;we+=10)Z[oe+we]^=he,Z[oe+we+1]^=pe}let te=Z[2],ie=Z[3];for(let oe=0;oe<24;oe++){const se=SHA3_ROTL[oe],ue=rotlH(te,ie,se),ce=rotlL(te,ie,se),le=SHA3_PI[oe];te=Z[le],ie=Z[le+1],Z[le]=ue,Z[le+1]=ce}for(let oe=0;oe<50;oe+=10){for(let se=0;se<10;se++)X[se]=Z[oe+se];for(let se=0;se<10;se++)Z[oe+se]^=~X[(se+2)%10]&X[(se+4)%10]}Z[0]^=SHA3_IOTA_H[ee],Z[1]^=SHA3_IOTA_L[ee]}X.fill(0)}class Keccak extends Hash$1{constructor(L,X,ee,te=!1,ie=24){if(super(),this.blockLen=L,this.suffix=X,this.outputLen=ee,this.enableXOF=te,this.rounds=ie,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$1.number(ee),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(L){assert$1.exists(this);const{blockLen:X,state:ee}=this;L=toBytes$1(L);const te=L.length;for(let ie=0;ie<te;){const oe=Math.min(X-this.pos,te-ie);for(let se=0;se<oe;se++)ee[this.pos++]^=L[ie++];this.pos===X&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:L,suffix:X,pos:ee,blockLen:te}=this;L[ee]^=X,X&128&&ee===te-1&&this.keccak(),L[te-1]^=128,this.keccak()}writeInto(L){assert$1.exists(this,!1),assert$1.bytes(L),this.finish();const X=this.state,{blockLen:ee}=this;for(let te=0,ie=L.length;te<ie;){this.posOut>=ee&&this.keccak();const oe=Math.min(ee-this.posOut,ie-te);L.set(X.subarray(this.posOut,this.posOut+oe),te),this.posOut+=oe,te+=oe}return L}xofInto(L){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(L)}xof(L){return assert$1.number(L),this.xofInto(new Uint8Array(L))}digestInto(L){if(assert$1.output(L,this),this.finished)throw new Error("digest() was already called");return this.writeInto(L),this.destroy(),L}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(L){const{blockLen:X,suffix:ee,outputLen:te,rounds:ie,enableXOF:oe}=this;return L||(L=new Keccak(X,ee,te,oe,ie)),L.state32.set(this.state32),L.pos=this.pos,L.posOut=this.posOut,L.finished=this.finished,L.rounds=ie,L.suffix=ee,L.outputLen=te,L.enableXOF=oe,L.destroyed=this.destroyed,L}}const gen=(Z,L,X)=>wrapConstructor$1(()=>new Keccak(L,Z,X));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(Z,L,X)=>wrapConstructorWithOpts((ee={})=>new Keccak(L,Z,ee.dkLen===void 0?X:ee.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);function keccak256(Z,L){const X=L||"hex",ee=keccak_256(isHex(Z,{strict:!1})?toBytes$2(Z):Z);return X==="bytes"?ee:toHex(ee)}const hash$1=Z=>keccak256(toBytes$2(Z));function hashFunction(Z){const L=extractFunctionName(Z),X=extractFunctionParams(Z)||[];return hash$1(`${L}(${X.map(({type:ee})=>ee).join(",")})`)}function hashAbiItem(Z){return hash$1(formatAbiItem(Z))}const getEventSelector=Z=>typeof Z=="string"?hashFunction(Z):hashAbiItem(Z);class InvalidAddressError extends BaseError{constructor({address:L}){super(`Address "${L}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(Z){return addressRegex.test(Z)}function concat(Z){return typeof Z[0]=="string"?concatHex(Z):concatBytes$2(Z)}function concatBytes$2(Z){let L=0;for(const te of Z)L+=te.length;const X=new Uint8Array(L);let ee=0;for(const te of Z)X.set(te,ee),ee+=te.length;return X}function concatHex(Z){return`0x${Z.reduce((L,X)=>L+X.replace("0x",""),"")}`}function slice(Z,L,X,{strict:ee}={}){return isHex(Z,{strict:!1})?sliceHex(Z,L,X,{strict:ee}):sliceBytes(Z,L,X,{strict:ee})}function assertStartOffset(Z,L){if(typeof L=="number"&&L>0&&L>size$1(Z)-1)throw new SliceOffsetOutOfBoundsError({offset:L,position:"start",size:size$1(Z)})}function assertEndOffset(Z,L,X){if(typeof L=="number"&&typeof X=="number"&&size$1(Z)!==X-L)throw new SliceOffsetOutOfBoundsError({offset:X,position:"end",size:size$1(Z)})}function sliceBytes(Z,L,X,{strict:ee}={}){assertStartOffset(Z,L);const te=Z.slice(L,X);return ee&&assertEndOffset(te,L,X),te}function sliceHex(Z,L,X,{strict:ee}={}){assertStartOffset(Z,L);const te=`0x${Z.replace("0x","").slice((L??0)*2,(X??Z.length)*2)}`;return ee&&assertEndOffset(te,L,X),te}function encodeAbiParameters(Z,L){if(Z.length!==L.length)throw new AbiEncodingLengthMismatchError({expectedLength:Z.length,givenLength:L.length});const X=prepareParams({params:Z,values:L}),ee=encodeParams(X);return ee.length===0?"0x":ee}function prepareParams({params:Z,values:L}){const X=[];for(let ee=0;ee<Z.length;ee++)X.push(prepareParam({param:Z[ee],value:L[ee]}));return X}function prepareParam({param:Z,value:L}){const X=getArrayComponents(Z.type);if(X){const[ee,te]=X;return encodeArray(L,{length:ee,param:{...Z,type:te}})}if(Z.type==="tuple")return encodeTuple(L,{param:Z});if(Z.type==="address")return encodeAddress(L);if(Z.type==="bool")return encodeBool(L);if(Z.type.startsWith("uint")||Z.type.startsWith("int")){const ee=Z.type.startsWith("int");return encodeNumber(L,{signed:ee})}if(Z.type.startsWith("bytes"))return encodeBytes(L,{param:Z});if(Z.type==="string")return encodeString(L);throw new InvalidAbiEncodingTypeError(Z.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(Z){let L=0;for(let ie=0;ie<Z.length;ie++){const{dynamic:oe,encoded:se}=Z[ie];oe?L+=32:L+=size$1(se)}const X=[],ee=[];let te=0;for(let ie=0;ie<Z.length;ie++){const{dynamic:oe,encoded:se}=Z[ie];oe?(X.push(numberToHex(L+te,{size:32})),ee.push(se),te+=size$1(se)):X.push(se)}return concat([...X,...ee])}function encodeAddress(Z){if(!isAddress(Z))throw new InvalidAddressError({address:Z});return{dynamic:!1,encoded:padHex(Z.toLowerCase())}}function encodeArray(Z,{length:L,param:X}){const ee=L===null;if(!Array.isArray(Z))throw new InvalidArrayError(Z);if(!ee&&Z.length!==L)throw new AbiEncodingArrayLengthMismatchError({expectedLength:L,givenLength:Z.length,type:`${X.type}[${L}]`});let te=!1;const ie=[];for(let oe=0;oe<Z.length;oe++){const se=prepareParam({param:X,value:Z[oe]});se.dynamic&&(te=!0),ie.push(se)}if(ee||te){const oe=encodeParams(ie);if(ee){const se=numberToHex(ie.length,{size:32});return{dynamic:!0,encoded:ie.length>0?concat([se,oe]):se}}if(te)return{dynamic:!0,encoded:oe}}return{dynamic:!1,encoded:concat(ie.map(({encoded:oe})=>oe))}}function encodeBytes(Z,{param:L}){const[,X]=L.type.split("bytes"),ee=size$1(Z);if(!X){let te=Z;return ee%32!==0&&(te=padHex(te,{dir:"right",size:Math.ceil((Z.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(ee,{size:32})),te])}}if(ee!==parseInt(X))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(X),value:Z});return{dynamic:!1,encoded:padHex(Z,{dir:"right"})}}function encodeBool(Z){return{dynamic:!1,encoded:padHex(boolToHex(Z))}}function encodeNumber(Z,{signed:L}){return{dynamic:!1,encoded:numberToHex(Z,{size:32,signed:L})}}function encodeString(Z){const L=stringToHex(Z),X=Math.ceil(size$1(L)/32),ee=[];for(let te=0;te<X;te++)ee.push(padHex(slice(L,te*32,(te+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(L),{size:32})),...ee])}}function encodeTuple(Z,{param:L}){let X=!1;const ee=[];for(let te=0;te<L.components.length;te++){const ie=L.components[te],oe=Array.isArray(Z)?te:ie.name,se=prepareParam({param:ie,value:Z[oe]});ee.push(se),se.dynamic&&(X=!0)}return{dynamic:X,encoded:X?encodeParams(ee):concat(ee.map(({encoded:te})=>te))}}function getArrayComponents(Z){const L=Z.match(/^(.*)\[(\d+)?\]$/);return L?[L[2]?Number(L[2]):null,L[1]]:void 0}function getAbiItem({abi:Z,args:L=[],name:X}){const ee=Z.filter(te=>"name"in te&&te.name===X);if(ee.length!==0){if(ee.length===1)return ee[0];for(const te of ee){if(!("inputs"in te))continue;if(!L||L.length===0){if(!te.inputs||te.inputs.length===0)return te;continue}if(!te.inputs||te.inputs.length===0||te.inputs.length!==L.length)continue;if(L.every((oe,se)=>{const ue="inputs"in te&&te.inputs[se];return ue?isArgOfType(oe,ue):!1}))return te}return ee[0]}}function isArgOfType(Z,L){const X=typeof Z,ee=L.type;switch(ee){case"address":return isAddress(Z);case"bool":return X==="boolean";case"function":return X==="string";case"string":return X==="string";default:return ee==="tuple"&&"components"in L?Object.values(L.components).every((te,ie)=>isArgOfType(Object.values(Z)[ie],te)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(ee)?X==="number"||X==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(ee)?X==="string"||Z instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(ee)?Array.isArray(Z)&&Z.every(te=>isArgOfType(te,{...L,type:ee.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:Z,eventName:L,args:X}){let ee=Z[0];if(L&&(ee=getAbiItem({abi:Z,args:X,name:L}),!ee))throw new AbiEventNotFoundError(L,{docsPath:"/docs/contract/encodeEventTopics"});if(ee.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const te=formatAbiItem(ee),ie=getEventSelector(te);let oe=[];if(X&&"inputs"in ee){const se=ee.inputs?.filter(ce=>"indexed"in ce&&ce.indexed),ue=Array.isArray(X)?X:Object.values(X).length>0?se?.map(ce=>X[ce.name])??[]:[];ue.length>0&&(oe=se?.map((ce,le)=>Array.isArray(ue[le])?ue[le].map((he,pe)=>encodeArg({param:ce,value:ue[le][pe]})):ue[le]?encodeArg({param:ce,value:ue[le]}):null)??[])}return[ie,...oe]}function encodeArg({param:Z,value:L}){if(Z.type==="string"||Z.type==="bytes")return keccak256(toBytes$2(L));if(Z.type==="tuple"||Z.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(Z.type);return encodeAbiParameters([Z],[L])}function createFilterRequestScope(Z,{method:L}){const X={};return Z.transport.type==="fallback"&&Z.transport.onResponse?.(({method:ee,response:te,status:ie,transport:oe})=>{ie==="success"&&L===ee&&(X[te]=oe.request)}),ee=>X[ee]||Z.request}async function createContractEventFilter(Z,{address:L,abi:X,args:ee,eventName:te,fromBlock:ie,strict:oe,toBlock:se}){const ue=createFilterRequestScope(Z,{method:"eth_newFilter"}),ce=te?encodeEventTopics({abi:X,args:ee,eventName:te}):void 0,le=await Z.request({method:"eth_newFilter",params:[{address:L,fromBlock:typeof ie=="bigint"?numberToHex(ie):ie,toBlock:typeof se=="bigint"?numberToHex(se):se,topics:ce}]});return{abi:X,args:ee,eventName:te,id:le,request:ue(le),strict:oe,type:"event"}}function parseAccount(Z){return typeof Z=="string"?{address:Z,type:"json-rpc"}:Z}const getFunctionSelector=Z=>slice(typeof Z=="string"?hashFunction(Z):hashAbiItem(Z),0,4);function encodeFunctionData({abi:Z,args:L,functionName:X}){let ee=Z[0];if(X&&(ee=getAbiItem({abi:Z,args:L,name:X}),!ee))throw new AbiFunctionNotFoundError(X,{docsPath:"/docs/contract/encodeFunctionData"});if(ee.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const te=formatAbiItem(ee),ie=getFunctionSelector(te),oe="inputs"in ee&&ee.inputs?encodeAbiParameters(ee.inputs,L??[]):void 0;return concatHex([ie,oe??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(Z,L){const X=L?`${L}${Z.toLowerCase()}`:Z.substring(2).toLowerCase(),ee=keccak256(stringToBytes(X),"bytes"),te=(L?X.substring(`${L}0x`.length):X).split("");for(let ie=0;ie<40;ie+=2)ee[ie>>1]>>4>=8&&te[ie]&&(te[ie]=te[ie].toUpperCase()),(ee[ie>>1]&15)>=8&&te[ie+1]&&(te[ie+1]=te[ie+1].toUpperCase());return`0x${te.join("")}`}function getAddress(Z,L){if(!isAddress(Z))throw new InvalidAddressError({address:Z});return checksumAddress(Z,L)}function decodeAbiParameters(Z,L){if(L==="0x"&&Z.length>0)throw new AbiDecodingZeroDataError;if(size$1(L)&&size$1(L)<32)throw new AbiDecodingDataSizeTooSmallError({data:L,params:Z,size:size$1(L)});return decodeParams({data:L,params:Z})}function decodeParams({data:Z,params:L}){const X=[];let ee=0;for(let te=0;te<L.length;te++){if(ee>=size$1(Z))throw new AbiDecodingDataSizeTooSmallError({data:Z,params:L,size:size$1(Z)});const ie=L[te],{consumed:oe,value:se}=decodeParam({data:Z,param:ie,position:ee});X.push(se),ee+=oe}return X}function decodeParam({data:Z,param:L,position:X}){const ee=getArrayComponents(L.type);if(ee){const[ie,oe]=ee;return decodeArray(Z,{length:ie,param:{...L,type:oe},position:X})}if(L.type==="tuple")return decodeTuple(Z,{param:L,position:X});if(L.type==="string")return decodeString(Z,{position:X});if(L.type.startsWith("bytes"))return decodeBytes(Z,{param:L,position:X});const te=slice(Z,X,X+32,{strict:!0});if(L.type.startsWith("uint")||L.type.startsWith("int"))return decodeNumber(te,{param:L});if(L.type==="address")return decodeAddress(te);if(L.type==="bool")return decodeBool(te);throw new InvalidAbiDecodingTypeError(L.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(Z){return{consumed:32,value:checksumAddress(slice(Z,-20))}}function decodeArray(Z,{param:L,length:X,position:ee}){if(!X){const oe=hexToNumber$1(slice(Z,ee,ee+32,{strict:!0})),se=hexToNumber$1(slice(Z,oe,oe+32,{strict:!0}));let ue=0;const ce=[];for(let le=0;le<se;++le){const he=decodeParam({data:slice(Z,oe+32),param:L,position:ue});ue+=he.consumed,ce.push(he.value)}return{value:ce,consumed:32}}if(hasDynamicChild(L)){const se=!getArrayComponents(L.type)?.[0];let ue=0;const ce=[];for(let le=0;le<X;++le){const he=hexToNumber$1(slice(Z,ee,ee+32,{strict:!0})),pe=decodeParam({data:slice(Z,he),param:L,position:se?ue:le*32});ue+=pe.consumed,ce.push(pe.value)}return{value:ce,consumed:32}}let te=0;const ie=[];for(let oe=0;oe<X;++oe){const se=decodeParam({data:Z,param:L,position:ee+te});te+=se.consumed,ie.push(se.value)}return{value:ie,consumed:te}}function decodeBool(Z){return{consumed:32,value:hexToBool(Z)}}function decodeBytes(Z,{param:L,position:X}){const[ee,te]=L.type.split("bytes");if(!te){const oe=hexToNumber$1(slice(Z,X,X+32,{strict:!0})),se=hexToNumber$1(slice(Z,oe,oe+32,{strict:!0}));return se===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(Z,oe+32,oe+32+se,{strict:!0})}}return{consumed:32,value:slice(Z,X,X+parseInt(te),{strict:!0})}}function decodeNumber(Z,{param:L}){const X=L.type.startsWith("int");return{consumed:32,value:parseInt(L.type.split("int")[1]||"256")>48?hexToBigInt(Z,{signed:X}):hexToNumber$1(Z,{signed:X})}}function decodeString(Z,{position:L}){const X=hexToNumber$1(slice(Z,L,L+32,{strict:!0})),ee=hexToNumber$1(slice(Z,X,X+32,{strict:!0}));return ee===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(Z,X+32,X+32+ee,{strict:!0})))}}function decodeTuple(Z,{param:L,position:X}){const ee=L.components.length===0||L.components.some(({name:oe})=>!oe),te=ee?[]:{};let ie=0;if(hasDynamicChild(L)){const oe=hexToNumber$1(slice(Z,X,X+32,{strict:!0}));for(let se=0;se<L.components.length;++se){const ue=L.components[se],ce=decodeParam({data:slice(Z,oe),param:ue,position:ie});ie+=ce.consumed,te[ee?se:ue?.name]=ce.value}return{consumed:32,value:te}}for(let oe=0;oe<L.components.length;++oe){const se=L.components[oe],ue=decodeParam({data:Z,param:se,position:X+ie});ie+=ue.consumed,te[ee?oe:se?.name]=ue.value}return{consumed:ie,value:te}}function hasDynamicChild(Z){const{type:L}=Z;if(L==="string"||L==="bytes"||L.endsWith("[]"))return!0;if(L==="tuple")return Z.components?.some(hasDynamicChild);const X=getArrayComponents(Z.type);return!!(X&&hasDynamicChild({...Z,type:X[1]}))}function decodeErrorResult({abi:Z,data:L}){const X=slice(L,0,4);if(X==="0x")throw new AbiDecodingZeroDataError;const te=[...Z||[],solidityError,solidityPanic].find(ie=>ie.type==="error"&&X===getFunctionSelector(formatAbiItem(ie)));if(!te)throw new AbiErrorSignatureNotFoundError(X,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:te,args:"inputs"in te&&te.inputs&&te.inputs.length>0?decodeAbiParameters(te.inputs,slice(L,4)):void 0,errorName:te.name}}const stringify=(Z,L,X)=>JSON.stringify(Z,(ee,te)=>{const ie=typeof te=="bigint"?te.toString():te;return typeof L=="function"?L(ee,ie):ie},X);function formatAbiItemWithArgs({abiItem:Z,args:L,includeFunctionName:X=!0,includeName:ee=!1}){if("name"in Z&&"inputs"in Z&&Z.inputs)return`${X?Z.name:""}(${Z.inputs.map((te,ie)=>`${ee&&te.name?`${te.name}: `:""}${typeof L[ie]=="object"?stringify(L[ie]):L[ie]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(Z,L){let X=Z.toString();const ee=X.startsWith("-");ee&&(X=X.slice(1)),X=X.padStart(L,"0");let[te,ie]=[X.slice(0,X.length-L),X.slice(X.length-L)];return ie=ie.replace(/(0+)$/,""),`${ee?"-":""}${te||"0"}${ie?`.${ie}`:""}`}function formatEther(Z,L="wei"){return formatUnits(Z,etherUnits[L])}function formatGwei(Z,L="wei"){return formatUnits(Z,gweiUnits[L])}function prettyPrint(Z){const L=Object.entries(Z).map(([ee,te])=>te===void 0||te===!1?null:[ee,te]).filter(Boolean),X=L.reduce((ee,[te])=>Math.max(ee,te.length),0);return L.map(([ee,te])=>`  ${`${ee}:`.padEnd(X+1)}  ${te}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:L}){super(`Invalid \`v\` value "${L}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:L}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(L),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:L}){super(`Size for storage key "${L}" is invalid. Expected 32 bytes. Got ${Math.floor((L.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(L,{account:X,docsPath:ee,chain:te,data:ie,gas:oe,gasPrice:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,nonce:le,to:he,value:pe}){const we=prettyPrint({chain:te&&`${te?.name} (id: ${te?.id})`,from:X?.address,to:he,value:typeof pe<"u"&&`${formatEther(pe)} ${te?.nativeCurrency.symbol||"ETH"}`,data:ie,gas:oe,gasPrice:typeof se<"u"&&`${formatGwei(se)} gwei`,maxFeePerGas:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxPriorityFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,nonce:le});super(L.shortMessage,{cause:L,docsPath:ee,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Request Arguments:",we].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=L}}class TransactionNotFoundError extends BaseError{constructor({blockHash:L,blockNumber:X,blockTag:ee,hash:te,index:ie}){let oe="Transaction";ee&&ie!==void 0&&(oe=`Transaction at block time "${ee}" at index "${ie}"`),L&&ie!==void 0&&(oe=`Transaction at block hash "${L}" at index "${ie}"`),X&&ie!==void 0&&(oe=`Transaction at block number "${X}" at index "${ie}"`),te&&(oe=`Transaction with hash "${te}"`),super(`${oe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:L}){super(`Transaction receipt with hash "${L}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:L}){super(`Timed out while waiting for transaction with hash "${L}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(L,{account:X,docsPath:ee,chain:te,data:ie,gas:oe,gasPrice:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,nonce:le,to:he,value:pe}){const we=X?parseAccount(X):void 0,_e=prettyPrint({from:we?.address,to:he,value:typeof pe<"u"&&`${formatEther(pe)} ${te?.nativeCurrency.symbol||"ETH"}`,data:ie,gas:oe,gasPrice:typeof se<"u"&&`${formatGwei(se)} gwei`,maxFeePerGas:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxPriorityFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,nonce:le});super(L.shortMessage,{cause:L,docsPath:ee,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Raw Call Arguments:",_e].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=L}}class ContractFunctionExecutionError extends BaseError{constructor(L,{abi:X,args:ee,contractAddress:te,docsPath:ie,functionName:oe,sender:se}){const ue=getAbiItem({abi:X,args:ee,name:oe}),ce=ue?formatAbiItemWithArgs({abiItem:ue,args:ee,includeFunctionName:!1,includeName:!1}):void 0,le=ue?formatAbiItem(ue,{includeName:!0}):void 0,he=prettyPrint({address:te&&getContractAddress(te),function:le,args:ce&&ce!=="()"&&`${[...Array(oe?.length??0).keys()].map(()=>" ").join("")}${ce}`,sender:se});super(L.shortMessage||`An unknown error occurred while executing the contract function "${oe}".`,{cause:L,docsPath:ie,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Contract Call:",he].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=X,this.args=ee,this.cause=L,this.contractAddress=te,this.functionName=oe,this.sender=se}}class ContractFunctionRevertedError extends BaseError{constructor({abi:L,data:X,functionName:ee,message:te}){let ie,oe,se,ue;if(X&&X!=="0x")try{oe=decodeErrorResult({abi:L,data:X});const{abiItem:le,errorName:he,args:pe}=oe;if(he==="Error")ue=pe[0];else if(he==="Panic"){const[we]=pe;ue=panicReasons[we]}else{const we=le?formatAbiItem(le,{includeName:!0}):void 0,_e=le&&pe?formatAbiItemWithArgs({abiItem:le,args:pe,includeFunctionName:!1,includeName:!1}):void 0;se=[we?`Error: ${we}`:"",_e&&_e!=="()"?`       ${[...Array(he?.length??0).keys()].map(()=>" ").join("")}${_e}`:""]}}catch(le){ie=le}else te&&(ue=te);let ce;ie instanceof AbiErrorSignatureNotFoundError&&(ce=ie.signature,se=[`Unable to decode signature "${ce}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ce}.`]),super(ue&&ue!=="execution reverted"||ce?[`The contract function "${ee}" reverted with the following ${ce?"signature":"reason"}:`,ue||ce].join(`
`):`The contract function "${ee}" reverted.`,{cause:ie,metaMessages:se}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=oe,this.reason=ue,this.signature=ce}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:L}){super(`The contract function "${L}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${L}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:L,message:X}){super(X||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=L}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(Z,{abi:L,address:X,args:ee,docsPath:te,functionName:ie,sender:oe}){const{code:se,data:ue,message:ce,shortMessage:le}=Z instanceof RawContractError?Z:Z instanceof BaseError?Z.walk(pe=>"data"in pe)||Z.walk():{};let he=Z;return Z instanceof AbiDecodingZeroDataError?he=new ContractFunctionZeroDataError({functionName:ie}):se===EXECUTION_REVERTED_ERROR_CODE&&(ue||ce||le)&&(he=new ContractFunctionRevertedError({abi:L,data:typeof ue=="object"?ue.data:ue,functionName:ie,message:le??ce})),new ContractFunctionExecutionError(he,{abi:L,args:ee,contractAddress:X,docsPath:te,functionName:ie,sender:oe})}class AccountNotFoundError extends BaseError{constructor({docsPath:L}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:L,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(L,{account:X,docsPath:ee,chain:te,data:ie,gas:oe,gasPrice:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,nonce:le,to:he,value:pe}){const we=prettyPrint({from:X?.address,to:he,value:typeof pe<"u"&&`${formatEther(pe)} ${te?.nativeCurrency.symbol||"ETH"}`,data:ie,gas:oe,gasPrice:typeof se<"u"&&`${formatGwei(se)} gwei`,maxFeePerGas:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxPriorityFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,nonce:le});super(L.shortMessage,{cause:L,docsPath:ee,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Estimate Gas Arguments:",we].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=L}}class ExecutionRevertedError extends BaseError{constructor({cause:L,message:X}={}){const ee=X?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${ee?`with reason: ${ee}`:"for an unknown reason"}.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:L,maxFeePerGas:X}={}){super(`The fee cap (\`maxFeePerGas\`${X?` = ${formatGwei(X)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:L,maxFeePerGas:X}={}){super(`The fee cap (\`maxFeePerGas\`${X?` = ${formatGwei(X)}`:""} gwei) cannot be lower than the block base fee.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:L,nonce:X}={}){super(`Nonce provided for the transaction ${X?`(${X}) `:""}is higher than the next one expected.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:L,nonce:X}={}){super([`Nonce provided for the transaction ${X?`(${X}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:L,nonce:X}={}){super(`Nonce provided for the transaction ${X?`(${X}) `:""}exceeds the maximum allowed nonce.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:L}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:L,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:L,gas:X}={}){super(`The amount of gas ${X?`(${X}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:L,gas:X}={}){super(`The amount of gas ${X?`(${X}) `:""}provided for the transaction is too low.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:L}){super("The transaction type is not supported for this chain.",{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:L,maxPriorityFeePerGas:X,maxFeePerGas:ee}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${X?` = ${formatGwei(X)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${ee?` = ${formatGwei(ee)} gwei`:""}).`].join(`
`),{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:L}){super(`An error occurred while executing: ${L?.message}`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class HttpRequestError extends BaseError{constructor({body:L,details:X,headers:ee,status:te,url:ie}){super("HTTP request failed.",{details:X,metaMessages:[te&&`Status: ${te}`,`URL: ${getUrl$1(ie)}`,L&&`Request body: ${stringify(L)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=L,this.headers=ee,this.status=te,this.url=ie}}class WebSocketRequestError extends BaseError{constructor({body:L,details:X,url:ee}){super("WebSocket request failed.",{details:X,metaMessages:[`URL: ${getUrl$1(ee)}`,`Request body: ${stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:L,error:X,url:ee}){super("RPC Request failed.",{cause:X,details:X.message,metaMessages:[`URL: ${getUrl$1(ee)}`,`Request body: ${stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=X.code}}class TimeoutError extends BaseError{constructor({body:L,url:X}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl$1(X)}`,`Request body: ${stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(L,{code:X,docsPath:ee,metaMessages:te,shortMessage:ie}){super(ie,{cause:L,docsPath:ee,metaMessages:te||L?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=L.name,this.code=L instanceof RpcRequestError?L.code:X??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(L,X){super(L,X),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=X.data}}class ParseRpcError extends RpcError{constructor(L){super(L,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(L){super(L,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(L){super(L,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(L){super(L,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(L){super(L,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(L){super(L,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(L){super(L,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(L){super(L,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(L){super(L,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(L){super(L,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(L){super(L,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(L){super(L,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(L){super(L,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(L){super(L,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(L){super(L,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(L){super(L,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(L){super(L,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(L){super(L,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(L){super(L,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function containsNodeError(Z){return Z instanceof TransactionRejectedRpcError||Z instanceof InvalidInputRpcError||Z instanceof RpcRequestError&&Z.code===ExecutionRevertedError.code}function getNodeError(Z,L){const X=Z.details.toLowerCase();return FeeCapTooHighError.nodeMessage.test(X)?new FeeCapTooHighError({cause:Z,maxFeePerGas:L?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(X)?new FeeCapTooLowError({cause:Z,maxFeePerGas:L?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(X)?new NonceTooHighError({cause:Z,nonce:L?.nonce}):NonceTooLowError.nodeMessage.test(X)?new NonceTooLowError({cause:Z,nonce:L?.nonce}):NonceMaxValueError.nodeMessage.test(X)?new NonceMaxValueError({cause:Z,nonce:L?.nonce}):InsufficientFundsError.nodeMessage.test(X)?new InsufficientFundsError({cause:Z}):IntrinsicGasTooHighError.nodeMessage.test(X)?new IntrinsicGasTooHighError({cause:Z,gas:L?.gas}):IntrinsicGasTooLowError.nodeMessage.test(X)?new IntrinsicGasTooLowError({cause:Z,gas:L?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(X)?new TransactionTypeNotSupportedError({cause:Z}):TipAboveFeeCapError.nodeMessage.test(X)?new TipAboveFeeCapError({cause:Z,maxFeePerGas:L?.maxFeePerGas,maxPriorityFeePerGas:L?.maxPriorityFeePerGas}):X.match(ExecutionRevertedError.nodeMessage)||"code"in Z.cause&&Z.cause?.code===ExecutionRevertedError.code?new ExecutionRevertedError({cause:Z,message:Z.cause.details||Z.details}):new UnknownNodeError({cause:Z.cause.cause})}function getEstimateGasError(Z,{docsPath:L,...X}){let ee=Z;return containsNodeError(Z)&&(ee=getNodeError(Z,X)),new EstimateGasExecutionError(ee,{docsPath:L,...X})}function extract(Z,{format:L}){return L?Object.keys(L({})).reduce((ee,te)=>(Z?.hasOwnProperty(te)&&(ee[te]=Z[te]),ee),{}):{}}function formatTransactionRequest(Z){return{...Z,gas:typeof Z.gas<"u"?numberToHex(Z.gas):void 0,gasPrice:typeof Z.gasPrice<"u"?numberToHex(Z.gasPrice):void 0,maxFeePerGas:typeof Z.maxFeePerGas<"u"?numberToHex(Z.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof Z.maxPriorityFeePerGas<"u"?numberToHex(Z.maxPriorityFeePerGas):void 0,nonce:typeof Z.nonce<"u"?numberToHex(Z.nonce):void 0,value:typeof Z.value<"u"?numberToHex(Z.value):void 0}}function assertRequest(Z){const{account:L,gasPrice:X,maxFeePerGas:ee,maxPriorityFeePerGas:te,to:ie}=Z,oe=L?parseAccount(L):void 0;if(oe&&!isAddress(oe.address))throw new InvalidAddressError({address:oe.address});if(ie&&!isAddress(ie))throw new InvalidAddressError({address:ie});if(typeof X<"u"&&(typeof ee<"u"||typeof te<"u"))throw new FeeConflictError;if(ee&&ee>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ee});if(te&&ee&&te>ee)throw new TipAboveFeeCapError({maxFeePerGas:ee,maxPriorityFeePerGas:te})}class BlockNotFoundError extends BaseError{constructor({blockHash:L,blockNumber:X}){let ee="Block";L&&(ee=`Block at hash "${L}"`),X&&(ee=`Block at number "${X}"`),super(`${ee} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(Z){const L={...Z,blockHash:Z.blockHash?Z.blockHash:null,blockNumber:Z.blockNumber?BigInt(Z.blockNumber):null,chainId:Z.chainId?hexToNumber$1(Z.chainId):void 0,gas:Z.gas?BigInt(Z.gas):void 0,gasPrice:Z.gasPrice?BigInt(Z.gasPrice):void 0,maxFeePerGas:Z.maxFeePerGas?BigInt(Z.maxFeePerGas):void 0,maxPriorityFeePerGas:Z.maxPriorityFeePerGas?BigInt(Z.maxPriorityFeePerGas):void 0,nonce:Z.nonce?hexToNumber$1(Z.nonce):void 0,to:Z.to?Z.to:null,transactionIndex:Z.transactionIndex?Number(Z.transactionIndex):null,type:Z.type?transactionType[Z.type]:void 0,typeHex:Z.type?Z.type:void 0,value:Z.value?BigInt(Z.value):void 0,v:Z.v?BigInt(Z.v):void 0};return L.type==="legacy"&&(delete L.accessList,delete L.maxFeePerGas,delete L.maxPriorityFeePerGas),L.type==="eip2930"&&(delete L.maxFeePerGas,delete L.maxPriorityFeePerGas),L}function formatBlock(Z){const L=Z.transactions?.map(X=>typeof X=="string"?X:formatTransaction(X));return{...Z,baseFeePerGas:Z.baseFeePerGas?BigInt(Z.baseFeePerGas):null,difficulty:Z.difficulty?BigInt(Z.difficulty):void 0,gasLimit:Z.gasLimit?BigInt(Z.gasLimit):void 0,gasUsed:Z.gasUsed?BigInt(Z.gasUsed):void 0,hash:Z.hash?Z.hash:null,logsBloom:Z.logsBloom?Z.logsBloom:null,nonce:Z.nonce?Z.nonce:null,number:Z.number?BigInt(Z.number):null,size:Z.size?BigInt(Z.size):void 0,timestamp:Z.timestamp?BigInt(Z.timestamp):void 0,transactions:L,totalDifficulty:Z.totalDifficulty?BigInt(Z.totalDifficulty):null}}async function getBlock(Z,{blockHash:L,blockNumber:X,blockTag:ee,includeTransactions:te}={}){const ie=ee??"latest",oe=te??!1,se=X!==void 0?numberToHex(X):void 0;let ue=null;if(L?ue=await Z.request({method:"eth_getBlockByHash",params:[L,oe]}):ue=await Z.request({method:"eth_getBlockByNumber",params:[se||ie,oe]}),!ue)throw new BlockNotFoundError({blockHash:L,blockNumber:X});return(Z.chain?.formatters?.block?.format||formatBlock)(ue)}async function getGasPrice(Z){const L=await Z.request({method:"eth_gasPrice"});return BigInt(L)}async function getTransactionCount(Z,{address:L,blockTag:X="latest",blockNumber:ee}){const te=await Z.request({method:"eth_getTransactionCount",params:[L,ee?numberToHex(ee):X]});return hexToNumber$1(te)}async function prepareRequest(Z,L){const{account:X,chain:ee=Z.chain,gas:te,gasPrice:ie,maxFeePerGas:oe,maxPriorityFeePerGas:se,nonce:ue}=L;if(!X)throw new AccountNotFoundError;const ce=parseAccount(X),le=await getBlock(Z,{blockTag:"latest"}),he={...L,from:ce.address};if(typeof ue>"u"&&(he.nonce=await getTransactionCount(Z,{address:ce.address,blockTag:"pending"})),typeof le.baseFeePerGas=="bigint"&&typeof ie>"u"){let pe=1500000000n;if(typeof ee?.fees?.defaultPriorityFee<"u"&&(pe=typeof ee.fees.defaultPriorityFee=="bigint"?ee.fees.defaultPriorityFee:await ee.fees.defaultPriorityFee({block:le,request:he})),typeof oe>"u")he.maxPriorityFeePerGas=se??pe,he.maxFeePerGas=le.baseFeePerGas*120n/100n+he.maxPriorityFeePerGas;else{if(typeof se>"u"&&oe<pe)throw new BaseError("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");he.maxFeePerGas=oe,he.maxPriorityFeePerGas=se??pe}}else if(typeof ie>"u"){if(typeof oe<"u"||typeof se<"u")throw new BaseError("Chain does not support EIP-1559 fees.");he.gasPrice=await getGasPrice(Z)*120n/100n}return typeof te>"u"&&(he.gas=await estimateGas(Z,{...he,account:{address:ce.address,type:"json-rpc"}})),assertRequest(he),he}async function estimateGas(Z,L){const X=L.account??Z.account;if(!X)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const ee=parseAccount(X);try{const{accessList:te,blockNumber:ie,blockTag:oe,data:se,gas:ue,gasPrice:ce,maxFeePerGas:le,maxPriorityFeePerGas:he,nonce:pe,to:we,value:_e,...xe}=ee.type==="local"?await prepareRequest(Z,L):L,Ie=(ie?numberToHex(ie):void 0)||oe;assertRequest(L);const Pe=Z.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Ce=Pe({...extract(xe,{format:Pe}),from:ee.address,accessList:te,data:se,gas:ue,gasPrice:ce,maxFeePerGas:le,maxPriorityFeePerGas:he,nonce:pe,to:we,value:_e}),We=await Z.request({method:"eth_estimateGas",params:Ie?[Ce,Ie]:[Ce]});return BigInt(We)}catch(te){throw getEstimateGasError(te,{...L,account:ee,chain:Z.chain})}}async function estimateContractGas(Z,{abi:L,address:X,args:ee,functionName:te,...ie}){const oe=encodeFunctionData({abi:L,args:ee,functionName:te});try{return await estimateGas(Z,{data:oe,to:X,...ie})}catch(se){const ue=ie.account?parseAccount(ie.account):void 0;throw getContractError(se,{abi:L,address:X,args:ee,docsPath:"/docs/contract/estimateContractGas",functionName:te,sender:ue?.address})}}const docsPath$2="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:Z,args:L,functionName:X,data:ee}){let te=Z[0];if(X&&(te=getAbiItem({abi:Z,args:L,name:X}),!te))throw new AbiFunctionNotFoundError(X,{docsPath:docsPath$2});if(te.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$2});if(!te.outputs)throw new AbiFunctionOutputsNotFoundError(te.name,{docsPath:docsPath$2});const ie=decodeAbiParameters(te.outputs,ee);if(ie&&ie.length>1)return ie;if(ie&&ie.length===1)return ie[0]}const multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:L,chain:X,contract:ee}){super(`Chain "${X.name}" does not support contract "${ee.name}".`,{metaMessages:["This could be due to any of the following:",...L&&ee.blockCreated&&ee.blockCreated>L?[`- The contract "${ee.name}" was not deployed until block ${ee.blockCreated} (current block ${L}).`]:[`- The chain does not have the contract "${ee.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:L,currentChainId:X}){super(`The current chain of the wallet (id: ${X}) does not match the target chain for the transaction (id: ${L.id} – ${L.name}).`,{metaMessages:[`Current Chain ID:  ${X}`,`Expected Chain ID: ${L.id} – ${L.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:L}){super(`Chain ID "${L}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain({chain:Z,currentChainId:L}){if(!Z)throw new ChainNotFoundError;if(L!==Z.id)throw new ChainMismatchError({chain:Z,currentChainId:L})}function defineChain(Z,L={}){const{fees:X=Z.fees,formatters:ee=Z.formatters,serializers:te=Z.serializers}=L;return{...Z,fees:X,formatters:ee,serializers:te}}function getChainContractAddress({blockNumber:Z,chain:L,contract:X}){const ee=L?.contracts?.[X];if(!ee)throw new ChainDoesNotSupportContract({chain:L,contract:{name:X}});if(Z&&ee.blockCreated&&ee.blockCreated>Z)throw new ChainDoesNotSupportContract({blockNumber:Z,chain:L,contract:{name:X,blockCreated:ee.blockCreated}});return ee.address}function getCallError(Z,{docsPath:L,...X}){let ee=Z;return containsNodeError(Z)&&(ee=getNodeError(Z,X)),new CallExecutionError(ee,{docsPath:L,...X})}const schedulerCache=new Map;function createBatchScheduler({fn:Z,id:L,shouldSplitBatch:X,wait:ee=0}){const te=async()=>{const ce=se();ie();const le=ce.map(({args:he})=>he);le.length!==0&&Z(le).then(he=>{ce.forEach(({pendingPromise:pe},we)=>pe.resolve?.([he[we],he]))}).catch(he=>{ce.forEach(({pendingPromise:pe})=>pe.reject?.(he))})},ie=()=>schedulerCache.delete(L),oe=()=>se().map(({args:ce})=>ce),se=()=>schedulerCache.get(L)||[],ue=ce=>schedulerCache.set(L,[...se(),ce]);return{flush:ie,async schedule(ce){const le={},he=new Promise((_e,xe)=>{le.resolve=_e,le.reject=xe});return X?.([...oe(),ce])&&te(),se().length>0?(ue({args:ce,pendingPromise:le}),he):(ue({args:ce,pendingPromise:le}),setTimeout(te,ee),he)}}}async function call(Z,L){const{account:X,batch:ee=!!Z.batch?.multicall,blockNumber:te,blockTag:ie="latest",accessList:oe,data:se,gas:ue,gasPrice:ce,maxFeePerGas:le,maxPriorityFeePerGas:he,nonce:pe,to:we,value:_e,...xe}=L,Ae=X?parseAccount(X):void 0;try{assertRequest(L);const Pe=(te?numberToHex(te):void 0)||ie,Ce=Z.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,We=Ce({...extract(xe,{format:Ce}),from:Ae?.address,accessList:oe,data:se,gas:ue,gasPrice:ce,maxFeePerGas:le,maxPriorityFeePerGas:he,nonce:pe,to:we,value:_e});if(ee&&shouldPerformMulticall({request:We}))try{return await scheduleMulticall(Z,{...We,blockNumber:te,blockTag:ie})}catch(Ge){if(!(Ge instanceof ClientChainNotConfiguredError)&&!(Ge instanceof ChainDoesNotSupportContract))throw Ge}const Ve=await Z.request({method:"eth_call",params:Pe?[We,Pe]:[We]});return Ve==="0x"?{data:void 0}:{data:Ve}}catch(Ie){const Pe=getRevertErrorData(Ie),{offchainLookup:Ce,offchainLookupSignature:We}=await __vitePreload(()=>import("./ccip-8deba9c0.js"),[]);if(Pe?.slice(0,10)===We&&we)return{data:await Ce(Z,{data:Pe,to:we})};throw getCallError(Ie,{...L,account:Ae,chain:Z.chain})}}function shouldPerformMulticall({request:Z}){const{data:L,to:X,...ee}=Z;return!(!L||L.startsWith(aggregate3Signature)||!X||Object.values(ee).filter(te=>typeof te<"u").length>0)}async function scheduleMulticall(Z,L){const{batchSize:X=1024,wait:ee=0}=typeof Z.batch?.multicall=="object"?Z.batch.multicall:{},{blockNumber:te,blockTag:ie="latest",data:oe,multicallAddress:se,to:ue}=L;let ce=se;if(!ce){if(!Z.chain)throw new ClientChainNotConfiguredError;ce=getChainContractAddress({blockNumber:te,chain:Z.chain,contract:"multicall3"})}const he=(te?numberToHex(te):void 0)||ie,{schedule:pe}=createBatchScheduler({id:`${Z.uid}.${he}`,wait:ee,shouldSplitBatch(xe){return xe.reduce((Ie,{data:Pe})=>Ie+(Pe.length-2),0)>X*2},fn:async xe=>{const Ae=xe.map(Ce=>({allowFailure:!0,callData:Ce.data,target:Ce.to})),Ie=encodeFunctionData({abi:multicall3Abi,args:[Ae],functionName:"aggregate3"}),Pe=await Z.request({method:"eth_call",params:[{data:Ie,to:ce},he]});return decodeFunctionResult({abi:multicall3Abi,args:[Ae],functionName:"aggregate3",data:Pe||"0x"})}}),[{returnData:we,success:_e}]=await pe({data:oe,to:ue});if(!_e)throw new RawContractError({data:we});return we==="0x"?{data:void 0}:{data:we}}function getRevertErrorData(Z){if(!(Z instanceof BaseError))return;const L=Z.walk();return typeof L.data=="object"?L.data.data:L.data}async function readContract(Z,{abi:L,address:X,args:ee,functionName:te,...ie}){const oe=encodeFunctionData({abi:L,args:ee,functionName:te});try{const{data:se}=await call(Z,{data:oe,to:X,...ie});return decodeFunctionResult({abi:L,args:ee,functionName:te,data:se||"0x"})}catch(se){throw getContractError(se,{abi:L,address:X,args:ee,docsPath:"/docs/contract/readContract",functionName:te})}}async function simulateContract(Z,{abi:L,address:X,args:ee,dataSuffix:te,functionName:ie,...oe}){const se=oe.account?parseAccount(oe.account):void 0,ue=encodeFunctionData({abi:L,args:ee,functionName:ie});try{const{data:ce}=await call(Z,{batch:!1,data:`${ue}${te?te.replace("0x",""):""}`,to:X,...oe});return{result:decodeFunctionResult({abi:L,args:ee,functionName:ie,data:ce||"0x"}),request:{abi:L,address:X,args:ee,dataSuffix:te,functionName:ie,...oe}}}catch(ce){throw getContractError(ce,{abi:L,address:X,args:ee,docsPath:"/docs/contract/simulateContract",functionName:ie,sender:se?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(Z,L,X){const ee=++callbackCount,te=()=>listenersCache.get(Z)||[],ie=()=>{const le=te();listenersCache.set(Z,le.filter(he=>he.id!==ee))},oe=()=>{const le=cleanupCache.get(Z);te().length===1&&le&&le(),ie()},se=te();if(listenersCache.set(Z,[...se,{id:ee,fns:L}]),se&&se.length>0)return oe;const ue={};for(const le in L)ue[le]=(...he)=>{const pe=te();pe.length!==0&&pe.forEach(we=>we.fns[le]?.(...he))};const ce=X(ue);return typeof ce=="function"&&cleanupCache.set(Z,ce),oe}async function wait(Z){return new Promise(L=>setTimeout(L,Z))}function poll(Z,{emitOnBegin:L,initialWaitTime:X,interval:ee}){let te=!0;const ie=()=>te=!1;return(async()=>{let se;L&&(se=await Z({unpoll:ie}));const ue=await X?.(se)??ee;await wait(ue);const ce=async()=>{te&&(await Z({unpoll:ie}),await wait(ee),ce())};ce()})(),ie}const promiseCache=new Map,responseCache=new Map;function getCache(Z){const L=(te,ie)=>({clear:()=>ie.delete(te),get:()=>ie.get(te),set:oe=>ie.set(te,oe)}),X=L(Z,promiseCache),ee=L(Z,responseCache);return{clear:()=>{X.clear(),ee.clear()},promise:X,response:ee}}async function withCache(Z,{cacheKey:L,cacheTime:X=1/0}){const ee=getCache(L),te=ee.response.get();if(te&&X>0&&new Date().getTime()-te.created.getTime()<X)return te.data;let ie=ee.promise.get();ie||(ie=Z(),ee.promise.set(ie));try{const oe=await ie;return ee.response.set({created:new Date,data:oe}),oe}finally{ee.promise.clear()}}const cacheKey=Z=>`blockNumber.${Z}`;async function getBlockNumber(Z,{cacheTime:L=Z.cacheTime,maxAge:X}={}){const ee=await withCache(()=>Z.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(Z.uid),cacheTime:X??L});return BigInt(ee)}const docsPath$1="/docs/contract/decodeEventLog";function decodeEventLog({abi:Z,data:L,strict:X,topics:ee}){const te=X??!0,[ie,...oe]=ee;if(!ie)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$1});const se=Z.find(_e=>_e.type==="event"&&ie===getEventSelector(formatAbiItem(_e)));if(!(se&&"name"in se)||se.type!=="event")throw new AbiEventSignatureNotFoundError(ie,{docsPath:docsPath$1});const{name:ue,inputs:ce}=se,le=ce?.some(_e=>!("name"in _e&&_e.name));let he=le?[]:{};const pe=ce.filter(_e=>"indexed"in _e&&_e.indexed);if(oe.length>0)for(let _e=0;_e<pe.length;_e++){const xe=pe[_e],Ae=oe[_e];if(!Ae)throw new DecodeLogTopicsMismatch({abiItem:se,param:xe});he[xe.name||_e]=decodeTopic({param:xe,value:Ae})}const we=ce.filter(_e=>!("indexed"in _e&&_e.indexed));if(we.length>0){if(L&&L!=="0x")try{const _e=decodeAbiParameters(we,L);if(_e)if(le)he=[...he,..._e];else for(let xe=0;xe<we.length;xe++)he[we[xe].name]=_e[xe]}catch(_e){if(te)throw _e instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:se,data:_e.data,params:_e.params,size:_e.size}):_e}else if(te)throw new DecodeLogDataMismatch({abiItem:se,data:"0x",params:we,size:0})}return{eventName:ue,args:Object.values(he).length>0?he:void 0}}function decodeTopic({param:Z,value:L}){return Z.type==="string"||Z.type==="bytes"||Z.type==="tuple"||Z.type.match(/^(.*)\[(\d+)?\]$/)?L:(decodeAbiParameters([Z],L)||[])[0]}function formatLog(Z,{args:L,eventName:X}={}){return{...Z,blockHash:Z.blockHash?Z.blockHash:null,blockNumber:Z.blockNumber?BigInt(Z.blockNumber):null,logIndex:Z.logIndex?Number(Z.logIndex):null,transactionHash:Z.transactionHash?Z.transactionHash:null,transactionIndex:Z.transactionIndex?Number(Z.transactionIndex):null,...X?{args:L,eventName:X}:{}}}async function getFilterChanges(Z,{filter:L}){const X="strict"in L&&L.strict;return(await L.request({method:"eth_getFilterChanges",params:[L.id]})).map(te=>{if(typeof te=="string")return te;try{const{eventName:ie,args:oe}="abi"in L&&L.abi?decodeEventLog({abi:L.abi,data:te.data,topics:te.topics,strict:X}):{eventName:void 0,args:void 0};return formatLog(te,{args:oe,eventName:ie})}catch(ie){let oe,se;if(ie instanceof DecodeLogDataMismatch||ie instanceof DecodeLogTopicsMismatch){if("strict"in L&&L.strict)return;oe=ie.abiItem.name,se=ie.abiItem.inputs?.some(ue=>!("name"in ue&&ue.name))}return formatLog(te,{args:se?[]:{},eventName:oe})}}).filter(Boolean)}async function getLogs(Z,{address:L,blockHash:X,fromBlock:ee,toBlock:te,event:ie,events:oe,args:se,strict:ue}={}){const ce=ue??!1,le=oe??(ie?[ie]:void 0);let he=[];le&&(he=[le.flatMap(we=>encodeEventTopics({abi:[we],eventName:we.name,args:se}))],ie&&(he=he[0]));let pe;return X?pe=await Z.request({method:"eth_getLogs",params:[{address:L,topics:he,blockHash:X}]}):pe=await Z.request({method:"eth_getLogs",params:[{address:L,topics:he,fromBlock:typeof ee=="bigint"?numberToHex(ee):ee,toBlock:typeof te=="bigint"?numberToHex(te):te}]}),pe.map(we=>{try{const{eventName:_e,args:xe}=le?decodeEventLog({abi:le,data:we.data,topics:we.topics,strict:ce}):{eventName:void 0,args:void 0};return formatLog(we,{args:xe,eventName:_e})}catch(_e){let xe,Ae;if(_e instanceof DecodeLogDataMismatch||_e instanceof DecodeLogTopicsMismatch){if(ce)return;xe=_e.abiItem.name,Ae=_e.abiItem.inputs?.some(Ie=>!("name"in Ie&&Ie.name))}return formatLog(we,{args:Ae?[]:{},eventName:xe})}}).filter(Boolean)}async function uninstallFilter(Z,{filter:L}){return L.request({method:"eth_uninstallFilter",params:[L.id]})}function watchContractEvent(Z,{abi:L,address:X,args:ee,batch:te=!0,eventName:ie,onError:oe,onLogs:se,poll:ue,pollingInterval:ce=Z.pollingInterval,strict:le}){return(typeof ue<"u"?ue:Z.transport.type!=="webSocket")?(()=>{const _e=stringify(["watchContractEvent",X,ee,te,Z.uid,ie,ce]),xe=le??!1;return observe(_e,{onLogs:se,onError:oe},Ae=>{let Ie,Pe,Ce=!1;const We=poll(async()=>{if(!Ce){try{Pe=await createContractEventFilter(Z,{abi:L,address:X,args:ee,eventName:ie,strict:xe})}catch{}Ce=!0;return}try{let Ve;if(Pe)Ve=await getFilterChanges(Z,{filter:Pe});else{const Ge=await getBlockNumber(Z);Ie&&Ie!==Ge?Ve=await getLogs(Z,{address:X,args:ee,fromBlock:Ie+1n,toBlock:Ge,event:getAbiItem({abi:L,name:ie})}):Ve=[],Ie=Ge}if(Ve.length===0)return;te?Ae.onLogs(Ve):Ve.forEach(Ge=>Ae.onLogs([Ge]))}catch(Ve){Pe&&Ve instanceof InvalidInputRpcError&&(Ce=!1),Ae.onError?.(Ve)}},{emitOnBegin:!0,interval:ce});return async()=>{Pe&&await uninstallFilter(Z,{filter:Pe}),We()}})})():(()=>{let _e=!0,xe=()=>_e=!1;return(async()=>{try{const Ae=ie?encodeEventTopics({abi:L,eventName:ie,args:ee}):[],{unsubscribe:Ie}=await Z.transport.subscribe({params:["logs",{address:X,topics:Ae}],onData(Pe){if(!_e)return;const Ce=Pe.result;try{const{eventName:We,args:Ve}=decodeEventLog({abi:L,data:Ce.data,topics:Ce.topics,strict:le}),Ge=formatLog(Ce,{args:Ve,eventName:We});se([Ge])}catch(We){let Ve,Ge;if(We instanceof DecodeLogDataMismatch||We instanceof DecodeLogTopicsMismatch){if(le)return;Ve=We.abiItem.name,Ge=We.abiItem.inputs?.some(Qe=>!("name"in Qe&&Qe.name))}const tt=formatLog(Ce,{args:Ge?[]:{},eventName:Ve});se([tt])}},onError(Pe){oe?.(Pe)}});xe=Ie,_e||xe()}catch(Ae){oe?.(Ae)}})(),xe})()}function getTransactionError(Z,{docsPath:L,...X}){let ee=Z;return containsNodeError(Z)&&(ee=getNodeError(Z,X)),new TransactionExecutionError(ee,{docsPath:L,...X})}async function getChainId(Z){const L=await Z.request({method:"eth_chainId"});return hexToNumber$1(L)}async function sendTransaction(Z,L){const{account:X=Z.account,chain:ee=Z.chain,accessList:te,data:ie,gas:oe,gasPrice:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,nonce:le,to:he,value:pe,...we}=L;if(!X)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const _e=parseAccount(X);try{assertRequest(L);let xe;if(ee!==null&&(xe=await getChainId(Z),assertCurrentChain({currentChainId:xe,chain:ee})),_e.type==="local"){const Pe=await prepareRequest(Z,{account:_e,accessList:te,chain:ee,data:ie,gas:oe,gasPrice:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,nonce:le,to:he,value:pe,...we});xe||(xe=await getChainId(Z));const Ce=ee?.serializers?.transaction,We=await _e.signTransaction({...Pe,chainId:xe},{serializer:Ce});return await Z.request({method:"eth_sendRawTransaction",params:[We]})}const Ae=ee?.formatters?.transactionRequest?.format||formatTransactionRequest,Ie=Ae({...extract(we,{format:Ae}),accessList:te,data:ie,from:_e.address,gas:oe,gasPrice:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,nonce:le,to:he,value:pe});return await Z.request({method:"eth_sendTransaction",params:[Ie]})}catch(xe){throw getTransactionError(xe,{...L,account:_e,chain:L.chain||void 0})}}async function writeContract(Z,{abi:L,address:X,args:ee,dataSuffix:te,functionName:ie,...oe}){const se=encodeFunctionData({abi:L,args:ee,functionName:ie});return await sendTransaction(Z,{data:`${se}${te?te.replace("0x",""):""}`,to:X,...oe})}function getContract({abi:Z,address:L,publicClient:X,walletClient:ee}){const te=X!=null,ie=ee!=null,oe={};let se=!1,ue=!1,ce=!1;for(const le of Z)if(le.type==="function"?le.stateMutability==="view"||le.stateMutability==="pure"?se=!0:ue=!0:le.type==="event"&&(ce=!0),se&&ue&&ce)break;return te&&(se&&(oe.read=new Proxy({},{get(le,he){return(...pe)=>{const{args:we,options:_e}=getFunctionParameters(pe);return readContract(X,{abi:Z,address:L,functionName:he,args:we,..._e})}}})),ue&&(oe.simulate=new Proxy({},{get(le,he){return(...pe)=>{const{args:we,options:_e}=getFunctionParameters(pe);return simulateContract(X,{abi:Z,address:L,functionName:he,args:we,..._e})}}})),ce&&(oe.createEventFilter=new Proxy({},{get(le,he){return(...pe)=>{const we=Z.find(Ae=>Ae.type==="event"&&Ae.name===he),{args:_e,options:xe}=getEventParameters(pe,we);return createContractEventFilter(X,{abi:Z,address:L,eventName:he,args:_e,...xe})}}}),oe.watchEvent=new Proxy({},{get(le,he){return(...pe)=>{const we=Z.find(Ae=>Ae.type==="event"&&Ae.name===he),{args:_e,options:xe}=getEventParameters(pe,we);return watchContractEvent(X,{abi:Z,address:L,eventName:he,args:_e,...xe})}}}))),ie&&ue&&(oe.write=new Proxy({},{get(le,he){return(...pe)=>{const{args:we,options:_e}=getFunctionParameters(pe);return writeContract(ee,{abi:Z,address:L,functionName:he,args:we,..._e})}}})),(te||ie)&&ue&&(oe.estimateGas=new Proxy({},{get(le,he){return(...pe)=>{const{args:we,options:_e}=getFunctionParameters(pe);return estimateContractGas(X??ee,{abi:Z,address:L,functionName:he,args:we,..._e,account:_e.account??ee.account})}}})),oe.address=L,oe.abi=Z,oe}function getFunctionParameters(Z){const L=Z.length&&Array.isArray(Z[0]),X=L?Z[0]:[],ee=(L?Z[1]:Z[0])??{};return{args:X,options:ee}}function getEventParameters(Z,L){let X=!1;Array.isArray(Z[0])?X=!0:Z.length===1?X=L.inputs.some(ie=>ie.indexed):Z.length===2&&(X=!0);const ee=X?Z[0]:void 0,te=(X?Z[1]:Z[0])??{};return{args:ee,options:te}}async function addChain(Z,{chain:L}){const{id:X,name:ee,nativeCurrency:te,rpcUrls:ie,blockExplorers:oe}=L;await Z.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(X),chainName:ee,nativeCurrency:te,rpcUrls:ie.default.http,blockExplorerUrls:oe?Object.values(oe).map(({url:se})=>se):void 0}]})}function publicKeyToAddress(Z){const L=keccak256(`0x${Z.substring(4)}`).substring(26);return checksumAddress(`0x${L}`)}const size=256;let index=size,buffer;function uid(Z=11){if(!buffer||index+Z>size*2){buffer="",index=0;for(let L=0;L<size;L++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++Z)}function createClient$1(Z){const{batch:L,cacheTime:X=Z.pollingInterval??4e3,key:ee="base",name:te="Base Client",pollingInterval:ie=4e3,type:oe="base"}=Z,se=Z.chain,ue=Z.account?parseAccount(Z.account):void 0,{config:ce,request:le,value:he}=Z.transport({chain:se,pollingInterval:ie}),pe={...ce,...he},we={account:ue,batch:L,cacheTime:X,chain:se,key:ee,name:te,pollingInterval:ie,request:le,transport:pe,type:oe,uid:uid()};function _e(xe){return Ae=>{const Ie=Ae(xe);for(const Ce in we)delete Ie[Ce];const Pe={...xe,...Ie};return Object.assign(Pe,{extend:_e(Pe)})}}return Object.assign(we,{extend:_e(we)})}function withRetry(Z,{delay:L=100,retryCount:X=2,shouldRetry:ee=()=>!0}={}){return new Promise((te,ie)=>{const oe=async({count:se=0}={})=>{const ue=async({error:ce})=>{const le=typeof L=="function"?L({count:se,error:ce}):L;le&&await wait(le),oe({count:se+1})};try{const ce=await Z();te(ce)}catch(ce){if(se<X&&await ee({count:se,error:ce}))return ue({error:ce});ie(ce)}};oe()})}const isDeterministicError=Z=>"code"in Z?Z.code!==-1&&Z.code!==-32004&&Z.code!==-32005&&Z.code!==-32042&&Z.code!==-32603:Z instanceof HttpRequestError&&Z.status?Z.status!==403&&Z.status!==408&&Z.status!==413&&Z.status!==429&&Z.status!==500&&Z.status!==502&&Z.status!==503&&Z.status!==504:!1;function buildRequest(Z,{retryDelay:L=150,retryCount:X=3}={}){return async ee=>withRetry(async()=>{try{return await Z(ee)}catch(te){const ie=te;switch(ie.code){case ParseRpcError.code:throw new ParseRpcError(ie);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(ie);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(ie);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(ie);case InternalRpcError.code:throw new InternalRpcError(ie);case InvalidInputRpcError.code:throw new InvalidInputRpcError(ie);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(ie);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(ie);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(ie);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(ie);case LimitExceededRpcError.code:throw new LimitExceededRpcError(ie);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(ie);case UserRejectedRequestError.code:throw new UserRejectedRequestError(ie);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(ie);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(ie);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(ie);case ChainDisconnectedError.code:throw new ChainDisconnectedError(ie);case SwitchChainError.code:throw new SwitchChainError(ie);default:throw te instanceof BaseError?te:new UnknownRpcError(ie)}}},{delay:({count:te,error:ie})=>{if(ie&&ie instanceof HttpRequestError){const oe=ie?.headers?.get("Retry-After");if(oe?.match(/\d/))return parseInt(oe)*1e3}return~~(1<<te)*L},retryCount:X,shouldRetry:({error:te})=>!isDeterministicError(te)})}function createTransport({key:Z,name:L,request:X,retryCount:ee=3,retryDelay:te=150,timeout:ie,type:oe},se){return{config:{key:Z,name:L,request:X,retryCount:ee,retryDelay:te,timeout:ie,type:oe},request:buildRequest(X,{retryCount:ee,retryDelay:te}),value:se}}function fallback(Z,L={}){const{key:X="fallback",name:ee="Fallback",rank:te=!1,retryCount:ie,retryDelay:oe}=L;return({chain:se,pollingInterval:ue=4e3,timeout:ce})=>{let le=Z,he=()=>{};const pe=createTransport({key:X,name:ee,async request({method:we,params:_e}){const xe=async(Ae=0)=>{const Ie=le[Ae]({chain:se,retryCount:0,timeout:ce});try{const Pe=await Ie.request({method:we,params:_e});return he({method:we,params:_e,response:Pe,transport:Ie,status:"success"}),Pe}catch(Pe){if(he({error:Pe,method:we,params:_e,transport:Ie,status:"error"}),isDeterministicError(Pe)||Ae===le.length-1)throw Pe;return xe(Ae+1)}};return xe()},retryCount:ie,retryDelay:oe,type:"fallback"},{onResponse:we=>he=we,transports:le.map(we=>we({chain:se,retryCount:0}))});if(te){const we=typeof te=="object"?te:{};rankTransports({chain:se,interval:we.interval??ue,onTransports:_e=>le=_e,sampleCount:we.sampleCount,timeout:we.timeout,transports:le,weights:we.weights})}return pe}}function rankTransports({chain:Z,interval:L=4e3,onTransports:X,sampleCount:ee=10,timeout:te=1e3,transports:ie,weights:oe={}}){const{stability:se=.7,latency:ue=.3}=oe,ce=[],le=async()=>{const he=await Promise.all(ie.map(async _e=>{const xe=_e({chain:Z,retryCount:0,timeout:te}),Ae=Date.now();let Ie,Pe;try{await xe.request({method:"net_listening"}),Pe=1}catch{Pe=0}finally{Ie=Date.now()}return{latency:Ie-Ae,success:Pe}}));ce.push(he),ce.length>ee&&ce.shift();const pe=Math.max(...ce.map(_e=>Math.max(..._e.map(({latency:xe})=>xe)))),we=ie.map((_e,xe)=>{const Ae=ce.map(Ve=>Ve[xe].latency),Pe=1-Ae.reduce((Ve,Ge)=>Ve+Ge,0)/Ae.length/pe,Ce=ce.map(Ve=>Ve[xe].success),We=Ce.reduce((Ve,Ge)=>Ve+Ge,0)/Ce.length;return We===0?[0,xe]:[ue*Pe+se*We,xe]}).sort((_e,xe)=>xe[0]-_e[0]);X(we.map(([,_e])=>ie[_e])),await wait(L),le()};le()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function withTimeout(Z,{errorInstance:L,timeout:X,signal:ee}){return new Promise((te,ie)=>{(async()=>{let oe;try{const se=new AbortController;X>0&&(oe=setTimeout(()=>{ee?se.abort():ie(L)},X)),te(await Z({signal:se?.signal}))}catch(se){se.name==="AbortError"&&ie(L),ie(se)}finally{clearTimeout(oe)}})()})}let id=0;async function http$1(Z,{body:L,fetchOptions:X={},timeout:ee=1e4}){const{headers:te,method:ie,signal:oe}=X;try{const se=await withTimeout(async({signal:ce})=>await fetch(Z,{...X,body:Array.isArray(L)?stringify(L.map(he=>({jsonrpc:"2.0",id:id++,...he}))):stringify({jsonrpc:"2.0",id:id++,...L}),headers:{...te,"Content-Type":"application/json"},method:ie||"POST",signal:oe||(ee>0?ce:void 0)}),{errorInstance:new TimeoutError({body:L,url:Z}),timeout:ee,signal:!0});let ue;if(se.headers.get("Content-Type")?.startsWith("application/json")?ue=await se.json():ue=await se.text(),!se.ok)throw new HttpRequestError({body:L,details:stringify(ue.error)||se.statusText,headers:se.headers,status:se.status,url:Z});return ue}catch(se){throw se instanceof HttpRequestError||se instanceof TimeoutError?se:new HttpRequestError({body:L,details:se.message,url:Z})}}const sockets=new Map;async function getSocket(Z){const L=new URL(Z),X=L.toString();let ee=sockets.get(X);if(ee)return ee;const{schedule:te}=createBatchScheduler({id:X,fn:async()=>{let se=await __vitePreload(()=>import("./browser-3852a342.js"),[]);se.default?.constructor?se=se.default:se=se.WebSocket;const ue=new se(L),ce=new Map,le=new Map,he=({data:we})=>{const _e=JSON.parse(we),xe=_e.method==="eth_subscription",Ae=xe?_e.params.subscription:_e.id,Ie=xe?le:ce,Pe=Ie.get(Ae);Pe&&Pe({data:we}),xe||Ie.delete(Ae)},pe=()=>{sockets.delete(X),ue.removeEventListener("close",pe),ue.removeEventListener("message",he)};return ue.addEventListener("close",pe),ue.addEventListener("message",he),ue.readyState===se.CONNECTING&&await new Promise((we,_e)=>{ue&&(ue.onopen=we,ue.onerror=_e)}),ee=Object.assign(ue,{requests:ce,subscriptions:le}),sockets.set(X,ee),[ee]}}),[ie,[oe]]=await te();return oe}function webSocket$1(Z,{body:L,onResponse:X}){if(Z.readyState===Z.CLOSED||Z.readyState===Z.CLOSING)throw new WebSocketRequestError({body:L,url:Z.url,details:"Socket is closed."});const ee=id++,te=({data:ie})=>{const oe=JSON.parse(ie);typeof oe.id=="number"&&ee!==oe.id||(X?.(oe),L.method==="eth_subscribe"&&typeof oe.result=="string"&&Z.subscriptions.set(oe.result,te),L.method==="eth_unsubscribe"&&Z.subscriptions.delete(L.params?.[0]))};return Z.requests.set(ee,te),Z.send(JSON.stringify({jsonrpc:"2.0",...L,id:ee})),Z}async function webSocketAsync(Z,{body:L,timeout:X=1e4}){return withTimeout(()=>new Promise(ee=>rpc$1.webSocket(Z,{body:L,onResponse:ee})),{errorInstance:new TimeoutError({body:L,url:Z.url}),timeout:X})}const rpc$1={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(Z,L={}){const{batch:X,fetchOptions:ee,key:te="http",name:ie="HTTP JSON-RPC",retryDelay:oe}=L;return({chain:se,retryCount:ue,timeout:ce})=>{const{batchSize:le=1e3,wait:he=0}=typeof X=="object"?X:{},pe=L.retryCount??ue,we=ce??L.timeout??1e4,_e=Z||se?.rpcUrls.default.http[0];if(!_e)throw new UrlRequiredError;return createTransport({key:te,name:ie,async request({method:xe,params:Ae}){const Ie={method:xe,params:Ae},{schedule:Pe}=createBatchScheduler({id:`${Z}`,wait:he,shouldSplitBatch(Ge){return Ge.length>le},fn:Ge=>rpc$1.http(_e,{body:Ge,fetchOptions:ee,timeout:we})}),Ce=async Ge=>X?Pe(Ge):[await rpc$1.http(_e,{body:Ge,fetchOptions:ee,timeout:we})],[{error:We,result:Ve}]=await Ce(Ie);if(We)throw new RpcRequestError({body:Ie,error:We,url:_e});return Ve},retryCount:pe,retryDelay:oe,timeout:we,type:"http"},{url:Z})}}function isNullUniversalResolverError(Z,L){if(!(Z instanceof BaseError))return!1;const X=Z.walk(ee=>ee instanceof ContractFunctionRevertedError);return X instanceof ContractFunctionRevertedError?!!(X.data?.errorName==="ResolverNotFound"||X.data?.errorName==="ResolverWildcardNotSupported"||X.reason?.includes("Wildcard on non-extended resolvers is not supported")||L==="reverse"&&X.reason===panicReasons[50]):!1}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function validateTypedData({domain:Z,message:L,primaryType:X,types:ee}){const te=ee,ie=(oe,se)=>{for(const ue of oe){const{name:ce,type:le}=ue,he=le,pe=se[ce],we=he.match(integerRegex);if(we&&(typeof pe=="number"||typeof pe=="bigint")){const[Ae,Ie,Pe]=we;numberToHex(pe,{signed:Ie==="int",size:parseInt(Pe)/8})}if(he==="address"&&typeof pe=="string"&&!isAddress(pe))throw new InvalidAddressError({address:pe});const _e=he.match(bytesRegex);if(_e){const[Ae,Ie]=_e;if(Ie&&size$1(pe)!==parseInt(Ie))throw new BytesSizeMismatchError({expectedSize:parseInt(Ie),givenSize:size$1(pe)})}const xe=te[he];xe&&ie(xe,pe)}};if(te.EIP712Domain&&Z&&ie(te.EIP712Domain,Z),X!=="EIP712Domain"){const oe=te[X];ie(oe,L)}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:Z,args:L,bytecode:X}){if(!L||L.length===0)return X;const ee=Z.find(ie=>"type"in ie&&ie.type==="constructor");if(!ee)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in ee))throw new AbiConstructorParamsNotFoundError({docsPath});if(!ee.inputs||ee.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const te=encodeAbiParameters(ee.inputs,L);return concatHex([X,te])}function toRlp(Z,L){const X=L||"hex";return format(bytesToRlp(parse(Z)),X)}function parse(Z){return Array.isArray(Z)?Z.map(parse):typeof Z=="string"?toBytes$2(Z):Z}function format(Z,L="bytes"){return L==="hex"?bytesToHex$1(Z):Z}function bytesToRlp(Z){if(Array.isArray(Z)){const L=concat(Z.map(bytesToRlp));return new Uint8Array([...encodeLength(L.length,192),...L])}return Z.length===1&&Z[0]<128?Z:new Uint8Array([...encodeLength(Z.length,128),...Z])}function encodeLength(Z,L){return Z<56?[L+Z]:[toBytes$2(Z).length+L+55,...toBytes$2(Z)]}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(Z){return{...Z,blockNumber:Z.blockNumber?BigInt(Z.blockNumber):null,contractAddress:Z.contractAddress?Z.contractAddress:null,cumulativeGasUsed:Z.cumulativeGasUsed?BigInt(Z.cumulativeGasUsed):null,effectiveGasPrice:Z.effectiveGasPrice?BigInt(Z.effectiveGasPrice):null,gasUsed:Z.gasUsed?BigInt(Z.gasUsed):null,logs:Z.logs?Z.logs.map(L=>formatLog(L)):null,to:Z.to?Z.to:null,transactionIndex:Z.transactionIndex?hexToNumber$1(Z.transactionIndex):null,status:Z.status?statuses[Z.status]:null,type:Z.type?transactionType[Z.type]||Z.type:null}}function hashTypedData({domain:Z,message:L,primaryType:X,types:ee}){const te=typeof Z>"u"?{}:Z,ie={EIP712Domain:[typeof te?.name=="string"&&{name:"name",type:"string"},te?.version&&{name:"version",type:"string"},typeof te?.chainId=="number"&&{name:"chainId",type:"uint256"},te?.verifyingContract&&{name:"verifyingContract",type:"address"},te?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...ee};validateTypedData({domain:te,message:L,primaryType:X,types:ie});const oe=["0x1901"];return te&&oe.push(hashDomain({domain:te,types:ie})),X!=="EIP712Domain"&&oe.push(hashStruct({data:L,primaryType:X,types:ie})),keccak256(concat(oe))}function hashDomain({domain:Z,types:L}){return hashStruct({data:Z,primaryType:"EIP712Domain",types:L})}function hashStruct({data:Z,primaryType:L,types:X}){const ee=encodeData({data:Z,primaryType:L,types:X});return keccak256(ee)}function encodeData({data:Z,primaryType:L,types:X}){const ee=[{type:"bytes32"}],te=[hashType({primaryType:L,types:X})];for(const ie of X[L]){const[oe,se]=encodeField({types:X,name:ie.name,type:ie.type,value:Z[ie.name]});ee.push(oe),te.push(se)}return encodeAbiParameters(ee,te)}function hashType({primaryType:Z,types:L}){const X=toHex(encodeType({primaryType:Z,types:L}));return keccak256(X)}function encodeType({primaryType:Z,types:L}){let X="";const ee=findTypeDependencies({primaryType:Z,types:L});ee.delete(Z);const te=[Z,...Array.from(ee).sort()];for(const ie of te)X+=`${ie}(${L[ie].map(({name:oe,type:se})=>`${se} ${oe}`).join(",")})`;return X}function findTypeDependencies({primaryType:Z,types:L},X=new Set){const te=Z.match(/^\w*/u)?.[0];if(X.has(te)||L[te]===void 0)return X;X.add(te);for(const ie of L[te])findTypeDependencies({primaryType:ie.type,types:L},X);return X}function encodeField({types:Z,name:L,type:X,value:ee}){if(Z[X]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:ee,primaryType:X,types:Z}))];if(X==="bytes")return ee=`0x${(ee.length%2?"0":"")+ee.slice(2)}`,[{type:"bytes32"},keccak256(ee)];if(X==="string")return[{type:"bytes32"},keccak256(toHex(ee))];if(X.lastIndexOf("]")===X.length-1){const te=X.slice(0,X.lastIndexOf("[")),ie=ee.map(oe=>encodeField({name:L,type:te,types:Z,value:oe}));return[{type:"bytes32"},keccak256(encodeAbiParameters(ie.map(([oe])=>oe),ie.map(([,oe])=>oe)))]}return[{type:X},ee]}function hashMessage(Z,L){const X=(()=>typeof Z=="string"?stringToBytes(Z):Z.raw instanceof Uint8Array?Z.raw:toBytes$2(Z.raw))(),ee=stringToBytes(`Ethereum Signed Message:
${X.length}`);return keccak256(concat([ee,X]),L)}function getTransactionType(Z){if(Z.type)return Z.type;if(typeof Z.maxFeePerGas<"u"||typeof Z.maxPriorityFeePerGas<"u")return"eip1559";if(typeof Z.gasPrice<"u")return typeof Z.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:Z})}function assertTransactionEIP1559(Z){const{chainId:L,maxPriorityFeePerGas:X,gasPrice:ee,maxFeePerGas:te,to:ie}=Z;if(L<=0)throw new InvalidChainIdError({chainId:L});if(ie&&!isAddress(ie))throw new InvalidAddressError({address:ie});if(ee)throw new BaseError("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te});if(X&&te&&X>te)throw new TipAboveFeeCapError({maxFeePerGas:te,maxPriorityFeePerGas:X})}function assertTransactionEIP2930(Z){const{chainId:L,maxPriorityFeePerGas:X,gasPrice:ee,maxFeePerGas:te,to:ie}=Z;if(L<=0)throw new InvalidChainIdError({chainId:L});if(ie&&!isAddress(ie))throw new InvalidAddressError({address:ie});if(X||te)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(ee&&ee>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ee})}function assertTransactionLegacy(Z){const{chainId:L,maxPriorityFeePerGas:X,gasPrice:ee,maxFeePerGas:te,to:ie,accessList:oe}=Z;if(ie&&!isAddress(ie))throw new InvalidAddressError({address:ie});if(typeof L<"u"&&L<=0)throw new InvalidChainIdError({chainId:L});if(X||te)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(ee&&ee>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ee});if(oe)throw new BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(Z){if(!Z||Z.length===0)return[];const L=[];for(let X=0;X<Z.length;X++){const{address:ee,storageKeys:te}=Z[X];for(let ie=0;ie<te.length;ie++)if(te[ie].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:te[ie]});if(!isAddress(ee))throw new InvalidAddressError({address:ee});L.push([ee,te])}return L}function serializeTransaction(Z,L){const X=getTransactionType(Z);return X==="eip1559"?serializeTransactionEIP1559(Z,L):X==="eip2930"?serializeTransactionEIP2930(Z,L):serializeTransactionLegacy(Z,L)}function serializeTransactionEIP1559(Z,L){const{chainId:X,gas:ee,nonce:te,to:ie,value:oe,maxFeePerGas:se,maxPriorityFeePerGas:ue,accessList:ce,data:le}=Z;assertTransactionEIP1559(Z);const he=serializeAccessList(ce),pe=[toHex(X),te?toHex(te):"0x",ue?toHex(ue):"0x",se?toHex(se):"0x",ee?toHex(ee):"0x",ie??"0x",oe?toHex(oe):"0x",le??"0x",he];return L&&pe.push(L.v===27n?"0x":toHex(1),trim(L.r),trim(L.s)),concatHex(["0x02",toRlp(pe)])}function serializeTransactionEIP2930(Z,L){const{chainId:X,gas:ee,data:te,nonce:ie,to:oe,value:se,accessList:ue,gasPrice:ce}=Z;assertTransactionEIP2930(Z);const le=serializeAccessList(ue),he=[toHex(X),ie?toHex(ie):"0x",ce?toHex(ce):"0x",ee?toHex(ee):"0x",oe??"0x",se?toHex(se):"0x",te??"0x",le];return L&&he.push(L.v===27n?"0x":toHex(1),L.r,L.s),concatHex(["0x01",toRlp(he)])}function serializeTransactionLegacy(Z,L){const{chainId:X=0,gas:ee,data:te,nonce:ie,to:oe,value:se,gasPrice:ue}=Z;assertTransactionLegacy(Z);let ce=[ie?toHex(ie):"0x",ue?toHex(ue):"0x",ee?toHex(ee):"0x",oe??"0x",se?toHex(se):"0x",te??"0x"];if(L){let le=27n+(L.v===27n?0n:1n);if(X>0)le=BigInt(X*2)+BigInt(35n+L.v-27n);else if(L.v!==le)throw new InvalidLegacyVError({v:L.v});ce=[...ce,toHex(le),L.r,L.s]}else X>0&&(ce=[...ce,toHex(X),"0x","0x"]);return toRlp(ce)}function parseUnits(Z,L){let[X,ee="0"]=Z.split(".");const te=X.startsWith("-");if(te&&(X=X.slice(1)),ee=ee.replace(/(0+)$/,""),L===0)Math.round(+`.${ee}`)===1&&(X=`${BigInt(X)+1n}`),ee="";else if(ee.length>L){const[ie,oe,se]=[ee.slice(0,L-1),ee.slice(L-1,L),ee.slice(L)],ue=Math.round(+`${oe}.${se}`);ue>9?ee=`${BigInt(ie)+BigInt(1)}0`.padStart(ie.length+1,"0"):ee=`${ie}${ue}`,ee.length>L&&(ee=ee.slice(1),X=`${BigInt(X)+1n}`),ee=ee.slice(0,L)}else ee=ee.padEnd(L,"0");return BigInt(`${te?"-":""}${X}${ee}`)}function parseEther(Z,L="wei"){return parseUnits(Z,etherUnits[L])}function encodedLabelToLabelhash(Z){if(Z.length!==66||Z.indexOf("[")!==0||Z.indexOf("]")!==65)return null;const L=`0x${Z.slice(1,65)}`;return isHex(L)?L:null}function namehash(Z){let L=new Uint8Array(32).fill(0);if(!Z)return bytesToHex$1(L);const X=Z.split(".");for(let ee=X.length-1;ee>=0;ee-=1){const te=encodedLabelToLabelhash(X[ee]),ie=te?toBytes$2(te):keccak256(stringToBytes(X[ee]),"bytes");L=keccak256(concat([L,ie]),"bytes")}return bytesToHex$1(L)}function encodeLabelhash(Z){return`[${Z.slice(2)}]`}function labelhash(Z){const L=new Uint8Array(32).fill(0);return Z?encodedLabelToLabelhash(Z)||keccak256(stringToBytes(Z)):bytesToHex$1(L)}function packetToBytes(Z){const L=Z.replace(/^\.|\.$/gm,"");if(L.length===0)return new Uint8Array(1);const X=new Uint8Array(stringToBytes(L).byteLength+2);let ee=0;const te=L.split(".");for(let ie=0;ie<te.length;ie++){let oe=stringToBytes(te[ie]);oe.byteLength>255&&(oe=stringToBytes(encodeLabelhash(labelhash(te[ie])))),X[ee]=oe.length,X.set(oe,ee+1),ee+=oe.length+1}return X.byteLength!==ee+1?X.slice(0,ee+1):X}async function getEnsAddress(Z,{blockNumber:L,blockTag:X,coinType:ee,name:te,universalResolverAddress:ie}){let oe=ie;if(!oe){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");oe=getChainContractAddress({blockNumber:L,chain:Z.chain,contract:"ensUniversalResolver"})}try{const se=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...ee!=null?{args:[namehash(te),BigInt(ee)]}:{args:[namehash(te)]}}),ue=await readContract(Z,{address:oe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(te)),se],blockNumber:L,blockTag:X});if(ue[0]==="0x")return null;const ce=trim(decodeFunctionResult({abi:addressResolverAbi,args:ee!=null?[namehash(te),BigInt(ee)]:void 0,functionName:"addr",data:ue[0]}));return ce==="0x"||trim(ce)==="0x00"?null:ce}catch(se){if(isNullUniversalResolverError(se,"resolve"))return null;throw se}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:L}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:L}){super(`ENS NFT avatar URI is invalid. ${L}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:L}){super(`Unable to resolve ENS avatar URI "${L}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:L}){super(`ENS NFT avatar namespace "${L}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(Z){try{const L=await fetch(Z,{method:"HEAD"});return L.status===200?L.headers.get("content-type")?.startsWith("image/"):!1}catch(L){return typeof L=="object"&&typeof L.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(X=>{const ee=new Image;ee.onload=()=>{X(!0)},ee.onerror=()=>{X(!1)},ee.src=Z})}}function getGateway(Z,L){return Z?Z.endsWith("/")?Z.slice(0,-1):Z:L}function resolveAvatarUri({uri:Z,gatewayUrls:L}){const X=base64Regex.test(Z);if(X)return{uri:Z,isOnChain:!0,isEncoded:X};const ee=getGateway(L?.ipfs,"https://ipfs.io"),te=getGateway(L?.arweave,"https://arweave.net"),ie=Z.match(networkRegex),{protocol:oe,subpath:se,target:ue,subtarget:ce=""}=ie?.groups||{},le=oe==="ipns:/"||se==="ipns/",he=oe==="ipfs:/"||se==="ipfs/"||ipfsHashRegex.test(Z);if(Z.startsWith("http")&&!le&&!he){let we=Z;return L?.arweave&&(we=Z.replace(/https:\/\/arweave.net/g,L?.arweave)),{uri:we,isOnChain:!1,isEncoded:!1}}if((le||he)&&ue)return{uri:`${ee}/${le?"ipns":"ipfs"}/${ue}${ce}`,isOnChain:!1,isEncoded:!1};if(oe==="ar:/"&&ue)return{uri:`${te}/${ue}${ce||""}`,isOnChain:!1,isEncoded:!1};let pe=Z.replace(dataURIRegex,"");if(pe.startsWith("<svg")&&(pe=`data:image/svg+xml;base64,${btoa(pe)}`),pe.startsWith("data:")||pe.startsWith("{"))return{uri:pe,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:Z})}function getJsonImage(Z){if(typeof Z!="object"||!("image"in Z)&&!("image_url"in Z)&&!("image_data"in Z))throw new EnsAvatarInvalidMetadataError({data:Z});return Z.image||Z.image_url||Z.image_data}async function getMetadataAvatarUri({gatewayUrls:Z,uri:L}){try{const X=await fetch(L).then(te=>te.json());return await parseAvatarUri({gatewayUrls:Z,uri:getJsonImage(X)})}catch{throw new EnsAvatarUriResolutionError({uri:L})}}async function parseAvatarUri({gatewayUrls:Z,uri:L}){const{uri:X,isOnChain:ee}=resolveAvatarUri({uri:L,gatewayUrls:Z});if(ee||await isImageUri(X))return X;throw new EnsAvatarUriResolutionError({uri:L})}function parseNftUri(Z){let L=Z;L.startsWith("did:nft:")&&(L=L.replace("did:nft:","").replace(/_/g,"/"));const[X,ee,te]=L.split("/"),[ie,oe]=X.split(":"),[se,ue]=ee.split(":");if(!ie||ie.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!oe)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!ue)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!te)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!se)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(oe),namespace:se.toLowerCase(),contractAddress:ue,tokenID:te}}async function getNftTokenUri(Z,{nft:L}){if(L.namespace==="erc721")return readContract(Z,{address:L.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(L.tokenID)]});if(L.namespace==="erc1155")return readContract(Z,{address:L.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(L.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:L.namespace})}async function parseAvatarRecord(Z,{gatewayUrls:L,record:X}){return/eip155:/i.test(X)?parseNftAvatarUri(Z,{gatewayUrls:L,record:X}):parseAvatarUri({uri:X,gatewayUrls:L})}async function parseNftAvatarUri(Z,{gatewayUrls:L,record:X}){const ee=parseNftUri(X),te=await getNftTokenUri(Z,{nft:ee}),{uri:ie,isOnChain:oe,isEncoded:se}=resolveAvatarUri({uri:te,gatewayUrls:L});if(oe&&(ie.includes("data:application/json;base64,")||ie.startsWith("{"))){const ce=se?atob(ie.replace("data:application/json;base64,","")):ie,le=JSON.parse(ce);return parseAvatarUri({uri:getJsonImage(le),gatewayUrls:L})}let ue=ee.tokenID;return ee.namespace==="erc1155"&&(ue=ue.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:L,uri:ie.replace(/(?:0x)?{id}/,ue)})}async function getEnsText(Z,{blockNumber:L,blockTag:X,name:ee,key:te,universalResolverAddress:ie}){let oe=ie;if(!oe){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");oe=getChainContractAddress({blockNumber:L,chain:Z.chain,contract:"ensUniversalResolver"})}try{const se=await readContract(Z,{address:oe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ee)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(ee),te]})],blockNumber:L,blockTag:X});if(se[0]==="0x")return null;const ue=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:se[0]});return ue===""?null:ue}catch(se){if(isNullUniversalResolverError(se,"resolve"))return null;throw se}}async function getEnsAvatar(Z,{blockNumber:L,blockTag:X,gatewayUrls:ee,name:te,universalResolverAddress:ie}){const oe=await getEnsText(Z,{blockNumber:L,blockTag:X,key:"avatar",name:te,universalResolverAddress:ie});if(!oe)return null;try{return await parseAvatarRecord(Z,{record:oe,gatewayUrls:ee})}catch{return null}}async function getEnsName(Z,{address:L,blockNumber:X,blockTag:ee,universalResolverAddress:te}){let ie=te;if(!ie){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");ie=getChainContractAddress({blockNumber:X,chain:Z.chain,contract:"ensUniversalResolver"})}const oe=`${L.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(Z,{address:ie,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(oe))],blockNumber:X,blockTag:ee}))[0]}catch(se){if(isNullUniversalResolverError(se,"reverse"))return null;throw se}}async function getEnsResolver(Z,{blockNumber:L,blockTag:X,name:ee,universalResolverAddress:te}){let ie=te;if(!ie){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");ie=getChainContractAddress({blockNumber:L,chain:Z.chain,contract:"ensUniversalResolver"})}const[oe]=await readContract(Z,{address:ie,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(ee))],blockNumber:L,blockTag:X});return oe}async function createBlockFilter(Z){const L=createFilterRequestScope(Z,{method:"eth_newBlockFilter"}),X=await Z.request({method:"eth_newBlockFilter"});return{id:X,request:L(X),type:"block"}}async function createEventFilter(Z,{address:L,args:X,event:ee,events:te,fromBlock:ie,strict:oe,toBlock:se}={}){const ue=te??(ee?[ee]:void 0),ce=createFilterRequestScope(Z,{method:"eth_newFilter"});let le=[];ue&&(le=[ue.flatMap(pe=>encodeEventTopics({abi:[pe],eventName:pe.name,args:X}))],ee&&(le=le[0]));const he=await Z.request({method:"eth_newFilter",params:[{address:L,fromBlock:typeof ie=="bigint"?numberToHex(ie):ie,toBlock:typeof se=="bigint"?numberToHex(se):se,...le.length?{topics:le}:{}}]});return{abi:ue,args:X,eventName:ee?ee.name:void 0,fromBlock:ie,id:he,request:ce(he),strict:oe,toBlock:se,type:"event"}}async function createPendingTransactionFilter(Z){const L=createFilterRequestScope(Z,{method:"eth_newPendingTransactionFilter"}),X=await Z.request({method:"eth_newPendingTransactionFilter"});return{id:X,request:L(X),type:"transaction"}}async function getBalance(Z,{address:L,blockNumber:X,blockTag:ee="latest"}){const te=X?numberToHex(X):void 0,ie=await Z.request({method:"eth_getBalance",params:[L,te||ee]});return BigInt(ie)}async function getBlockTransactionCount(Z,{blockHash:L,blockNumber:X,blockTag:ee="latest"}={}){const te=X!==void 0?numberToHex(X):void 0;let ie;return L?ie=await Z.request({method:"eth_getBlockTransactionCountByHash",params:[L]}):ie=await Z.request({method:"eth_getBlockTransactionCountByNumber",params:[te||ee]}),hexToNumber$1(ie)}async function getBytecode(Z,{address:L,blockNumber:X,blockTag:ee="latest"}){const te=X!==void 0?numberToHex(X):void 0,ie=await Z.request({method:"eth_getCode",params:[L,te||ee]});if(ie!=="0x")return ie}function formatFeeHistory(Z){return{baseFeePerGas:Z.baseFeePerGas.map(L=>BigInt(L)),gasUsedRatio:Z.gasUsedRatio,oldestBlock:BigInt(Z.oldestBlock),reward:Z.reward?.map(L=>L.map(X=>BigInt(X)))}}async function getFeeHistory(Z,{blockCount:L,blockNumber:X,blockTag:ee="latest",rewardPercentiles:te}){const ie=X?numberToHex(X):void 0,oe=await Z.request({method:"eth_feeHistory",params:[numberToHex(L),ie||ee,te]});return formatFeeHistory(oe)}async function getFilterLogs(Z,{filter:L}){const X=L.strict??!1;return(await L.request({method:"eth_getFilterLogs",params:[L.id]})).map(te=>{try{const{eventName:ie,args:oe}="abi"in L&&L.abi?decodeEventLog({abi:L.abi,data:te.data,topics:te.topics,strict:X}):{eventName:void 0,args:void 0};return formatLog(te,{args:oe,eventName:ie})}catch(ie){let oe,se;if(ie instanceof DecodeLogDataMismatch||ie instanceof DecodeLogTopicsMismatch){if("strict"in L&&L.strict)return;oe=ie.abiItem.name,se=ie.abiItem.inputs?.some(ue=>!("name"in ue&&ue.name))}return formatLog(te,{args:se?[]:{},eventName:oe})}}).filter(Boolean)}async function getStorageAt(Z,{address:L,blockNumber:X,blockTag:ee="latest",slot:te}){const ie=X!==void 0?numberToHex(X):void 0;return await Z.request({method:"eth_getStorageAt",params:[L,te,ie||ee]})}async function getTransaction(Z,{blockHash:L,blockNumber:X,blockTag:ee,hash:te,index:ie}){const oe=ee||"latest",se=X!==void 0?numberToHex(X):void 0;let ue=null;if(te?ue=await Z.request({method:"eth_getTransactionByHash",params:[te]}):L?ue=await Z.request({method:"eth_getTransactionByBlockHashAndIndex",params:[L,numberToHex(ie)]}):(se||oe)&&(ue=await Z.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[se||oe,numberToHex(ie)]})),!ue)throw new TransactionNotFoundError({blockHash:L,blockNumber:X,blockTag:oe,hash:te,index:ie});return(Z.chain?.formatters?.transaction?.format||formatTransaction)(ue)}async function getTransactionConfirmations(Z,{hash:L,transactionReceipt:X}){const[ee,te]=await Promise.all([getBlockNumber(Z),L?getTransaction(Z,{hash:L}):void 0]),ie=X?.blockNumber||te?.blockNumber;return ie?ee-ie+1n:0n}async function getTransactionReceipt(Z,{hash:L}){const X=await Z.request({method:"eth_getTransactionReceipt",params:[L]});if(!X)throw new TransactionReceiptNotFoundError({hash:L});return(Z.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(X)}async function multicall(Z,L){const{allowFailure:X=!0,batchSize:ee,blockNumber:te,blockTag:ie,contracts:oe,multicallAddress:se}=L,ue=ee??(typeof Z.batch?.multicall=="object"&&Z.batch.multicall.batchSize||1024),ce=oe;let le=se;if(!le){if(!Z.chain)throw new Error("client chain not configured. multicallAddress is required.");le=getChainContractAddress({blockNumber:te,chain:Z.chain,contract:"multicall3"})}const he=[[]];let pe=0,we=0;for(let xe=0;xe<ce.length;xe++){const{abi:Ae,address:Ie,args:Pe,functionName:Ce}=ce[xe];try{const We=encodeFunctionData({abi:Ae,args:Pe,functionName:Ce});we+=We.length,ue>0&&we>ue&&(pe++,we=(We.length-2)/2,he[pe]=[]),he[pe]=[...he[pe],{allowFailure:!0,callData:We,target:Ie}]}catch(We){const Ve=getContractError(We,{abi:Ae,address:Ie,args:Pe,docsPath:"/docs/contract/multicall",functionName:Ce});if(!X)throw Ve;he[pe]=[...he[pe],{allowFailure:!0,callData:"0x",target:Ie}]}}return(await Promise.all(he.map(xe=>readContract(Z,{abi:multicall3Abi,address:le,args:[xe],blockNumber:te,blockTag:ie,functionName:"aggregate3"})))).flat().map(({returnData:xe,success:Ae},Ie)=>{const Pe=he.flat(),{callData:Ce}=Pe[Ie],{abi:We,address:Ve,functionName:Ge,args:tt}=ce[Ie];try{if(Ce==="0x")throw new AbiDecodingZeroDataError;if(!Ae)throw new RawContractError({data:xe});const Qe=decodeFunctionResult({abi:We,args:tt,data:xe,functionName:Ge});return X?{result:Qe,status:"success"}:Qe}catch(Qe){const ot=getContractError(Qe,{abi:We,address:Ve,args:tt,docsPath:"/docs/contract/multicall",functionName:Ge});if(!X)throw ot;return{error:ot,result:void 0,status:"failure"}}})}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a$1=Z=>Z instanceof Uint8Array,hexes=Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function bytesToHex(Z){if(!u8a$1(Z))throw new Error("Uint8Array expected");let L="";for(let X=0;X<Z.length;X++)L+=hexes[Z[X]];return L}function numberToHexUnpadded(Z){const L=Z.toString(16);return L.length&1?`0${L}`:L}function hexToNumber(Z){if(typeof Z!="string")throw new Error("hex string expected, got "+typeof Z);return BigInt(Z===""?"0":`0x${Z}`)}function hexToBytes(Z){if(typeof Z!="string")throw new Error("hex string expected, got "+typeof Z);const L=Z.length;if(L%2)throw new Error("padded hex string expected, got unpadded hex of length "+L);const X=new Uint8Array(L/2);for(let ee=0;ee<X.length;ee++){const te=ee*2,ie=Z.slice(te,te+2),oe=Number.parseInt(ie,16);if(Number.isNaN(oe)||oe<0)throw new Error("Invalid byte sequence");X[ee]=oe}return X}function bytesToNumberBE(Z){return hexToNumber(bytesToHex(Z))}function bytesToNumberLE(Z){if(!u8a$1(Z))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(Z).reverse()))}function numberToBytesBE(Z,L){return hexToBytes(Z.toString(16).padStart(L*2,"0"))}function numberToBytesLE(Z,L){return numberToBytesBE(Z,L).reverse()}function numberToVarBytesBE(Z){return hexToBytes(numberToHexUnpadded(Z))}function ensureBytes(Z,L,X){let ee;if(typeof L=="string")try{ee=hexToBytes(L)}catch(ie){throw new Error(`${Z} must be valid hex string, got "${L}". Cause: ${ie}`)}else if(u8a$1(L))ee=Uint8Array.from(L);else throw new Error(`${Z} must be hex string or Uint8Array`);const te=ee.length;if(typeof X=="number"&&te!==X)throw new Error(`${Z} expected ${X} bytes, got ${te}`);return ee}function concatBytes$1(...Z){const L=new Uint8Array(Z.reduce((ee,te)=>ee+te.length,0));let X=0;return Z.forEach(ee=>{if(!u8a$1(ee))throw new Error("Uint8Array expected");L.set(ee,X),X+=ee.length}),L}function equalBytes(Z,L){if(Z.length!==L.length)return!1;for(let X=0;X<Z.length;X++)if(Z[X]!==L[X])return!1;return!0}function utf8ToBytes$1(Z){if(typeof Z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Z}`);return new Uint8Array(new TextEncoder().encode(Z))}function bitLen(Z){let L;for(L=0;Z>_0n$3;Z>>=_1n$4,L+=1);return L}function bitGet(Z,L){return Z>>BigInt(L)&_1n$4}const bitSet=(Z,L,X)=>Z|(X?_1n$4:_0n$3)<<BigInt(L),bitMask=Z=>(_2n$2<<BigInt(Z-1))-_1n$4,u8n=Z=>new Uint8Array(Z),u8fr=Z=>Uint8Array.from(Z);function createHmacDrbg(Z,L,X){if(typeof Z!="number"||Z<2)throw new Error("hashLen must be a number");if(typeof L!="number"||L<2)throw new Error("qByteLen must be a number");if(typeof X!="function")throw new Error("hmacFn must be a function");let ee=u8n(Z),te=u8n(Z),ie=0;const oe=()=>{ee.fill(1),te.fill(0),ie=0},se=(...he)=>X(te,ee,...he),ue=(he=u8n())=>{te=se(u8fr([0]),he),ee=se(),he.length!==0&&(te=se(u8fr([1]),he),ee=se())},ce=()=>{if(ie++>=1e3)throw new Error("drbg: tried 1000 values");let he=0;const pe=[];for(;he<L;){ee=se();const we=ee.slice();pe.push(we),he+=ee.length}return concatBytes$1(...pe)};return(he,pe)=>{oe(),ue(he);let we;for(;!(we=pe(ce()));)ue();return oe(),we}}const validatorFns={bigint:Z=>typeof Z=="bigint",function:Z=>typeof Z=="function",boolean:Z=>typeof Z=="boolean",string:Z=>typeof Z=="string",isSafeInteger:Z=>Number.isSafeInteger(Z),array:Z=>Array.isArray(Z),field:(Z,L)=>L.Fp.isValid(Z),hash:Z=>typeof Z=="function"&&Number.isSafeInteger(Z.outputLen)};function validateObject(Z,L,X={}){const ee=(te,ie,oe)=>{const se=validatorFns[ie];if(typeof se!="function")throw new Error(`Invalid validator "${ie}", expected function`);const ue=Z[te];if(!(oe&&ue===void 0)&&!se(ue,Z))throw new Error(`Invalid param ${String(te)}=${ue} (${typeof ue}), expected ${ie}`)};for(const[te,ie]of Object.entries(L))ee(te,ie,!1);for(const[te,ie]of Object.entries(X))ee(te,ie,!0);return Z}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));function isBytesEqual(Z,L){const X=isHex(Z)?toBytes$2(Z):Z,ee=isHex(L)?toBytes$2(L):L;return equalBytes(X,ee)}async function verifyHash(Z,{address:L,hash:X,signature:ee,...te}){const ie=isHex(ee)?ee:toHex(ee);try{const{data:oe}=await call(Z,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[L,X,ie],bytecode:universalSignatureValidatorByteCode}),...te});return isBytesEqual(oe??"0x0","0x1")}catch(oe){if(oe instanceof CallExecutionError)return!1;throw oe}}async function verifyMessage(Z,{address:L,message:X,signature:ee,...te}){const ie=hashMessage(X);return verifyHash(Z,{address:L,hash:ie,signature:ee,...te})}async function verifyTypedData(Z,{address:L,signature:X,message:ee,primaryType:te,types:ie,domain:oe,...se}){const ue=hashTypedData({message:ee,primaryType:te,types:ie,domain:oe});return verifyHash(Z,{address:L,hash:ue,signature:X,...se})}function watchBlockNumber(Z,{emitOnBegin:L=!1,emitMissed:X=!1,onBlockNumber:ee,onError:te,poll:ie,pollingInterval:oe=Z.pollingInterval}){const se=typeof ie<"u"?ie:Z.transport.type!=="webSocket";let ue;return se?(()=>{const he=stringify(["watchBlockNumber",Z.uid,L,X,oe]);return observe(he,{onBlockNumber:ee,onError:te},pe=>poll(async()=>{try{const we=await getBlockNumber(Z,{cacheTime:0});if(ue){if(we===ue)return;if(we-ue>1&&X)for(let _e=ue+1n;_e<we;_e++)pe.onBlockNumber(_e,ue),ue=_e}(!ue||we>ue)&&(pe.onBlockNumber(we,ue),ue=we)}catch(we){pe.onError?.(we)}},{emitOnBegin:L,interval:oe}))})():(()=>{let he=!0,pe=()=>he=!1;return(async()=>{try{const{unsubscribe:we}=await Z.transport.subscribe({params:["newHeads"],onData(_e){if(!he)return;const xe=hexToBigInt(_e.result?.number);ee(xe,ue),ue=xe},onError(_e){te?.(_e)}});pe=we,he||pe()}catch(we){te?.(we)}})(),pe})()}async function waitForTransactionReceipt(Z,{confirmations:L=1,hash:X,onReplaced:ee,pollingInterval:te=Z.pollingInterval,timeout:ie}){const oe=stringify(["waitForTransactionReceipt",Z.uid,X]);let se,ue,ce,le=!1;return new Promise((he,pe)=>{ie&&setTimeout(()=>pe(new WaitForTransactionReceiptTimeoutError({hash:X})),ie);const we=observe(oe,{onReplaced:ee,resolve:he,reject:pe},_e=>{const xe=watchBlockNumber(Z,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:te,async onBlockNumber(Ae){if(le)return;let Ie=Ae;const Pe=Ce=>{xe(),Ce(),we()};try{if(ce){if(Ie-ce.blockNumber+1n<L)return;Pe(()=>_e.resolve(ce));return}if(se||(le=!0,await withRetry(async()=>{se=await getTransaction(Z,{hash:X}),se.blockNumber&&(Ie=se.blockNumber)},{delay:({count:Ce})=>~~(1<<Ce)*200,retryCount:6}),le=!1),ce=await getTransactionReceipt(Z,{hash:X}),L>0&&Ie-ce.blockNumber+1n<L)return;Pe(()=>_e.resolve(ce))}catch(Ce){if(se&&(Ce instanceof TransactionNotFoundError||Ce instanceof TransactionReceiptNotFoundError)){ue=se;const Ve=(await getBlock(Z,{blockNumber:Ie,includeTransactions:!0})).transactions.find(({from:tt,nonce:Qe})=>tt===ue.from&&Qe===ue.nonce);if(!Ve||(ce=await getTransactionReceipt(Z,{hash:Ve.hash}),Ie-ce.blockNumber+1n<L))return;let Ge="replaced";Ve.to===ue.to&&Ve.value===ue.value?Ge="repriced":Ve.from===Ve.to&&Ve.value===0n&&(Ge="cancelled"),Pe(()=>{_e.onReplaced?.({reason:Ge,replacedTransaction:ue,transaction:Ve,transactionReceipt:ce}),_e.resolve(ce)})}else Pe(()=>_e.reject(Ce))}}})})})}function watchBlocks(Z,{blockTag:L="latest",emitMissed:X=!1,emitOnBegin:ee=!1,onBlock:te,onError:ie,includeTransactions:oe,poll:se,pollingInterval:ue=Z.pollingInterval}){const ce=typeof se<"u"?se:Z.transport.type!=="webSocket",le=oe??!1;let he;return ce?(()=>{const _e=stringify(["watchBlocks",Z.uid,X,ee,le,ue]);return observe(_e,{onBlock:te,onError:ie},xe=>poll(async()=>{try{const Ae=await getBlock(Z,{blockTag:L,includeTransactions:le});if(Ae.number&&he?.number){if(Ae.number===he.number)return;if(Ae.number-he.number>1&&X)for(let Ie=he?.number+1n;Ie<Ae.number;Ie++){const Pe=await getBlock(Z,{blockNumber:Ie,includeTransactions:le});xe.onBlock(Pe,he),he=Pe}}(!he?.number||L==="pending"&&!Ae?.number||Ae.number&&Ae.number>he.number)&&(xe.onBlock(Ae,he),he=Ae)}catch(Ae){xe.onError?.(Ae)}},{emitOnBegin:ee,interval:ue}))})():(()=>{let _e=!0,xe=()=>_e=!1;return(async()=>{try{const{unsubscribe:Ae}=await Z.transport.subscribe({params:["newHeads"],onData(Ie){if(!_e)return;const Ce=(Z.chain?.formatters?.block?.format||formatBlock)(Ie.result);te(Ce,he),he=Ce},onError(Ie){ie?.(Ie)}});xe=Ae,_e||xe()}catch(Ae){ie?.(Ae)}})(),xe})()}function watchEvent(Z,{address:L,args:X,batch:ee=!0,event:te,events:ie,onError:oe,onLogs:se,poll:ue,pollingInterval:ce=Z.pollingInterval,strict:le}){const he=typeof ue<"u"?ue:Z.transport.type!=="webSocket",pe=le??!1;return he?(()=>{const xe=stringify(["watchEvent",L,X,ee,Z.uid,te,ce]);return observe(xe,{onLogs:se,onError:oe},Ae=>{let Ie,Pe,Ce=!1;const We=poll(async()=>{if(!Ce){try{Pe=await createEventFilter(Z,{address:L,args:X,event:te,events:ie,strict:pe})}catch{}Ce=!0;return}try{let Ve;if(Pe)Ve=await getFilterChanges(Z,{filter:Pe});else{const Ge=await getBlockNumber(Z);Ie&&Ie!==Ge?Ve=await getLogs(Z,{address:L,args:X,event:te,events:ie,fromBlock:Ie+1n,toBlock:Ge}):Ve=[],Ie=Ge}if(Ve.length===0)return;ee?Ae.onLogs(Ve):Ve.forEach(Ge=>Ae.onLogs([Ge]))}catch(Ve){Pe&&Ve instanceof InvalidInputRpcError&&(Ce=!1),Ae.onError?.(Ve)}},{emitOnBegin:!0,interval:ce});return async()=>{Pe&&await uninstallFilter(Z,{filter:Pe}),We()}})})():(()=>{let xe=!0,Ae=()=>xe=!1;return(async()=>{try{const Ie=ie??(te?[te]:void 0);let Pe=[];Ie&&(Pe=[Ie.flatMap(We=>encodeEventTopics({abi:[We],eventName:We.name,args:X}))],te&&(Pe=Pe[0]));const{unsubscribe:Ce}=await Z.transport.subscribe({params:["logs",{address:L,topics:Pe}],onData(We){if(!xe)return;const Ve=We.result;try{const{eventName:Ge,args:tt}=decodeEventLog({abi:Ie,data:Ve.data,topics:Ve.topics,strict:pe}),Qe=formatLog(Ve,{args:tt,eventName:Ge});se([Qe])}catch(Ge){let tt,Qe;if(Ge instanceof DecodeLogDataMismatch||Ge instanceof DecodeLogTopicsMismatch){if(le)return;tt=Ge.abiItem.name,Qe=Ge.abiItem.inputs?.some(st=>!("name"in st&&st.name))}const ot=formatLog(Ve,{args:Qe?[]:{},eventName:tt});se([ot])}},onError(We){oe?.(We)}});Ae=Ce,xe||Ae()}catch(Ie){oe?.(Ie)}})(),Ae})()}function watchPendingTransactions(Z,{batch:L=!0,onError:X,onTransactions:ee,poll:te,pollingInterval:ie=Z.pollingInterval}){return(typeof te<"u"?te:Z.transport.type!=="webSocket")?(()=>{const ce=stringify(["watchPendingTransactions",Z.uid,L,ie]);return observe(ce,{onTransactions:ee,onError:X},le=>{let he;const pe=poll(async()=>{try{if(!he)try{he=await createPendingTransactionFilter(Z);return}catch(_e){throw pe(),_e}const we=await getFilterChanges(Z,{filter:he});if(we.length===0)return;L?le.onTransactions(we):we.forEach(_e=>le.onTransactions([_e]))}catch(we){le.onError?.(we)}},{emitOnBegin:!0,interval:ie});return async()=>{he&&await uninstallFilter(Z,{filter:he}),pe()}})})():(()=>{let ce=!0,le=()=>ce=!1;return(async()=>{try{const{unsubscribe:he}=await Z.transport.subscribe({params:["newPendingTransactions"],onData(pe){if(!ce)return;const we=pe.result;ee([we])},onError(pe){X?.(pe)}});le=he,ce||le()}catch(he){X?.(he)}})(),le})()}function publicActions(Z){return{call:L=>call(Z,L),createBlockFilter:()=>createBlockFilter(Z),createContractEventFilter:L=>createContractEventFilter(Z,L),createEventFilter:L=>createEventFilter(Z,L),createPendingTransactionFilter:()=>createPendingTransactionFilter(Z),estimateContractGas:L=>estimateContractGas(Z,L),estimateGas:L=>estimateGas(Z,L),getBalance:L=>getBalance(Z,L),getBlock:L=>getBlock(Z,L),getBlockNumber:L=>getBlockNumber(Z,L),getBlockTransactionCount:L=>getBlockTransactionCount(Z,L),getBytecode:L=>getBytecode(Z,L),getChainId:()=>getChainId(Z),getEnsAddress:L=>getEnsAddress(Z,L),getEnsAvatar:L=>getEnsAvatar(Z,L),getEnsName:L=>getEnsName(Z,L),getEnsResolver:L=>getEnsResolver(Z,L),getEnsText:L=>getEnsText(Z,L),getFeeHistory:L=>getFeeHistory(Z,L),getFilterChanges:L=>getFilterChanges(Z,L),getFilterLogs:L=>getFilterLogs(Z,L),getGasPrice:()=>getGasPrice(Z),getLogs:L=>getLogs(Z,L),getStorageAt:L=>getStorageAt(Z,L),getTransaction:L=>getTransaction(Z,L),getTransactionConfirmations:L=>getTransactionConfirmations(Z,L),getTransactionCount:L=>getTransactionCount(Z,L),getTransactionReceipt:L=>getTransactionReceipt(Z,L),multicall:L=>multicall(Z,L),readContract:L=>readContract(Z,L),simulateContract:L=>simulateContract(Z,L),verifyMessage:L=>verifyMessage(Z,L),verifyTypedData:L=>verifyTypedData(Z,L),uninstallFilter:L=>uninstallFilter(Z,L),waitForTransactionReceipt:L=>waitForTransactionReceipt(Z,L),watchBlocks:L=>watchBlocks(Z,L),watchBlockNumber:L=>watchBlockNumber(Z,L),watchContractEvent:L=>watchContractEvent(Z,L),watchEvent:L=>watchEvent(Z,L),watchPendingTransactions:L=>watchPendingTransactions(Z,L)}}function createPublicClient(Z){const{key:L="public",name:X="Public Client"}=Z;return createClient$1({...Z,key:L,name:X,type:"publicClient"}).extend(publicActions)}function deployContract(Z,{abi:L,args:X,bytecode:ee,...te}){const ie=encodeDeployData({abi:L,args:X,bytecode:ee});return sendTransaction(Z,{...te,data:ie})}async function getAddresses(Z){return(await Z.request({method:"eth_accounts"})).map(X=>checksumAddress(X))}async function getPermissions(Z){return await Z.request({method:"wallet_getPermissions"})}async function requestAddresses(Z){return(await Z.request({method:"eth_requestAccounts"})).map(X=>getAddress(X))}async function requestPermissions(Z,L){return Z.request({method:"wallet_requestPermissions",params:[L]})}async function signMessage$1(Z,{account:L=Z.account,message:X}){if(!L)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const ee=parseAccount(L);if(ee.type==="local")return ee.signMessage({message:X});const te=(()=>typeof X=="string"?stringToHex(X):X.raw instanceof Uint8Array?toHex(X.raw):X.raw)();return Z.request({method:"personal_sign",params:[te,ee.address]})}async function signTypedData$1(Z,{account:L=Z.account,domain:X,message:ee,primaryType:te,types:ie}){if(!L)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const oe=parseAccount(L),se={EIP712Domain:[typeof X?.name=="string"&&{name:"name",type:"string"},X?.version&&{name:"version",type:"string"},typeof X?.chainId=="number"&&{name:"chainId",type:"uint256"},X?.verifyingContract&&{name:"verifyingContract",type:"address"},X?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...ie};if(validateTypedData({domain:X,message:ee,primaryType:te,types:se}),oe.type==="local")return oe.signTypedData({domain:X,primaryType:te,types:se,message:ee});const ue=stringify({domain:X??{},primaryType:te,types:se,message:ee},(ce,le)=>isHex(le)?le.toLowerCase():le);return Z.request({method:"eth_signTypedData_v4",params:[oe.address,ue]})}async function switchChain(Z,{id:L}){await Z.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(L)}]})}async function watchAsset(Z,L){return await Z.request({method:"wallet_watchAsset",params:L})}function walletActions(Z){return{addChain:L=>addChain(Z,L),deployContract:L=>deployContract(Z,L),getAddresses:()=>getAddresses(Z),getChainId:()=>getChainId(Z),getPermissions:()=>getPermissions(Z),requestAddresses:()=>requestAddresses(Z),requestPermissions:L=>requestPermissions(Z,L),sendTransaction:L=>sendTransaction(Z,L),signMessage:L=>signMessage$1(Z,L),signTypedData:L=>signTypedData$1(Z,L),switchChain:L=>switchChain(Z,L),watchAsset:L=>watchAsset(Z,L),writeContract:L=>writeContract(Z,L)}}function createWalletClient(Z){const{key:L="wallet",name:X="Wallet Client",transport:ee}=Z;return createClient$1({...Z,key:L,name:X,transport:ie=>ee({...ie,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(Z,L={}){const{key:X="webSocket",name:ee="WebSocket JSON-RPC",retryDelay:te}=L;return({chain:ie,retryCount:oe,timeout:se})=>{const ue=L.retryCount??oe,ce=se??L.timeout??1e4,le=Z||ie?.rpcUrls.default.webSocket?.[0];if(!le)throw new UrlRequiredError;return createTransport({key:X,name:ee,async request({method:he,params:pe}){const we={method:he,params:pe},_e=await getSocket(le),{error:xe,result:Ae}=await rpc$1.webSocketAsync(_e,{body:we,timeout:ce});if(xe)throw new RpcRequestError({body:we,error:xe,url:le});return Ae},retryCount:ue,retryDelay:te,timeout:ce,type:"webSocket"},{getSocket(){return getSocket(le)},async subscribe({params:he,onData:pe,onError:we}){const _e=await getSocket(le),{result:xe}=await new Promise((Ae,Ie)=>rpc$1.webSocket(_e,{body:{method:"eth_subscribe",params:he},onResponse(Pe){if(Pe.error){Ie(Pe.error),we?.(Pe.error);return}if(typeof Pe.id=="number"){Ae(Pe);return}Pe.method==="eth_subscription"&&pe(Pe.params)}}));return{subscriptionId:xe,async unsubscribe(){return new Promise(Ae=>rpc$1.webSocket(_e,{body:{method:"eth_unsubscribe",params:[xe]},onResponse:Ae}))}}}})}}function number(Z){if(!Number.isSafeInteger(Z)||Z<0)throw new Error(`Wrong positive integer: ${Z}`)}function bool(Z){if(typeof Z!="boolean")throw new Error(`Expected boolean, not ${Z}`)}function bytes(Z,...L){if(!(Z instanceof Uint8Array))throw new Error("Expected Uint8Array");if(L.length>0&&!L.includes(Z.length))throw new Error(`Expected Uint8Array of length ${L}, not of length=${Z.length}`)}function hash(Z){if(typeof Z!="function"||typeof Z.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(Z.outputLen),number(Z.blockLen)}function exists(Z,L=!0){if(Z.destroyed)throw new Error("Hash instance has been destroyed");if(L&&Z.finished)throw new Error("Hash#digest() has already been called")}function output(Z,L){bytes(Z);const X=L.outputLen;if(Z.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}const assert={number,bool,bytes,hash,exists,output},crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=Z=>Z instanceof Uint8Array,createView=Z=>new DataView(Z.buffer,Z.byteOffset,Z.byteLength),rotr=(Z,L)=>Z<<32-L|Z>>>L,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function utf8ToBytes(Z){if(typeof Z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Z}`);return new Uint8Array(new TextEncoder().encode(Z))}function toBytes(Z){if(typeof Z=="string"&&(Z=utf8ToBytes(Z)),!u8a(Z))throw new Error(`expected Uint8Array, got ${typeof Z}`);return Z}function concatBytes(...Z){const L=new Uint8Array(Z.reduce((ee,te)=>ee+te.length,0));let X=0;return Z.forEach(ee=>{if(!u8a(ee))throw new Error("Uint8Array expected");L.set(ee,X),X+=ee.length}),L}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(Z){const L=ee=>Z().update(toBytes(ee)).digest(),X=Z();return L.outputLen=X.outputLen,L.blockLen=X.blockLen,L.create=()=>Z(),L}function randomBytes(Z=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(Z));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(Z,L,X,ee){if(typeof Z.setBigUint64=="function")return Z.setBigUint64(L,X,ee);const te=BigInt(32),ie=BigInt(4294967295),oe=Number(X>>te&ie),se=Number(X&ie),ue=ee?4:0,ce=ee?0:4;Z.setUint32(L+ue,oe,ee),Z.setUint32(L+ce,se,ee)}class SHA2 extends Hash{constructor(L,X,ee,te){super(),this.blockLen=L,this.outputLen=X,this.padOffset=ee,this.isLE=te,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(L),this.view=createView(this.buffer)}update(L){assert.exists(this);const{view:X,buffer:ee,blockLen:te}=this;L=toBytes(L);const ie=L.length;for(let oe=0;oe<ie;){const se=Math.min(te-this.pos,ie-oe);if(se===te){const ue=createView(L);for(;te<=ie-oe;oe+=te)this.process(ue,oe);continue}ee.set(L.subarray(oe,oe+se),this.pos),this.pos+=se,oe+=se,this.pos===te&&(this.process(X,0),this.pos=0)}return this.length+=L.length,this.roundClean(),this}digestInto(L){assert.exists(this),assert.output(L,this),this.finished=!0;const{buffer:X,view:ee,blockLen:te,isLE:ie}=this;let{pos:oe}=this;X[oe++]=128,this.buffer.subarray(oe).fill(0),this.padOffset>te-oe&&(this.process(ee,0),oe=0);for(let he=oe;he<te;he++)X[he]=0;setBigUint64(ee,te-8,BigInt(this.length*8),ie),this.process(ee,0);const se=createView(L),ue=this.outputLen;if(ue%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ce=ue/4,le=this.get();if(ce>le.length)throw new Error("_sha2: outputLen bigger than state");for(let he=0;he<ce;he++)se.setUint32(4*he,le[he],ie)}digest(){const{buffer:L,outputLen:X}=this;this.digestInto(L);const ee=L.slice(0,X);return this.destroy(),ee}_cloneInto(L){L||(L=new this.constructor),L.set(...this.get());const{blockLen:X,buffer:ee,length:te,finished:ie,destroyed:oe,pos:se}=this;return L.length=te,L.pos=se,L.finished=ie,L.destroyed=oe,te%X&&L.buffer.set(ee),L}}const Chi=(Z,L,X)=>Z&L^~Z&X,Maj=(Z,L,X)=>Z&L^Z&X^L&X,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:L,B:X,C:ee,D:te,E:ie,F:oe,G:se,H:ue}=this;return[L,X,ee,te,ie,oe,se,ue]}set(L,X,ee,te,ie,oe,se,ue){this.A=L|0,this.B=X|0,this.C=ee|0,this.D=te|0,this.E=ie|0,this.F=oe|0,this.G=se|0,this.H=ue|0}process(L,X){for(let he=0;he<16;he++,X+=4)SHA256_W[he]=L.getUint32(X,!1);for(let he=16;he<64;he++){const pe=SHA256_W[he-15],we=SHA256_W[he-2],_e=rotr(pe,7)^rotr(pe,18)^pe>>>3,xe=rotr(we,17)^rotr(we,19)^we>>>10;SHA256_W[he]=xe+SHA256_W[he-7]+_e+SHA256_W[he-16]|0}let{A:ee,B:te,C:ie,D:oe,E:se,F:ue,G:ce,H:le}=this;for(let he=0;he<64;he++){const pe=rotr(se,6)^rotr(se,11)^rotr(se,25),we=le+pe+Chi(se,ue,ce)+SHA256_K[he]+SHA256_W[he]|0,xe=(rotr(ee,2)^rotr(ee,13)^rotr(ee,22))+Maj(ee,te,ie)|0;le=ce,ce=ue,ue=se,se=oe+we|0,oe=ie,ie=te,te=ee,ee=we+xe|0}ee=ee+this.A|0,te=te+this.B|0,ie=ie+this.C|0,oe=oe+this.D|0,se=se+this.E|0,ue=ue+this.F|0,ce=ce+this.G|0,le=le+this.H|0,this.set(ee,te,ie,oe,se,ue,ce,le)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=wrapConstructor(()=>new SHA256);wrapConstructor(()=>new SHA224);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(Z,L){const X=Z%L;return X>=_0n$2?X:L+X}function pow(Z,L,X){if(X<=_0n$2||L<_0n$2)throw new Error("Expected power/modulo > 0");if(X===_1n$3)return _0n$2;let ee=_1n$3;for(;L>_0n$2;)L&_1n$3&&(ee=ee*Z%X),Z=Z*Z%X,L>>=_1n$3;return ee}function pow2(Z,L,X){let ee=Z;for(;L-- >_0n$2;)ee*=ee,ee%=X;return ee}function invert$1(Z,L){if(Z===_0n$2||L<=_0n$2)throw new Error(`invert: expected positive integers, got n=${Z} mod=${L}`);let X=mod(Z,L),ee=L,te=_0n$2,ie=_1n$3;for(;X!==_0n$2;){const se=ee/X,ue=ee%X,ce=te-ie*se;ee=X,X=ue,te=ie,ie=ce}if(ee!==_1n$3)throw new Error("invert: does not exist");return mod(te,L)}function tonelliShanks(Z){const L=(Z-_1n$3)/_2n$1;let X,ee,te;for(X=Z-_1n$3,ee=0;X%_2n$1===_0n$2;X/=_2n$1,ee++);for(te=_2n$1;te<Z&&pow(te,L,Z)!==Z-_1n$3;te++);if(ee===1){const oe=(Z+_1n$3)/_4n;return function(ue,ce){const le=ue.pow(ce,oe);if(!ue.eql(ue.sqr(le),ce))throw new Error("Cannot find square root");return le}}const ie=(X+_1n$3)/_2n$1;return function(se,ue){if(se.pow(ue,L)===se.neg(se.ONE))throw new Error("Cannot find square root");let ce=ee,le=se.pow(se.mul(se.ONE,te),X),he=se.pow(ue,ie),pe=se.pow(ue,X);for(;!se.eql(pe,se.ONE);){if(se.eql(pe,se.ZERO))return se.ZERO;let we=1;for(let xe=se.sqr(pe);we<ce&&!se.eql(xe,se.ONE);we++)xe=se.sqr(xe);const _e=se.pow(le,_1n$3<<BigInt(ce-we-1));le=se.sqr(_e),he=se.mul(he,_e),pe=se.mul(pe,le),ce=we}return he}}function FpSqrt(Z){if(Z%_4n===_3n$1){const L=(Z+_1n$3)/_4n;return function(ee,te){const ie=ee.pow(te,L);if(!ee.eql(ee.sqr(ie),te))throw new Error("Cannot find square root");return ie}}if(Z%_8n===_5n){const L=(Z-_5n)/_8n;return function(ee,te){const ie=ee.mul(te,_2n$1),oe=ee.pow(ie,L),se=ee.mul(te,oe),ue=ee.mul(ee.mul(se,_2n$1),oe),ce=ee.mul(se,ee.sub(ue,ee.ONE));if(!ee.eql(ee.sqr(ce),te))throw new Error("Cannot find square root");return ce}}return tonelliShanks(Z)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(Z){const L={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},X=FIELD_FIELDS.reduce((ee,te)=>(ee[te]="function",ee),L);return validateObject(Z,X)}function FpPow(Z,L,X){if(X<_0n$2)throw new Error("Expected power > 0");if(X===_0n$2)return Z.ONE;if(X===_1n$3)return L;let ee=Z.ONE,te=L;for(;X>_0n$2;)X&_1n$3&&(ee=Z.mul(ee,te)),te=Z.sqr(te),X>>=_1n$3;return ee}function FpInvertBatch(Z,L){const X=new Array(L.length),ee=L.reduce((ie,oe,se)=>Z.is0(oe)?ie:(X[se]=ie,Z.mul(ie,oe)),Z.ONE),te=Z.inv(ee);return L.reduceRight((ie,oe,se)=>Z.is0(oe)?ie:(X[se]=Z.mul(ie,X[se]),Z.mul(ie,oe)),te),X}function nLength(Z,L){const X=L!==void 0?L:Z.toString(2).length,ee=Math.ceil(X/8);return{nBitLength:X,nByteLength:ee}}function Field(Z,L,X=!1,ee={}){if(Z<=_0n$2)throw new Error(`Expected Fp ORDER > 0, got ${Z}`);const{nBitLength:te,nByteLength:ie}=nLength(Z,L);if(ie>2048)throw new Error("Field lengths over 2048 bytes are not supported");const oe=FpSqrt(Z),se=Object.freeze({ORDER:Z,BITS:te,BYTES:ie,MASK:bitMask(te),ZERO:_0n$2,ONE:_1n$3,create:ue=>mod(ue,Z),isValid:ue=>{if(typeof ue!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ue}`);return _0n$2<=ue&&ue<Z},is0:ue=>ue===_0n$2,isOdd:ue=>(ue&_1n$3)===_1n$3,neg:ue=>mod(-ue,Z),eql:(ue,ce)=>ue===ce,sqr:ue=>mod(ue*ue,Z),add:(ue,ce)=>mod(ue+ce,Z),sub:(ue,ce)=>mod(ue-ce,Z),mul:(ue,ce)=>mod(ue*ce,Z),pow:(ue,ce)=>FpPow(se,ue,ce),div:(ue,ce)=>mod(ue*invert$1(ce,Z),Z),sqrN:ue=>ue*ue,addN:(ue,ce)=>ue+ce,subN:(ue,ce)=>ue-ce,mulN:(ue,ce)=>ue*ce,inv:ue=>invert$1(ue,Z),sqrt:ee.sqrt||(ue=>oe(se,ue)),invertBatch:ue=>FpInvertBatch(se,ue),cmov:(ue,ce,le)=>le?ce:ue,toBytes:ue=>X?numberToBytesLE(ue,ie):numberToBytesBE(ue,ie),fromBytes:ue=>{if(ue.length!==ie)throw new Error(`Fp.fromBytes: expected ${ie}, got ${ue.length}`);return X?bytesToNumberLE(ue):bytesToNumberBE(ue)}});return Object.freeze(se)}function hashToPrivateScalar(Z,L,X=!1){Z=ensureBytes("privateHash",Z);const ee=Z.length,te=nLength(L).nByteLength+8;if(te<24||ee<te||ee>1024)throw new Error(`hashToPrivateScalar: expected ${te}-1024 bytes of input, got ${ee}`);const ie=X?bytesToNumberLE(Z):bytesToNumberBE(Z);return mod(ie,L-_1n$3)+_1n$3}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(Z,L){const X=(te,ie)=>{const oe=ie.negate();return te?oe:ie},ee=te=>{const ie=Math.ceil(L/te)+1,oe=2**(te-1);return{windows:ie,windowSize:oe}};return{constTimeNegate:X,unsafeLadder(te,ie){let oe=Z.ZERO,se=te;for(;ie>_0n$1;)ie&_1n$2&&(oe=oe.add(se)),se=se.double(),ie>>=_1n$2;return oe},precomputeWindow(te,ie){const{windows:oe,windowSize:se}=ee(ie),ue=[];let ce=te,le=ce;for(let he=0;he<oe;he++){le=ce,ue.push(le);for(let pe=1;pe<se;pe++)le=le.add(ce),ue.push(le);ce=le.double()}return ue},wNAF(te,ie,oe){const{windows:se,windowSize:ue}=ee(te);let ce=Z.ZERO,le=Z.BASE;const he=BigInt(2**te-1),pe=2**te,we=BigInt(te);for(let _e=0;_e<se;_e++){const xe=_e*ue;let Ae=Number(oe&he);oe>>=we,Ae>ue&&(Ae-=pe,oe+=_1n$2);const Ie=xe,Pe=xe+Math.abs(Ae)-1,Ce=_e%2!==0,We=Ae<0;Ae===0?le=le.add(X(Ce,ie[Ie])):ce=ce.add(X(We,ie[Pe]))}return{p:ce,f:le}},wNAFCached(te,ie,oe,se){const ue=te._WINDOW_SIZE||1;let ce=ie.get(te);return ce||(ce=this.precomputeWindow(te,ue),ue!==1&&ie.set(te,se(ce))),this.wNAF(ue,ce,oe)}}}function validateBasic(Z){return validateField(Z.Fp),validateObject(Z,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(Z.n,Z.nBitLength),...Z,p:Z.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(Z){const L=validateBasic(Z);validateObject(L,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:X,Fp:ee,a:te}=L;if(X){if(!ee.eql(te,ee.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof X!="object"||typeof X.beta!="bigint"||typeof X.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...L})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(L=""){super(L)}},_parseInt(Z){const{Err:L}=DER;if(Z.length<2||Z[0]!==2)throw new L("Invalid signature integer tag");const X=Z[1],ee=Z.subarray(2,X+2);if(!X||ee.length!==X)throw new L("Invalid signature integer: wrong length");if(ee[0]&128)throw new L("Invalid signature integer: negative");if(ee[0]===0&&!(ee[1]&128))throw new L("Invalid signature integer: unnecessary leading zero");return{d:b2n(ee),l:Z.subarray(X+2)}},toSig(Z){const{Err:L}=DER,X=typeof Z=="string"?h2b(Z):Z;if(!(X instanceof Uint8Array))throw new Error("ui8a expected");let ee=X.length;if(ee<2||X[0]!=48)throw new L("Invalid signature tag");if(X[1]!==ee-2)throw new L("Invalid signature: incorrect length");const{d:te,l:ie}=DER._parseInt(X.subarray(2)),{d:oe,l:se}=DER._parseInt(ie);if(se.length)throw new L("Invalid signature: left bytes after parsing");return{r:te,s:oe}},hexFromSig(Z){const L=ce=>Number.parseInt(ce[0],16)&8?"00"+ce:ce,X=ce=>{const le=ce.toString(16);return le.length&1?`0${le}`:le},ee=L(X(Z.s)),te=L(X(Z.r)),ie=ee.length/2,oe=te.length/2,se=X(ie),ue=X(oe);return`30${X(oe+ie+4)}02${ue}${te}02${se}${ee}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(Z){const L=validatePointOpts(Z),{Fp:X}=L,ee=L.toBytes||((_e,xe,Ae)=>{const Ie=xe.toAffine();return concatBytes$1(Uint8Array.from([4]),X.toBytes(Ie.x),X.toBytes(Ie.y))}),te=L.fromBytes||(_e=>{const xe=_e.subarray(1),Ae=X.fromBytes(xe.subarray(0,X.BYTES)),Ie=X.fromBytes(xe.subarray(X.BYTES,2*X.BYTES));return{x:Ae,y:Ie}});function ie(_e){const{a:xe,b:Ae}=L,Ie=X.sqr(_e),Pe=X.mul(Ie,_e);return X.add(X.add(Pe,X.mul(_e,xe)),Ae)}if(!X.eql(X.sqr(L.Gy),ie(L.Gx)))throw new Error("bad generator point: equation left != right");function oe(_e){return typeof _e=="bigint"&&_0n<_e&&_e<L.n}function se(_e){if(!oe(_e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ue(_e){const{allowedPrivateKeyLengths:xe,nByteLength:Ae,wrapPrivateKey:Ie,n:Pe}=L;if(xe&&typeof _e!="bigint"){if(_e instanceof Uint8Array&&(_e=bytesToHex(_e)),typeof _e!="string"||!xe.includes(_e.length))throw new Error("Invalid key");_e=_e.padStart(Ae*2,"0")}let Ce;try{Ce=typeof _e=="bigint"?_e:bytesToNumberBE(ensureBytes("private key",_e,Ae))}catch{throw new Error(`private key must be ${Ae} bytes, hex or bigint, not ${typeof _e}`)}return Ie&&(Ce=mod(Ce,Pe)),se(Ce),Ce}const ce=new Map;function le(_e){if(!(_e instanceof he))throw new Error("ProjectivePoint expected")}class he{constructor(xe,Ae,Ie){if(this.px=xe,this.py=Ae,this.pz=Ie,xe==null||!X.isValid(xe))throw new Error("x required");if(Ae==null||!X.isValid(Ae))throw new Error("y required");if(Ie==null||!X.isValid(Ie))throw new Error("z required")}static fromAffine(xe){const{x:Ae,y:Ie}=xe||{};if(!xe||!X.isValid(Ae)||!X.isValid(Ie))throw new Error("invalid affine point");if(xe instanceof he)throw new Error("projective point not allowed");const Pe=Ce=>X.eql(Ce,X.ZERO);return Pe(Ae)&&Pe(Ie)?he.ZERO:new he(Ae,Ie,X.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(xe){const Ae=X.invertBatch(xe.map(Ie=>Ie.pz));return xe.map((Ie,Pe)=>Ie.toAffine(Ae[Pe])).map(he.fromAffine)}static fromHex(xe){const Ae=he.fromAffine(te(ensureBytes("pointHex",xe)));return Ae.assertValidity(),Ae}static fromPrivateKey(xe){return he.BASE.multiply(ue(xe))}_setWindowSize(xe){this._WINDOW_SIZE=xe,ce.delete(this)}assertValidity(){if(this.is0()){if(L.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:xe,y:Ae}=this.toAffine();if(!X.isValid(xe)||!X.isValid(Ae))throw new Error("bad point: x or y not FE");const Ie=X.sqr(Ae),Pe=ie(xe);if(!X.eql(Ie,Pe))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:xe}=this.toAffine();if(X.isOdd)return!X.isOdd(xe);throw new Error("Field doesn't support isOdd")}equals(xe){le(xe);const{px:Ae,py:Ie,pz:Pe}=this,{px:Ce,py:We,pz:Ve}=xe,Ge=X.eql(X.mul(Ae,Ve),X.mul(Ce,Pe)),tt=X.eql(X.mul(Ie,Ve),X.mul(We,Pe));return Ge&&tt}negate(){return new he(this.px,X.neg(this.py),this.pz)}double(){const{a:xe,b:Ae}=L,Ie=X.mul(Ae,_3n),{px:Pe,py:Ce,pz:We}=this;let Ve=X.ZERO,Ge=X.ZERO,tt=X.ZERO,Qe=X.mul(Pe,Pe),ot=X.mul(Ce,Ce),st=X.mul(We,We),nt=X.mul(Pe,Ce);return nt=X.add(nt,nt),tt=X.mul(Pe,We),tt=X.add(tt,tt),Ve=X.mul(xe,tt),Ge=X.mul(Ie,st),Ge=X.add(Ve,Ge),Ve=X.sub(ot,Ge),Ge=X.add(ot,Ge),Ge=X.mul(Ve,Ge),Ve=X.mul(nt,Ve),tt=X.mul(Ie,tt),st=X.mul(xe,st),nt=X.sub(Qe,st),nt=X.mul(xe,nt),nt=X.add(nt,tt),tt=X.add(Qe,Qe),Qe=X.add(tt,Qe),Qe=X.add(Qe,st),Qe=X.mul(Qe,nt),Ge=X.add(Ge,Qe),st=X.mul(Ce,We),st=X.add(st,st),Qe=X.mul(st,nt),Ve=X.sub(Ve,Qe),tt=X.mul(st,ot),tt=X.add(tt,tt),tt=X.add(tt,tt),new he(Ve,Ge,tt)}add(xe){le(xe);const{px:Ae,py:Ie,pz:Pe}=this,{px:Ce,py:We,pz:Ve}=xe;let Ge=X.ZERO,tt=X.ZERO,Qe=X.ZERO;const ot=L.a,st=X.mul(L.b,_3n);let nt=X.mul(Ae,Ce),lt=X.mul(Ie,We),Me=X.mul(Pe,Ve),de=X.add(Ae,Ie),ve=X.add(Ce,We);de=X.mul(de,ve),ve=X.add(nt,lt),de=X.sub(de,ve),ve=X.add(Ae,Pe);let Se=X.add(Ce,Ve);return ve=X.mul(ve,Se),Se=X.add(nt,Me),ve=X.sub(ve,Se),Se=X.add(Ie,Pe),Ge=X.add(We,Ve),Se=X.mul(Se,Ge),Ge=X.add(lt,Me),Se=X.sub(Se,Ge),Qe=X.mul(ot,ve),Ge=X.mul(st,Me),Qe=X.add(Ge,Qe),Ge=X.sub(lt,Qe),Qe=X.add(lt,Qe),tt=X.mul(Ge,Qe),lt=X.add(nt,nt),lt=X.add(lt,nt),Me=X.mul(ot,Me),ve=X.mul(st,ve),lt=X.add(lt,Me),Me=X.sub(nt,Me),Me=X.mul(ot,Me),ve=X.add(ve,Me),nt=X.mul(lt,ve),tt=X.add(tt,nt),nt=X.mul(Se,ve),Ge=X.mul(de,Ge),Ge=X.sub(Ge,nt),nt=X.mul(de,lt),Qe=X.mul(Se,Qe),Qe=X.add(Qe,nt),new he(Ge,tt,Qe)}subtract(xe){return this.add(xe.negate())}is0(){return this.equals(he.ZERO)}wNAF(xe){return we.wNAFCached(this,ce,xe,Ae=>{const Ie=X.invertBatch(Ae.map(Pe=>Pe.pz));return Ae.map((Pe,Ce)=>Pe.toAffine(Ie[Ce])).map(he.fromAffine)})}multiplyUnsafe(xe){const Ae=he.ZERO;if(xe===_0n)return Ae;if(se(xe),xe===_1n$1)return this;const{endo:Ie}=L;if(!Ie)return we.unsafeLadder(this,xe);let{k1neg:Pe,k1:Ce,k2neg:We,k2:Ve}=Ie.splitScalar(xe),Ge=Ae,tt=Ae,Qe=this;for(;Ce>_0n||Ve>_0n;)Ce&_1n$1&&(Ge=Ge.add(Qe)),Ve&_1n$1&&(tt=tt.add(Qe)),Qe=Qe.double(),Ce>>=_1n$1,Ve>>=_1n$1;return Pe&&(Ge=Ge.negate()),We&&(tt=tt.negate()),tt=new he(X.mul(tt.px,Ie.beta),tt.py,tt.pz),Ge.add(tt)}multiply(xe){se(xe);let Ae=xe,Ie,Pe;const{endo:Ce}=L;if(Ce){const{k1neg:We,k1:Ve,k2neg:Ge,k2:tt}=Ce.splitScalar(Ae);let{p:Qe,f:ot}=this.wNAF(Ve),{p:st,f:nt}=this.wNAF(tt);Qe=we.constTimeNegate(We,Qe),st=we.constTimeNegate(Ge,st),st=new he(X.mul(st.px,Ce.beta),st.py,st.pz),Ie=Qe.add(st),Pe=ot.add(nt)}else{const{p:We,f:Ve}=this.wNAF(Ae);Ie=We,Pe=Ve}return he.normalizeZ([Ie,Pe])[0]}multiplyAndAddUnsafe(xe,Ae,Ie){const Pe=he.BASE,Ce=(Ve,Ge)=>Ge===_0n||Ge===_1n$1||!Ve.equals(Pe)?Ve.multiplyUnsafe(Ge):Ve.multiply(Ge),We=Ce(this,Ae).add(Ce(xe,Ie));return We.is0()?void 0:We}toAffine(xe){const{px:Ae,py:Ie,pz:Pe}=this,Ce=this.is0();xe==null&&(xe=Ce?X.ONE:X.inv(Pe));const We=X.mul(Ae,xe),Ve=X.mul(Ie,xe),Ge=X.mul(Pe,xe);if(Ce)return{x:X.ZERO,y:X.ZERO};if(!X.eql(Ge,X.ONE))throw new Error("invZ was invalid");return{x:We,y:Ve}}isTorsionFree(){const{h:xe,isTorsionFree:Ae}=L;if(xe===_1n$1)return!0;if(Ae)return Ae(he,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:xe,clearCofactor:Ae}=L;return xe===_1n$1?this:Ae?Ae(he,this):this.multiplyUnsafe(L.h)}toRawBytes(xe=!0){return this.assertValidity(),ee(he,this,xe)}toHex(xe=!0){return bytesToHex(this.toRawBytes(xe))}}he.BASE=new he(L.Gx,L.Gy,X.ONE),he.ZERO=new he(X.ZERO,X.ONE,X.ZERO);const pe=L.nBitLength,we=wNAF(he,L.endo?Math.ceil(pe/2):pe);return{CURVE:L,ProjectivePoint:he,normPrivateKeyToScalar:ue,weierstrassEquation:ie,isWithinCurveOrder:oe}}function validateOpts(Z){const L=validateBasic(Z);return validateObject(L,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...L})}function weierstrass(Z){const L=validateOpts(Z),{Fp:X,n:ee}=L,te=X.BYTES+1,ie=2*X.BYTES+1;function oe(ve){return _0n<ve&&ve<X.ORDER}function se(ve){return mod(ve,ee)}function ue(ve){return invert$1(ve,ee)}const{ProjectivePoint:ce,normPrivateKeyToScalar:le,weierstrassEquation:he,isWithinCurveOrder:pe}=weierstrassPoints({...L,toBytes(ve,Se,$e){const Be=Se.toAffine(),Le=X.toBytes(Be.x),Ue=concatBytes$1;return $e?Ue(Uint8Array.from([Se.hasEvenY()?2:3]),Le):Ue(Uint8Array.from([4]),Le,X.toBytes(Be.y))},fromBytes(ve){const Se=ve.length,$e=ve[0],Be=ve.subarray(1);if(Se===te&&($e===2||$e===3)){const Le=bytesToNumberBE(Be);if(!oe(Le))throw new Error("Point is not on curve");const Ue=he(Le);let Ne=X.sqrt(Ue);const ge=(Ne&_1n$1)===_1n$1;return($e&1)===1!==ge&&(Ne=X.neg(Ne)),{x:Le,y:Ne}}else if(Se===ie&&$e===4){const Le=X.fromBytes(Be.subarray(0,X.BYTES)),Ue=X.fromBytes(Be.subarray(X.BYTES,2*X.BYTES));return{x:Le,y:Ue}}else throw new Error(`Point of length ${Se} was invalid. Expected ${te} compressed bytes or ${ie} uncompressed bytes`)}}),we=ve=>bytesToHex(numberToBytesBE(ve,L.nByteLength));function _e(ve){const Se=ee>>_1n$1;return ve>Se}function xe(ve){return _e(ve)?se(-ve):ve}const Ae=(ve,Se,$e)=>bytesToNumberBE(ve.slice(Se,$e));class Ie{constructor(Se,$e,Be){this.r=Se,this.s=$e,this.recovery=Be,this.assertValidity()}static fromCompact(Se){const $e=L.nByteLength;return Se=ensureBytes("compactSignature",Se,$e*2),new Ie(Ae(Se,0,$e),Ae(Se,$e,2*$e))}static fromDER(Se){const{r:$e,s:Be}=DER.toSig(ensureBytes("DER",Se));return new Ie($e,Be)}assertValidity(){if(!pe(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!pe(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Se){return new Ie(this.r,this.s,Se)}recoverPublicKey(Se){const{r:$e,s:Be,recovery:Le}=this,Ue=tt(ensureBytes("msgHash",Se));if(Le==null||![0,1,2,3].includes(Le))throw new Error("recovery id invalid");const Ne=Le===2||Le===3?$e+L.n:$e;if(Ne>=X.ORDER)throw new Error("recovery id 2 or 3 invalid");const ge=Le&1?"03":"02",Oe=ce.fromHex(ge+we(Ne)),rt=ue(Ne),Te=se(-Ue*rt),qe=se(Be*rt),Fe=ce.BASE.multiplyAndAddUnsafe(Oe,Te,qe);if(!Fe)throw new Error("point at infinify");return Fe.assertValidity(),Fe}hasHighS(){return _e(this.s)}normalizeS(){return this.hasHighS()?new Ie(this.r,se(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return we(this.r)+we(this.s)}}const Pe={isValidPrivateKey(ve){try{return le(ve),!0}catch{return!1}},normPrivateKeyToScalar:le,randomPrivateKey:()=>{const ve=L.randomBytes(X.BYTES+8),Se=hashToPrivateScalar(ve,ee);return numberToBytesBE(Se,L.nByteLength)},precompute(ve=8,Se=ce.BASE){return Se._setWindowSize(ve),Se.multiply(BigInt(3)),Se}};function Ce(ve,Se=!0){return ce.fromPrivateKey(ve).toRawBytes(Se)}function We(ve){const Se=ve instanceof Uint8Array,$e=typeof ve=="string",Be=(Se||$e)&&ve.length;return Se?Be===te||Be===ie:$e?Be===2*te||Be===2*ie:ve instanceof ce}function Ve(ve,Se,$e=!0){if(We(ve))throw new Error("first arg must be private key");if(!We(Se))throw new Error("second arg must be public key");return ce.fromHex(Se).multiply(le(ve)).toRawBytes($e)}const Ge=L.bits2int||function(ve){const Se=bytesToNumberBE(ve),$e=ve.length*8-L.nBitLength;return $e>0?Se>>BigInt($e):Se},tt=L.bits2int_modN||function(ve){return se(Ge(ve))},Qe=bitMask(L.nBitLength);function ot(ve){if(typeof ve!="bigint")throw new Error("bigint expected");if(!(_0n<=ve&&ve<Qe))throw new Error(`bigint expected < 2^${L.nBitLength}`);return numberToBytesBE(ve,L.nByteLength)}function st(ve,Se,$e=nt){if(["recovered","canonical"].some(Ye=>Ye in $e))throw new Error("sign() legacy options not supported");const{hash:Be,randomBytes:Le}=L;let{lowS:Ue,prehash:Ne,extraEntropy:ge}=$e;Ue==null&&(Ue=!0),ve=ensureBytes("msgHash",ve),Ne&&(ve=ensureBytes("prehashed msgHash",Be(ve)));const Oe=tt(ve),rt=le(Se),Te=[ot(rt),ot(Oe)];if(ge!=null){const Ye=ge===!0?Le(X.BYTES):ge;Te.push(ensureBytes("extraEntropy",Ye,X.BYTES))}const qe=concatBytes$1(...Te),Fe=Oe;function Ze(Ye){const et=Ge(Ye);if(!pe(et))return;const Xe=ue(et),Ke=ce.BASE.multiply(et).toAffine(),at=se(Ke.x);if(at===_0n)return;const Je=se(Xe*se(Fe+at*rt));if(Je===_0n)return;let it=(Ke.x===at?0:2)|Number(Ke.y&_1n$1),Ht=Je;return Ue&&_e(Je)&&(Ht=xe(Je),it^=1),new Ie(at,Ht,it)}return{seed:qe,k2sig:Ze}}const nt={lowS:L.lowS,prehash:!1},lt={lowS:L.lowS,prehash:!1};function Me(ve,Se,$e=nt){const{seed:Be,k2sig:Le}=st(ve,Se,$e),Ue=L;return createHmacDrbg(Ue.hash.outputLen,Ue.nByteLength,Ue.hmac)(Be,Le)}ce.BASE._setWindowSize(8);function de(ve,Se,$e,Be=lt){const Le=ve;if(Se=ensureBytes("msgHash",Se),$e=ensureBytes("publicKey",$e),"strict"in Be)throw new Error("options.strict was renamed to lowS");const{lowS:Ue,prehash:Ne}=Be;let ge,Oe;try{if(typeof Le=="string"||Le instanceof Uint8Array)try{ge=Ie.fromDER(Le)}catch(Ke){if(!(Ke instanceof DER.Err))throw Ke;ge=Ie.fromCompact(Le)}else if(typeof Le=="object"&&typeof Le.r=="bigint"&&typeof Le.s=="bigint"){const{r:Ke,s:at}=Le;ge=new Ie(Ke,at)}else throw new Error("PARSE");Oe=ce.fromHex($e)}catch(Ke){if(Ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ue&&ge.hasHighS())return!1;Ne&&(Se=L.hash(Se));const{r:rt,s:Te}=ge,qe=tt(Se),Fe=ue(Te),Ze=se(qe*Fe),Ye=se(rt*Fe),et=ce.BASE.multiplyAndAddUnsafe(Oe,Ze,Ye)?.toAffine();return et?se(et.x)===rt:!1}return{CURVE:L,getPublicKey:Ce,getSharedSecret:Ve,sign:Me,verify:de,ProjectivePoint:ce,Signature:Ie,utils:Pe}}class HMAC extends Hash{constructor(L,X){super(),this.finished=!1,this.destroyed=!1,assert.hash(L);const ee=toBytes(X);if(this.iHash=L.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const te=this.blockLen,ie=new Uint8Array(te);ie.set(ee.length>te?L.create().update(ee).digest():ee);for(let oe=0;oe<ie.length;oe++)ie[oe]^=54;this.iHash.update(ie),this.oHash=L.create();for(let oe=0;oe<ie.length;oe++)ie[oe]^=106;this.oHash.update(ie),ie.fill(0)}update(L){return assert.exists(this),this.iHash.update(L),this}digestInto(L){assert.exists(this),assert.bytes(L,this.outputLen),this.finished=!0,this.iHash.digestInto(L),this.oHash.update(L),this.oHash.digestInto(L),this.destroy()}digest(){const L=new Uint8Array(this.oHash.outputLen);return this.digestInto(L),L}_cloneInto(L){L||(L=Object.create(Object.getPrototypeOf(this),{}));const{oHash:X,iHash:ee,finished:te,destroyed:ie,blockLen:oe,outputLen:se}=this;return L=L,L.finished=te,L.destroyed=ie,L.blockLen=oe,L.outputLen=se,L.oHash=X._cloneInto(L.oHash),L.iHash=ee._cloneInto(L.iHash),L}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(Z,L,X)=>new HMAC(Z,L).update(X).digest();hmac.create=(Z,L)=>new HMAC(Z,L);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(Z){return{hash:Z,hmac:(L,...X)=>hmac(Z,L,concatBytes(...X)),randomBytes}}function createCurve(Z,L){const X=ee=>weierstrass({...Z,...getHash(ee)});return Object.freeze({...X(L),create:X})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(Z,L)=>(Z+L/_2n)/L;function sqrtMod(Z){const L=secp256k1P,X=BigInt(3),ee=BigInt(6),te=BigInt(11),ie=BigInt(22),oe=BigInt(23),se=BigInt(44),ue=BigInt(88),ce=Z*Z*Z%L,le=ce*ce*Z%L,he=pow2(le,X,L)*le%L,pe=pow2(he,X,L)*le%L,we=pow2(pe,_2n,L)*ce%L,_e=pow2(we,te,L)*we%L,xe=pow2(_e,ie,L)*_e%L,Ae=pow2(xe,se,L)*xe%L,Ie=pow2(Ae,ue,L)*Ae%L,Pe=pow2(Ie,se,L)*xe%L,Ce=pow2(Pe,X,L)*le%L,We=pow2(Ce,oe,L)*_e%L,Ve=pow2(We,ee,L)*ce%L,Ge=pow2(Ve,_2n,L);if(!Fp.eql(Fp.sqr(Ge),Z))throw new Error("Cannot find square root");return Ge}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:Z=>{const L=secp256k1N,X=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ee=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),te=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ie=X,oe=BigInt("0x100000000000000000000000000000000"),se=divNearest(ie*Z,L),ue=divNearest(-ee*Z,L);let ce=mod(Z-se*X-ue*te,L),le=mod(-se*ee-ue*ie,L);const he=ce>oe,pe=le>oe;if(he&&(ce=L-ce),pe&&(le=L-le),ce>oe||le>oe)throw new Error("splitScalar: Endomorphism failed, k="+Z);return{k1neg:he,k1:ce,k2neg:pe,k2:le}}}},sha256);BigInt(0);secp256k1.ProjectivePoint;function signatureToHex({r:Z,s:L,v:X}){return`0x${new secp256k1.Signature(hexToBigInt(Z),hexToBigInt(L)).toCompactHex()}${toHex(X).slice(2)}`}function t$3(Z,L){throw new Error(L??`Unexpected value: ${Z}`)}function u$2(...Z){return Z.reduce((L,X)=>X<L?X:L)}function m$3(Z,L){return Z<L?-1:Z>L?1:0}function*f$3(Z,L){for(let X=0;X<Z.length;X+=L)yield Z.slice(X,X+L)}function P$5(Z){return Z!==void 0}function b$3(Z){return new Promise(L=>setTimeout(()=>L(),Z))}var r$2=class extends Error{name="MUDError"};function ne(Z){let L=[],X=[];for(let ee of Z)T$1(ee)?X.push(ee):L.push(ee);return{staticFields:L,dynamicFields:X}}var d$4=class extends r$2{name="InvalidHexValueError";constructor(L){super(`Hex value "${L}" is an odd length (${L.length-2}). It must be an even length.`)}},f$2=class extends r$2{name="InvalidHexLengthForSchemaError";constructor(L){super(`Hex value "${L}" has length of ${L.length-2}, but expected length of 64 for a schema.`)}},x$5=class extends r$2{name="InvalidHexLengthForPackedCounterError";constructor(L){super(`Hex value "${L}" has length of ${L.length-2}, but expected length of 64 for a packed counter.`)}},g$5=class extends r$2{name="InvalidHexLengthForStaticFieldError";constructor(L,X){super(`Hex value "${X}" has length of ${X.length-2}, but expected length of ${A$2[L]*2} for ${L} type.`)}},S$1=class extends r$2{name="InvalidHexLengthForArrayFieldError";constructor(L,X){super(`Hex value "${X}" has length of ${X.length-2}, but expected a multiple of ${A$2[L]*2} for ${L}[] type.`)}},A$1=class extends r$2{name="SchemaStaticLengthMismatchError";constructor(L,X,ee){super(`Schema "${L}" static data length (${X}) did not match the summed length of all static fields (${ee}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},v$3=class extends r$2{name="PackedCounterLengthMismatchError";constructor(L,X,ee){super(`PackedCounter "${L}" total bytes length (${X}) did not match the summed length of all field byte lengths (${ee}).`)}};function p$1(Z,L){if(L.length>3&&L.length%2!==0)throw new d$4(L);if((L.length-2)/2!==A$2[Z])throw new g$5(Z,L);switch(Z){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let X=hexToBigInt(L,{signed:Z.startsWith("int")}),ee=typeof a$3[Z];if(ee==="number")return Number(X);if(ee==="bigint")return X;throw new Error(`Unexpected default value type (${ee}) for ABI type (${Z})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return L;case"bool":return hexToBool(L);case"address":return getAddress(L)}return t$3(Z,`Unsupported static ABI type: ${Z}`)}function h$3(Z,L){if(Z==="bytes")return L;if(Z==="string")return hexToString(L);if(L.length>3&&L.length%2!==0)throw new d$4(L);let X=(L.length-2)/2;switch(Z){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let ee=r$3(Z),te=A$2[ee];if(X%te!==0)throw new S$1(ee,L);return new Array(X/te).fill(void 0).map((ie,oe)=>{let se=sliceHex(L,oe*te,(oe+1)*te);return p$1(ee,se)})}}return t$3(Z,`Unsupported dynamic ABI type: ${Z}`)}function ke(Z,L){return T$1(Z)?h$3(Z,L):p$1(Z,L)}function ze(Z,L){if(Z.staticFields.length!==L.length)throw new Error(`key tuple length ${L.length} does not match key schema length ${Z.staticFields.length}`);return L.map((X,ee)=>decodeAbiParameters([{type:Z.staticFields[ee]}],X)[0])}function B$2(Z){if(Z.length!==66)throw new x$5(Z);let L=p$1("uint56",sliceHex(Z,32-7,32)),X=h$3("uint40[]",sliceHex(Z,0,32-7)),ee=Object.freeze([...X].reverse()),te=BigInt(ee.reduce((ie,oe)=>ie+oe,0));if(te!==L)throw new v$3(Z,L,te);return{totalByteLength:L,fieldByteLengths:ee}}function P$4(Z){return Z.reduce((L,X)=>L+A$2[X],0)}function ct(Z,L){let X=[],ee=0;Z.staticFields.forEach(oe=>{let se=A$2[oe],ue=p$1(oe,sliceHex(L,ee,ee+se));ee+=se,X.push(ue)});let te=P$4(Z.staticFields),ie=ee;if(ie!==te&&console.warn("Decoded static data length does not match schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:te,actualLength:ie,bytesOffset:ee}),Z.dynamicFields.length>0){let oe=B$2(sliceHex(L,ee,ee+32));ee+=32,Z.dynamicFields.forEach((ue,ce)=>{let le=oe.fieldByteLengths[ce];if(le>0){let he=h$3(ue,sliceHex(L,ee,ee+le));ee+=le,X.push(he)}else X.push(s$3[ue])});let se=ee-32-ie;BigInt(se)!==oe.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:oe.totalByteLength,actualLength:se,bytesOffset:ee})}return X}function D$1(Z){if(Z.length!==66)throw new f$2(Z);let L=hexToNumber$1(sliceHex(Z,0,2)),X=hexToNumber$1(sliceHex(Z,2,3)),ee=hexToNumber$1(sliceHex(Z,3,4)),te=[],ie=[];for(let se=4;se<4+X;se++){let ue=hexToNumber$1(sliceHex(Z,se,se+1));te.push(n$1[ue])}for(let se=4+X;se<4+X+ee;se++){let ue=hexToNumber$1(sliceHex(Z,se,se+1));ie.push(n$1[ue])}let oe=te.reduce((se,ue)=>se+A$2[ue],0);if(oe!==L)throw console.warn(`Schema "${Z}" static data length (${L}) did not match the summed length of all static fields (${oe}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new A$1(Z,L,oe);return{staticFields:te,dynamicFields:ie}}var browserExports={},browser={get exports(){return browserExports},set exports(Z){browserExports=Z}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var Z=1e3,L=Z*60,X=L*60,ee=X*24,te=ee*7,ie=ee*365.25;ms=function(le,he){he=he||{};var pe=typeof le;if(pe==="string"&&le.length>0)return oe(le);if(pe==="number"&&isFinite(le))return he.long?ue(le):se(le);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(le))};function oe(le){if(le=String(le),!(le.length>100)){var he=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(le);if(he){var pe=parseFloat(he[1]),we=(he[2]||"ms").toLowerCase();switch(we){case"years":case"year":case"yrs":case"yr":case"y":return pe*ie;case"weeks":case"week":case"w":return pe*te;case"days":case"day":case"d":return pe*ee;case"hours":case"hour":case"hrs":case"hr":case"h":return pe*X;case"minutes":case"minute":case"mins":case"min":case"m":return pe*L;case"seconds":case"second":case"secs":case"sec":case"s":return pe*Z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return pe;default:return}}}}function se(le){var he=Math.abs(le);return he>=ee?Math.round(le/ee)+"d":he>=X?Math.round(le/X)+"h":he>=L?Math.round(le/L)+"m":he>=Z?Math.round(le/Z)+"s":le+"ms"}function ue(le){var he=Math.abs(le);return he>=ee?ce(le,he,ee,"day"):he>=X?ce(le,he,X,"hour"):he>=L?ce(le,he,L,"minute"):he>=Z?ce(le,he,Z,"second"):le+" ms"}function ce(le,he,pe,we){var _e=he>=pe*1.5;return Math.round(le/pe)+" "+we+(_e?"s":"")}return ms}function setup$1(Z){X.debug=X,X.default=X,X.coerce=ue,X.disable=ie,X.enable=te,X.enabled=oe,X.humanize=requireMs(),X.destroy=ce,Object.keys(Z).forEach(le=>{X[le]=Z[le]}),X.names=[],X.skips=[],X.formatters={};function L(le){let he=0;for(let pe=0;pe<le.length;pe++)he=(he<<5)-he+le.charCodeAt(pe),he|=0;return X.colors[Math.abs(he)%X.colors.length]}X.selectColor=L;function X(le){let he,pe=null,we,_e;function xe(...Ae){if(!xe.enabled)return;const Ie=xe,Pe=Number(new Date),Ce=Pe-(he||Pe);Ie.diff=Ce,Ie.prev=he,Ie.curr=Pe,he=Pe,Ae[0]=X.coerce(Ae[0]),typeof Ae[0]!="string"&&Ae.unshift("%O");let We=0;Ae[0]=Ae[0].replace(/%([a-zA-Z%])/g,(Ge,tt)=>{if(Ge==="%%")return"%";We++;const Qe=X.formatters[tt];if(typeof Qe=="function"){const ot=Ae[We];Ge=Qe.call(Ie,ot),Ae.splice(We,1),We--}return Ge}),X.formatArgs.call(Ie,Ae),(Ie.log||X.log).apply(Ie,Ae)}return xe.namespace=le,xe.useColors=X.useColors(),xe.color=X.selectColor(le),xe.extend=ee,xe.destroy=X.destroy,Object.defineProperty(xe,"enabled",{enumerable:!0,configurable:!1,get:()=>pe!==null?pe:(we!==X.namespaces&&(we=X.namespaces,_e=X.enabled(le)),_e),set:Ae=>{pe=Ae}}),typeof X.init=="function"&&X.init(xe),xe}function ee(le,he){const pe=X(this.namespace+(typeof he>"u"?":":he)+le);return pe.log=this.log,pe}function te(le){X.save(le),X.namespaces=le,X.names=[],X.skips=[];let he;const pe=(typeof le=="string"?le:"").split(/[\s,]+/),we=pe.length;for(he=0;he<we;he++)pe[he]&&(le=pe[he].replace(/\*/g,".*?"),le[0]==="-"?X.skips.push(new RegExp("^"+le.slice(1)+"$")):X.names.push(new RegExp("^"+le+"$")))}function ie(){const le=[...X.names.map(se),...X.skips.map(se).map(he=>"-"+he)].join(",");return X.enable(""),le}function oe(le){if(le[le.length-1]==="*")return!0;let he,pe;for(he=0,pe=X.skips.length;he<pe;he++)if(X.skips[he].test(le))return!1;for(he=0,pe=X.names.length;he<pe;he++)if(X.names[he].test(le))return!0;return!1}function se(le){return le.toString().substring(2,le.toString().length-2).replace(/\.\*\?$/,"*")}function ue(le){return le instanceof Error?le.stack||le.message:le}function ce(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}var common=setup$1;(function(Z,L){L.formatArgs=ee,L.save=te,L.load=ie,L.useColors=X,L.storage=oe(),L.destroy=(()=>{let ue=!1;return()=>{ue||(ue=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),L.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function X(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ee(ue){if(ue[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ue[0]+(this.useColors?"%c ":" ")+"+"+Z.exports.humanize(this.diff),!this.useColors)return;const ce="color: "+this.color;ue.splice(1,0,ce,"color: inherit");let le=0,he=0;ue[0].replace(/%[a-zA-Z%]/g,pe=>{pe!=="%%"&&(le++,pe==="%c"&&(he=le))}),ue.splice(he,0,ce)}L.log=console.debug||console.log||(()=>{});function te(ue){try{ue?L.storage.setItem("debug",ue):L.storage.removeItem("debug")}catch{}}function ie(){let ue;try{ue=L.storage.getItem("debug")}catch{}return!ue&&typeof process<"u"&&"env"in process&&(ue={}.DEBUG),ue}function oe(){try{return localStorage}catch{}}Z.exports=common(L);const{formatters:se}=Z.exports;se.j=function(ue){try{return JSON.stringify(ue)}catch(ce){return"[UnexpectedJSONParseError]: "+ce.message}}})(browser,browserExports);const g$4=browserExports;function generatePrivateKey(){return toHex(secp256k1.utils.randomPrivateKey())}function toAccount(Z){if(typeof Z=="string"){if(!isAddress(Z))throw new InvalidAddressError({address:Z});return{address:Z,type:"json-rpc"}}if(!isAddress(Z.address))throw new InvalidAddressError({address:Z.address});return{address:Z.address,signMessage:Z.signMessage,signTransaction:Z.signTransaction,signTypedData:Z.signTypedData,source:"custom",type:"local"}}async function sign({hash:Z,privateKey:L}){const{r:X,s:ee,recovery:te}=secp256k1.sign(Z.slice(2),L.slice(2));return{r:toHex(X),s:toHex(ee),v:te?28n:27n}}async function signMessage({message:Z,privateKey:L}){const X=await sign({hash:hashMessage(Z),privateKey:L});return signatureToHex(X)}async function signTransaction({privateKey:Z,transaction:L,serializer:X=serializeTransaction}){const ee=await sign({hash:keccak256(X(L)),privateKey:Z});return X(L,ee)}async function signTypedData({privateKey:Z,...L}){const X=await sign({hash:hashTypedData(L),privateKey:Z});return signatureToHex(X)}function privateKeyToAccount(Z){const L=toHex(secp256k1.getPublicKey(Z.slice(2),!1)),X=publicKeyToAddress(L);return{...toAccount({address:X,async signMessage({message:te}){return signMessage({message:te,privateKey:Z})},async signTransaction(te,{serializer:ie}={}){return signTransaction({privateKey:Z,transaction:te,serializer:ie})},async signTypedData(te){return signTypedData({...te,privateKey:Z})}}),publicKey:L,source:"privateKey"}}var retryExports={},retry$3={get exports(){return retryExports},set exports(Z){retryExports=Z}},retry$2={};function RetryOperation(Z,L){typeof L=="boolean"&&(L={forever:L}),this._originalTimeouts=JSON.parse(JSON.stringify(Z)),this._timeouts=Z,this._options=L||{},this._maxRetryTime=L&&L.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(Z){if(this._timeout&&clearTimeout(this._timeout),!Z)return!1;var L=new Date().getTime();if(Z&&L-this._operationStart>=this._maxRetryTime)return this._errors.push(Z),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(Z);var X=this._timeouts.shift();if(X===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),X=this._cachedTimeouts.slice(-1);else return!1;var ee=this;return this._timer=setTimeout(function(){ee._attempts++,ee._operationTimeoutCb&&(ee._timeout=setTimeout(function(){ee._operationTimeoutCb(ee._attempts)},ee._operationTimeout),ee._options.unref&&ee._timeout.unref()),ee._fn(ee._attempts)},X),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(Z,L){this._fn=Z,L&&(L.timeout&&(this._operationTimeout=L.timeout),L.cb&&(this._operationTimeoutCb=L.cb));var X=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){X._operationTimeoutCb()},X._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(Z){console.log("Using RetryOperation.try() is deprecated"),this.attempt(Z)};RetryOperation.prototype.start=function(Z){console.log("Using RetryOperation.start() is deprecated"),this.attempt(Z)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var Z={},L=null,X=0,ee=0;ee<this._errors.length;ee++){var te=this._errors[ee],ie=te.message,oe=(Z[ie]||0)+1;Z[ie]=oe,oe>=X&&(L=te,X=oe)}return L};(function(Z){var L=retry_operation;Z.operation=function(X){var ee=Z.timeouts(X);return new L(ee,{forever:X&&(X.forever||X.retries===1/0),unref:X&&X.unref,maxRetryTime:X&&X.maxRetryTime})},Z.timeouts=function(X){if(X instanceof Array)return[].concat(X);var ee={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var te in X)ee[te]=X[te];if(ee.minTimeout>ee.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var ie=[],oe=0;oe<ee.retries;oe++)ie.push(this.createTimeout(oe,ee));return X&&X.forever&&!ie.length&&ie.push(this.createTimeout(oe,ee)),ie.sort(function(se,ue){return se-ue}),ie},Z.createTimeout=function(X,ee){var te=ee.randomize?Math.random()+1:1,ie=Math.round(te*Math.max(ee.minTimeout,1)*Math.pow(ee.factor,X));return ie=Math.min(ie,ee.maxTimeout),ie},Z.wrap=function(X,ee,te){if(ee instanceof Array&&(te=ee,ee=null),!te){te=[];for(var ie in X)typeof X[ie]=="function"&&te.push(ie)}for(var oe=0;oe<te.length;oe++){var se=te[oe],ue=X[se];X[se]=function(le){var he=Z.operation(ee),pe=Array.prototype.slice.call(arguments,1),we=pe.pop();pe.push(function(_e){he.retry(_e)||(_e&&(arguments[0]=he.mainError()),we.apply(this,arguments))}),he.attempt(function(){le.apply(X,pe)})}.bind(X,ue),X[se].options=ee}}})(retry$2);(function(Z){Z.exports=retry$2})(retry$3);const retry$1=getDefaultExportFromCjs(retryExports),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);let AbortError$1=class extends Error{constructor(L){super(),L instanceof Error?(this.originalError=L,{message:L}=L):(this.originalError=new Error(L),this.originalError.stack=this.stack),this.name="AbortError",this.message=L}};const decorateErrorWithCounts=(Z,L,X)=>{const ee=X.retries-(L-1);return Z.attemptNumber=L,Z.retriesLeft=ee,Z},isNetworkError=Z=>networkErrorMsgs.has(Z),getDOMException=Z=>globalThis.DOMException===void 0?new Error(Z):new DOMException(Z);async function pRetry(Z,L){return new Promise((X,ee)=>{L={onFailedAttempt(){},retries:10,...L};const te=retry$1.operation(L);te.attempt(async ie=>{try{X(await Z(ie))}catch(oe){if(!(oe instanceof Error)){ee(new TypeError(`Non-error was thrown: "${oe}". You should only throw errors.`));return}if(oe instanceof AbortError$1)te.stop(),ee(oe.originalError);else if(oe instanceof TypeError&&!isNetworkError(oe.message))te.stop(),ee(oe);else{decorateErrorWithCounts(oe,ie,L);try{await L.onFailedAttempt(oe)}catch(se){ee(se);return}te.retry(oe)||ee(te.mainError())}}}),L.signal&&!L.signal.aborted&&L.signal.addEventListener("abort",()=>{te.stop();const ie=L.signal.reason===void 0?getDOMException("The operation was aborted."):L.signal.reason;ee(ie instanceof Error?ie:getDOMException(ie))},{once:!0})})}function J(Z){return{...privateKeyToAccount(Z)}}var p=g$4("mud:common"),x$4=p.extend("createNonceManager");function b$2({publicClient:Z,address:L,blockTag:X}){let ee={current:-1},te=typeof BroadcastChannel<"u"?new BroadcastChannel(`mud:createNonceManager:${Z.chain?.id}:${L}`):null;te&&te.addEventListener("message",ce=>{let le=JSON.parse(ce.data);x$4("got nonce from broadcast channel",le),ee.current=le});function ie(){return ee.current>=0}function oe(){if(!ie())throw new Error("call resetNonce before using nextNonce");let ce=ee.current++;return te?.postMessage(JSON.stringify(ee.current)),ce}async function se(){let ce=await Z.getTransactionCount({address:L,blockTag:X});ee.current=ce,te?.postMessage(JSON.stringify(ee.current)),x$4("reset nonce to",ee.current)}function ue(ce){return ce instanceof BaseError&&ce.walk(le=>le instanceof NonceTooLowError||le instanceof NonceTooHighError)!=null}return{hasNonce:ie,nextNonce:oe,resetNonce:se,shouldResetNonce:ue}}var m$2=p.extend("createContract");function E$1(Z){let L=Z.length&&Array.isArray(Z[0]),X=L?Z[0]:[],ee=(L?Z[1]:Z[0])??{};return{args:X,options:ee}}function me({abi:Z,address:L,publicClient:X,walletClient:ee,onWrite:te}){let ie=getContract({abi:Z,address:L,publicClient:X,walletClient:ee});if(ie.write){let oe=0,se=b$2({publicClient:X,address:ee.account.address});ie.write=new Proxy({},{get(ue,ce){async function le(pe){if(pe.gas)return m$2("gas provided, skipping simulate",ce,pe),pe;m$2("simulating write",ce,pe);let{request:we}=await X.simulateContract({...pe,account:pe.account??ee.account});return we}async function he(pe){let we=await le(pe);return await pRetry(async()=>{se.hasNonce()||await se.resetNonce();let _e=se.nextNonce();return m$2("calling write function with nonce",_e,we),await ee.writeContract({nonce:_e,...we})},{retries:3,onFailedAttempt:async _e=>{if(se.shouldResetNonce(_e)){m$2("got nonce error, retrying",_e),await se.resetNonce();return}throw _e}})}return(...pe)=>{let we=`${ee.chain.id}:${ee.account.address}:${oe++}`,{args:_e,options:xe}=E$1(pe),Ae={address:L,abi:Z,functionName:ce,args:_e,...xe},Ie=he(Ae);return te?.({id:we,request:Ae,result:Ie}),Ie}}})}return ie}function B$1(Z,L){if(!isHex(Z))throw console.error("Private key found in cache is not valid hex",{privateKey:Z,cacheKey:L}),new Error(`Private key found in cache (${L}) is not valid hex`);privateKeyToAccount(Z)}function be$1(Z="mud:burnerWallet"){let L=localStorage.getItem(Z);if(L!=null)return B$1(L,Z),L;let X=generatePrivateKey();return console.log("New burner wallet created:",privateKeyToAccount(X)),localStorage.setItem(Z,X),X}function ye(Z){let L=hexToString(sliceHex(Z,0,16)).replace(/\0+$/,""),X=hexToString(sliceHex(Z,16,32)).replace(/\0+$/,"");return{namespace:L,name:X}}function He(Z,L){return concatHex([stringToHex(Z.substring(0,16),{size:16}),stringToHex(L.substring(0,16),{size:16})])}var I$2=p.extend("transportObserver");function Ee(Z){return L=>{let X=Z(L);return{...X,request:async ee=>{if(ee.method==="eth_sendRawTransaction"&&ee.params instanceof Array){let te=ee.params.map(ie=>keccak256(ie));I$2("saw txs",te)}return X.request(ee)}}}}var I$1=(Z=>(Z[Z.UINT8=0]="UINT8",Z[Z.UINT16=1]="UINT16",Z[Z.UINT24=2]="UINT24",Z[Z.UINT32=3]="UINT32",Z[Z.UINT40=4]="UINT40",Z[Z.UINT48=5]="UINT48",Z[Z.UINT56=6]="UINT56",Z[Z.UINT64=7]="UINT64",Z[Z.UINT72=8]="UINT72",Z[Z.UINT80=9]="UINT80",Z[Z.UINT88=10]="UINT88",Z[Z.UINT96=11]="UINT96",Z[Z.UINT104=12]="UINT104",Z[Z.UINT112=13]="UINT112",Z[Z.UINT120=14]="UINT120",Z[Z.UINT128=15]="UINT128",Z[Z.UINT136=16]="UINT136",Z[Z.UINT144=17]="UINT144",Z[Z.UINT152=18]="UINT152",Z[Z.UINT160=19]="UINT160",Z[Z.UINT168=20]="UINT168",Z[Z.UINT176=21]="UINT176",Z[Z.UINT184=22]="UINT184",Z[Z.UINT192=23]="UINT192",Z[Z.UINT200=24]="UINT200",Z[Z.UINT208=25]="UINT208",Z[Z.UINT216=26]="UINT216",Z[Z.UINT224=27]="UINT224",Z[Z.UINT232=28]="UINT232",Z[Z.UINT240=29]="UINT240",Z[Z.UINT248=30]="UINT248",Z[Z.UINT256=31]="UINT256",Z[Z.INT8=32]="INT8",Z[Z.INT16=33]="INT16",Z[Z.INT24=34]="INT24",Z[Z.INT32=35]="INT32",Z[Z.INT40=36]="INT40",Z[Z.INT48=37]="INT48",Z[Z.INT56=38]="INT56",Z[Z.INT64=39]="INT64",Z[Z.INT72=40]="INT72",Z[Z.INT80=41]="INT80",Z[Z.INT88=42]="INT88",Z[Z.INT96=43]="INT96",Z[Z.INT104=44]="INT104",Z[Z.INT112=45]="INT112",Z[Z.INT120=46]="INT120",Z[Z.INT128=47]="INT128",Z[Z.INT136=48]="INT136",Z[Z.INT144=49]="INT144",Z[Z.INT152=50]="INT152",Z[Z.INT160=51]="INT160",Z[Z.INT168=52]="INT168",Z[Z.INT176=53]="INT176",Z[Z.INT184=54]="INT184",Z[Z.INT192=55]="INT192",Z[Z.INT200=56]="INT200",Z[Z.INT208=57]="INT208",Z[Z.INT216=58]="INT216",Z[Z.INT224=59]="INT224",Z[Z.INT232=60]="INT232",Z[Z.INT240=61]="INT240",Z[Z.INT248=62]="INT248",Z[Z.INT256=63]="INT256",Z[Z.BYTES1=64]="BYTES1",Z[Z.BYTES2=65]="BYTES2",Z[Z.BYTES3=66]="BYTES3",Z[Z.BYTES4=67]="BYTES4",Z[Z.BYTES5=68]="BYTES5",Z[Z.BYTES6=69]="BYTES6",Z[Z.BYTES7=70]="BYTES7",Z[Z.BYTES8=71]="BYTES8",Z[Z.BYTES9=72]="BYTES9",Z[Z.BYTES10=73]="BYTES10",Z[Z.BYTES11=74]="BYTES11",Z[Z.BYTES12=75]="BYTES12",Z[Z.BYTES13=76]="BYTES13",Z[Z.BYTES14=77]="BYTES14",Z[Z.BYTES15=78]="BYTES15",Z[Z.BYTES16=79]="BYTES16",Z[Z.BYTES17=80]="BYTES17",Z[Z.BYTES18=81]="BYTES18",Z[Z.BYTES19=82]="BYTES19",Z[Z.BYTES20=83]="BYTES20",Z[Z.BYTES21=84]="BYTES21",Z[Z.BYTES22=85]="BYTES22",Z[Z.BYTES23=86]="BYTES23",Z[Z.BYTES24=87]="BYTES24",Z[Z.BYTES25=88]="BYTES25",Z[Z.BYTES26=89]="BYTES26",Z[Z.BYTES27=90]="BYTES27",Z[Z.BYTES28=91]="BYTES28",Z[Z.BYTES29=92]="BYTES29",Z[Z.BYTES30=93]="BYTES30",Z[Z.BYTES31=94]="BYTES31",Z[Z.BYTES32=95]="BYTES32",Z[Z.BOOL=96]="BOOL",Z[Z.ADDRESS=97]="ADDRESS",Z[Z.UINT8_ARRAY=98]="UINT8_ARRAY",Z[Z.UINT16_ARRAY=99]="UINT16_ARRAY",Z[Z.UINT24_ARRAY=100]="UINT24_ARRAY",Z[Z.UINT32_ARRAY=101]="UINT32_ARRAY",Z[Z.UINT40_ARRAY=102]="UINT40_ARRAY",Z[Z.UINT48_ARRAY=103]="UINT48_ARRAY",Z[Z.UINT56_ARRAY=104]="UINT56_ARRAY",Z[Z.UINT64_ARRAY=105]="UINT64_ARRAY",Z[Z.UINT72_ARRAY=106]="UINT72_ARRAY",Z[Z.UINT80_ARRAY=107]="UINT80_ARRAY",Z[Z.UINT88_ARRAY=108]="UINT88_ARRAY",Z[Z.UINT96_ARRAY=109]="UINT96_ARRAY",Z[Z.UINT104_ARRAY=110]="UINT104_ARRAY",Z[Z.UINT112_ARRAY=111]="UINT112_ARRAY",Z[Z.UINT120_ARRAY=112]="UINT120_ARRAY",Z[Z.UINT128_ARRAY=113]="UINT128_ARRAY",Z[Z.UINT136_ARRAY=114]="UINT136_ARRAY",Z[Z.UINT144_ARRAY=115]="UINT144_ARRAY",Z[Z.UINT152_ARRAY=116]="UINT152_ARRAY",Z[Z.UINT160_ARRAY=117]="UINT160_ARRAY",Z[Z.UINT168_ARRAY=118]="UINT168_ARRAY",Z[Z.UINT176_ARRAY=119]="UINT176_ARRAY",Z[Z.UINT184_ARRAY=120]="UINT184_ARRAY",Z[Z.UINT192_ARRAY=121]="UINT192_ARRAY",Z[Z.UINT200_ARRAY=122]="UINT200_ARRAY",Z[Z.UINT208_ARRAY=123]="UINT208_ARRAY",Z[Z.UINT216_ARRAY=124]="UINT216_ARRAY",Z[Z.UINT224_ARRAY=125]="UINT224_ARRAY",Z[Z.UINT232_ARRAY=126]="UINT232_ARRAY",Z[Z.UINT240_ARRAY=127]="UINT240_ARRAY",Z[Z.UINT248_ARRAY=128]="UINT248_ARRAY",Z[Z.UINT256_ARRAY=129]="UINT256_ARRAY",Z[Z.INT8_ARRAY=130]="INT8_ARRAY",Z[Z.INT16_ARRAY=131]="INT16_ARRAY",Z[Z.INT24_ARRAY=132]="INT24_ARRAY",Z[Z.INT32_ARRAY=133]="INT32_ARRAY",Z[Z.INT40_ARRAY=134]="INT40_ARRAY",Z[Z.INT48_ARRAY=135]="INT48_ARRAY",Z[Z.INT56_ARRAY=136]="INT56_ARRAY",Z[Z.INT64_ARRAY=137]="INT64_ARRAY",Z[Z.INT72_ARRAY=138]="INT72_ARRAY",Z[Z.INT80_ARRAY=139]="INT80_ARRAY",Z[Z.INT88_ARRAY=140]="INT88_ARRAY",Z[Z.INT96_ARRAY=141]="INT96_ARRAY",Z[Z.INT104_ARRAY=142]="INT104_ARRAY",Z[Z.INT112_ARRAY=143]="INT112_ARRAY",Z[Z.INT120_ARRAY=144]="INT120_ARRAY",Z[Z.INT128_ARRAY=145]="INT128_ARRAY",Z[Z.INT136_ARRAY=146]="INT136_ARRAY",Z[Z.INT144_ARRAY=147]="INT144_ARRAY",Z[Z.INT152_ARRAY=148]="INT152_ARRAY",Z[Z.INT160_ARRAY=149]="INT160_ARRAY",Z[Z.INT168_ARRAY=150]="INT168_ARRAY",Z[Z.INT176_ARRAY=151]="INT176_ARRAY",Z[Z.INT184_ARRAY=152]="INT184_ARRAY",Z[Z.INT192_ARRAY=153]="INT192_ARRAY",Z[Z.INT200_ARRAY=154]="INT200_ARRAY",Z[Z.INT208_ARRAY=155]="INT208_ARRAY",Z[Z.INT216_ARRAY=156]="INT216_ARRAY",Z[Z.INT224_ARRAY=157]="INT224_ARRAY",Z[Z.INT232_ARRAY=158]="INT232_ARRAY",Z[Z.INT240_ARRAY=159]="INT240_ARRAY",Z[Z.INT248_ARRAY=160]="INT248_ARRAY",Z[Z.INT256_ARRAY=161]="INT256_ARRAY",Z[Z.BYTES1_ARRAY=162]="BYTES1_ARRAY",Z[Z.BYTES2_ARRAY=163]="BYTES2_ARRAY",Z[Z.BYTES3_ARRAY=164]="BYTES3_ARRAY",Z[Z.BYTES4_ARRAY=165]="BYTES4_ARRAY",Z[Z.BYTES5_ARRAY=166]="BYTES5_ARRAY",Z[Z.BYTES6_ARRAY=167]="BYTES6_ARRAY",Z[Z.BYTES7_ARRAY=168]="BYTES7_ARRAY",Z[Z.BYTES8_ARRAY=169]="BYTES8_ARRAY",Z[Z.BYTES9_ARRAY=170]="BYTES9_ARRAY",Z[Z.BYTES10_ARRAY=171]="BYTES10_ARRAY",Z[Z.BYTES11_ARRAY=172]="BYTES11_ARRAY",Z[Z.BYTES12_ARRAY=173]="BYTES12_ARRAY",Z[Z.BYTES13_ARRAY=174]="BYTES13_ARRAY",Z[Z.BYTES14_ARRAY=175]="BYTES14_ARRAY",Z[Z.BYTES15_ARRAY=176]="BYTES15_ARRAY",Z[Z.BYTES16_ARRAY=177]="BYTES16_ARRAY",Z[Z.BYTES17_ARRAY=178]="BYTES17_ARRAY",Z[Z.BYTES18_ARRAY=179]="BYTES18_ARRAY",Z[Z.BYTES19_ARRAY=180]="BYTES19_ARRAY",Z[Z.BYTES20_ARRAY=181]="BYTES20_ARRAY",Z[Z.BYTES21_ARRAY=182]="BYTES21_ARRAY",Z[Z.BYTES22_ARRAY=183]="BYTES22_ARRAY",Z[Z.BYTES23_ARRAY=184]="BYTES23_ARRAY",Z[Z.BYTES24_ARRAY=185]="BYTES24_ARRAY",Z[Z.BYTES25_ARRAY=186]="BYTES25_ARRAY",Z[Z.BYTES26_ARRAY=187]="BYTES26_ARRAY",Z[Z.BYTES27_ARRAY=188]="BYTES27_ARRAY",Z[Z.BYTES28_ARRAY=189]="BYTES28_ARRAY",Z[Z.BYTES29_ARRAY=190]="BYTES29_ARRAY",Z[Z.BYTES30_ARRAY=191]="BYTES30_ARRAY",Z[Z.BYTES31_ARRAY=192]="BYTES31_ARRAY",Z[Z.BYTES32_ARRAY=193]="BYTES32_ARRAY",Z[Z.BOOL_ARRAY=194]="BOOL_ARRAY",Z[Z.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",Z[Z.BYTES=196]="BYTES",Z[Z.STRING=197]="STRING",Z))(I$1||{}),Y$1={[0]:"uint8",[1]:"uint16",[2]:"uint24",[3]:"uint32",[4]:"uint40",[5]:"uint48",[6]:"uint56",[7]:"uint64",[8]:"uint72",[9]:"uint80",[10]:"uint88",[11]:"uint96",[12]:"uint104",[13]:"uint112",[14]:"uint120",[15]:"uint128",[16]:"uint136",[17]:"uint144",[18]:"uint152",[19]:"uint160",[20]:"uint168",[21]:"uint176",[22]:"uint184",[23]:"uint192",[24]:"uint200",[25]:"uint208",[26]:"uint216",[27]:"uint224",[28]:"uint232",[29]:"uint240",[30]:"uint248",[31]:"uint256",[32]:"int8",[33]:"int16",[34]:"int24",[35]:"int32",[36]:"int40",[37]:"int48",[38]:"int56",[39]:"int64",[40]:"int72",[41]:"int80",[42]:"int88",[43]:"int96",[44]:"int104",[45]:"int112",[46]:"int120",[47]:"int128",[48]:"int136",[49]:"int144",[50]:"int152",[51]:"int160",[52]:"int168",[53]:"int176",[54]:"int184",[55]:"int192",[56]:"int200",[57]:"int208",[58]:"int216",[59]:"int224",[60]:"int232",[61]:"int240",[62]:"int248",[63]:"int256",[64]:"bytes1",[65]:"bytes2",[66]:"bytes3",[67]:"bytes4",[68]:"bytes5",[69]:"bytes6",[70]:"bytes7",[71]:"bytes8",[72]:"bytes9",[73]:"bytes10",[74]:"bytes11",[75]:"bytes12",[76]:"bytes13",[77]:"bytes14",[78]:"bytes15",[79]:"bytes16",[80]:"bytes17",[81]:"bytes18",[82]:"bytes19",[83]:"bytes20",[84]:"bytes21",[85]:"bytes22",[86]:"bytes23",[87]:"bytes24",[88]:"bytes25",[89]:"bytes26",[90]:"bytes27",[91]:"bytes28",[92]:"bytes29",[93]:"bytes30",[94]:"bytes31",[95]:"bytes32",[96]:"bool",[97]:"address",[98]:"uint8[]",[99]:"uint16[]",[100]:"uint24[]",[101]:"uint32[]",[102]:"uint40[]",[103]:"uint48[]",[104]:"uint56[]",[105]:"uint64[]",[106]:"uint72[]",[107]:"uint80[]",[108]:"uint88[]",[109]:"uint96[]",[110]:"uint104[]",[111]:"uint112[]",[112]:"uint120[]",[113]:"uint128[]",[114]:"uint136[]",[115]:"uint144[]",[116]:"uint152[]",[117]:"uint160[]",[118]:"uint168[]",[119]:"uint176[]",[120]:"uint184[]",[121]:"uint192[]",[122]:"uint200[]",[123]:"uint208[]",[124]:"uint216[]",[125]:"uint224[]",[126]:"uint232[]",[127]:"uint240[]",[128]:"uint248[]",[129]:"uint256[]",[130]:"int8[]",[131]:"int16[]",[132]:"int24[]",[133]:"int32[]",[134]:"int40[]",[135]:"int48[]",[136]:"int56[]",[137]:"int64[]",[138]:"int72[]",[139]:"int80[]",[140]:"int88[]",[141]:"int96[]",[142]:"int104[]",[143]:"int112[]",[144]:"int120[]",[145]:"int128[]",[146]:"int136[]",[147]:"int144[]",[148]:"int152[]",[149]:"int160[]",[150]:"int168[]",[151]:"int176[]",[152]:"int184[]",[153]:"int192[]",[154]:"int200[]",[155]:"int208[]",[156]:"int216[]",[157]:"int224[]",[158]:"int232[]",[159]:"int240[]",[160]:"int248[]",[161]:"int256[]",[162]:"bytes1[]",[163]:"bytes2[]",[164]:"bytes3[]",[165]:"bytes4[]",[166]:"bytes5[]",[167]:"bytes6[]",[168]:"bytes7[]",[169]:"bytes8[]",[170]:"bytes9[]",[171]:"bytes10[]",[172]:"bytes11[]",[173]:"bytes12[]",[174]:"bytes13[]",[175]:"bytes14[]",[176]:"bytes15[]",[177]:"bytes16[]",[178]:"bytes17[]",[179]:"bytes18[]",[180]:"bytes19[]",[181]:"bytes20[]",[182]:"bytes21[]",[183]:"bytes22[]",[184]:"bytes23[]",[185]:"bytes24[]",[186]:"bytes25[]",[187]:"bytes26[]",[188]:"bytes27[]",[189]:"bytes28[]",[190]:"bytes29[]",[191]:"bytes30[]",[192]:"bytes31[]",[193]:"bytes32[]",[194]:"bool[]",[195]:"address[]",[196]:"bytes",[197]:"string"},s$2=Object.values(Y$1),_$1=Object.fromEntries(Object.entries(Y$1).map(([Z,L])=>[L,parseInt(Z)]));function n(Z){let L=Z.valueOf();return L<32?L+1:L<64?L+1-32:L<96?L+1-64:Z==96?1:Z==97?20:0}var U$3=s$2.filter(Z=>n(_$1[Z])>0),util$5;(function(Z){Z.assertEqual=te=>te;function L(te){}Z.assertIs=L;function X(te){throw new Error}Z.assertNever=X,Z.arrayToEnum=te=>{const ie={};for(const oe of te)ie[oe]=oe;return ie},Z.getValidEnumValues=te=>{const ie=Z.objectKeys(te).filter(se=>typeof te[te[se]]!="number"),oe={};for(const se of ie)oe[se]=te[se];return Z.objectValues(oe)},Z.objectValues=te=>Z.objectKeys(te).map(function(ie){return te[ie]}),Z.objectKeys=typeof Object.keys=="function"?te=>Object.keys(te):te=>{const ie=[];for(const oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&ie.push(oe);return ie},Z.find=(te,ie)=>{for(const oe of te)if(ie(oe))return oe},Z.isInteger=typeof Number.isInteger=="function"?te=>Number.isInteger(te):te=>typeof te=="number"&&isFinite(te)&&Math.floor(te)===te;function ee(te,ie=" | "){return te.map(oe=>typeof oe=="string"?`'${oe}'`:oe).join(ie)}Z.joinValues=ee,Z.jsonStringifyReplacer=(te,ie)=>typeof ie=="bigint"?ie.toString():ie})(util$5||(util$5={}));var objectUtil;(function(Z){Z.mergeShapes=(L,X)=>({...L,...X})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=Z=>{switch(typeof Z){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(Z)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(Z)?ZodParsedType.array:Z===null?ZodParsedType.null:Z.then&&typeof Z.then=="function"&&Z.catch&&typeof Z.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&Z instanceof Map?ZodParsedType.map:typeof Set<"u"&&Z instanceof Set?ZodParsedType.set:typeof Date<"u"&&Z instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=Z=>JSON.stringify(Z,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(L){super(),this.issues=[],this.addIssue=ee=>{this.issues=[...this.issues,ee]},this.addIssues=(ee=[])=>{this.issues=[...this.issues,...ee]};const X=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,X):this.__proto__=X,this.name="ZodError",this.issues=L}get errors(){return this.issues}format(L){const X=L||function(ie){return ie.message},ee={_errors:[]},te=ie=>{for(const oe of ie.issues)if(oe.code==="invalid_union")oe.unionErrors.map(te);else if(oe.code==="invalid_return_type")te(oe.returnTypeError);else if(oe.code==="invalid_arguments")te(oe.argumentsError);else if(oe.path.length===0)ee._errors.push(X(oe));else{let se=ee,ue=0;for(;ue<oe.path.length;){const ce=oe.path[ue];ue===oe.path.length-1?(se[ce]=se[ce]||{_errors:[]},se[ce]._errors.push(X(oe))):se[ce]=se[ce]||{_errors:[]},se=se[ce],ue++}}};return te(this),ee}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(L=X=>X.message){const X={},ee=[];for(const te of this.issues)te.path.length>0?(X[te.path[0]]=X[te.path[0]]||[],X[te.path[0]].push(L(te))):ee.push(L(te));return{formErrors:ee,fieldErrors:X}}get formErrors(){return this.flatten()}}ZodError.create=Z=>new ZodError(Z);const errorMap=(Z,L)=>{let X;switch(Z.code){case ZodIssueCode.invalid_type:Z.received===ZodParsedType.undefined?X="Required":X=`Expected ${Z.expected}, received ${Z.received}`;break;case ZodIssueCode.invalid_literal:X=`Invalid literal value, expected ${JSON.stringify(Z.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:X=`Unrecognized key(s) in object: ${util$5.joinValues(Z.keys,", ")}`;break;case ZodIssueCode.invalid_union:X="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:X=`Invalid discriminator value. Expected ${util$5.joinValues(Z.options)}`;break;case ZodIssueCode.invalid_enum_value:X=`Invalid enum value. Expected ${util$5.joinValues(Z.options)}, received '${Z.received}'`;break;case ZodIssueCode.invalid_arguments:X="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:X="Invalid function return type";break;case ZodIssueCode.invalid_date:X="Invalid date";break;case ZodIssueCode.invalid_string:typeof Z.validation=="object"?"includes"in Z.validation?(X=`Invalid input: must include "${Z.validation.includes}"`,typeof Z.validation.position=="number"&&(X=`${X} at one or more positions greater than or equal to ${Z.validation.position}`)):"startsWith"in Z.validation?X=`Invalid input: must start with "${Z.validation.startsWith}"`:"endsWith"in Z.validation?X=`Invalid input: must end with "${Z.validation.endsWith}"`:util$5.assertNever(Z.validation):Z.validation!=="regex"?X=`Invalid ${Z.validation}`:X="Invalid";break;case ZodIssueCode.too_small:Z.type==="array"?X=`Array must contain ${Z.exact?"exactly":Z.inclusive?"at least":"more than"} ${Z.minimum} element(s)`:Z.type==="string"?X=`String must contain ${Z.exact?"exactly":Z.inclusive?"at least":"over"} ${Z.minimum} character(s)`:Z.type==="number"?X=`Number must be ${Z.exact?"exactly equal to ":Z.inclusive?"greater than or equal to ":"greater than "}${Z.minimum}`:Z.type==="date"?X=`Date must be ${Z.exact?"exactly equal to ":Z.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(Z.minimum))}`:X="Invalid input";break;case ZodIssueCode.too_big:Z.type==="array"?X=`Array must contain ${Z.exact?"exactly":Z.inclusive?"at most":"less than"} ${Z.maximum} element(s)`:Z.type==="string"?X=`String must contain ${Z.exact?"exactly":Z.inclusive?"at most":"under"} ${Z.maximum} character(s)`:Z.type==="number"?X=`Number must be ${Z.exact?"exactly":Z.inclusive?"less than or equal to":"less than"} ${Z.maximum}`:Z.type==="bigint"?X=`BigInt must be ${Z.exact?"exactly":Z.inclusive?"less than or equal to":"less than"} ${Z.maximum}`:Z.type==="date"?X=`Date must be ${Z.exact?"exactly":Z.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(Z.maximum))}`:X="Invalid input";break;case ZodIssueCode.custom:X="Invalid input";break;case ZodIssueCode.invalid_intersection_types:X="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:X=`Number must be a multiple of ${Z.multipleOf}`;break;case ZodIssueCode.not_finite:X="Number must be finite";break;default:X=L.defaultError,util$5.assertNever(Z)}return{message:X}};let overrideErrorMap=errorMap;function setErrorMap(Z){overrideErrorMap=Z}function getErrorMap(){return overrideErrorMap}const makeIssue=Z=>{const{data:L,path:X,errorMaps:ee,issueData:te}=Z,ie=[...X,...te.path||[]],oe={...te,path:ie};let se="";const ue=ee.filter(ce=>!!ce).slice().reverse();for(const ce of ue)se=ce(oe,{data:L,defaultError:se}).message;return{...te,path:ie,message:te.message||se}},EMPTY_PATH=[];function addIssueToContext(Z,L){const X=makeIssue({issueData:L,data:Z.data,path:Z.path,errorMaps:[Z.common.contextualErrorMap,Z.schemaErrorMap,getErrorMap(),errorMap].filter(ee=>!!ee)});Z.common.issues.push(X)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(L,X){const ee=[];for(const te of X){if(te.status==="aborted")return INVALID;te.status==="dirty"&&L.dirty(),ee.push(te.value)}return{status:L.value,value:ee}}static async mergeObjectAsync(L,X){const ee=[];for(const te of X)ee.push({key:await te.key,value:await te.value});return ParseStatus.mergeObjectSync(L,ee)}static mergeObjectSync(L,X){const ee={};for(const te of X){const{key:ie,value:oe}=te;if(ie.status==="aborted"||oe.status==="aborted")return INVALID;ie.status==="dirty"&&L.dirty(),oe.status==="dirty"&&L.dirty(),ie.value!=="__proto__"&&(typeof oe.value<"u"||te.alwaysSet)&&(ee[ie.value]=oe.value)}return{status:L.value,value:ee}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=Z=>({status:"dirty",value:Z}),OK=Z=>({status:"valid",value:Z}),isAborted=Z=>Z.status==="aborted",isDirty=Z=>Z.status==="dirty",isValid=Z=>Z.status==="valid",isAsync=Z=>typeof Promise<"u"&&Z instanceof Promise;var errorUtil;(function(Z){Z.errToObj=L=>typeof L=="string"?{message:L}:L||{},Z.toString=L=>typeof L=="string"?L:L?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(L,X,ee,te){this._cachedPath=[],this.parent=L,this.data=X,this._path=ee,this._key=te}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(Z,L)=>{if(isValid(L))return{success:!0,data:L.value};if(!Z.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const X=new ZodError(Z.common.issues);return this._error=X,this._error}}};function processCreateParams(Z){if(!Z)return{};const{errorMap:L,invalid_type_error:X,required_error:ee,description:te}=Z;if(L&&(X||ee))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return L?{errorMap:L,description:te}:{errorMap:(oe,se)=>oe.code!=="invalid_type"?{message:se.defaultError}:typeof se.data>"u"?{message:ee??se.defaultError}:{message:X??se.defaultError},description:te}}class ZodType{constructor(L){this.spa=this.safeParseAsync,this._def=L,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(L){return getParsedType(L.data)}_getOrReturnCtx(L,X){return X||{common:L.parent.common,data:L.data,parsedType:getParsedType(L.data),schemaErrorMap:this._def.errorMap,path:L.path,parent:L.parent}}_processInputParams(L){return{status:new ParseStatus,ctx:{common:L.parent.common,data:L.data,parsedType:getParsedType(L.data),schemaErrorMap:this._def.errorMap,path:L.path,parent:L.parent}}}_parseSync(L){const X=this._parse(L);if(isAsync(X))throw new Error("Synchronous parse encountered promise.");return X}_parseAsync(L){const X=this._parse(L);return Promise.resolve(X)}parse(L,X){const ee=this.safeParse(L,X);if(ee.success)return ee.data;throw ee.error}safeParse(L,X){var ee;const te={common:{issues:[],async:(ee=X?.async)!==null&&ee!==void 0?ee:!1,contextualErrorMap:X?.errorMap},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:L,parsedType:getParsedType(L)},ie=this._parseSync({data:L,path:te.path,parent:te});return handleResult(te,ie)}async parseAsync(L,X){const ee=await this.safeParseAsync(L,X);if(ee.success)return ee.data;throw ee.error}async safeParseAsync(L,X){const ee={common:{issues:[],contextualErrorMap:X?.errorMap,async:!0},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:L,parsedType:getParsedType(L)},te=this._parse({data:L,path:ee.path,parent:ee}),ie=await(isAsync(te)?te:Promise.resolve(te));return handleResult(ee,ie)}refine(L,X){const ee=te=>typeof X=="string"||typeof X>"u"?{message:X}:typeof X=="function"?X(te):X;return this._refinement((te,ie)=>{const oe=L(te),se=()=>ie.addIssue({code:ZodIssueCode.custom,...ee(te)});return typeof Promise<"u"&&oe instanceof Promise?oe.then(ue=>ue?!0:(se(),!1)):oe?!0:(se(),!1)})}refinement(L,X){return this._refinement((ee,te)=>L(ee)?!0:(te.addIssue(typeof X=="function"?X(ee,te):X),!1))}_refinement(L){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:L}})}superRefine(L){return this._refinement(L)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(L){return ZodUnion.create([this,L],this._def)}and(L){return ZodIntersection.create(this,L,this._def)}transform(L){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:L}})}default(L){const X=typeof L=="function"?L:()=>L;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:X,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(L){const X=typeof L=="function"?L:()=>L;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:X,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(L){const X=this.constructor;return new X({...this._def,description:L})}pipe(L){return ZodPipeline.create(this,L)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=Z=>Z.precision?Z.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}Z$`):Z.precision===0?Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(Z,L){return!!((L==="v4"||!L)&&ipv4Regex.test(Z)||(L==="v6"||!L)&&ipv6Regex.test(Z))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(L,X,ee)=>this.refinement(te=>L.test(te),{validation:X,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(ee)}),this.nonempty=L=>this.min(1,errorUtil.errToObj(L)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(L){if(this._def.coerce&&(L.data=String(L.data)),this._getType(L)!==ZodParsedType.string){const ie=this._getOrReturnCtx(L);return addIssueToContext(ie,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:ie.parsedType}),INVALID}const ee=new ParseStatus;let te;for(const ie of this._def.checks)if(ie.kind==="min")L.data.length<ie.value&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:ie.value,type:"string",inclusive:!0,exact:!1,message:ie.message}),ee.dirty());else if(ie.kind==="max")L.data.length>ie.value&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:ie.value,type:"string",inclusive:!0,exact:!1,message:ie.message}),ee.dirty());else if(ie.kind==="length"){const oe=L.data.length>ie.value,se=L.data.length<ie.value;(oe||se)&&(te=this._getOrReturnCtx(L,te),oe?addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:ie.value,type:"string",inclusive:!0,exact:!0,message:ie.message}):se&&addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:ie.value,type:"string",inclusive:!0,exact:!0,message:ie.message}),ee.dirty())}else if(ie.kind==="email")emailRegex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"email",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty());else if(ie.kind==="emoji")emojiRegex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"emoji",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty());else if(ie.kind==="uuid")uuidRegex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"uuid",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty());else if(ie.kind==="cuid")cuidRegex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"cuid",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty());else if(ie.kind==="cuid2")cuid2Regex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty());else if(ie.kind==="ulid")ulidRegex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"ulid",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty());else if(ie.kind==="url")try{new URL(L.data)}catch{te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"url",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty()}else ie.kind==="regex"?(ie.regex.lastIndex=0,ie.regex.test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"regex",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty())):ie.kind==="trim"?L.data=L.data.trim():ie.kind==="includes"?L.data.includes(ie.value,ie.position)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.invalid_string,validation:{includes:ie.value,position:ie.position},message:ie.message}),ee.dirty()):ie.kind==="toLowerCase"?L.data=L.data.toLowerCase():ie.kind==="toUpperCase"?L.data=L.data.toUpperCase():ie.kind==="startsWith"?L.data.startsWith(ie.value)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.invalid_string,validation:{startsWith:ie.value},message:ie.message}),ee.dirty()):ie.kind==="endsWith"?L.data.endsWith(ie.value)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.invalid_string,validation:{endsWith:ie.value},message:ie.message}),ee.dirty()):ie.kind==="datetime"?datetimeRegex(ie).test(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.invalid_string,validation:"datetime",message:ie.message}),ee.dirty()):ie.kind==="ip"?isValidIP(L.data,ie.version)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{validation:"ip",code:ZodIssueCode.invalid_string,message:ie.message}),ee.dirty()):util$5.assertNever(ie);return{status:ee.value,value:L.data}}_addCheck(L){return new ZodString({...this._def,checks:[...this._def.checks,L]})}email(L){return this._addCheck({kind:"email",...errorUtil.errToObj(L)})}url(L){return this._addCheck({kind:"url",...errorUtil.errToObj(L)})}emoji(L){return this._addCheck({kind:"emoji",...errorUtil.errToObj(L)})}uuid(L){return this._addCheck({kind:"uuid",...errorUtil.errToObj(L)})}cuid(L){return this._addCheck({kind:"cuid",...errorUtil.errToObj(L)})}cuid2(L){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(L)})}ulid(L){return this._addCheck({kind:"ulid",...errorUtil.errToObj(L)})}ip(L){return this._addCheck({kind:"ip",...errorUtil.errToObj(L)})}datetime(L){var X;return typeof L=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:L}):this._addCheck({kind:"datetime",precision:typeof L?.precision>"u"?null:L?.precision,offset:(X=L?.offset)!==null&&X!==void 0?X:!1,...errorUtil.errToObj(L?.message)})}regex(L,X){return this._addCheck({kind:"regex",regex:L,...errorUtil.errToObj(X)})}includes(L,X){return this._addCheck({kind:"includes",value:L,position:X?.position,...errorUtil.errToObj(X?.message)})}startsWith(L,X){return this._addCheck({kind:"startsWith",value:L,...errorUtil.errToObj(X)})}endsWith(L,X){return this._addCheck({kind:"endsWith",value:L,...errorUtil.errToObj(X)})}min(L,X){return this._addCheck({kind:"min",value:L,...errorUtil.errToObj(X)})}max(L,X){return this._addCheck({kind:"max",value:L,...errorUtil.errToObj(X)})}length(L,X){return this._addCheck({kind:"length",value:L,...errorUtil.errToObj(X)})}get isDatetime(){return!!this._def.checks.find(L=>L.kind==="datetime")}get isEmail(){return!!this._def.checks.find(L=>L.kind==="email")}get isURL(){return!!this._def.checks.find(L=>L.kind==="url")}get isEmoji(){return!!this._def.checks.find(L=>L.kind==="emoji")}get isUUID(){return!!this._def.checks.find(L=>L.kind==="uuid")}get isCUID(){return!!this._def.checks.find(L=>L.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(L=>L.kind==="cuid2")}get isULID(){return!!this._def.checks.find(L=>L.kind==="ulid")}get isIP(){return!!this._def.checks.find(L=>L.kind==="ip")}get minLength(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L}get maxLength(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L}}ZodString.create=Z=>{var L;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(L=Z?.coerce)!==null&&L!==void 0?L:!1,...processCreateParams(Z)})};function floatSafeRemainder(Z,L){const X=(Z.toString().split(".")[1]||"").length,ee=(L.toString().split(".")[1]||"").length,te=X>ee?X:ee,ie=parseInt(Z.toFixed(te).replace(".","")),oe=parseInt(L.toFixed(te).replace(".",""));return ie%oe/Math.pow(10,te)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(L){if(this._def.coerce&&(L.data=Number(L.data)),this._getType(L)!==ZodParsedType.number){const ie=this._getOrReturnCtx(L);return addIssueToContext(ie,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:ie.parsedType}),INVALID}let ee;const te=new ParseStatus;for(const ie of this._def.checks)ie.kind==="int"?util$5.isInteger(L.data)||(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:ie.message}),te.dirty()):ie.kind==="min"?(ie.inclusive?L.data<ie.value:L.data<=ie.value)&&(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.too_small,minimum:ie.value,type:"number",inclusive:ie.inclusive,exact:!1,message:ie.message}),te.dirty()):ie.kind==="max"?(ie.inclusive?L.data>ie.value:L.data>=ie.value)&&(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.too_big,maximum:ie.value,type:"number",inclusive:ie.inclusive,exact:!1,message:ie.message}),te.dirty()):ie.kind==="multipleOf"?floatSafeRemainder(L.data,ie.value)!==0&&(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.not_multiple_of,multipleOf:ie.value,message:ie.message}),te.dirty()):ie.kind==="finite"?Number.isFinite(L.data)||(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.not_finite,message:ie.message}),te.dirty()):util$5.assertNever(ie);return{status:te.value,value:L.data}}gte(L,X){return this.setLimit("min",L,!0,errorUtil.toString(X))}gt(L,X){return this.setLimit("min",L,!1,errorUtil.toString(X))}lte(L,X){return this.setLimit("max",L,!0,errorUtil.toString(X))}lt(L,X){return this.setLimit("max",L,!1,errorUtil.toString(X))}setLimit(L,X,ee,te){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:L,value:X,inclusive:ee,message:errorUtil.toString(te)}]})}_addCheck(L){return new ZodNumber({...this._def,checks:[...this._def.checks,L]})}int(L){return this._addCheck({kind:"int",message:errorUtil.toString(L)})}positive(L){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(L)})}negative(L){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(L)})}nonpositive(L){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(L)})}nonnegative(L){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(L)})}multipleOf(L,X){return this._addCheck({kind:"multipleOf",value:L,message:errorUtil.toString(X)})}finite(L){return this._addCheck({kind:"finite",message:errorUtil.toString(L)})}safe(L){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(L)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(L)})}get minValue(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L}get maxValue(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L}get isInt(){return!!this._def.checks.find(L=>L.kind==="int"||L.kind==="multipleOf"&&util$5.isInteger(L.value))}get isFinite(){let L=null,X=null;for(const ee of this._def.checks){if(ee.kind==="finite"||ee.kind==="int"||ee.kind==="multipleOf")return!0;ee.kind==="min"?(X===null||ee.value>X)&&(X=ee.value):ee.kind==="max"&&(L===null||ee.value<L)&&(L=ee.value)}return Number.isFinite(X)&&Number.isFinite(L)}}ZodNumber.create=Z=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:Z?.coerce||!1,...processCreateParams(Z)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(L){if(this._def.coerce&&(L.data=BigInt(L.data)),this._getType(L)!==ZodParsedType.bigint){const ie=this._getOrReturnCtx(L);return addIssueToContext(ie,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ie.parsedType}),INVALID}let ee;const te=new ParseStatus;for(const ie of this._def.checks)ie.kind==="min"?(ie.inclusive?L.data<ie.value:L.data<=ie.value)&&(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.too_small,type:"bigint",minimum:ie.value,inclusive:ie.inclusive,message:ie.message}),te.dirty()):ie.kind==="max"?(ie.inclusive?L.data>ie.value:L.data>=ie.value)&&(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.too_big,type:"bigint",maximum:ie.value,inclusive:ie.inclusive,message:ie.message}),te.dirty()):ie.kind==="multipleOf"?L.data%ie.value!==BigInt(0)&&(ee=this._getOrReturnCtx(L,ee),addIssueToContext(ee,{code:ZodIssueCode.not_multiple_of,multipleOf:ie.value,message:ie.message}),te.dirty()):util$5.assertNever(ie);return{status:te.value,value:L.data}}gte(L,X){return this.setLimit("min",L,!0,errorUtil.toString(X))}gt(L,X){return this.setLimit("min",L,!1,errorUtil.toString(X))}lte(L,X){return this.setLimit("max",L,!0,errorUtil.toString(X))}lt(L,X){return this.setLimit("max",L,!1,errorUtil.toString(X))}setLimit(L,X,ee,te){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:L,value:X,inclusive:ee,message:errorUtil.toString(te)}]})}_addCheck(L){return new ZodBigInt({...this._def,checks:[...this._def.checks,L]})}positive(L){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(L)})}negative(L){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(L)})}nonpositive(L){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(L)})}nonnegative(L){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(L)})}multipleOf(L,X){return this._addCheck({kind:"multipleOf",value:L,message:errorUtil.toString(X)})}get minValue(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L}get maxValue(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L}}ZodBigInt.create=Z=>{var L;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(L=Z?.coerce)!==null&&L!==void 0?L:!1,...processCreateParams(Z)})};class ZodBoolean extends ZodType{_parse(L){if(this._def.coerce&&(L.data=!!L.data),this._getType(L)!==ZodParsedType.boolean){const ee=this._getOrReturnCtx(L);return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ee.parsedType}),INVALID}return OK(L.data)}}ZodBoolean.create=Z=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:Z?.coerce||!1,...processCreateParams(Z)});class ZodDate extends ZodType{_parse(L){if(this._def.coerce&&(L.data=new Date(L.data)),this._getType(L)!==ZodParsedType.date){const ie=this._getOrReturnCtx(L);return addIssueToContext(ie,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:ie.parsedType}),INVALID}if(isNaN(L.data.getTime())){const ie=this._getOrReturnCtx(L);return addIssueToContext(ie,{code:ZodIssueCode.invalid_date}),INVALID}const ee=new ParseStatus;let te;for(const ie of this._def.checks)ie.kind==="min"?L.data.getTime()<ie.value&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_small,message:ie.message,inclusive:!0,exact:!1,minimum:ie.value,type:"date"}),ee.dirty()):ie.kind==="max"?L.data.getTime()>ie.value&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_big,message:ie.message,inclusive:!0,exact:!1,maximum:ie.value,type:"date"}),ee.dirty()):util$5.assertNever(ie);return{status:ee.value,value:new Date(L.data.getTime())}}_addCheck(L){return new ZodDate({...this._def,checks:[...this._def.checks,L]})}min(L,X){return this._addCheck({kind:"min",value:L.getTime(),message:errorUtil.toString(X)})}max(L,X){return this._addCheck({kind:"max",value:L.getTime(),message:errorUtil.toString(X)})}get minDate(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L!=null?new Date(L):null}get maxDate(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L!=null?new Date(L):null}}ZodDate.create=Z=>new ZodDate({checks:[],coerce:Z?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(Z)});class ZodSymbol extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.symbol){const ee=this._getOrReturnCtx(L);return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ee.parsedType}),INVALID}return OK(L.data)}}ZodSymbol.create=Z=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(Z)});class ZodUndefined extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.undefined){const ee=this._getOrReturnCtx(L);return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ee.parsedType}),INVALID}return OK(L.data)}}ZodUndefined.create=Z=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(Z)});class ZodNull extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.null){const ee=this._getOrReturnCtx(L);return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ee.parsedType}),INVALID}return OK(L.data)}}ZodNull.create=Z=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(Z)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(L){return OK(L.data)}}ZodAny.create=Z=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(Z)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(L){return OK(L.data)}}ZodUnknown.create=Z=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(Z)});class ZodNever extends ZodType{_parse(L){const X=this._getOrReturnCtx(L);return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:X.parsedType}),INVALID}}ZodNever.create=Z=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(Z)});class ZodVoid extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.undefined){const ee=this._getOrReturnCtx(L);return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ee.parsedType}),INVALID}return OK(L.data)}}ZodVoid.create=Z=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(Z)});class ZodArray extends ZodType{_parse(L){const{ctx:X,status:ee}=this._processInputParams(L),te=this._def;if(X.parsedType!==ZodParsedType.array)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:X.parsedType}),INVALID;if(te.exactLength!==null){const oe=X.data.length>te.exactLength.value,se=X.data.length<te.exactLength.value;(oe||se)&&(addIssueToContext(X,{code:oe?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:se?te.exactLength.value:void 0,maximum:oe?te.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:te.exactLength.message}),ee.dirty())}if(te.minLength!==null&&X.data.length<te.minLength.value&&(addIssueToContext(X,{code:ZodIssueCode.too_small,minimum:te.minLength.value,type:"array",inclusive:!0,exact:!1,message:te.minLength.message}),ee.dirty()),te.maxLength!==null&&X.data.length>te.maxLength.value&&(addIssueToContext(X,{code:ZodIssueCode.too_big,maximum:te.maxLength.value,type:"array",inclusive:!0,exact:!1,message:te.maxLength.message}),ee.dirty()),X.common.async)return Promise.all([...X.data].map((oe,se)=>te.type._parseAsync(new ParseInputLazyPath(X,oe,X.path,se)))).then(oe=>ParseStatus.mergeArray(ee,oe));const ie=[...X.data].map((oe,se)=>te.type._parseSync(new ParseInputLazyPath(X,oe,X.path,se)));return ParseStatus.mergeArray(ee,ie)}get element(){return this._def.type}min(L,X){return new ZodArray({...this._def,minLength:{value:L,message:errorUtil.toString(X)}})}max(L,X){return new ZodArray({...this._def,maxLength:{value:L,message:errorUtil.toString(X)}})}length(L,X){return new ZodArray({...this._def,exactLength:{value:L,message:errorUtil.toString(X)}})}nonempty(L){return this.min(1,L)}}ZodArray.create=(Z,L)=>new ZodArray({type:Z,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(L)});function deepPartialify(Z){if(Z instanceof ZodObject){const L={};for(const X in Z.shape){const ee=Z.shape[X];L[X]=ZodOptional.create(deepPartialify(ee))}return new ZodObject({...Z._def,shape:()=>L})}else return Z instanceof ZodArray?new ZodArray({...Z._def,type:deepPartialify(Z.element)}):Z instanceof ZodOptional?ZodOptional.create(deepPartialify(Z.unwrap())):Z instanceof ZodNullable?ZodNullable.create(deepPartialify(Z.unwrap())):Z instanceof ZodTuple?ZodTuple.create(Z.items.map(L=>deepPartialify(L))):Z}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const L=this._def.shape(),X=util$5.objectKeys(L);return this._cached={shape:L,keys:X}}_parse(L){if(this._getType(L)!==ZodParsedType.object){const ce=this._getOrReturnCtx(L);return addIssueToContext(ce,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ce.parsedType}),INVALID}const{status:ee,ctx:te}=this._processInputParams(L),{shape:ie,keys:oe}=this._getCached(),se=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ce in te.data)oe.includes(ce)||se.push(ce);const ue=[];for(const ce of oe){const le=ie[ce],he=te.data[ce];ue.push({key:{status:"valid",value:ce},value:le._parse(new ParseInputLazyPath(te,he,te.path,ce)),alwaysSet:ce in te.data})}if(this._def.catchall instanceof ZodNever){const ce=this._def.unknownKeys;if(ce==="passthrough")for(const le of se)ue.push({key:{status:"valid",value:le},value:{status:"valid",value:te.data[le]}});else if(ce==="strict")se.length>0&&(addIssueToContext(te,{code:ZodIssueCode.unrecognized_keys,keys:se}),ee.dirty());else if(ce!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ce=this._def.catchall;for(const le of se){const he=te.data[le];ue.push({key:{status:"valid",value:le},value:ce._parse(new ParseInputLazyPath(te,he,te.path,le)),alwaysSet:le in te.data})}}return te.common.async?Promise.resolve().then(async()=>{const ce=[];for(const le of ue){const he=await le.key;ce.push({key:he,value:await le.value,alwaysSet:le.alwaysSet})}return ce}).then(ce=>ParseStatus.mergeObjectSync(ee,ce)):ParseStatus.mergeObjectSync(ee,ue)}get shape(){return this._def.shape()}strict(L){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...L!==void 0?{errorMap:(X,ee)=>{var te,ie,oe,se;const ue=(oe=(ie=(te=this._def).errorMap)===null||ie===void 0?void 0:ie.call(te,X,ee).message)!==null&&oe!==void 0?oe:ee.defaultError;return X.code==="unrecognized_keys"?{message:(se=errorUtil.errToObj(L).message)!==null&&se!==void 0?se:ue}:{message:ue}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(L){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...L})})}merge(L){return new ZodObject({unknownKeys:L._def.unknownKeys,catchall:L._def.catchall,shape:()=>({...this._def.shape(),...L._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(L,X){return this.augment({[L]:X})}catchall(L){return new ZodObject({...this._def,catchall:L})}pick(L){const X={};return util$5.objectKeys(L).forEach(ee=>{L[ee]&&this.shape[ee]&&(X[ee]=this.shape[ee])}),new ZodObject({...this._def,shape:()=>X})}omit(L){const X={};return util$5.objectKeys(this.shape).forEach(ee=>{L[ee]||(X[ee]=this.shape[ee])}),new ZodObject({...this._def,shape:()=>X})}deepPartial(){return deepPartialify(this)}partial(L){const X={};return util$5.objectKeys(this.shape).forEach(ee=>{const te=this.shape[ee];L&&!L[ee]?X[ee]=te:X[ee]=te.optional()}),new ZodObject({...this._def,shape:()=>X})}required(L){const X={};return util$5.objectKeys(this.shape).forEach(ee=>{if(L&&!L[ee])X[ee]=this.shape[ee];else{let ie=this.shape[ee];for(;ie instanceof ZodOptional;)ie=ie._def.innerType;X[ee]=ie}}),new ZodObject({...this._def,shape:()=>X})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(Z,L)=>new ZodObject({shape:()=>Z,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(L)});ZodObject.strictCreate=(Z,L)=>new ZodObject({shape:()=>Z,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(L)});ZodObject.lazycreate=(Z,L)=>new ZodObject({shape:Z,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(L)});class ZodUnion extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L),ee=this._def.options;function te(ie){for(const se of ie)if(se.result.status==="valid")return se.result;for(const se of ie)if(se.result.status==="dirty")return X.common.issues.push(...se.ctx.common.issues),se.result;const oe=ie.map(se=>new ZodError(se.ctx.common.issues));return addIssueToContext(X,{code:ZodIssueCode.invalid_union,unionErrors:oe}),INVALID}if(X.common.async)return Promise.all(ee.map(async ie=>{const oe={...X,common:{...X.common,issues:[]},parent:null};return{result:await ie._parseAsync({data:X.data,path:X.path,parent:oe}),ctx:oe}})).then(te);{let ie;const oe=[];for(const ue of ee){const ce={...X,common:{...X.common,issues:[]},parent:null},le=ue._parseSync({data:X.data,path:X.path,parent:ce});if(le.status==="valid")return le;le.status==="dirty"&&!ie&&(ie={result:le,ctx:ce}),ce.common.issues.length&&oe.push(ce.common.issues)}if(ie)return X.common.issues.push(...ie.ctx.common.issues),ie.result;const se=oe.map(ue=>new ZodError(ue));return addIssueToContext(X,{code:ZodIssueCode.invalid_union,unionErrors:se}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(Z,L)=>new ZodUnion({options:Z,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(L)});const getDiscriminator=Z=>Z instanceof ZodLazy?getDiscriminator(Z.schema):Z instanceof ZodEffects?getDiscriminator(Z.innerType()):Z instanceof ZodLiteral?[Z.value]:Z instanceof ZodEnum?Z.options:Z instanceof ZodNativeEnum?Object.keys(Z.enum):Z instanceof ZodDefault?getDiscriminator(Z._def.innerType):Z instanceof ZodUndefined?[void 0]:Z instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L);if(X.parsedType!==ZodParsedType.object)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:X.parsedType}),INVALID;const ee=this.discriminator,te=X.data[ee],ie=this.optionsMap.get(te);return ie?X.common.async?ie._parseAsync({data:X.data,path:X.path,parent:X}):ie._parseSync({data:X.data,path:X.path,parent:X}):(addIssueToContext(X,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[ee]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(L,X,ee){const te=new Map;for(const ie of X){const oe=getDiscriminator(ie.shape[L]);if(!oe)throw new Error(`A discriminator value for key \`${L}\` could not be extracted from all schema options`);for(const se of oe){if(te.has(se))throw new Error(`Discriminator property ${String(L)} has duplicate value ${String(se)}`);te.set(se,ie)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:L,options:X,optionsMap:te,...processCreateParams(ee)})}}function mergeValues(Z,L){const X=getParsedType(Z),ee=getParsedType(L);if(Z===L)return{valid:!0,data:Z};if(X===ZodParsedType.object&&ee===ZodParsedType.object){const te=util$5.objectKeys(L),ie=util$5.objectKeys(Z).filter(se=>te.indexOf(se)!==-1),oe={...Z,...L};for(const se of ie){const ue=mergeValues(Z[se],L[se]);if(!ue.valid)return{valid:!1};oe[se]=ue.data}return{valid:!0,data:oe}}else if(X===ZodParsedType.array&&ee===ZodParsedType.array){if(Z.length!==L.length)return{valid:!1};const te=[];for(let ie=0;ie<Z.length;ie++){const oe=Z[ie],se=L[ie],ue=mergeValues(oe,se);if(!ue.valid)return{valid:!1};te.push(ue.data)}return{valid:!0,data:te}}else return X===ZodParsedType.date&&ee===ZodParsedType.date&&+Z==+L?{valid:!0,data:Z}:{valid:!1}}class ZodIntersection extends ZodType{_parse(L){const{status:X,ctx:ee}=this._processInputParams(L),te=(ie,oe)=>{if(isAborted(ie)||isAborted(oe))return INVALID;const se=mergeValues(ie.value,oe.value);return se.valid?((isDirty(ie)||isDirty(oe))&&X.dirty(),{status:X.value,value:se.data}):(addIssueToContext(ee,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ee.common.async?Promise.all([this._def.left._parseAsync({data:ee.data,path:ee.path,parent:ee}),this._def.right._parseAsync({data:ee.data,path:ee.path,parent:ee})]).then(([ie,oe])=>te(ie,oe)):te(this._def.left._parseSync({data:ee.data,path:ee.path,parent:ee}),this._def.right._parseSync({data:ee.data,path:ee.path,parent:ee}))}}ZodIntersection.create=(Z,L,X)=>new ZodIntersection({left:Z,right:L,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(X)});class ZodTuple extends ZodType{_parse(L){const{status:X,ctx:ee}=this._processInputParams(L);if(ee.parsedType!==ZodParsedType.array)return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ee.parsedType}),INVALID;if(ee.data.length<this._def.items.length)return addIssueToContext(ee,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ee.data.length>this._def.items.length&&(addIssueToContext(ee,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X.dirty());const ie=[...ee.data].map((oe,se)=>{const ue=this._def.items[se]||this._def.rest;return ue?ue._parse(new ParseInputLazyPath(ee,oe,ee.path,se)):null}).filter(oe=>!!oe);return ee.common.async?Promise.all(ie).then(oe=>ParseStatus.mergeArray(X,oe)):ParseStatus.mergeArray(X,ie)}get items(){return this._def.items}rest(L){return new ZodTuple({...this._def,rest:L})}}ZodTuple.create=(Z,L)=>{if(!Array.isArray(Z))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:Z,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(L)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(L){const{status:X,ctx:ee}=this._processInputParams(L);if(ee.parsedType!==ZodParsedType.object)return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ee.parsedType}),INVALID;const te=[],ie=this._def.keyType,oe=this._def.valueType;for(const se in ee.data)te.push({key:ie._parse(new ParseInputLazyPath(ee,se,ee.path,se)),value:oe._parse(new ParseInputLazyPath(ee,ee.data[se],ee.path,se))});return ee.common.async?ParseStatus.mergeObjectAsync(X,te):ParseStatus.mergeObjectSync(X,te)}get element(){return this._def.valueType}static create(L,X,ee){return X instanceof ZodType?new ZodRecord({keyType:L,valueType:X,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ee)}):new ZodRecord({keyType:ZodString.create(),valueType:L,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(X)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(L){const{status:X,ctx:ee}=this._processInputParams(L);if(ee.parsedType!==ZodParsedType.map)return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ee.parsedType}),INVALID;const te=this._def.keyType,ie=this._def.valueType,oe=[...ee.data.entries()].map(([se,ue],ce)=>({key:te._parse(new ParseInputLazyPath(ee,se,ee.path,[ce,"key"])),value:ie._parse(new ParseInputLazyPath(ee,ue,ee.path,[ce,"value"]))}));if(ee.common.async){const se=new Map;return Promise.resolve().then(async()=>{for(const ue of oe){const ce=await ue.key,le=await ue.value;if(ce.status==="aborted"||le.status==="aborted")return INVALID;(ce.status==="dirty"||le.status==="dirty")&&X.dirty(),se.set(ce.value,le.value)}return{status:X.value,value:se}})}else{const se=new Map;for(const ue of oe){const ce=ue.key,le=ue.value;if(ce.status==="aborted"||le.status==="aborted")return INVALID;(ce.status==="dirty"||le.status==="dirty")&&X.dirty(),se.set(ce.value,le.value)}return{status:X.value,value:se}}}}ZodMap.create=(Z,L,X)=>new ZodMap({valueType:L,keyType:Z,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(X)});class ZodSet extends ZodType{_parse(L){const{status:X,ctx:ee}=this._processInputParams(L);if(ee.parsedType!==ZodParsedType.set)return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ee.parsedType}),INVALID;const te=this._def;te.minSize!==null&&ee.data.size<te.minSize.value&&(addIssueToContext(ee,{code:ZodIssueCode.too_small,minimum:te.minSize.value,type:"set",inclusive:!0,exact:!1,message:te.minSize.message}),X.dirty()),te.maxSize!==null&&ee.data.size>te.maxSize.value&&(addIssueToContext(ee,{code:ZodIssueCode.too_big,maximum:te.maxSize.value,type:"set",inclusive:!0,exact:!1,message:te.maxSize.message}),X.dirty());const ie=this._def.valueType;function oe(ue){const ce=new Set;for(const le of ue){if(le.status==="aborted")return INVALID;le.status==="dirty"&&X.dirty(),ce.add(le.value)}return{status:X.value,value:ce}}const se=[...ee.data.values()].map((ue,ce)=>ie._parse(new ParseInputLazyPath(ee,ue,ee.path,ce)));return ee.common.async?Promise.all(se).then(ue=>oe(ue)):oe(se)}min(L,X){return new ZodSet({...this._def,minSize:{value:L,message:errorUtil.toString(X)}})}max(L,X){return new ZodSet({...this._def,maxSize:{value:L,message:errorUtil.toString(X)}})}size(L,X){return this.min(L,X).max(L,X)}nonempty(L){return this.min(1,L)}}ZodSet.create=(Z,L)=>new ZodSet({valueType:Z,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(L)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(L){const{ctx:X}=this._processInputParams(L);if(X.parsedType!==ZodParsedType.function)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:X.parsedType}),INVALID;function ee(se,ue){return makeIssue({data:se,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,getErrorMap(),errorMap].filter(ce=>!!ce),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ue}})}function te(se,ue){return makeIssue({data:se,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,getErrorMap(),errorMap].filter(ce=>!!ce),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ue}})}const ie={errorMap:X.common.contextualErrorMap},oe=X.data;if(this._def.returns instanceof ZodPromise){const se=this;return OK(async function(...ue){const ce=new ZodError([]),le=await se._def.args.parseAsync(ue,ie).catch(we=>{throw ce.addIssue(ee(ue,we)),ce}),he=await Reflect.apply(oe,this,le);return await se._def.returns._def.type.parseAsync(he,ie).catch(we=>{throw ce.addIssue(te(he,we)),ce})})}else{const se=this;return OK(function(...ue){const ce=se._def.args.safeParse(ue,ie);if(!ce.success)throw new ZodError([ee(ue,ce.error)]);const le=Reflect.apply(oe,this,ce.data),he=se._def.returns.safeParse(le,ie);if(!he.success)throw new ZodError([te(le,he.error)]);return he.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...L){return new ZodFunction({...this._def,args:ZodTuple.create(L).rest(ZodUnknown.create())})}returns(L){return new ZodFunction({...this._def,returns:L})}implement(L){return this.parse(L)}strictImplement(L){return this.parse(L)}static create(L,X,ee){return new ZodFunction({args:L||ZodTuple.create([]).rest(ZodUnknown.create()),returns:X||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(ee)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(L){const{ctx:X}=this._processInputParams(L);return this._def.getter()._parse({data:X.data,path:X.path,parent:X})}}ZodLazy.create=(Z,L)=>new ZodLazy({getter:Z,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(L)});class ZodLiteral extends ZodType{_parse(L){if(L.data!==this._def.value){const X=this._getOrReturnCtx(L);return addIssueToContext(X,{received:X.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:L.data}}get value(){return this._def.value}}ZodLiteral.create=(Z,L)=>new ZodLiteral({value:Z,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(L)});function createZodEnum(Z,L){return new ZodEnum({values:Z,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(L)})}class ZodEnum extends ZodType{_parse(L){if(typeof L.data!="string"){const X=this._getOrReturnCtx(L),ee=this._def.values;return addIssueToContext(X,{expected:util$5.joinValues(ee),received:X.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(L.data)===-1){const X=this._getOrReturnCtx(L),ee=this._def.values;return addIssueToContext(X,{received:X.data,code:ZodIssueCode.invalid_enum_value,options:ee}),INVALID}return OK(L.data)}get options(){return this._def.values}get enum(){const L={};for(const X of this._def.values)L[X]=X;return L}get Values(){const L={};for(const X of this._def.values)L[X]=X;return L}get Enum(){const L={};for(const X of this._def.values)L[X]=X;return L}extract(L){return ZodEnum.create(L)}exclude(L){return ZodEnum.create(this.options.filter(X=>!L.includes(X)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(L){const X=util$5.getValidEnumValues(this._def.values),ee=this._getOrReturnCtx(L);if(ee.parsedType!==ZodParsedType.string&&ee.parsedType!==ZodParsedType.number){const te=util$5.objectValues(X);return addIssueToContext(ee,{expected:util$5.joinValues(te),received:ee.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(X.indexOf(L.data)===-1){const te=util$5.objectValues(X);return addIssueToContext(ee,{received:ee.data,code:ZodIssueCode.invalid_enum_value,options:te}),INVALID}return OK(L.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(Z,L)=>new ZodNativeEnum({values:Z,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(L)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(L){const{ctx:X}=this._processInputParams(L);if(X.parsedType!==ZodParsedType.promise&&X.common.async===!1)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:X.parsedType}),INVALID;const ee=X.parsedType===ZodParsedType.promise?X.data:Promise.resolve(X.data);return OK(ee.then(te=>this._def.type.parseAsync(te,{path:X.path,errorMap:X.common.contextualErrorMap})))}}ZodPromise.create=(Z,L)=>new ZodPromise({type:Z,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(L)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(L){const{status:X,ctx:ee}=this._processInputParams(L),te=this._def.effect||null,ie={addIssue:oe=>{addIssueToContext(ee,oe),oe.fatal?X.abort():X.dirty()},get path(){return ee.path}};if(ie.addIssue=ie.addIssue.bind(ie),te.type==="preprocess"){const oe=te.transform(ee.data,ie);return ee.common.issues.length?{status:"dirty",value:ee.data}:ee.common.async?Promise.resolve(oe).then(se=>this._def.schema._parseAsync({data:se,path:ee.path,parent:ee})):this._def.schema._parseSync({data:oe,path:ee.path,parent:ee})}if(te.type==="refinement"){const oe=se=>{const ue=te.refinement(se,ie);if(ee.common.async)return Promise.resolve(ue);if(ue instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return se};if(ee.common.async===!1){const se=this._def.schema._parseSync({data:ee.data,path:ee.path,parent:ee});return se.status==="aborted"?INVALID:(se.status==="dirty"&&X.dirty(),oe(se.value),{status:X.value,value:se.value})}else return this._def.schema._parseAsync({data:ee.data,path:ee.path,parent:ee}).then(se=>se.status==="aborted"?INVALID:(se.status==="dirty"&&X.dirty(),oe(se.value).then(()=>({status:X.value,value:se.value}))))}if(te.type==="transform")if(ee.common.async===!1){const oe=this._def.schema._parseSync({data:ee.data,path:ee.path,parent:ee});if(!isValid(oe))return oe;const se=te.transform(oe.value,ie);if(se instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:X.value,value:se}}else return this._def.schema._parseAsync({data:ee.data,path:ee.path,parent:ee}).then(oe=>isValid(oe)?Promise.resolve(te.transform(oe.value,ie)).then(se=>({status:X.value,value:se})):oe);util$5.assertNever(te)}}ZodEffects.create=(Z,L,X)=>new ZodEffects({schema:Z,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:L,...processCreateParams(X)});ZodEffects.createWithPreprocess=(Z,L,X)=>new ZodEffects({schema:L,effect:{type:"preprocess",transform:Z},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(X)});class ZodOptional extends ZodType{_parse(L){return this._getType(L)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(L)}unwrap(){return this._def.innerType}}ZodOptional.create=(Z,L)=>new ZodOptional({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(L)});class ZodNullable extends ZodType{_parse(L){return this._getType(L)===ZodParsedType.null?OK(null):this._def.innerType._parse(L)}unwrap(){return this._def.innerType}}ZodNullable.create=(Z,L)=>new ZodNullable({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(L)});class ZodDefault extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L);let ee=X.data;return X.parsedType===ZodParsedType.undefined&&(ee=this._def.defaultValue()),this._def.innerType._parse({data:ee,path:X.path,parent:X})}removeDefault(){return this._def.innerType}}ZodDefault.create=(Z,L)=>new ZodDefault({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof L.default=="function"?L.default:()=>L.default,...processCreateParams(L)});class ZodCatch extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L),ee={...X,common:{...X.common,issues:[]}},te=this._def.innerType._parse({data:ee.data,path:ee.path,parent:{...ee}});return isAsync(te)?te.then(ie=>({status:"valid",value:ie.status==="valid"?ie.value:this._def.catchValue({get error(){return new ZodError(ee.common.issues)},input:ee.data})})):{status:"valid",value:te.status==="valid"?te.value:this._def.catchValue({get error(){return new ZodError(ee.common.issues)},input:ee.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(Z,L)=>new ZodCatch({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof L.catch=="function"?L.catch:()=>L.catch,...processCreateParams(L)});class ZodNaN extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.nan){const ee=this._getOrReturnCtx(L);return addIssueToContext(ee,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ee.parsedType}),INVALID}return{status:"valid",value:L.data}}}ZodNaN.create=Z=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(Z)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L),ee=X.data;return this._def.type._parse({data:ee,path:X.path,parent:X})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(L){const{status:X,ctx:ee}=this._processInputParams(L);if(ee.common.async)return(async()=>{const ie=await this._def.in._parseAsync({data:ee.data,path:ee.path,parent:ee});return ie.status==="aborted"?INVALID:ie.status==="dirty"?(X.dirty(),DIRTY(ie.value)):this._def.out._parseAsync({data:ie.value,path:ee.path,parent:ee})})();{const te=this._def.in._parseSync({data:ee.data,path:ee.path,parent:ee});return te.status==="aborted"?INVALID:te.status==="dirty"?(X.dirty(),{status:"dirty",value:te.value}):this._def.out._parseSync({data:te.value,path:ee.path,parent:ee})}}static create(L,X){return new ZodPipeline({in:L,out:X,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(L){const X=this._def.innerType._parse(L);return isValid(X)&&(X.value=Object.freeze(X.value)),X}}ZodReadonly.create=(Z,L)=>new ZodReadonly({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(L)});const custom=(Z,L={},X)=>Z?ZodAny.create().superRefine((ee,te)=>{var ie,oe;if(!Z(ee)){const se=typeof L=="function"?L(ee):typeof L=="string"?{message:L}:L,ue=(oe=(ie=se.fatal)!==null&&ie!==void 0?ie:X)!==null&&oe!==void 0?oe:!0,ce=typeof se=="string"?{message:se}:se;te.addIssue({code:"custom",...ce,fatal:ue})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(Z){Z.ZodString="ZodString",Z.ZodNumber="ZodNumber",Z.ZodNaN="ZodNaN",Z.ZodBigInt="ZodBigInt",Z.ZodBoolean="ZodBoolean",Z.ZodDate="ZodDate",Z.ZodSymbol="ZodSymbol",Z.ZodUndefined="ZodUndefined",Z.ZodNull="ZodNull",Z.ZodAny="ZodAny",Z.ZodUnknown="ZodUnknown",Z.ZodNever="ZodNever",Z.ZodVoid="ZodVoid",Z.ZodArray="ZodArray",Z.ZodObject="ZodObject",Z.ZodUnion="ZodUnion",Z.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Z.ZodIntersection="ZodIntersection",Z.ZodTuple="ZodTuple",Z.ZodRecord="ZodRecord",Z.ZodMap="ZodMap",Z.ZodSet="ZodSet",Z.ZodFunction="ZodFunction",Z.ZodLazy="ZodLazy",Z.ZodLiteral="ZodLiteral",Z.ZodEnum="ZodEnum",Z.ZodEffects="ZodEffects",Z.ZodNativeEnum="ZodNativeEnum",Z.ZodOptional="ZodOptional",Z.ZodNullable="ZodNullable",Z.ZodDefault="ZodDefault",Z.ZodCatch="ZodCatch",Z.ZodPromise="ZodPromise",Z.ZodBranded="ZodBranded",Z.ZodPipeline="ZodPipeline",Z.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(Z,L={message:`Input not instance of ${Z.name}`})=>custom(X=>X instanceof Z,L),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:Z=>ZodString.create({...Z,coerce:!0}),number:Z=>ZodNumber.create({...Z,coerce:!0}),boolean:Z=>ZodBoolean.create({...Z,coerce:!0}),bigint:Z=>ZodBigInt.create({...Z,coerce:!0}),date:Z=>ZodDate.create({...Z,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const ANSI_BACKGROUND_OFFSET=10,wrapAnsi16=(Z=0)=>L=>`\x1B[${L+Z}m`,wrapAnsi256=(Z=0)=>L=>`\x1B[${38+Z};5;${L}m`,wrapAnsi16m=(Z=0)=>(L,X,ee)=>`\x1B[${38+Z};2;${L};${X};${ee}m`,styles$1={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(styles$1.modifier);const foregroundColorNames=Object.keys(styles$1.color),backgroundColorNames=Object.keys(styles$1.bgColor);[...foregroundColorNames,...backgroundColorNames];function assembleStyles(){const Z=new Map;for(const[L,X]of Object.entries(styles$1)){for(const[ee,te]of Object.entries(X))styles$1[ee]={open:`\x1B[${te[0]}m`,close:`\x1B[${te[1]}m`},X[ee]=styles$1[ee],Z.set(te[0],te[1]);Object.defineProperty(styles$1,L,{value:X,enumerable:!1})}return Object.defineProperty(styles$1,"codes",{value:Z,enumerable:!1}),styles$1.color.close="\x1B[39m",styles$1.bgColor.close="\x1B[49m",styles$1.color.ansi=wrapAnsi16(),styles$1.color.ansi256=wrapAnsi256(),styles$1.color.ansi16m=wrapAnsi16m(),styles$1.bgColor.ansi=wrapAnsi16(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi256=wrapAnsi256(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi16m=wrapAnsi16m(ANSI_BACKGROUND_OFFSET),Object.defineProperties(styles$1,{rgbToAnsi256:{value(L,X,ee){return L===X&&X===ee?L<8?16:L>248?231:Math.round((L-8)/247*24)+232:16+36*Math.round(L/255*5)+6*Math.round(X/255*5)+Math.round(ee/255*5)},enumerable:!1},hexToRgb:{value(L){const X=/[a-f\d]{6}|[a-f\d]{3}/i.exec(L.toString(16));if(!X)return[0,0,0];let[ee]=X;ee.length===3&&(ee=[...ee].map(ie=>ie+ie).join(""));const te=Number.parseInt(ee,16);return[te>>16&255,te>>8&255,te&255]},enumerable:!1},hexToAnsi256:{value:L=>styles$1.rgbToAnsi256(...styles$1.hexToRgb(L)),enumerable:!1},ansi256ToAnsi:{value(L){if(L<8)return 30+L;if(L<16)return 90+(L-8);let X,ee,te;if(L>=232)X=((L-232)*10+8)/255,ee=X,te=X;else{L-=16;const se=L%36;X=Math.floor(L/36)/5,ee=Math.floor(se/6)/5,te=se%6/5}const ie=Math.max(X,ee,te)*2;if(ie===0)return 30;let oe=30+(Math.round(te)<<2|Math.round(ee)<<1|Math.round(X));return ie===2&&(oe+=60),oe},enumerable:!1},rgbToAnsi:{value:(L,X,ee)=>styles$1.ansi256ToAnsi(styles$1.rgbToAnsi256(L,X,ee)),enumerable:!1},hexToAnsi:{value:L=>styles$1.ansi256ToAnsi(styles$1.hexToAnsi256(L)),enumerable:!1}}),styles$1}const ansiStyles=assembleStyles(),ansiStyles$1=ansiStyles,level=(()=>{if(navigator.userAgentData){const Z=navigator.userAgentData.brands.find(({brand:L})=>L==="Chromium");if(Z&&Z.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),colorSupport=level!==0&&{level,hasBasic:!0,has256:level>=2,has16m:level>=3},supportsColor={stdout:colorSupport,stderr:colorSupport},supportsColor$1=supportsColor;function stringReplaceAll(Z,L,X){let ee=Z.indexOf(L);if(ee===-1)return Z;const te=L.length;let ie=0,oe="";do oe+=Z.slice(ie,ee)+L+X,ie=ee+te,ee=Z.indexOf(L,ie);while(ee!==-1);return oe+=Z.slice(ie),oe}function stringEncaseCRLFWithFirstIndex(Z,L,X,ee){let te=0,ie="";do{const oe=Z[ee-1]==="\r";ie+=Z.slice(te,oe?ee-1:ee)+L+(oe?`\r
`:`
`)+X,te=ee+1,ee=Z.indexOf(`
`,te)}while(ee!==-1);return ie+=Z.slice(te),ie}const{stdout:stdoutColor,stderr:stderrColor}=supportsColor$1,GENERATOR=Symbol("GENERATOR"),STYLER=Symbol("STYLER"),IS_EMPTY=Symbol("IS_EMPTY"),levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(Z,L={})=>{if(L.level&&!(Number.isInteger(L.level)&&L.level>=0&&L.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const X=stdoutColor?stdoutColor.level:0;Z.level=L.level===void 0?X:L.level},chalkFactory=Z=>{const L=(...X)=>X.join(" ");return applyOptions(L,Z),Object.setPrototypeOf(L,createChalk.prototype),L};function createChalk(Z){return chalkFactory(Z)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[Z,L]of Object.entries(ansiStyles$1))styles[Z]={get(){const X=createBuilder(this,createStyler(L.open,L.close,this[STYLER]),this[IS_EMPTY]);return Object.defineProperty(this,Z,{value:X}),X}};styles.visible={get(){const Z=createBuilder(this,this[STYLER],!0);return Object.defineProperty(this,"visible",{value:Z}),Z}};const getModelAnsi=(Z,L,X,...ee)=>Z==="rgb"?L==="ansi16m"?ansiStyles$1[X].ansi16m(...ee):L==="ansi256"?ansiStyles$1[X].ansi256(ansiStyles$1.rgbToAnsi256(...ee)):ansiStyles$1[X].ansi(ansiStyles$1.rgbToAnsi(...ee)):Z==="hex"?getModelAnsi("rgb",L,X,...ansiStyles$1.hexToRgb(...ee)):ansiStyles$1[X][Z](...ee),usedModels=["rgb","hex","ansi256"];for(const Z of usedModels){styles[Z]={get(){const{level:X}=this;return function(...ee){const te=createStyler(getModelAnsi(Z,levelMapping[X],"color",...ee),ansiStyles$1.color.close,this[STYLER]);return createBuilder(this,te,this[IS_EMPTY])}}};const L="bg"+Z[0].toUpperCase()+Z.slice(1);styles[L]={get(){const{level:X}=this;return function(...ee){const te=createStyler(getModelAnsi(Z,levelMapping[X],"bgColor",...ee),ansiStyles$1.bgColor.close,this[STYLER]);return createBuilder(this,te,this[IS_EMPTY])}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this[GENERATOR].level},set(Z){this[GENERATOR].level=Z}}}),createStyler=(Z,L,X)=>{let ee,te;return X===void 0?(ee=Z,te=L):(ee=X.openAll+Z,te=L+X.closeAll),{open:Z,close:L,openAll:ee,closeAll:te,parent:X}},createBuilder=(Z,L,X)=>{const ee=(...te)=>applyStyle(ee,te.length===1?""+te[0]:te.join(" "));return Object.setPrototypeOf(ee,proto),ee[GENERATOR]=Z,ee[STYLER]=L,ee[IS_EMPTY]=X,ee},applyStyle=(Z,L)=>{if(Z.level<=0||!L)return Z[IS_EMPTY]?"":L;let X=Z[STYLER];if(X===void 0)return L;const{openAll:ee,closeAll:te}=X;if(L.includes("\x1B"))for(;X!==void 0;)L=stringReplaceAll(L,X.close,X.open),X=X.parent;const ie=L.indexOf(`
`);return ie!==-1&&(L=stringEncaseCRLFWithFirstIndex(L,te,ee,ie)),ee+L+te};Object.defineProperties(createChalk.prototype,styles);const chalk=createChalk();createChalk({level:stderrColor?stderrColor.level:0});const d$3=chalk,identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(Z){return Z.length===1?Z[0].toString():Z.reduce((L,X)=>{if(typeof X=="number")return L+"["+X.toString()+"]";if(X.includes('"'))return L+'["'+escapeQuotes(X)+'"]';if(!identifierRegex.test(X))return L+'["'+X+'"]';const ee=L.length===0?"":".";return L+ee+X},"")}function escapeQuotes(Z){return Z.replace(/"/g,'\\"')}function isNonEmptyArray(Z){return Z.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(L,X=[]){super(L),this.details=X,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(Z,L,X){if(Z.code==="invalid_union")return Z.unionErrors.reduce((ee,te)=>{const ie=te.issues.map(oe=>getMessageFromZodIssue(oe,L,X)).join(L);return ee.includes(ie)||ee.push(ie),ee},[]).join(X);if(isNonEmptyArray(Z.path)){if(Z.path.length===1){const ee=Z.path[0];if(typeof ee=="number")return`${Z.message} at index ${ee}`}return`${Z.message} at "${joinPath(Z.path)}"`}return Z.message}function conditionallyPrefixMessage(Z,L,X){return L!==null?Z.length>0?[L,Z].join(X):L:Z.length>0?Z:PREFIX}function fromZodError(Z,L={}){const{maxIssuesInMessage:X=MAX_ISSUES_IN_MESSAGE,issueSeparator:ee=ISSUE_SEPARATOR,unionSeparator:te=UNION_SEPARATOR,prefixSeparator:ie=PREFIX_SEPARATOR,prefix:oe=PREFIX}=L,se=Z.errors.slice(0,X).map(ce=>getMessageFromZodIssue(ce,ee,te)).join(ee),ue=conditionallyPrefixMessage(se,oe,ie);return new ValidationError(ue,Z.errors)}var a$2=Object.defineProperty,m$1=(Z,L,X)=>L in Z?a$2(Z,L,{enumerable:!0,configurable:!0,writable:!0,value:X}):Z[L]=X,x$3=(Z,L,X)=>(m$1(Z,typeof L!="symbol"?L+"":L,X),X),t$2=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$1=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function l$2(Z,L){return fromZodError(Z,{prefix:d$3.red(L),prefixSeparator:`
- `,issueSeparator:`
- `})}var g$3=16;function d$2(Z,L){/^\w+$/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$2(Z,L){d$2(Z,L),/^[A-Z]/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(Z,L){d$2(Z,L),/^[a-z]/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$2(Z,L){Z.length===0&&L.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),Z.length>=256&&L.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let X=M$3(Z);X.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${X.join(", ")}`})}function c$1(Z,L){return(X,ee)=>{if(X===""){Z&&ee.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}X[0]!=="/"&&ee.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),X[X.length-1]==="/"&&ee.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let te=X.split("/");L&&te.length>2&&ee.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let ie=1;ie<te.length;ie++)te[ie]===""&&ee.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(te[ie])||ee.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var y$1=c$1(!0,!1),R$1=c$1(!1,!1),b$1=c$1(!0,!0);function D(Z,L){isAddress$1(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$3(Z){let L=new Set,X=new Set;for(let ee of Z)L.has(ee)&&X.add(ee),L.add(ee);return[...X]}function U$2(Z,L){Z.length>g$3&&L.addIssue({code:ZodIssueCode.custom,message:`Selector must be <= ${g$3} characters`}),/^\w*$/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function z$1(Z){let L=Z.match(/^(\w+)\[(\d+)\]$/);return L?{elementType:L[1],staticLength:Number.parseInt(L[2])}:null}var v$2=z$2.string().superRefine(x$2),$$1=z$2.string().superRefine(C$1);z$2.string().superRefine(d$2);var G$2=z$2.array(v$2).superRefine(h$2);z$2.string().superRefine(y$1);z$2.string().superRefine(b$1);z$2.string().superRefine(R$1);var k$1=z$2.string().superRefine(D),P$3=z$2.string().superRefine(U$2),l$1=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$2;let L=this._global,X=new l$1;return L.__mudCoreContext=X,X}static getContext(){let L=this._global.__mudCoreContext;if(L===void 0)throw new s$1;return L}configExtenders=[]},i=l$1;x$3(i,"_global",typeof global>"u"?window.global??{}:global);function Y(Z){let L=Z,X=i.getContext();for(let ee of X.configExtenders)L=ee(L);return L}function q$1(Z){i.getContext().configExtenders.push(Z)}var w$1=(Z=>(Z[Z.TABLE_ID=0]="TABLE_ID",Z[Z.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",Z))(w$1||{}),l={storeImportPath:"@latticexyz/store/src/",userTypesPath:"Types",codegenDirectory:"codegen"},g$2={namespace:"",enums:{}},m={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!0,ephemeral:!1},j=v$2,O$2=$$1,v$1=$$1,I=v$2,d$1=z$2.string(),_=z$2.string(),P$2=z$2.record(O$2,_).default(m.keySchema),U$1=z$2.record(v$1,d$1).refine(Z=>Object.keys(Z).length>0,"Table schema may not be empty"),K=d$1.transform(Z=>U$1.parse({value:Z})),q=U$1.or(K),h$1=z$2.object({directory:z$2.string().default(m.directory),name:P$3.optional(),tableIdArgument:z$2.boolean().default(m.tableIdArgument),storeArgument:z$2.boolean().default(m.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:P$2,schema:q,ephemeral:z$2.boolean().default(m.ephemeral)}).transform(Z=>(Object.keys(Z.schema).length===1?Z.dataStruct??=!1:Z.dataStruct??=!0,Z)),B=d$1.transform(Z=>h$1.parse({schema:{value:Z}})),M$2=h$1.or(B),$=z$2.record(j,M$2).transform(Z=>{for(let L of Object.keys(Z)){let X=Z[L];X.name=L.slice(0,g$3),Z[L]=X}return Z}),H=z$2.object({enums:z$2.record(I,G$2).default(g$2.enums)}),x$1=z$2.object({namespace:P$3.default(g$2.namespace),storeImportPath:z$2.string().default(l.storeImportPath),tables:$,userTypesPath:z$2.string().default(l.userTypesPath),codegenDirectory:z$2.string().default(l.codegenDirectory)}).merge(H);x$1.superRefine(C);var re=x$1.catchall(z$2.any()).superRefine(C);function C(Z,L){for(let ce of Object.values(Z.tables)){let le=Object.keys(ce.keySchema),he=Object.keys(ce.schema),pe=M$3([...le,...he]);pe.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${pe.join(", ")}`})}let X=Object.keys(Z.tables),ee=Object.keys(Z.enums),te=ee,ie=[...X,...te],oe=M$3(ie);oe.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names must be globally unique: ${oe.join(", ")}`});let se=Object.values(Z.tables).map(({name:ce})=>ce),ue=M$3(se);ue.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${ue.join(", ")}`});for(let ce of Object.values(Z.tables)){for(let le of Object.values(ce.keySchema))F(ee,le,L);for(let le of Object.values(ce.schema))G$1(te,ee,le,L)}}function G$1(Z,L,X,ee){if(!s$2.includes(X)&&!Z.includes(X)){let te=z$1(X);te?V(L,te.elementType,te.staticLength,ee):ee.addIssue({code:ZodIssueCode.custom,message:`${X} is not a valid abi type, and is not defined in userTypes`})}}function F(Z,L,X){!U$3.includes(L)&&!Z.includes(L)&&X.addIssue({code:ZodIssueCode.custom,message:`${L} is not a static type`})}function V(Z,L,X,ee){F(Z,L,ee),X===0?ee.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):X>=2**16&&ee.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}i.isCreated()||i.createContext();q$1(Z=>{try{return re.parse(Z)}catch(L){throw L instanceof ZodError?l$2(L,"StoreConfig Validation Error"):L}});function s(Z){return Y(Z)}var a$1=s({storeImportPath:"../../",namespace:"mudstore",enums:{ExampleEnum:["None","First","Second","Third"]},tables:{Hooks:"address[]",Callbacks:"bytes24[]",Tables:{keySchema:{tableId:"bytes32"},schema:{keySchema:"bytes32",valueSchema:"bytes32",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},Mixed:{schema:{u32:"uint32",u128:"uint128",a32:"uint32[]",s:"string"}},Vector2:{schema:{x:"uint32",y:"uint32"}},KeyEncoding:{keySchema:{k1:"uint256",k2:"int32",k3:"bytes16",k4:"address",k5:"bool",k6:"ExampleEnum"},schema:"bool"}}}),g$1=g$4("mud:store-sync"),k=a$1.tables.Tables,A=He(a$1.namespace,k.name);function G({registerTables:Z,getTables:L,storeOperations:X}){return async ee=>{let te=ee.logs.map(ue=>{if(ue.eventName!=="StoreSetRecord"||ue.args.table!==A)return;let[ce,...le]=ue.args.key;le.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",ue);let he=ye(ce),pe=ct(ne(Object.values(k.schema)),ue.args.data),we=Object.fromEntries(Object.keys(k.schema).map((Ce,We)=>[Ce,pe[We]])),_e=D$1(we.keySchema),xe=D$1(we.valueSchema),Ae=decodeAbiParameters(parseAbiParameters("string[]"),we.abiEncodedKeyNames)[0],Ie=decodeAbiParameters(parseAbiParameters("string[]"),we.abiEncodedFieldNames)[0],Pe=[...xe.staticFields,...xe.dynamicFields];return{address:ue.address,tableId:ce,namespace:he.namespace,name:he.name,keySchema:Object.fromEntries(_e.staticFields.map((Ce,We)=>[Ae[We],Ce])),valueSchema:Object.fromEntries(Pe.map((Ce,We)=>[Ie[We],Ce]))}}).filter(P$5);te.length>0&&await Z({blockNumber:ee.blockNumber,tables:te});let ie=Array.from(new Set(ee.logs.map(ue=>JSON.stringify({address:getAddress(ue.address),tableId:ue.args.table,...ye(ue.args.table)})))).map(ue=>JSON.parse(ue)),oe=Object.fromEntries((await L({blockNumber:ee.blockNumber,tables:ie})).map(ue=>[`${getAddress(ue.address)}:${ue.tableId}`,ue])),se=ee.logs.map(ue=>{let ce=oe[`${getAddress(ue.address)}:${ue.args.table}`];if(!ce){g$1("no table found for event, skipping",ye(ue.args.table),ue);return}let le=Object.keys(ce.keySchema),he=ze({staticFields:Object.values(ce.keySchema),dynamicFields:[]},ue.args.key),pe=Object.fromEntries(he.map((Ae,Ie)=>[le[Ie],Ae])),we=Object.values(ce.valueSchema),_e=ne(we),xe=Object.keys(ce.valueSchema);if(ue.eventName==="StoreSetRecord"||ue.eventName==="StoreEphemeralRecord"){let Ae=ct(_e,ue.args.data),Ie=Object.fromEntries(xe.map((Pe,Ce)=>[Pe,Ae[Ce]]));return{log:ue,address:getAddress(ue.address),namespace:ce.namespace,name:ce.name,type:"SetRecord",key:pe,value:Ie}}if(ue.eventName==="StoreSetField"){let Ae=xe[ue.args.schemaIndex],Ie=ke(we[ue.args.schemaIndex],ue.args.data);return{log:ue,address:getAddress(ue.address),namespace:ce.namespace,name:ce.name,type:"SetField",key:pe,fieldName:Ae,fieldValue:Ie}}if(ue.eventName==="StoreDeleteRecord")return{log:ue,address:getAddress(ue.address),namespace:ce.namespace,name:ce.name,type:"DeleteRecord",key:pe};g$1("unknown store event or log, skipping",ue)}).filter(P$5);return await X({blockNumber:ee.blockNumber,operations:se}),{blockNumber:ee.blockNumber,operations:se}}}var w=(Z=>(Z.INITIALIZE="initialize",Z.SNAPSHOT="snapshot",Z.RPC="rpc",Z.LIVE="live",Z))(w||{});function invert(Z){const L=Object.create(null);for(const X in Z){const ee=Z[X];L[ee]=X}return L}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop$1=()=>{};function createInnerProxy(Z,L){return new Proxy(noop$1,{get(ee,te){if(!(typeof te!="string"||te==="then"))return createInnerProxy(Z,[...L,te])},apply(ee,te,ie){const oe=L[L.length-1]==="apply";return Z({args:oe?ie.length>=2?ie[1]:[]:ie,path:oe?L.slice(0,-1):L})}})}const createRecursiveProxy=Z=>createInnerProxy(Z,[]),createFlatProxy=Z=>new Proxy(noop$1,{get(L,X){if(!(typeof X!="string"||X==="then"))return Z(X)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function Z(){this.keyToValue=new Map,this.valueToKey=new Map}return Z.prototype.set=function(L,X){this.keyToValue.set(L,X),this.valueToKey.set(X,L)},Z.prototype.getByKey=function(L){return this.keyToValue.get(L)},Z.prototype.getByValue=function(L){return this.valueToKey.get(L)},Z.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},Z}(),Registry=function(){function Z(L){this.generateIdentifier=L,this.kv=new DoubleIndexedKV}return Z.prototype.register=function(L,X){this.kv.getByValue(L)||(X||(X=this.generateIdentifier(L)),this.kv.set(X,L))},Z.prototype.clear=function(){this.kv.clear()},Z.prototype.getIdentifier=function(L){return this.kv.getByValue(L)},Z.prototype.getValue=function(L){return this.kv.getByKey(L)},Z}(),__extends=globalThis&&globalThis.__extends||function(){var Z=function(L,X){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,te){ee.__proto__=te}||function(ee,te){for(var ie in te)Object.prototype.hasOwnProperty.call(te,ie)&&(ee[ie]=te[ie])},Z(L,X)};return function(L,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");Z(L,X);function ee(){this.constructor=L}L.prototype=X===null?Object.create(X):(ee.prototype=X.prototype,new ee)}}(),ClassRegistry=function(Z){__extends(L,Z);function L(){var X=Z.call(this,function(ee){return ee.name})||this;return X.classToAllowedProps=new Map,X}return L.prototype.register=function(X,ee){typeof ee=="object"?(ee.allowProps&&this.classToAllowedProps.set(X,ee.allowProps),Z.prototype.register.call(this,X,ee.identifier)):Z.prototype.register.call(this,X,ee)},L.prototype.getAllowedProps=function(X){return this.classToAllowedProps.get(X)},L}(Registry),__read$3=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var ee=X.call(Z),te,ie=[],oe;try{for(;(L===void 0||L-- >0)&&!(te=ee.next()).done;)ie.push(te.value)}catch(se){oe={error:se}}finally{try{te&&!te.done&&(X=ee.return)&&X.call(ee)}finally{if(oe)throw oe.error}}return ie};function valuesOfObj(Z){if("values"in Object)return Object.values(Z);var L=[];for(var X in Z)Z.hasOwnProperty(X)&&L.push(Z[X]);return L}function find(Z,L){var X=valuesOfObj(Z);if("find"in X)return X.find(L);for(var ee=X,te=0;te<ee.length;te++){var ie=ee[te];if(L(ie))return ie}}function forEach(Z,L){Object.entries(Z).forEach(function(X){var ee=__read$3(X,2),te=ee[0],ie=ee[1];return L(ie,te)})}function includes(Z,L){return Z.indexOf(L)!==-1}function findArr(Z,L){for(var X=0;X<Z.length;X++){var ee=Z[X];if(L(ee))return ee}}var CustomTransformerRegistry=function(){function Z(){this.transfomers={}}return Z.prototype.register=function(L){this.transfomers[L.name]=L},Z.prototype.findApplicable=function(L){return find(this.transfomers,function(X){return X.isApplicable(L)})},Z.prototype.findByName=function(L){return this.transfomers[L]},Z}(),getType$1=function(Z){return Object.prototype.toString.call(Z).slice(8,-1)},isUndefined=function(Z){return typeof Z>"u"},isNull=function(Z){return Z===null},isPlainObject$1=function(Z){return typeof Z!="object"||Z===null||Z===Object.prototype?!1:Object.getPrototypeOf(Z)===null?!0:Object.getPrototypeOf(Z)===Object.prototype},isEmptyObject=function(Z){return isPlainObject$1(Z)&&Object.keys(Z).length===0},isArray$1=function(Z){return Array.isArray(Z)},isString=function(Z){return typeof Z=="string"},isNumber=function(Z){return typeof Z=="number"&&!isNaN(Z)},isBoolean=function(Z){return typeof Z=="boolean"},isRegExp=function(Z){return Z instanceof RegExp},isMap=function(Z){return Z instanceof Map},isSet=function(Z){return Z instanceof Set},isSymbol=function(Z){return getType$1(Z)==="Symbol"},isDate=function(Z){return Z instanceof Date&&!isNaN(Z.valueOf())},isError=function(Z){return Z instanceof Error},isNaNValue=function(Z){return typeof Z=="number"&&isNaN(Z)},isPrimitive=function(Z){return isBoolean(Z)||isNull(Z)||isUndefined(Z)||isNumber(Z)||isString(Z)||isSymbol(Z)},isBigint=function(Z){return typeof Z=="bigint"},isInfinite=function(Z){return Z===1/0||Z===-1/0},isTypedArray=function(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)},isURL=function(Z){return Z instanceof URL},escapeKey=function(Z){return Z.replace(/\./g,"\\.")},stringifyPath=function(Z){return Z.map(String).map(escapeKey).join(".")},parsePath=function(Z){for(var L=[],X="",ee=0;ee<Z.length;ee++){var te=Z.charAt(ee),ie=te==="\\"&&Z.charAt(ee+1)===".";if(ie){X+=".",ee++;continue}var oe=te===".";if(oe){L.push(X),X="";continue}X+=te}var se=X;return L.push(se),L},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(Z){for(var L,X=1,ee=arguments.length;X<ee;X++){L=arguments[X];for(var te in L)Object.prototype.hasOwnProperty.call(L,te)&&(Z[te]=L[te])}return Z},__assign$1.apply(this,arguments)},__read$2=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var ee=X.call(Z),te,ie=[],oe;try{for(;(L===void 0||L-- >0)&&!(te=ee.next()).done;)ie.push(te.value)}catch(se){oe={error:se}}finally{try{te&&!te.done&&(X=ee.return)&&X.call(ee)}finally{if(oe)throw oe.error}}return ie},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(Z,L){for(var X=0,ee=L.length,te=Z.length;X<ee;X++,te++)Z[te]=L[X];return Z};function simpleTransformation(Z,L,X,ee){return{isApplicable:Z,annotation:L,transform:X,untransform:ee}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(Z){return Z.toString()},function(Z){return typeof BigInt<"u"?BigInt(Z):(console.error("Please add a BigInt polyfill."),Z)}),simpleTransformation(isDate,"Date",function(Z){return Z.toISOString()},function(Z){return new Date(Z)}),simpleTransformation(isError,"Error",function(Z,L){var X={name:Z.name,message:Z.message};return L.allowedErrorProps.forEach(function(ee){X[ee]=Z[ee]}),X},function(Z,L){var X=new Error(Z.message);return X.name=Z.name,X.stack=Z.stack,L.allowedErrorProps.forEach(function(ee){X[ee]=Z[ee]}),X}),simpleTransformation(isRegExp,"regexp",function(Z){return""+Z},function(Z){var L=Z.slice(1,Z.lastIndexOf("/")),X=Z.slice(Z.lastIndexOf("/")+1);return new RegExp(L,X)}),simpleTransformation(isSet,"set",function(Z){return __spreadArray$2([],__read$2(Z.values()))},function(Z){return new Set(Z)}),simpleTransformation(isMap,"map",function(Z){return __spreadArray$2([],__read$2(Z.entries()))},function(Z){return new Map(Z)}),simpleTransformation(function(Z){return isNaNValue(Z)||isInfinite(Z)},"number",function(Z){return isNaNValue(Z)?"NaN":Z>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(Z){return Z===0&&1/Z===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(Z){return Z.toString()},function(Z){return new URL(Z)})];function compositeTransformation(Z,L,X,ee){return{isApplicable:Z,annotation:L,transform:X,untransform:ee}}var symbolRule=compositeTransformation(function(Z,L){if(isSymbol(Z)){var X=!!L.symbolRegistry.getIdentifier(Z);return X}return!1},function(Z,L){var X=L.symbolRegistry.getIdentifier(Z);return["symbol",X]},function(Z){return Z.description},function(Z,L,X){var ee=X.symbolRegistry.getValue(L[1]);if(!ee)throw new Error("Trying to deserialize unknown symbol");return ee}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(Z,L){return Z[L.name]=L,Z},{}),typedArrayRule=compositeTransformation(isTypedArray,function(Z){return["typed-array",Z.constructor.name]},function(Z){return __spreadArray$2([],__read$2(Z))},function(Z,L){var X=constructorToName[L[1]];if(!X)throw new Error("Trying to deserialize unknown typed array");return new X(Z)});function isInstanceOfRegisteredClass(Z,L){if(Z?.constructor){var X=!!L.classRegistry.getIdentifier(Z.constructor);return X}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(Z,L){var X=L.classRegistry.getIdentifier(Z.constructor);return["class",X]},function(Z,L){var X=L.classRegistry.getAllowedProps(Z.constructor);if(!X)return __assign$1({},Z);var ee={};return X.forEach(function(te){ee[te]=Z[te]}),ee},function(Z,L,X){var ee=X.classRegistry.getValue(L[1]);if(!ee)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(ee.prototype),Z)}),customRule=compositeTransformation(function(Z,L){return!!L.customTransformerRegistry.findApplicable(Z)},function(Z,L){var X=L.customTransformerRegistry.findApplicable(Z);return["custom",X.name]},function(Z,L){var X=L.customTransformerRegistry.findApplicable(Z);return X.serialize(Z)},function(Z,L,X){var ee=X.customTransformerRegistry.findByName(L[1]);if(!ee)throw new Error("Trying to deserialize unknown custom value");return ee.deserialize(Z)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(Z,L){var X=findArr(compositeRules,function(te){return te.isApplicable(Z,L)});if(X)return{value:X.transform(Z,L),type:X.annotation(Z,L)};var ee=findArr(simpleRules,function(te){return te.isApplicable(Z,L)});if(ee)return{value:ee.transform(Z,L),type:ee.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(Z){simpleRulesByAnnotation[Z.annotation]=Z});var untransformValue=function(Z,L,X){if(isArray$1(L))switch(L[0]){case"symbol":return symbolRule.untransform(Z,L,X);case"class":return classRule.untransform(Z,L,X);case"custom":return customRule.untransform(Z,L,X);case"typed-array":return typedArrayRule.untransform(Z,L,X);default:throw new Error("Unknown transformation: "+L)}else{var ee=simpleRulesByAnnotation[L];if(!ee)throw new Error("Unknown transformation: "+L);return ee.untransform(Z,X)}},getNthKey=function(Z,L){for(var X=Z.keys();L>0;)X.next(),L--;return X.next().value};function validatePath(Z){if(includes(Z,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(Z,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(Z,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(Z,L){validatePath(L);for(var X=0;X<L.length;X++){var ee=L[X];if(isSet(Z))Z=getNthKey(Z,+ee);else if(isMap(Z)){var te=+ee,ie=+L[++X]==0?"key":"value",oe=getNthKey(Z,te);switch(ie){case"key":Z=oe;break;case"value":Z=Z.get(oe);break}}else Z=Z[ee]}return Z},setDeep=function(Z,L,X){if(validatePath(L),L.length===0)return X(Z);for(var ee=Z,te=0;te<L.length-1;te++){var ie=L[te];if(isArray$1(ee)){var oe=+ie;ee=ee[oe]}else if(isPlainObject$1(ee))ee=ee[ie];else if(isSet(ee)){var se=+ie;ee=getNthKey(ee,se)}else if(isMap(ee)){var ue=te===L.length-2;if(ue)break;var se=+ie,ce=+L[++te]==0?"key":"value",le=getNthKey(ee,se);switch(ce){case"key":ee=le;break;case"value":ee=ee.get(le);break}}}var he=L[L.length-1];if(isArray$1(ee)?ee[+he]=X(ee[+he]):isPlainObject$1(ee)&&(ee[he]=X(ee[he])),isSet(ee)){var pe=getNthKey(ee,+he),we=X(pe);pe!==we&&(ee.delete(pe),ee.add(we))}if(isMap(ee)){var se=+L[L.length-2],_e=getNthKey(ee,se),ce=+he==0?"key":"value";switch(ce){case"key":{var xe=X(_e);ee.set(xe,ee.get(_e)),xe!==_e&&ee.delete(_e);break}case"value":{ee.set(_e,X(ee.get(_e)));break}}}return Z},__read$1=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var ee=X.call(Z),te,ie=[],oe;try{for(;(L===void 0||L-- >0)&&!(te=ee.next()).done;)ie.push(te.value)}catch(se){oe={error:se}}finally{try{te&&!te.done&&(X=ee.return)&&X.call(ee)}finally{if(oe)throw oe.error}}return ie},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(Z,L){for(var X=0,ee=L.length,te=Z.length;X<ee;X++,te++)Z[te]=L[X];return Z};function traverse(Z,L,X){if(X===void 0&&(X=[]),!!Z){if(!isArray$1(Z)){forEach(Z,function(oe,se){return traverse(oe,L,__spreadArray$1(__spreadArray$1([],__read$1(X)),__read$1(parsePath(se))))});return}var ee=__read$1(Z,2),te=ee[0],ie=ee[1];ie&&forEach(ie,function(oe,se){traverse(oe,L,__spreadArray$1(__spreadArray$1([],__read$1(X)),__read$1(parsePath(se))))}),L(te,X)}}function applyValueAnnotations(Z,L,X){return traverse(L,function(ee,te){Z=setDeep(Z,te,function(ie){return untransformValue(ie,ee,X)})}),Z}function applyReferentialEqualityAnnotations(Z,L){function X(oe,se){var ue=getDeep(Z,parsePath(se));oe.map(parsePath).forEach(function(ce){Z=setDeep(Z,ce,function(){return ue})})}if(isArray$1(L)){var ee=__read$1(L,2),te=ee[0],ie=ee[1];te.forEach(function(oe){Z=setDeep(Z,parsePath(oe),function(){return Z})}),ie&&forEach(ie,X)}else forEach(L,X);return Z}var isDeep=function(Z,L){return isPlainObject$1(Z)||isArray$1(Z)||isMap(Z)||isSet(Z)||isInstanceOfRegisteredClass(Z,L)};function addIdentity(Z,L,X){var ee=X.get(Z);ee?ee.push(L):X.set(Z,[L])}function generateReferentialEqualityAnnotations(Z){var L={},X=void 0;return Z.forEach(function(ee){if(!(ee.length<=1)){var te=__read$1(ee.map(function(se){return se.map(String)}).sort(function(se,ue){return se.length-ue.length})),ie=te[0],oe=te.slice(1);ie.length===0?X=oe.map(stringifyPath):L[stringifyPath(ie)]=oe.map(stringifyPath)}}),X?isEmptyObject(L)?[X]:[X,L]:isEmptyObject(L)?void 0:L}var walker=function(Z,L,X,ee,te,ie,oe){var se;te===void 0&&(te=[]),ie===void 0&&(ie=[]),oe===void 0&&(oe=new Map);var ue=isPrimitive(Z);if(!ue){addIdentity(Z,te,L);var ce=oe.get(Z);if(ce)return ee?{transformedValue:null}:ce}if(!isDeep(Z,X)){var le=transformValue(Z,X),he=le?{transformedValue:le.value,annotations:[le.type]}:{transformedValue:Z};return ue||oe.set(Z,he),he}if(includes(ie,Z))return{transformedValue:null};var pe=transformValue(Z,X),we=(se=pe?.value)!==null&&se!==void 0?se:Z,_e=isArray$1(we)?[]:{},xe={};forEach(we,function(Ie,Pe){var Ce=walker(Ie,L,X,ee,__spreadArray$1(__spreadArray$1([],__read$1(te)),[Pe]),__spreadArray$1(__spreadArray$1([],__read$1(ie)),[Z]),oe);_e[Pe]=Ce.transformedValue,isArray$1(Ce.annotations)?xe[Pe]=Ce.annotations:isPlainObject$1(Ce.annotations)&&forEach(Ce.annotations,function(We,Ve){xe[escapeKey(Pe)+"."+Ve]=We})});var Ae=isEmptyObject(xe)?{transformedValue:_e,annotations:pe?[pe.type]:void 0}:{transformedValue:_e,annotations:pe?[pe.type,xe]:xe};return ue||oe.set(Z,Ae),Ae};function getType(Z){return Object.prototype.toString.call(Z).slice(8,-1)}function isPlainObject(Z){if(getType(Z)!=="Object")return!1;const L=Object.getPrototypeOf(Z);return!!L&&L.constructor===Object&&L===Object.prototype}function isArray(Z){return getType(Z)==="Array"}function assignProp(Z,L,X,ee,te){const ie={}.propertyIsEnumerable.call(ee,L)?"enumerable":"nonenumerable";ie==="enumerable"&&(Z[L]=X),te&&ie==="nonenumerable"&&Object.defineProperty(Z,L,{value:X,enumerable:!1,writable:!0,configurable:!0})}function copy(Z,L={}){if(isArray(Z))return Z.map(te=>copy(te,L));if(!isPlainObject(Z))return Z;const X=Object.getOwnPropertyNames(Z),ee=Object.getOwnPropertySymbols(Z);return[...X,...ee].reduce((te,ie)=>{if(isArray(L.props)&&!L.props.includes(ie))return te;const oe=Z[ie],se=copy(oe,L);return assignProp(te,ie,se,Z,L.nonenumerable),te},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(Z){for(var L,X=1,ee=arguments.length;X<ee;X++){L=arguments[X];for(var te in L)Object.prototype.hasOwnProperty.call(L,te)&&(Z[te]=L[te])}return Z},__assign.apply(this,arguments)},__read=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var ee=X.call(Z),te,ie=[],oe;try{for(;(L===void 0||L-- >0)&&!(te=ee.next()).done;)ie.push(te.value)}catch(se){oe={error:se}}finally{try{te&&!te.done&&(X=ee.return)&&X.call(ee)}finally{if(oe)throw oe.error}}return ie},__spreadArray=globalThis&&globalThis.__spreadArray||function(Z,L){for(var X=0,ee=L.length,te=Z.length;X<ee;X++,te++)Z[te]=L[X];return Z},SuperJSON=function(){function Z(L){var X=L===void 0?{}:L,ee=X.dedupe,te=ee===void 0?!1:ee;this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(ie){var oe;return(oe=ie.description)!==null&&oe!==void 0?oe:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[],this.dedupe=te}return Z.prototype.serialize=function(L){var X=new Map,ee=walker(L,X,this,this.dedupe),te={json:ee.transformedValue};ee.annotations&&(te.meta=__assign(__assign({},te.meta),{values:ee.annotations}));var ie=generateReferentialEqualityAnnotations(X);return ie&&(te.meta=__assign(__assign({},te.meta),{referentialEqualities:ie})),te},Z.prototype.deserialize=function(L){var X=L.json,ee=L.meta,te=copy(X);return ee?.values&&(te=applyValueAnnotations(te,ee.values,this)),ee?.referentialEqualities&&(te=applyReferentialEqualityAnnotations(te,ee.referentialEqualities)),te},Z.prototype.stringify=function(L){return JSON.stringify(this.serialize(L))},Z.prototype.parse=function(L){return this.deserialize(JSON.parse(L))},Z.prototype.registerClass=function(L,X){this.classRegistry.register(L,X)},Z.prototype.registerSymbol=function(L,X){this.symbolRegistry.register(L,X)},Z.prototype.registerCustom=function(L,X){this.customTransformerRegistry.register(__assign({name:X},L))},Z.prototype.allowErrorProps=function(){for(var L,X=[],ee=0;ee<arguments.length;ee++)X[ee]=arguments[ee];(L=this.allowedErrorProps).push.apply(L,__spreadArray([],__read(X)))},Z.defaultInstance=new Z,Z.serialize=Z.defaultInstance.serialize.bind(Z.defaultInstance),Z.deserialize=Z.defaultInstance.deserialize.bind(Z.defaultInstance),Z.stringify=Z.defaultInstance.stringify.bind(Z.defaultInstance),Z.parse=Z.defaultInstance.parse.bind(Z.defaultInstance),Z.registerClass=Z.defaultInstance.registerClass.bind(Z.defaultInstance),Z.registerSymbol=Z.defaultInstance.registerSymbol.bind(Z.defaultInstance),Z.registerCustom=Z.defaultInstance.registerCustom.bind(Z.defaultInstance),Z.allowErrorProps=Z.defaultInstance.allowErrorProps.bind(Z.defaultInstance),Z}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity(Z){return Z}function pipeFromArray(Z){return Z.length===0?identity:Z.length===1?Z[0]:function(X){return Z.reduce((ee,te)=>te(ee),X)}}function observable(Z){const L={subscribe(X){let ee=null,te=!1,ie=!1,oe=!1;function se(){if(ee===null){oe=!0;return}ie||(ie=!0,typeof ee=="function"?ee():ee&&ee.unsubscribe())}return ee=Z({next(ue){te||X.next?.(ue)},error(ue){te||(te=!0,X.error?.(ue),se())},complete(){te||(te=!0,X.complete?.(),se())}}),oe&&se(),{unsubscribe:se}},pipe(...X){return pipeFromArray(X)(L)}};return L}function share(Z){return L=>{let X=0,ee=null;const te=[];function ie(){ee||(ee=L.subscribe({next(se){for(const ue of te)ue.next?.(se)},error(se){for(const ue of te)ue.error?.(se)},complete(){for(const se of te)se.complete?.()}}))}function oe(){if(X===0&&ee){const se=ee;ee=null,se.unsubscribe()}}return{subscribe(se){return X++,te.push(se),ie(),{unsubscribe(){X--,oe();const ue=te.findIndex(ce=>ce===se);ue>-1&&te.splice(ue,1)}}}}}}class ObservableAbortError extends Error{constructor(L){super(L),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(Z){let L;return{promise:new Promise((ee,te)=>{let ie=!1;function oe(){ie||(ie=!0,te(new ObservableAbortError("This operation was aborted.")),se.unsubscribe())}const se=Z.subscribe({next(ue){ie=!0,ee(ue),oe()},error(ue){ie=!0,te(ue),oe()},complete(){ie=!0,oe()}});L=oe}),abort:L}}function createChain(Z){return observable(L=>{function X(te=0,ie=Z.op){const oe=Z.links[te];if(!oe)throw new Error("No more links to execute - did you forget to add an ending link?");return oe({op:ie,next(ue){return X(te+1,ue)}})}return X().subscribe(L)})}function isTRPCClientError(Z){return Z instanceof TRPCClientError||Z.name==="TRPCClientError"}class TRPCClientError extends Error{static from(L,X={}){return L instanceof Error?isTRPCClientError(L)?(X.meta&&(L.meta={...L.meta,...X.meta}),L):new TRPCClientError(L.message,{...X,cause:L,result:null}):new TRPCClientError(L.error.message??"",{...X,cause:void 0,result:L})}constructor(L,X){const ee=X?.cause;super(L,{cause:ee}),this.meta=X?.meta,this.cause=ee,this.shape=X?.result?.error,this.data=X?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$1=Z=>typeof Z=="function";function getFetch(Z){if(Z)return Z;if(typeof window<"u"&&isFunction$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(Z){return Z||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(Z){return{url:Z.url,fetch:Z.fetch,AbortController:getAbortController(Z.AbortController)}}function arrayToDict(Z){const L={};for(let X=0;X<Z.length;X++){const ee=Z[X];L[X]=ee}return L}const METHOD={query:"GET",mutation:"POST"};function getInput(Z){return"input"in Z?Z.runtime.transformer.serialize(Z.input):arrayToDict(Z.inputs.map(L=>Z.runtime.transformer.serialize(L)))}const getUrl=Z=>{let L=Z.url+"/"+Z.path;const X=[];if("inputs"in Z&&X.push("batch=1"),Z.type==="query"){const ee=getInput(Z);ee!==void 0&&X.push(`input=${encodeURIComponent(JSON.stringify(ee))}`)}return X.length&&(L+="?"+X.join("&")),L},getBody=Z=>{if(Z.type==="query")return;const L=getInput(Z);return L!==void 0?JSON.stringify(L):void 0},jsonHttpRequester=Z=>httpRequest({...Z,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(Z,L){const X=Z.getUrl(Z),ee=Z.getBody(Z),{type:te}=Z,ie=await Z.headers();/* istanbul ignore if -- @preserve */if(te==="subscription")throw new Error("Subscriptions should use wsLink");const oe={...Z.contentTypeHeader?{"content-type":Z.contentTypeHeader}:{},...Z.batchModeHeader?{"trpc-batch-mode":Z.batchModeHeader}:{},...ie};return getFetch(Z.fetch)(X,{method:METHOD[te],signal:L?.signal,body:ee,headers:oe})}function httpRequest(Z){const L=Z.AbortController?new Z.AbortController:null,X={};return{promise:new Promise((ie,oe)=>{fetchHTTPResponse(Z,L).then(se=>(X.response=se,se.json())).then(se=>{X.responseJSON=se,ie({json:se,meta:X})}).catch(se=>{oe(TRPCClientError.from(se,{meta:X}))})}),cancel:()=>{L?.abort()}}}function isObject(Z){return!!Z&&!Array.isArray(Z)&&typeof Z=="object"}function transformResultInner(Z,L){if("error"in Z){const ee=L.transformer.deserialize(Z.error);return{ok:!1,error:{...Z,error:ee}}}return{ok:!0,result:{...Z.result,...(!Z.result.type||Z.result.type==="data")&&{type:"data",data:L.transformer.deserialize(Z.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(Z,L){let X;try{X=transformResultInner(Z,L)}catch{throw new TransformResultError}if(!X.ok&&(!isObject(X.error.error)||typeof X.error.error.code!="number"))throw new TransformResultError;if(X.ok&&!isObject(X.result))throw new TransformResultError;return X}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(Z){let L=null,X=null;const ee=()=>{clearTimeout(X),X=null,L=null};function te(se){const ue=[[]];let ce=0;for(;;){const le=se[ce];if(!le)break;const he=ue[ue.length-1];if(le.aborted){le.reject?.(new Error("Aborted")),ce++;continue}if(Z.validate(he.concat(le).map(we=>we.key))){he.push(le),ce++;continue}if(he.length===0){le.reject?.(new Error("Input is too big for a single dispatch")),ce++;continue}ue.push([])}return ue}function ie(){const se=te(L);ee();for(const ue of se){if(!ue.length)continue;const ce={items:ue,cancel:throwFatalError};for(const we of ue)we.batch=ce;const le=(we,_e)=>{const xe=ce.items[we];xe.resolve?.(_e),xe.batch=null,xe.reject=null,xe.resolve=null},{promise:he,cancel:pe}=Z.fetch(ce.items.map(we=>we.key),le);ce.cancel=pe,he.then(we=>{for(let _e=0;_e<we.length;_e++){const xe=we[_e];le(_e,xe)}for(const _e of ce.items)_e.reject?.(new Error("Missing result")),_e.batch=null}).catch(we=>{for(const _e of ce.items)_e.reject?.(we),_e.batch=null})}}function oe(se){const ue={aborted:!1,key:se,batch:null,resolve:throwFatalError,reject:throwFatalError},ce=new Promise((he,pe)=>{ue.reject=pe,ue.resolve=he,L||(L=[]),L.push(ue)});return X||(X=setTimeout(ie)),{promise:ce,cancel:()=>{ue.aborted=!0,ue.batch?.items.every(he=>he.aborted)&&(ue.batch.cancel(),ue.batch=null)}}}return{load:oe}}function createHTTPBatchLink(Z){return function(X){const ee=resolveHTTPLinkOptions(X),te=X.maxURLLength??1/0;return ie=>{const oe=he=>{const pe=_e=>{if(te===1/0)return!0;const xe=_e.map(Pe=>Pe.path).join(","),Ae=_e.map(Pe=>Pe.input);return getUrl({...ee,runtime:ie,type:he,path:xe,inputs:Ae}).length<=te},we=Z({...ee,runtime:ie,type:he,opts:X});return{validate:pe,fetch:we}},se=dataLoader(oe("query")),ue=dataLoader(oe("mutation")),ce=dataLoader(oe("subscription")),le={query:se,subscription:ce,mutation:ue};return({op:he})=>observable(pe=>{const we=le[he.type],{promise:_e,cancel:xe}=we.load(he);let Ae;return _e.then(Ie=>{Ae=Ie;const Pe=transformResult(Ie.json,ie);if(!Pe.ok){pe.error(TRPCClientError.from(Pe.error,{meta:Ie.meta}));return}pe.next({context:Ie.meta,result:Pe.result}),pe.complete()}).catch(Ie=>{pe.error(TRPCClientError.from(Ie,{meta:Ae?.meta}))}),()=>{xe()}})}}}const batchRequester=Z=>L=>{const X=L.map(oe=>oe.path).join(","),ee=L.map(oe=>oe.input),{promise:te,cancel:ie}=jsonHttpRequester({...Z,path:X,inputs:ee,headers(){return Z.opts.headers?typeof Z.opts.headers=="function"?Z.opts.headers({opList:L}):Z.opts.headers:{}}});return{promise:te.then(oe=>(Array.isArray(oe.json)?oe.json:L.map(()=>oe.json)).map(ce=>({meta:oe.meta,json:ce}))),cancel:ie}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:L,input:X,path:ee,context:te={}}){return createChain({links:this.links,op:{id:++this.requestId,type:L,path:ee,input:X,context:te}}).pipe(share())}requestAsPromise(L){const X=this.$request(L),{promise:ee,abort:te}=observableToPromise(X);return new Promise((oe,se)=>{L.signal?.addEventListener("abort",te),ee.then(ue=>{oe(ue.result.data)}).catch(ue=>{se(TRPCClientError.from(ue))})})}query(L,X,ee){return this.requestAsPromise({type:"query",path:L,input:X,context:ee?.context,signal:ee?.signal})}mutation(L,X,ee){return this.requestAsPromise({type:"mutation",path:L,input:X,context:ee?.context,signal:ee?.signal})}subscription(L,X,ee){return this.$request({type:"subscription",path:L,input:X,context:ee?.context}).subscribe({next(ie){ie.result.type==="started"?ee.onStarted?.():ie.result.type==="stopped"?ee.onStopped?.():ee.onData?.(ie.result.data)},error(ie){ee.onError?.(ie)},complete(){ee.onComplete?.()}})}constructor(L){this.requestId=0;const X=(()=>{const ee=L.transformer;return ee?"input"in ee?L.transformer:{input:ee,output:ee}:{input:{serialize:te=>te,deserialize:te=>te},output:{serialize:te=>te,deserialize:te=>te}}})();this.runtime={transformer:{serialize:ee=>X.input.serialize(ee),deserialize:ee=>X.output.deserialize(ee)},combinedTransformer:X},this.links=L.links.map(ee=>ee(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=Z=>clientCallTypeMap[Z];function createTRPCClientProxy(Z){return createFlatProxy(L=>Z.hasOwnProperty(L)?Z[L]:L==="__untypedClient"?Z:createRecursiveProxy(({path:X,args:ee})=>{const te=[L,...X],ie=clientCallTypeToProcedureType(te.pop()),oe=te.join(".");return Z[ie](oe,...ee)}))}function createTRPCProxyClient(Z){const L=new TRPCUntypedClient(Z);return createTRPCClientProxy(L)}function P$1({url:Z}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:Z})]})}var e=["event StoreDeleteRecord(bytes32 table, bytes32[] key)","event StoreSetField(bytes32 table, bytes32[] key, uint8 schemaIndex, bytes data)","event StoreSetRecord(bytes32 table, bytes32[] key, bytes data)","event StoreEphemeralRecord(bytes32 table, bytes32[] key, bytes data)"],f$1=parseAbi(e),u$1=g$4("mud:block-events-stream");async function*a({maxBlockRange:Z=1000n,maxRetryCount:L=3,publicClient:X,...ee}){let te=ee.fromBlock,ie=u$2(Z,ee.toBlock-te),oe=0;for(;te<=ee.toBlock;)try{let se=te+ie,ue=await X.getLogs({...ee,fromBlock:te,toBlock:se,strict:!0});yield{fromBlock:te,toBlock:se,logs:ue},te=se+1n,ie=u$2(Z,ee.toBlock-te)}catch(se){if(!(se instanceof Error))throw se;if(se.message.includes("rate limit exceeded")&&oe<L){let ue=2*oe;u$1(`too many requests, retrying in ${ue}s`,se),await b$3(1e3*ue),oe+=1;continue}if(se.message.includes("block range exceeded")){if(ie/=2n,ie<=0n)throw new Error("can't reduce block range any further");u$1("block range exceeded, trying a smaller block range",se);continue}throw se}}function P({publicClient:Z,address:L,events:X,maxBlockRange:ee}){let te,ie;return pipe(tap(({endBlock:oe,startBlock:se})=>{te??=se,ie=oe}),concatMap(()=>te>ie?EMPTY:from(a({publicClient:Z,address:L,events:X,fromBlock:te,toBlock:ie,maxBlockRange:ee})).pipe(tap(({toBlock:oe})=>{te=oe+1n}))))}function O$1({publicClient:Z,blockTag:L}){return new Observable(function(X){return Z.watchBlocks({blockTag:L,emitOnBegin:!0,onBlock:ee=>X.next(ee),onError:ee=>X.error(ee)})})}function M$1(Z,L){let X=Array.from(new Set(Z.map(ie=>ie.blockNumber)));X.sort(m$3);let ee=X.map(ie=>{let oe=Z.filter(se=>se.blockNumber===ie);if(oe.length&&(oe.sort((se,ue)=>se.logIndex<ue.logIndex?-1:se.logIndex>ue.logIndex?1:0),!!oe.length))return{blockNumber:ie,logs:oe}}).filter(P$5),te=X.length>0?X[X.length-1]:null;return L!=null&&(te==null||L>te)&&ee.push({blockNumber:L,logs:[]}),ee}function U(Z){return Object.fromEntries(Object.entries(Z).map(([L,X])=>[L,P$6[X]]))}var r$1=g$1.extend("createStoreSync");async function be({storageAdapter:Z,onProgress:L,address:X,publicClient:ee,startBlock:te=0n,maxBlockRange:ie,initialState:oe,indexerUrl:se}){let ue=defer(async()=>{if(oe)return oe;if(!se)return;r$1("fetching initial state from indexer",se),L?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetching snapshot from indexer"});let Ce=P$1({url:se}),We=ee.chain?.id??await ee.getChainId(),Ve=await Ce.findAll.query({chainId:We,address:X});return L?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetched snapshot from indexer"}),Ve}).pipe(catchError(Ce=>(r$1("error fetching initial state from indexer",Ce),L?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:te,message:"Failed to fetch snapshot from indexer"}),of(void 0))),shareReplay(1)),ce=ue.pipe(map(Ce=>Ce?.blockNumber??te),tap(Ce=>r$1("starting sync from block",Ce))),le=ue.pipe(filter(Ce=>Ce!=null&&Ce.blockNumber!=null&&Ce.tables.length>0),concatMap(async({blockNumber:Ce,tables:We})=>{r$1("hydrating from initial state to block",Ce),L?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:Ce,message:"Hydrating from snapshot"}),await Z.registerTables({blockNumber:Ce,tables:We});let Ve=We.flatMap(Qe=>Qe.records.map(ot=>({type:"SetRecord",address:Qe.address,namespace:Qe.namespace,name:Qe.name,key:ot.key,value:ot.value}))),Ge=Math.max(100,Math.floor(Ve.length/50)),tt=Array.from(f$3(Ve,Ge));for(let[Qe,ot]of tt.entries())await Z.storeOperations({blockNumber:Ce,operations:ot}),L?.({step:"snapshot",percentage:(Qe+ot.length)/tt.length,latestBlockNumber:0n,lastBlockNumberProcessed:Ce,message:"Hydrating from snapshot"});return L?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Ce,message:"Hydrated from snapshot"}),{blockNumber:Ce,operations:Ve}}),shareReplay(1)),he=O$1({publicClient:ee,blockTag:"latest"}).pipe(shareReplay(1)),pe=he.pipe(map(Ce=>Ce.number),tap(Ce=>{r$1("latest block number",Ce)}),shareReplay(1)),we=null,_e=null,xe=combineLatest([ce,pe]).pipe(map(([Ce,We])=>({startBlock:Ce,endBlock:We})),tap(Ce=>{we=Ce.startBlock,_e=Ce.endBlock}),P({publicClient:ee,address:X,events:f$1,maxBlockRange:ie}),mergeMap(({toBlock:Ce,logs:We})=>from(M$1(We,Ce))),share$1()),Ae=null,Ie=concat$2(le,xe.pipe(concatMap(G(Z)),tap(({blockNumber:Ce,operations:We})=>{if(r$1("stored",We.length,"operations for block",Ce),Ae=Ce,we!=null&&_e!=null)if(Ce<_e){let Ve=_e-we,Ge=Ae-we;L?.({step:"rpc",percentage:Number(Ge*1000n/Ve)/1e3,latestBlockNumber:_e,lastBlockNumberProcessed:Ae,message:"Hydrating from RPC"})}else L?.({step:"live",percentage:100,latestBlockNumber:_e,lastBlockNumberProcessed:Ae,message:"All caught up!"})}))).pipe(share$1());async function Pe(Ce){let We=await pRetry(Ve=>(r$1("waiting for tx receipt",Ce,"attempt",Ve),ee.waitForTransactionReceipt({hash:Ce,timeout:ee.pollingInterval*2*Ve})),{retries:3,onFailedAttempt:Ve=>{if(Ve instanceof WaitForTransactionReceiptTimeoutError){r$1("timed out waiting for tx receipt, trying again",Ce);return}throw Ve}});return r$1("got tx receipt",Ce,We),(Ae==null||Ae<We.blockNumber)&&(r$1("waiting for tx block to be processed",Ce,We.blockNumber),await firstValueFrom(Ie.pipe(filter(({blockNumber:Ve})=>Ve>=We.blockNumber)))),r$1("tx block was processed",Ce,We.blockNumber),{receipt:We}}return{latestBlock$:he,latestBlockNumber$:pe,blockLogs$:xe,blockStorageOperations$:Ie,waitForTransaction:Pe}}var d={registerFunctionSelector:!0,openAccess:!0,accessList:[]},o={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},y=v$2,h=v$2,z=z$2.array(y.or(k$1)).default(d.accessList),v=z$2.intersection(z$2.object({name:P$3.optional(),registerFunctionSelectors:z$2.boolean().default(d.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(d.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:z})])),x=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),E=z$2.object({type:z$2.nativeEnum(w$1),input:z$2.string()}),N$1=z$2.object({name:h,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([x,E])).default([])}),T=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(o.worldInterfaceName),systems:z$2.record(y,v).default(o.systems),excludeSystems:z$2.array(y).default(o.excludeSystems),postDeployScript:z$2.string().default(o.postDeployScript),deploysDirectory:z$2.string().default(o.deploysDirectory),worldsFile:z$2.string().default(o.worldsFile),worldgenDirectory:z$2.string().default(o.worldgenDirectory),worldImportPath:z$2.string().default(o.worldImportPath),modules:z$2.array(N$1).default(o.modules)}),M=T.catchall(z$2.any());q$1(Z=>{try{return M.parse(Z)}catch(L){throw L instanceof ZodError?l$2(L,"WorldConfig Validation Error"):L}});var t$1=s({worldImportPath:"../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",codegenDirectory:"",tables:{NamespaceOwner:{keySchema:{namespace:"bytes16"},schema:{owner:"address"}},ResourceAccess:{keySchema:{resourceSelector:"bytes32",caller:"address"},schema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},schema:{moduleAddress:"address"},dataStruct:!0},Systems:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{directory:"modules/core/tables",keySchema:{system:"address"},schema:{resourceSelector:"bytes32"}},SystemHooks:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:"address[]"},ResourceType:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{resourceType:"Resource"}},FunctionSelectors:{directory:"modules/core/tables",keySchema:{functionSelector:"bytes4"},schema:{resourceSelector:"bytes32",systemFunctionSelector:"bytes4"},dataStruct:!1},KeysWithValue:{directory:"modules/keyswithvalue/tables",keySchema:{valueHash:"bytes32"},schema:{keysWithValue:"bytes32[]"},tableIdArgument:!0},KeysInTable:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32"},schema:{keys0:"bytes32[]",keys1:"bytes32[]",keys2:"bytes32[]",keys3:"bytes32[]",keys4:"bytes32[]"}},UsedKeysIndex:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32",keysHash:"bytes32"},schema:{has:"bool",index:"uint40"},dataStruct:!1},UniqueEntity:{directory:"modules/uniqueentity/tables",keySchema:{},schema:"uint256",tableIdArgument:!0,storeArgument:!0},Bool:{directory:"../test/tables",keySchema:{},schema:{value:"bool"},tableIdArgument:!0},AddressArray:{directory:"../test/tables",schema:"address[]",tableIdArgument:!0}},enums:{Resource:["NONE","NAMESPACE","TABLE","SYSTEM"]},excludeSystems:["UniqueEntitySystem","StoreRegistrationSystem","EphemeralRecordSystem"]});function c(Z){return concatHex(Z)}function u(Z,L){if(Object.keys(Z).length!==Object.keys(L).length)throw new Error(`key length ${Object.keys(L).length} does not match key schema length ${Object.keys(Z).length}`);return c(Object.entries(Z).map(([X,ee])=>encodeAbiParameters([{type:ee}],[L[X]])))}var g=g$1.extend("recs");function b(Z){return u({address:"address",namespace:"bytes16",name:"bytes16"},{address:Z.address,namespace:stringToHex(Z.namespace,{size:16}),name:stringToHex(Z.name,{size:16})})}function R({components:Z}){let L=Object.fromEntries(Object.entries(Z).map(([X,ee])=>[ee.id,ee]));return{async registerTables({tables:X}){for(let ee of X)T$2(Z.RegisteredTables,b(ee),{table:ee})},async getTables({tables:X}){return X.map(ee=>x$6(Z.RegisteredTables,b(ee))?.table).filter(P$5)},async storeOperations({operations:X}){for(let ee of X){let te=x$6(Z.RegisteredTables,b({address:ee.address,namespace:ee.namespace,name:ee.name}))?.table;if(!te){g(`skipping update for unknown table: ${ee.namespace}:${ee.name} at ${ee.address}`);continue}let ie=He(ee.namespace,ee.name),oe=L[ie];if(!oe){g(`skipping update for unknown component: ${ie}. Available components: ${Object.keys(Z)}`);continue}let se=u(te.keySchema,ee.key);ee.type==="SetRecord"?(g("setting component",ie,se,ee.value),T$2(oe,se,ee.value)):ee.type==="SetField"?(g("updating component",ie,se,{[ee.fieldName]:ee.fieldValue}),je(oe,se,{[ee.fieldName]:ee.fieldValue},U(te.valueSchema))):ee.type==="DeleteRecord"&&(g("deleting component",ie,se),w$2(oe,se))}}}}var f=c([]);function N(Z){return{RegisteredTables:Re(Z,{table:W.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:Re(Z,{step:W.String,message:W.String,percentage:W.Number,latestBlockNumber:W.BigInt,lastBlockNumberProcessed:W.BigInt},{metadata:{componentName:"SyncProgress"}})}}var O={uint8:W.Number,uint16:W.Number,uint24:W.Number,uint32:W.Number,uint40:W.Number,uint48:W.Number,uint56:W.BigInt,uint64:W.BigInt,uint72:W.BigInt,uint80:W.BigInt,uint88:W.BigInt,uint96:W.BigInt,uint104:W.BigInt,uint112:W.BigInt,uint120:W.BigInt,uint128:W.BigInt,uint136:W.BigInt,uint144:W.BigInt,uint152:W.BigInt,uint160:W.BigInt,uint168:W.BigInt,uint176:W.BigInt,uint184:W.BigInt,uint192:W.BigInt,uint200:W.BigInt,uint208:W.BigInt,uint216:W.BigInt,uint224:W.BigInt,uint232:W.BigInt,uint240:W.BigInt,uint248:W.BigInt,uint256:W.BigInt,int8:W.Number,int16:W.Number,int24:W.Number,int32:W.Number,int40:W.Number,int48:W.Number,int56:W.BigInt,int64:W.BigInt,int72:W.BigInt,int80:W.BigInt,int88:W.BigInt,int96:W.BigInt,int104:W.BigInt,int112:W.BigInt,int120:W.BigInt,int128:W.BigInt,int136:W.BigInt,int144:W.BigInt,int152:W.BigInt,int160:W.BigInt,int168:W.BigInt,int176:W.BigInt,int184:W.BigInt,int192:W.BigInt,int200:W.BigInt,int208:W.BigInt,int216:W.BigInt,int224:W.BigInt,int232:W.BigInt,int240:W.BigInt,int248:W.BigInt,int256:W.BigInt,bytes1:W.String,bytes2:W.String,bytes3:W.String,bytes4:W.String,bytes5:W.String,bytes6:W.String,bytes7:W.String,bytes8:W.String,bytes9:W.String,bytes10:W.String,bytes11:W.String,bytes12:W.String,bytes13:W.String,bytes14:W.String,bytes15:W.String,bytes16:W.String,bytes17:W.String,bytes18:W.String,bytes19:W.String,bytes20:W.String,bytes21:W.String,bytes22:W.String,bytes23:W.String,bytes24:W.String,bytes25:W.String,bytes26:W.String,bytes27:W.String,bytes28:W.String,bytes29:W.String,bytes30:W.String,bytes31:W.String,bytes32:W.String,bool:W.Boolean,address:W.String,"uint8[]":W.NumberArray,"uint16[]":W.NumberArray,"uint24[]":W.NumberArray,"uint32[]":W.NumberArray,"uint40[]":W.NumberArray,"uint48[]":W.NumberArray,"uint56[]":W.BigIntArray,"uint64[]":W.BigIntArray,"uint72[]":W.BigIntArray,"uint80[]":W.BigIntArray,"uint88[]":W.BigIntArray,"uint96[]":W.BigIntArray,"uint104[]":W.BigIntArray,"uint112[]":W.BigIntArray,"uint120[]":W.BigIntArray,"uint128[]":W.BigIntArray,"uint136[]":W.BigIntArray,"uint144[]":W.BigIntArray,"uint152[]":W.BigIntArray,"uint160[]":W.BigIntArray,"uint168[]":W.BigIntArray,"uint176[]":W.BigIntArray,"uint184[]":W.BigIntArray,"uint192[]":W.BigIntArray,"uint200[]":W.BigIntArray,"uint208[]":W.BigIntArray,"uint216[]":W.BigIntArray,"uint224[]":W.BigIntArray,"uint232[]":W.BigIntArray,"uint240[]":W.BigIntArray,"uint248[]":W.BigIntArray,"uint256[]":W.BigIntArray,"int8[]":W.NumberArray,"int16[]":W.NumberArray,"int24[]":W.NumberArray,"int32[]":W.NumberArray,"int40[]":W.NumberArray,"int48[]":W.NumberArray,"int56[]":W.BigIntArray,"int64[]":W.BigIntArray,"int72[]":W.BigIntArray,"int80[]":W.BigIntArray,"int88[]":W.BigIntArray,"int96[]":W.BigIntArray,"int104[]":W.BigIntArray,"int112[]":W.BigIntArray,"int120[]":W.BigIntArray,"int128[]":W.BigIntArray,"int136[]":W.BigIntArray,"int144[]":W.BigIntArray,"int152[]":W.BigIntArray,"int160[]":W.BigIntArray,"int168[]":W.BigIntArray,"int176[]":W.BigIntArray,"int184[]":W.BigIntArray,"int192[]":W.BigIntArray,"int200[]":W.BigIntArray,"int208[]":W.BigIntArray,"int216[]":W.BigIntArray,"int224[]":W.BigIntArray,"int232[]":W.BigIntArray,"int240[]":W.BigIntArray,"int248[]":W.BigIntArray,"int256[]":W.BigIntArray,"bytes1[]":W.StringArray,"bytes2[]":W.StringArray,"bytes3[]":W.StringArray,"bytes4[]":W.StringArray,"bytes5[]":W.StringArray,"bytes6[]":W.StringArray,"bytes7[]":W.StringArray,"bytes8[]":W.StringArray,"bytes9[]":W.StringArray,"bytes10[]":W.StringArray,"bytes11[]":W.StringArray,"bytes12[]":W.StringArray,"bytes13[]":W.StringArray,"bytes14[]":W.StringArray,"bytes15[]":W.StringArray,"bytes16[]":W.StringArray,"bytes17[]":W.StringArray,"bytes18[]":W.StringArray,"bytes19[]":W.StringArray,"bytes20[]":W.StringArray,"bytes21[]":W.StringArray,"bytes22[]":W.StringArray,"bytes23[]":W.StringArray,"bytes24[]":W.StringArray,"bytes25[]":W.StringArray,"bytes26[]":W.StringArray,"bytes27[]":W.StringArray,"bytes28[]":W.StringArray,"bytes29[]":W.StringArray,"bytes30[]":W.StringArray,"bytes31[]":W.StringArray,"bytes32[]":W.StringArray,"bool[]":W.T,"address[]":W.StringArray,bytes:W.String,string:W.String};function S(Z,L){return Object.fromEntries(Object.entries(L.tables).map(([X,ee])=>[X,Re(Z,Object.fromEntries(Object.entries(ee.schema).map(([te,ie])=>[te,O[ie]])),{id:He(L.namespace,X),metadata:{componentName:X,tableName:`${L.namespace}:${X}`,keySchema:ee.keySchema,valueSchema:ee.schema}})]))}async function ae({world:Z,config:L,address:X,publicClient:ee,startBlock:te,maxBlockRange:ie,initialState:oe,indexerUrl:se,startSync:ue=!0}){let ce={...S(Z,L),...S(Z,a$1),...S(Z,t$1),...N(Z)};Z.registerEntity({id:f});let le=await be({storageAdapter:R({components:ce,config:L}),config:L,address:X,publicClient:ee,startBlock:te,maxBlockRange:ie,indexerUrl:se,initialState:oe,onProgress:({step:we,percentage:_e,latestBlockNumber:xe,lastBlockNumberProcessed:Ae,message:Ie})=>{x$6(ce.SyncProgress,f)?.step!=="live"&&T$2(ce.SyncProgress,f,{step:we,percentage:_e,latestBlockNumber:xe,lastBlockNumberProcessed:Ae,message:Ie})}}),he=ue?le.blockStorageOperations$.subscribe():null,pe=()=>{he?.unsubscribe()};return Z.registerDisposer(pe),{...le,components:ce,stopSync:pe}}function createSystemCalls({worldContract:Z,waitForTransaction:L},{Counter:X,GameState:ee,Game:te}){return{increment:async()=>{const ue=await Z.write.increment();return await L(ue),x$6(X,f)},joinGame:async()=>{const ue=await Z.write.joinGame();return await L(ue),x$6(te,f)},askStart:async()=>{const ue=await Z.write.askStart();return await L(ue),x$6(ee,f)}}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(Z,L,X){this.low=Z|0,this.high=L|0,this.unsigned=!!X}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(Z){return(Z&&Z.__isLong__)===!0}function ctz32(Z){var L=Math.clz32(Z&-Z);return Z?31-L:L}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(Z,L){var X,ee,te;return L?(Z>>>=0,(te=0<=Z&&Z<256)&&(ee=UINT_CACHE[Z],ee)?ee:(X=fromBits(Z,0,!0),te&&(UINT_CACHE[Z]=X),X)):(Z|=0,(te=-128<=Z&&Z<128)&&(ee=INT_CACHE[Z],ee)?ee:(X=fromBits(Z,Z<0?-1:0,!1),te&&(INT_CACHE[Z]=X),X))}Long.fromInt=fromInt;function fromNumber(Z,L){if(isNaN(Z))return L?UZERO:ZERO;if(L){if(Z<0)return UZERO;if(Z>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(Z<=-TWO_PWR_63_DBL)return MIN_VALUE;if(Z+1>=TWO_PWR_63_DBL)return MAX_VALUE}return Z<0?fromNumber(-Z,L).neg():fromBits(Z%TWO_PWR_32_DBL|0,Z/TWO_PWR_32_DBL|0,L)}Long.fromNumber=fromNumber;function fromBits(Z,L,X){return new Long(Z,L,X)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(Z,L,X){if(Z.length===0)throw Error("empty string");if(typeof L=="number"?(X=L,L=!1):L=!!L,Z==="NaN"||Z==="Infinity"||Z==="+Infinity"||Z==="-Infinity")return L?UZERO:ZERO;if(X=X||10,X<2||36<X)throw RangeError("radix");var ee;if((ee=Z.indexOf("-"))>0)throw Error("interior hyphen");if(ee===0)return fromString(Z.substring(1),L,X).neg();for(var te=fromNumber(pow_dbl(X,8)),ie=ZERO,oe=0;oe<Z.length;oe+=8){var se=Math.min(8,Z.length-oe),ue=parseInt(Z.substring(oe,oe+se),X);if(se<8){var ce=fromNumber(pow_dbl(X,se));ie=ie.mul(ce).add(fromNumber(ue))}else ie=ie.mul(te),ie=ie.add(fromNumber(ue))}return ie.unsigned=L,ie}Long.fromString=fromString;function fromValue(Z,L){return typeof Z=="number"?fromNumber(Z,L):typeof Z=="string"?fromString(Z,L):fromBits(Z.low,Z.high,typeof L=="boolean"?L:Z.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(L){if(L=L||10,L<2||36<L)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var X=fromNumber(L),ee=this.div(X),te=ee.mul(X).sub(this);return ee.toString(L)+te.toInt().toString(L)}else return"-"+this.neg().toString(L);for(var ie=fromNumber(pow_dbl(L,6),this.unsigned),oe=this,se="";;){var ue=oe.div(ie),ce=oe.sub(ue.mul(ie)).toInt()>>>0,le=ce.toString(L);if(oe=ue,oe.isZero())return le+se;for(;le.length<6;)le="0"+le;se=""+le+se}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var L=this.high!=0?this.high:this.low,X=31;X>0&&!(L&1<<X);X--);return this.high!=0?X+33:X+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(L){return isLong(L)||(L=fromValue(L)),this.unsigned!==L.unsigned&&this.high>>>31===1&&L.high>>>31===1?!1:this.high===L.high&&this.low===L.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(L){return!this.eq(L)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(L){return this.comp(L)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(L){return this.comp(L)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(L){return this.comp(L)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(L){return this.comp(L)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(L){if(isLong(L)||(L=fromValue(L)),this.eq(L))return 0;var X=this.isNegative(),ee=L.isNegative();return X&&!ee?-1:!X&&ee?1:this.unsigned?L.high>>>0>this.high>>>0||L.high===this.high&&L.low>>>0>this.low>>>0?-1:1:this.sub(L).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(L){isLong(L)||(L=fromValue(L));var X=this.high>>>16,ee=this.high&65535,te=this.low>>>16,ie=this.low&65535,oe=L.high>>>16,se=L.high&65535,ue=L.low>>>16,ce=L.low&65535,le=0,he=0,pe=0,we=0;return we+=ie+ce,pe+=we>>>16,we&=65535,pe+=te+ue,he+=pe>>>16,pe&=65535,he+=ee+se,le+=he>>>16,he&=65535,le+=X+oe,le&=65535,fromBits(pe<<16|we,le<<16|he,this.unsigned)};LongPrototype.subtract=function(L){return isLong(L)||(L=fromValue(L)),this.add(L.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(L){if(this.isZero())return this;if(isLong(L)||(L=fromValue(L)),wasm){var X=wasm.mul(this.low,this.high,L.low,L.high);return fromBits(X,wasm.get_high(),this.unsigned)}if(L.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return L.isOdd()?MIN_VALUE:ZERO;if(L.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return L.isNegative()?this.neg().mul(L.neg()):this.neg().mul(L).neg();if(L.isNegative())return this.mul(L.neg()).neg();if(this.lt(TWO_PWR_24)&&L.lt(TWO_PWR_24))return fromNumber(this.toNumber()*L.toNumber(),this.unsigned);var ee=this.high>>>16,te=this.high&65535,ie=this.low>>>16,oe=this.low&65535,se=L.high>>>16,ue=L.high&65535,ce=L.low>>>16,le=L.low&65535,he=0,pe=0,we=0,_e=0;return _e+=oe*le,we+=_e>>>16,_e&=65535,we+=ie*le,pe+=we>>>16,we&=65535,we+=oe*ce,pe+=we>>>16,we&=65535,pe+=te*le,he+=pe>>>16,pe&=65535,pe+=ie*ce,he+=pe>>>16,pe&=65535,pe+=oe*ue,he+=pe>>>16,pe&=65535,he+=ee*le+te*ce+ie*ue+oe*se,he&=65535,fromBits(we<<16|_e,he<<16|pe,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(L){if(isLong(L)||(L=fromValue(L)),L.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&L.low===-1&&L.high===-1)return this;var X=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,L.low,L.high);return fromBits(X,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var ee,te,ie;if(this.unsigned){if(L.unsigned||(L=L.toUnsigned()),L.gt(this))return UZERO;if(L.gt(this.shru(1)))return UONE;ie=UZERO}else{if(this.eq(MIN_VALUE)){if(L.eq(ONE)||L.eq(NEG_ONE))return MIN_VALUE;if(L.eq(MIN_VALUE))return ONE;var oe=this.shr(1);return ee=oe.div(L).shl(1),ee.eq(ZERO)?L.isNegative()?ONE:NEG_ONE:(te=this.sub(L.mul(ee)),ie=ee.add(te.div(L)),ie)}else if(L.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return L.isNegative()?this.neg().div(L.neg()):this.neg().div(L).neg();if(L.isNegative())return this.div(L.neg()).neg();ie=ZERO}for(te=this;te.gte(L);){ee=Math.max(1,Math.floor(te.toNumber()/L.toNumber()));for(var se=Math.ceil(Math.log(ee)/Math.LN2),ue=se<=48?1:pow_dbl(2,se-48),ce=fromNumber(ee),le=ce.mul(L);le.isNegative()||le.gt(te);)ee-=ue,ce=fromNumber(ee,this.unsigned),le=ce.mul(L);ce.isZero()&&(ce=ONE),ie=ie.add(ce),te=te.sub(le)}return ie};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(L){if(isLong(L)||(L=fromValue(L)),wasm){var X=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,L.low,L.high);return fromBits(X,wasm.get_high(),this.unsigned)}return this.sub(this.div(L).mul(L))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(L){return isLong(L)||(L=fromValue(L)),fromBits(this.low&L.low,this.high&L.high,this.unsigned)};LongPrototype.or=function(L){return isLong(L)||(L=fromValue(L)),fromBits(this.low|L.low,this.high|L.high,this.unsigned)};LongPrototype.xor=function(L){return isLong(L)||(L=fromValue(L)),fromBits(this.low^L.low,this.high^L.high,this.unsigned)};LongPrototype.shiftLeft=function(L){return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L<32?fromBits(this.low<<L,this.high<<L|this.low>>>32-L,this.unsigned):fromBits(0,this.low<<L-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(L){return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L<32?fromBits(this.low>>>L|this.high<<32-L,this.high>>L,this.unsigned):fromBits(this.high>>L-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(L){return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L<32?fromBits(this.low>>>L|this.high<<32-L,this.high>>>L,this.unsigned):L===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>L-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(L){var X;return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L===32?fromBits(this.high,this.low,this.unsigned):L<32?(X=32-L,fromBits(this.low<<L|this.high>>>X,this.high<<L|this.low>>>X,this.unsigned)):(L-=32,X=32-L,fromBits(this.high<<L|this.low>>>X,this.low<<L|this.high>>>X,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(L){var X;return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L===32?fromBits(this.high,this.low,this.unsigned):L<32?(X=32-L,fromBits(this.high<<X|this.low>>>L,this.low<<X|this.high>>>L,this.unsigned)):(L-=32,X=32-L,fromBits(this.low<<X|this.high>>>L,this.high<<X|this.low>>>L,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(L){return L?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var L=this.high,X=this.low;return[X&255,X>>>8&255,X>>>16&255,X>>>24,L&255,L>>>8&255,L>>>16&255,L>>>24]};LongPrototype.toBytesBE=function(){var L=this.high,X=this.low;return[L>>>24,L>>>16&255,L>>>8&255,L&255,X>>>24,X>>>16&255,X>>>8&255,X&255]};Long.fromBytes=function(L,X,ee){return ee?Long.fromBytesLE(L,X):Long.fromBytesBE(L,X)};Long.fromBytesLE=function(L,X){return new Long(L[0]|L[1]<<8|L[2]<<16|L[3]<<24,L[4]|L[5]<<8|L[6]<<16|L[7]<<24,X)};Long.fromBytesBE=function(L,X){return new Long(L[4]<<24|L[5]<<16|L[6]<<8|L[7],L[0]<<24|L[1]<<16|L[2]<<8|L[3],X)};var minimalExports={},minimal$1={get exports(){return minimalExports},set exports(Z){minimalExports=Z}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(Z,L){for(var X=new Array(arguments.length-1),ee=0,te=2,ie=!0;te<arguments.length;)X[ee++]=arguments[te++];return new Promise(function(se,ue){X[ee]=function(le){if(ie)if(ie=!1,le)ue(le);else{for(var he=new Array(arguments.length-1),pe=0;pe<he.length;)he[pe++]=arguments[pe];se.apply(null,he)}};try{Z.apply(L||null,X)}catch(ce){ie&&(ie=!1,ue(ce))}})}var base64$2={};(function(Z){var L=Z;L.length=function(se){var ue=se.length;if(!ue)return 0;for(var ce=0;--ue%4>1&&se.charAt(ue)==="=";)++ce;return Math.ceil(se.length*3)/4-ce};for(var X=new Array(64),ee=new Array(123),te=0;te<64;)ee[X[te]=te<26?te+65:te<52?te+71:te<62?te-4:te-59|43]=te++;L.encode=function(se,ue,ce){for(var le=null,he=[],pe=0,we=0,_e;ue<ce;){var xe=se[ue++];switch(we){case 0:he[pe++]=X[xe>>2],_e=(xe&3)<<4,we=1;break;case 1:he[pe++]=X[_e|xe>>4],_e=(xe&15)<<2,we=2;break;case 2:he[pe++]=X[_e|xe>>6],he[pe++]=X[xe&63],we=0;break}pe>8191&&((le||(le=[])).push(String.fromCharCode.apply(String,he)),pe=0)}return we&&(he[pe++]=X[_e],he[pe++]=61,we===1&&(he[pe++]=61)),le?(pe&&le.push(String.fromCharCode.apply(String,he.slice(0,pe))),le.join("")):String.fromCharCode.apply(String,he.slice(0,pe))};var ie="invalid encoding";L.decode=function(se,ue,ce){for(var le=ce,he=0,pe,we=0;we<se.length;){var _e=se.charCodeAt(we++);if(_e===61&&he>1)break;if((_e=ee[_e])===void 0)throw Error(ie);switch(he){case 0:pe=_e,he=1;break;case 1:ue[ce++]=pe<<2|(_e&48)>>4,pe=_e,he=2;break;case 2:ue[ce++]=(pe&15)<<4|(_e&60)>>2,pe=_e,he=3;break;case 3:ue[ce++]=(pe&3)<<6|_e,he=0;break}}if(he===1)throw Error(ie);return ce-le},L.test=function(se){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(se)}})(base64$2);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(L,X,ee){return(this._listeners[L]||(this._listeners[L]=[])).push({fn:X,ctx:ee||this}),this};EventEmitter.prototype.off=function(L,X){if(L===void 0)this._listeners={};else if(X===void 0)this._listeners[L]=[];else for(var ee=this._listeners[L],te=0;te<ee.length;)ee[te].fn===X?ee.splice(te,1):++te;return this};EventEmitter.prototype.emit=function(L){var X=this._listeners[L];if(X){for(var ee=[],te=1;te<arguments.length;)ee.push(arguments[te++]);for(te=0;te<X.length;)X[te].fn.apply(X[te++].ctx,ee)}return this};var float=factory(factory);function factory(Z){return typeof Float32Array<"u"?function(){var L=new Float32Array([-0]),X=new Uint8Array(L.buffer),ee=X[3]===128;function te(ue,ce,le){L[0]=ue,ce[le]=X[0],ce[le+1]=X[1],ce[le+2]=X[2],ce[le+3]=X[3]}function ie(ue,ce,le){L[0]=ue,ce[le]=X[3],ce[le+1]=X[2],ce[le+2]=X[1],ce[le+3]=X[0]}Z.writeFloatLE=ee?te:ie,Z.writeFloatBE=ee?ie:te;function oe(ue,ce){return X[0]=ue[ce],X[1]=ue[ce+1],X[2]=ue[ce+2],X[3]=ue[ce+3],L[0]}function se(ue,ce){return X[3]=ue[ce],X[2]=ue[ce+1],X[1]=ue[ce+2],X[0]=ue[ce+3],L[0]}Z.readFloatLE=ee?oe:se,Z.readFloatBE=ee?se:oe}():function(){function L(ee,te,ie,oe){var se=te<0?1:0;if(se&&(te=-te),te===0)ee(1/te>0?0:2147483648,ie,oe);else if(isNaN(te))ee(2143289344,ie,oe);else if(te>34028234663852886e22)ee((se<<31|2139095040)>>>0,ie,oe);else if(te<11754943508222875e-54)ee((se<<31|Math.round(te/1401298464324817e-60))>>>0,ie,oe);else{var ue=Math.floor(Math.log(te)/Math.LN2),ce=Math.round(te*Math.pow(2,-ue)*8388608)&8388607;ee((se<<31|ue+127<<23|ce)>>>0,ie,oe)}}Z.writeFloatLE=L.bind(null,writeUintLE),Z.writeFloatBE=L.bind(null,writeUintBE);function X(ee,te,ie){var oe=ee(te,ie),se=(oe>>31)*2+1,ue=oe>>>23&255,ce=oe&8388607;return ue===255?ce?NaN:se*(1/0):ue===0?se*1401298464324817e-60*ce:se*Math.pow(2,ue-150)*(ce+8388608)}Z.readFloatLE=X.bind(null,readUintLE),Z.readFloatBE=X.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var L=new Float64Array([-0]),X=new Uint8Array(L.buffer),ee=X[7]===128;function te(ue,ce,le){L[0]=ue,ce[le]=X[0],ce[le+1]=X[1],ce[le+2]=X[2],ce[le+3]=X[3],ce[le+4]=X[4],ce[le+5]=X[5],ce[le+6]=X[6],ce[le+7]=X[7]}function ie(ue,ce,le){L[0]=ue,ce[le]=X[7],ce[le+1]=X[6],ce[le+2]=X[5],ce[le+3]=X[4],ce[le+4]=X[3],ce[le+5]=X[2],ce[le+6]=X[1],ce[le+7]=X[0]}Z.writeDoubleLE=ee?te:ie,Z.writeDoubleBE=ee?ie:te;function oe(ue,ce){return X[0]=ue[ce],X[1]=ue[ce+1],X[2]=ue[ce+2],X[3]=ue[ce+3],X[4]=ue[ce+4],X[5]=ue[ce+5],X[6]=ue[ce+6],X[7]=ue[ce+7],L[0]}function se(ue,ce){return X[7]=ue[ce],X[6]=ue[ce+1],X[5]=ue[ce+2],X[4]=ue[ce+3],X[3]=ue[ce+4],X[2]=ue[ce+5],X[1]=ue[ce+6],X[0]=ue[ce+7],L[0]}Z.readDoubleLE=ee?oe:se,Z.readDoubleBE=ee?se:oe}():function(){function L(ee,te,ie,oe,se,ue){var ce=oe<0?1:0;if(ce&&(oe=-oe),oe===0)ee(0,se,ue+te),ee(1/oe>0?0:2147483648,se,ue+ie);else if(isNaN(oe))ee(0,se,ue+te),ee(2146959360,se,ue+ie);else if(oe>17976931348623157e292)ee(0,se,ue+te),ee((ce<<31|2146435072)>>>0,se,ue+ie);else{var le;if(oe<22250738585072014e-324)le=oe/5e-324,ee(le>>>0,se,ue+te),ee((ce<<31|le/4294967296)>>>0,se,ue+ie);else{var he=Math.floor(Math.log(oe)/Math.LN2);he===1024&&(he=1023),le=oe*Math.pow(2,-he),ee(le*4503599627370496>>>0,se,ue+te),ee((ce<<31|he+1023<<20|le*1048576&1048575)>>>0,se,ue+ie)}}}Z.writeDoubleLE=L.bind(null,writeUintLE,0,4),Z.writeDoubleBE=L.bind(null,writeUintBE,4,0);function X(ee,te,ie,oe,se){var ue=ee(oe,se+te),ce=ee(oe,se+ie),le=(ce>>31)*2+1,he=ce>>>20&2047,pe=4294967296*(ce&1048575)+ue;return he===2047?pe?NaN:le*(1/0):he===0?le*5e-324*pe:le*Math.pow(2,he-1075)*(pe+4503599627370496)}Z.readDoubleLE=X.bind(null,readUintLE,0,4),Z.readDoubleBE=X.bind(null,readUintBE,4,0)}(),Z}function writeUintLE(Z,L,X){L[X]=Z&255,L[X+1]=Z>>>8&255,L[X+2]=Z>>>16&255,L[X+3]=Z>>>24}function writeUintBE(Z,L,X){L[X]=Z>>>24,L[X+1]=Z>>>16&255,L[X+2]=Z>>>8&255,L[X+3]=Z&255}function readUintLE(Z,L){return(Z[L]|Z[L+1]<<8|Z[L+2]<<16|Z[L+3]<<24)>>>0}function readUintBE(Z,L){return(Z[L]<<24|Z[L+1]<<16|Z[L+2]<<8|Z[L+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(Z){}return null}var utf8$2={};(function(Z){var L=Z;L.length=function(ee){for(var te=0,ie=0,oe=0;oe<ee.length;++oe)ie=ee.charCodeAt(oe),ie<128?te+=1:ie<2048?te+=2:(ie&64512)===55296&&(ee.charCodeAt(oe+1)&64512)===56320?(++oe,te+=4):te+=3;return te},L.read=function(ee,te,ie){var oe=ie-te;if(oe<1)return"";for(var se=null,ue=[],ce=0,le;te<ie;)le=ee[te++],le<128?ue[ce++]=le:le>191&&le<224?ue[ce++]=(le&31)<<6|ee[te++]&63:le>239&&le<365?(le=((le&7)<<18|(ee[te++]&63)<<12|(ee[te++]&63)<<6|ee[te++]&63)-65536,ue[ce++]=55296+(le>>10),ue[ce++]=56320+(le&1023)):ue[ce++]=(le&15)<<12|(ee[te++]&63)<<6|ee[te++]&63,ce>8191&&((se||(se=[])).push(String.fromCharCode.apply(String,ue)),ce=0);return se?(ce&&se.push(String.fromCharCode.apply(String,ue.slice(0,ce))),se.join("")):String.fromCharCode.apply(String,ue.slice(0,ce))},L.write=function(ee,te,ie){for(var oe=ie,se,ue,ce=0;ce<ee.length;++ce)se=ee.charCodeAt(ce),se<128?te[ie++]=se:se<2048?(te[ie++]=se>>6|192,te[ie++]=se&63|128):(se&64512)===55296&&((ue=ee.charCodeAt(ce+1))&64512)===56320?(se=65536+((se&1023)<<10)+(ue&1023),++ce,te[ie++]=se>>18|240,te[ie++]=se>>12&63|128,te[ie++]=se>>6&63|128,te[ie++]=se&63|128):(te[ie++]=se>>12|224,te[ie++]=se>>6&63|128,te[ie++]=se&63|128);return ie-oe}})(utf8$2);var pool_1=pool;function pool(Z,L,X){var ee=X||8192,te=ee>>>1,ie=null,oe=ee;return function(ue){if(ue<1||ue>te)return Z(ue);oe+ue>ee&&(ie=Z(ee),oe=0);var ce=L.call(ie,oe,oe+=ue);return oe&7&&(oe=(oe|7)+1),ce}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=L;var Z=requireMinimal();function L(ie,oe){this.lo=ie>>>0,this.hi=oe>>>0}var X=L.zero=new L(0,0);X.toNumber=function(){return 0},X.zzEncode=X.zzDecode=function(){return this},X.length=function(){return 1};var ee=L.zeroHash="\0\0\0\0\0\0\0\0";L.fromNumber=function(oe){if(oe===0)return X;var se=oe<0;se&&(oe=-oe);var ue=oe>>>0,ce=(oe-ue)/4294967296>>>0;return se&&(ce=~ce>>>0,ue=~ue>>>0,++ue>4294967295&&(ue=0,++ce>4294967295&&(ce=0))),new L(ue,ce)},L.from=function(oe){if(typeof oe=="number")return L.fromNumber(oe);if(Z.isString(oe))if(Z.Long)oe=Z.Long.fromString(oe);else return L.fromNumber(parseInt(oe,10));return oe.low||oe.high?new L(oe.low>>>0,oe.high>>>0):X},L.prototype.toNumber=function(oe){if(!oe&&this.hi>>>31){var se=~this.lo+1>>>0,ue=~this.hi>>>0;return se||(ue=ue+1>>>0),-(se+ue*4294967296)}return this.lo+this.hi*4294967296},L.prototype.toLong=function(oe){return Z.Long?new Z.Long(this.lo|0,this.hi|0,!!oe):{low:this.lo|0,high:this.hi|0,unsigned:!!oe}};var te=String.prototype.charCodeAt;return L.fromHash=function(oe){return oe===ee?X:new L((te.call(oe,0)|te.call(oe,1)<<8|te.call(oe,2)<<16|te.call(oe,3)<<24)>>>0,(te.call(oe,4)|te.call(oe,5)<<8|te.call(oe,6)<<16|te.call(oe,7)<<24)>>>0)},L.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},L.prototype.zzEncode=function(){var oe=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^oe)>>>0,this.lo=(this.lo<<1^oe)>>>0,this},L.prototype.zzDecode=function(){var oe=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^oe)>>>0,this.hi=(this.hi>>>1^oe)>>>0,this},L.prototype.length=function(){var oe=this.lo,se=(this.lo>>>28|this.hi<<4)>>>0,ue=this.hi>>>24;return ue===0?se===0?oe<16384?oe<128?1:2:oe<2097152?3:4:se<16384?se<128?5:6:se<2097152?7:8:ue<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(Z){var L=Z;L.asPromise=aspromise,L.base64=base64$2,L.EventEmitter=eventemitter,L.float=float,L.inquire=inquire_1,L.utf8=utf8$2,L.pool=pool_1,L.LongBits=requireLongbits(),L.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),L.global=L.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,L.emptyArray=Object.freeze?Object.freeze([]):[],L.emptyObject=Object.freeze?Object.freeze({}):{},L.isInteger=Number.isInteger||function(ie){return typeof ie=="number"&&isFinite(ie)&&Math.floor(ie)===ie},L.isString=function(ie){return typeof ie=="string"||ie instanceof String},L.isObject=function(ie){return ie&&typeof ie=="object"},L.isset=L.isSet=function(ie,oe){var se=ie[oe];return se!=null&&ie.hasOwnProperty(oe)?typeof se!="object"||(Array.isArray(se)?se.length:Object.keys(se).length)>0:!1},L.Buffer=function(){try{var te=L.inquire("buffer").Buffer;return te.prototype.utf8Write?te:null}catch{return null}}(),L._Buffer_from=null,L._Buffer_allocUnsafe=null,L.newBuffer=function(ie){return typeof ie=="number"?L.Buffer?L._Buffer_allocUnsafe(ie):new L.Array(ie):L.Buffer?L._Buffer_from(ie):typeof Uint8Array>"u"?ie:new Uint8Array(ie)},L.Array=typeof Uint8Array<"u"?Uint8Array:Array,L.Long=L.global.dcodeIO&&L.global.dcodeIO.Long||L.global.Long||L.inquire("long"),L.key2Re=/^true|false|0|1$/,L.key32Re=/^-?(?:0|[1-9][0-9]*)$/,L.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,L.longToHash=function(ie){return ie?L.LongBits.from(ie).toHash():L.LongBits.zeroHash},L.longFromHash=function(ie,oe){var se=L.LongBits.fromHash(ie);return L.Long?L.Long.fromBits(se.lo,se.hi,oe):se.toNumber(!!oe)};function X(te,ie,oe){for(var se=Object.keys(ie),ue=0;ue<se.length;++ue)(te[se[ue]]===void 0||!oe)&&(te[se[ue]]=ie[se[ue]]);return te}L.merge=X,L.lcFirst=function(ie){return ie.charAt(0).toLowerCase()+ie.substring(1)};function ee(te){function ie(oe,se){if(!(this instanceof ie))return new ie(oe,se);Object.defineProperty(this,"message",{get:function(){return oe}}),Error.captureStackTrace?Error.captureStackTrace(this,ie):Object.defineProperty(this,"stack",{value:new Error().stack||""}),se&&X(this,se)}return ie.prototype=Object.create(Error.prototype,{constructor:{value:ie,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return te},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),ie}L.newError=ee,L.ProtocolError=ee("ProtocolError"),L.oneOfGetter=function(ie){for(var oe={},se=0;se<ie.length;++se)oe[ie[se]]=1;return function(){for(var ue=Object.keys(this),ce=ue.length-1;ce>-1;--ce)if(oe[ue[ce]]===1&&this[ue[ce]]!==void 0&&this[ue[ce]]!==null)return ue[ce]}},L.oneOfSetter=function(ie){return function(oe){for(var se=0;se<ie.length;++se)ie[se]!==oe&&delete this[ie[se]]}},L.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},L._configure=function(){var te=L.Buffer;if(!te){L._Buffer_from=L._Buffer_allocUnsafe=null;return}L._Buffer_from=te.from!==Uint8Array.from&&te.from||function(oe,se){return new te(oe,se)},L._Buffer_allocUnsafe=te.allocUnsafe||function(oe){return new te(oe)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$1=util$4.base64,utf8$1=util$4.utf8;function Op(Z,L,X){this.fn=Z,this.len=L,this.next=void 0,this.val=X}function noop(){}function State(Z){this.head=Z.head,this.tail=Z.tail,this.len=Z.len,this.next=Z.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function Z(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function Z(L){return new util$4.Array(L)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function Z(L,X,ee){return this.tail=this.tail.next=new Op(L,X,ee),this.len+=X,this};function writeByte(Z,L,X){L[X]=Z&255}function writeVarint32(Z,L,X){for(;Z>127;)L[X++]=Z&127|128,Z>>>=7;L[X]=Z}function VarintOp(Z,L){this.len=Z,this.next=void 0,this.val=L}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function Z(L){return this.len+=(this.tail=this.tail.next=new VarintOp((L=L>>>0)<128?1:L<16384?2:L<2097152?3:L<268435456?4:5,L)).len,this};Writer$1.prototype.int32=function Z(L){return L<0?this._push(writeVarint64,10,LongBits$1.fromNumber(L)):this.uint32(L)};Writer$1.prototype.sint32=function Z(L){return this.uint32((L<<1^L>>31)>>>0)};function writeVarint64(Z,L,X){for(;Z.hi;)L[X++]=Z.lo&127|128,Z.lo=(Z.lo>>>7|Z.hi<<25)>>>0,Z.hi>>>=7;for(;Z.lo>127;)L[X++]=Z.lo&127|128,Z.lo=Z.lo>>>7;L[X++]=Z.lo}Writer$1.prototype.uint64=function Z(L){var X=LongBits$1.from(L);return this._push(writeVarint64,X.length(),X)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function Z(L){var X=LongBits$1.from(L).zzEncode();return this._push(writeVarint64,X.length(),X)};Writer$1.prototype.bool=function Z(L){return this._push(writeByte,1,L?1:0)};function writeFixed32(Z,L,X){L[X]=Z&255,L[X+1]=Z>>>8&255,L[X+2]=Z>>>16&255,L[X+3]=Z>>>24}Writer$1.prototype.fixed32=function Z(L){return this._push(writeFixed32,4,L>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function Z(L){var X=LongBits$1.from(L);return this._push(writeFixed32,4,X.lo)._push(writeFixed32,4,X.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function Z(L){return this._push(util$4.float.writeFloatLE,4,L)};Writer$1.prototype.double=function Z(L){return this._push(util$4.float.writeDoubleLE,8,L)};var writeBytes=util$4.Array.prototype.set?function Z(L,X,ee){X.set(L,ee)}:function Z(L,X,ee){for(var te=0;te<L.length;++te)X[ee+te]=L[te]};Writer$1.prototype.bytes=function Z(L){var X=L.length>>>0;if(!X)return this._push(writeByte,1,0);if(util$4.isString(L)){var ee=Writer$1.alloc(X=base64$1.length(L));base64$1.decode(L,ee,0),L=ee}return this.uint32(X)._push(writeBytes,X,L)};Writer$1.prototype.string=function Z(L){var X=utf8$1.length(L);return X?this.uint32(X)._push(utf8$1.write,X,L):this._push(writeByte,1,0)};Writer$1.prototype.fork=function Z(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function Z(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function Z(){var L=this.head,X=this.tail,ee=this.len;return this.reset().uint32(ee),ee&&(this.tail.next=L.next,this.tail=X,this.len+=ee),this};Writer$1.prototype.finish=function Z(){for(var L=this.head.next,X=this.constructor.alloc(this.len),ee=0;L;)L.fn(L.val,X,ee),ee+=L.len,L=L.next;return X};Writer$1._configure=function(Z){BufferWriter$1=Z,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(L,X,ee){X.set(L,ee)}:function(L,X,ee){if(L.copy)L.copy(X,ee,0,L.length);else for(var te=0;te<L.length;)X[ee++]=L[te++]}};BufferWriter.prototype.bytes=function Z(L){util$3.isString(L)&&(L=util$3._Buffer_from(L,"base64"));var X=L.length>>>0;return this.uint32(X),X&&this._push(BufferWriter.writeBytesBuffer,X,L),this};function writeStringBuffer(Z,L,X){Z.length<40?util$3.utf8.write(Z,L,X):L.utf8Write?L.utf8Write(Z,X):L.write(Z,X)}BufferWriter.prototype.string=function Z(L){var X=util$3.Buffer.byteLength(L);return this.uint32(X),X&&this._push(writeStringBuffer,X,L),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(Z,L){return RangeError("index out of range: "+Z.pos+" + "+(L||1)+" > "+Z.len)}function Reader$1(Z){this.buf=Z,this.pos=0,this.len=Z.length}var create_array=typeof Uint8Array<"u"?function Z(L){if(L instanceof Uint8Array||Array.isArray(L))return new Reader$1(L);throw Error("illegal buffer")}:function Z(L){if(Array.isArray(L))return new Reader$1(L);throw Error("illegal buffer")},create=function Z(){return util$2.Buffer?function(X){return(Reader$1.create=function(te){return util$2.Buffer.isBuffer(te)?new BufferReader$1(te):create_array(te)})(X)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function Z(){var L=4294967295;return function(){if(L=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(L=(L|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return L;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return L}}();Reader$1.prototype.int32=function Z(){return this.uint32()|0};Reader$1.prototype.sint32=function Z(){var L=this.uint32();return L>>>1^-(L&1)|0};function readLongVarint(){var Z=new LongBits(0,0),L=0;if(this.len-this.pos>4){for(;L<4;++L)if(Z.lo=(Z.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return Z;if(Z.lo=(Z.lo|(this.buf[this.pos]&127)<<28)>>>0,Z.hi=(Z.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return Z;L=0}else{for(;L<3;++L){if(this.pos>=this.len)throw indexOutOfRange(this);if(Z.lo=(Z.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return Z}return Z.lo=(Z.lo|(this.buf[this.pos++]&127)<<L*7)>>>0,Z}if(this.len-this.pos>4){for(;L<5;++L)if(Z.hi=(Z.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return Z}else for(;L<5;++L){if(this.pos>=this.len)throw indexOutOfRange(this);if(Z.hi=(Z.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return Z}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function Z(){return this.uint32()!==0};function readFixed32_end(Z,L){return(Z[L-4]|Z[L-3]<<8|Z[L-2]<<16|Z[L-1]<<24)>>>0}Reader$1.prototype.fixed32=function Z(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function Z(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function Z(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var L=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,L};Reader$1.prototype.double=function Z(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var L=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,L};Reader$1.prototype.bytes=function Z(){var L=this.uint32(),X=this.pos,ee=this.pos+L;if(ee>this.len)throw indexOutOfRange(this,L);if(this.pos+=L,Array.isArray(this.buf))return this.buf.slice(X,ee);if(X===ee){var te=util$2.Buffer;return te?te.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,X,ee)};Reader$1.prototype.string=function Z(){var L=this.bytes();return utf8.read(L,0,L.length)};Reader$1.prototype.skip=function Z(L){if(typeof L=="number"){if(this.pos+L>this.len)throw indexOutOfRange(this,L);this.pos+=L}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(Z){switch(Z){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(Z=this.uint32()&7)!==4;)this.skipType(Z);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Z+" at offset "+this.pos)}return this};Reader$1._configure=function(Z){BufferReader$1=Z,Reader$1.create=create(),BufferReader$1._configure();var L=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[L](!1)},uint64:function(){return readLongVarint.call(this)[L](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[L](!1)},fixed64:function(){return readFixed64.call(this)[L](!0)},sfixed64:function(){return readFixed64.call(this)[L](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(Z){Reader.call(this,Z)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function Z(){var L=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+L,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+L,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(Z,L,X){if(typeof Z!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=Z,this.requestDelimited=!!L,this.responseDelimited=!!X}Service.prototype.rpcCall=function Z(L,X,ee,te,ie){if(!te)throw TypeError("request must be specified");var oe=this;if(!ie)return util.asPromise(Z,oe,L,X,ee,te);if(!oe.rpcImpl){setTimeout(function(){ie(Error("already ended"))},0);return}try{return oe.rpcImpl(L,X[oe.requestDelimited?"encodeDelimited":"encode"](te).finish(),function(ue,ce){if(ue)return oe.emit("error",ue,L),ie(ue);if(ce===null){oe.end(!0);return}if(!(ce instanceof ee))try{ce=ee[oe.responseDelimited?"decodeDelimited":"decode"](ce)}catch(le){return oe.emit("error",le,L),ie(le)}return oe.emit("data",ce,L),ie(null,ce)})}catch(se){oe.emit("error",se,L),setTimeout(function(){ie(se)},0);return}};Service.prototype.end=function Z(L){return this.rpcImpl&&(L||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(Z){var L=Z;L.Service=service})(rpc);var roots={};(function(Z){var L=Z;L.build="minimal",L.Writer=writer,L.BufferWriter=writer_buffer,L.Reader=reader,L.BufferReader=reader_buffer,L.util=requireMinimal(),L.rpc=rpc,L.roots=roots,L.configure=X;function X(){L.util._configure(),L.Writer._configure(L.BufferWriter),L.Reader._configure(L.BufferReader)}X()})(indexMinimal);(function(Z){Z.exports=indexMinimal})(minimal$1);const _m0=getDefaultExportFromCjs(minimalExports);var lib$1={},lib={},Metadata={};Object.defineProperty(Metadata,"__esModule",{value:!0});Metadata.Metadata=void 0;Metadata.Metadata=function Z(L){const X=new Map,ee={set(te,ie){if(te=normalizeKey(te),Array.isArray(ie))if(ie.length===0)X.delete(te);else{for(const oe of ie)validate(te,oe);X.set(te,te.endsWith("-bin")?ie:[ie.join(", ")])}else validate(te,ie),X.set(te,[ie]);return ee},append(te,ie){te=normalizeKey(te),validate(te,ie);let oe=X.get(te);return oe==null&&(oe=[],X.set(te,oe)),oe.push(ie),te.endsWith("-bin")||X.set(te,[oe.join(", ")]),ee},delete(te){te=normalizeKey(te),X.delete(te)},get(te){var ie;return te=normalizeKey(te),(ie=X.get(te))===null||ie===void 0?void 0:ie[0]},getAll(te){var ie;return te=normalizeKey(te),(ie=X.get(te))!==null&&ie!==void 0?ie:[]},has(te){return te=normalizeKey(te),X.has(te)},[Symbol.iterator](){return X[Symbol.iterator]()}};if(L!=null){const te=isIterable(L)?L:Object.entries(L);for(const[ie,oe]of te)ee.set(ie,oe)}return ee};function normalizeKey(Z){return Z.toLowerCase()}function validate(Z,L){if(!/^[0-9a-z_.-]+$/.test(Z))throw new Error(`Metadata key '${Z}' contains illegal characters`);if(Z.endsWith("-bin")){if(!(L instanceof Uint8Array))throw new Error(`Metadata key '${Z}' ends with '-bin', thus it must have binary value`)}else{if(typeof L!="string")throw new Error(`Metadata key '${Z}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(L))throw new Error(`Metadata value '${L}' of key '${Z}' contains illegal characters`)}}function isIterable(Z){return Symbol.iterator in Z}var Status={};(function(Z){Object.defineProperty(Z,"__esModule",{value:!0}),Z.Status=void 0,function(L){L[L.OK=0]="OK",L[L.CANCELLED=1]="CANCELLED",L[L.UNKNOWN=2]="UNKNOWN",L[L.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",L[L.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",L[L.NOT_FOUND=5]="NOT_FOUND",L[L.ALREADY_EXISTS=6]="ALREADY_EXISTS",L[L.PERMISSION_DENIED=7]="PERMISSION_DENIED",L[L.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",L[L.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",L[L.ABORTED=10]="ABORTED",L[L.OUT_OF_RANGE=11]="OUT_OF_RANGE",L[L.UNIMPLEMENTED=12]="UNIMPLEMENTED",L[L.INTERNAL=13]="INTERNAL",L[L.UNAVAILABLE=14]="UNAVAILABLE",L[L.DATA_LOSS=15]="DATA_LOSS",L[L.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(Z.Status||(Z.Status={}))})(Status);var MethodDescriptor={};Object.defineProperty(MethodDescriptor,"__esModule",{value:!0});var CallOptions={};Object.defineProperty(CallOptions,"__esModule",{value:!0});var ClientMiddleware={};Object.defineProperty(ClientMiddleware,"__esModule",{value:!0});var composeClientMiddleware$1={};Object.defineProperty(composeClientMiddleware$1,"__esModule",{value:!0});composeClientMiddleware$1.composeClientMiddleware=void 0;function composeClientMiddleware(Z,L){return(X,ee)=>L(Object.assign(Object.assign({},X),{next:(te,ie)=>Z(Object.assign(Object.assign({},X),{request:te}),ie)}),ee)}composeClientMiddleware$1.composeClientMiddleware=composeClientMiddleware;var ClientError$1={},cjs={},helpers={};helpers.__esModule=void 0;helpers.__esModule=!0;var objectSetPrototypeOfIsDefined=typeof Object.setPrototypeOf=="function",objectGetPrototypeOfIsDefined=typeof Object.getPrototypeOf=="function",objectDefinePropertyIsDefined=typeof Object.defineProperty=="function",objectCreateIsDefined=typeof Object.create=="function",objectHasOwnPropertyIsDefined=typeof Object.prototype.hasOwnProperty=="function",setPrototypeOf=function Z(L,X){objectSetPrototypeOfIsDefined?Object.setPrototypeOf(L,X):L.__proto__=X};helpers.setPrototypeOf=setPrototypeOf;var getPrototypeOf=function Z(L){return objectGetPrototypeOfIsDefined?Object.getPrototypeOf(L):L.__proto__||L.prototype};helpers.getPrototypeOf=getPrototypeOf;var ie8ObjectDefinePropertyBug=!1,defineProperty=function Z(L,X,ee){if(objectDefinePropertyIsDefined&&!ie8ObjectDefinePropertyBug)try{Object.defineProperty(L,X,ee)}catch{ie8ObjectDefinePropertyBug=!0,Z(L,X,ee)}else L[X]=ee.value};helpers.defineProperty=defineProperty;var hasOwnProperty=function Z(L,X){return objectHasOwnPropertyIsDefined?L.hasOwnProperty(L,X):L[X]===void 0};helpers.hasOwnProperty=hasOwnProperty;var objectCreate=function Z(L,X){if(objectCreateIsDefined)return Object.create(L,X);var ee=function(){};ee.prototype=L;var te=new ee;if(typeof X>"u")return te;if(typeof X=="null")throw new Error("PropertyDescriptors must not be null.");if(typeof X=="object")for(var ie in X)hasOwnProperty(X,ie)&&(te[ie]=X[ie].value);return te};helpers.objectCreate=objectCreate;(function(Z){Z.__esModule=void 0,Z.__esModule=!0;var L=helpers,X=L.setPrototypeOf,ee=L.getPrototypeOf,te=L.defineProperty,ie=L.objectCreate,oe=new Error().toString()==="[object Error]",se="";function ue(ce){var le=this.constructor,he=le.name||function(){var Ae=le.toString().match(/^function\s*([^\s(]+)/);return Ae===null?se||"Error":Ae[1]}(),pe=he==="Error",we=pe?se:he,_e=Error.apply(this,arguments);if(X(_e,ee(this)),!(_e instanceof le)||!(_e instanceof ue)){var _e=this;Error.apply(this,arguments),te(_e,"message",{configurable:!0,enumerable:!1,value:ce,writable:!0})}if(te(_e,"name",{configurable:!0,enumerable:!1,value:we,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(_e,pe?ue:le),_e.stack===void 0){var xe=new Error(ce);xe.name=_e.name,_e.stack=xe.stack}return oe&&te(_e,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(typeof this.message>"u"?"":": "+this.message)},writable:!0}),_e}se=ue.name||"ExtendableError",ue.prototype=ie(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Z.ExtendableError=ue,Z.default=Z.ExtendableError})(cjs);Object.defineProperty(ClientError$1,"__esModule",{value:!0});ClientError$1.ClientError=void 0;const ts_error_1$1=cjs,Status_1$1=Status;class ClientError extends ts_error_1$1.ExtendableError{constructor(L,X,ee){super(`${L} ${Status_1$1.Status[X]}: ${ee}`),this.path=L,this.code=X,this.details=ee,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](L){return this!==ClientError?this.prototype.isPrototypeOf(L):typeof L=="object"&&L!==null&&(L.constructor===ClientError||L["@@nice-grpc:ClientError"]===!0||L.name==="ClientError"&&L["@@nice-grpc"]===!0)}}ClientError$1.ClientError=ClientError;var CallContext={};Object.defineProperty(CallContext,"__esModule",{value:!0});var ServerMiddleware={};Object.defineProperty(ServerMiddleware,"__esModule",{value:!0});var composeServerMiddleware$1={};Object.defineProperty(composeServerMiddleware$1,"__esModule",{value:!0});composeServerMiddleware$1.composeServerMiddleware=void 0;function composeServerMiddleware(Z,L){return(X,ee)=>Z(Object.assign(Object.assign({},X),{next:(te,ie)=>L(Object.assign(Object.assign({},X),{request:te}),ie)}),ee)}composeServerMiddleware$1.composeServerMiddleware=composeServerMiddleware;var ServerError$1={};Object.defineProperty(ServerError$1,"__esModule",{value:!0});ServerError$1.ServerError=void 0;const ts_error_1=cjs,Status_1=Status;class ServerError extends ts_error_1.ExtendableError{constructor(L,X){super(`${Status_1.Status[L]}: ${X}`),this.code=L,this.details=X,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](L){return this!==ServerError?this.prototype.isPrototypeOf(L):typeof L=="object"&&L!==null&&(L.constructor===ServerError||L["@@nice-grpc:ServerError"]===!0||L.name==="ServerError"&&L["@@nice-grpc"]===!0)}}ServerError$1.ServerError=ServerError;(function(Z){var L=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,te,ie,oe){oe===void 0&&(oe=ie);var se=Object.getOwnPropertyDescriptor(te,ie);(!se||("get"in se?!te.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return te[ie]}}),Object.defineProperty(ee,oe,se)}:function(ee,te,ie,oe){oe===void 0&&(oe=ie),ee[oe]=te[ie]}),X=commonjsGlobal&&commonjsGlobal.__exportStar||function(ee,te){for(var ie in ee)ie!=="default"&&!Object.prototype.hasOwnProperty.call(te,ie)&&L(te,ee,ie)};Object.defineProperty(Z,"__esModule",{value:!0}),X(Metadata,Z),X(Status,Z),X(MethodDescriptor,Z),X(CallOptions,Z),X(ClientMiddleware,Z),X(composeClientMiddleware$1,Z),X(ClientError$1,Z),X(CallContext,Z),X(ServerMiddleware,Z),X(composeServerMiddleware$1,Z),X(ServerError$1,Z)})(lib);var serviceDefinitions={},grpcWeb={};Object.defineProperty(grpcWeb,"__esModule",{value:!0});grpcWeb.isGrpcWebServiceDefinition=grpcWeb.fromGrpcWebServiceDefinition=void 0;function fromGrpcWebServiceDefinition(Z){const L={};for(const[X,ee]of Object.entries(Z)){if(X==="serviceName")continue;const te=ee;L[uncapitalize(X)]={path:`/${Z.serviceName}/${X}`,requestStream:te.requestStream,responseStream:te.responseStream,requestDeserialize:te.requestType.deserializeBinary,requestSerialize:ie=>ie.serializeBinary(),responseDeserialize:te.responseType.deserializeBinary,responseSerialize:ie=>ie.serializeBinary(),options:{}}}return L}grpcWeb.fromGrpcWebServiceDefinition=fromGrpcWebServiceDefinition;function isGrpcWebServiceDefinition(Z){return"prototype"in Z}grpcWeb.isGrpcWebServiceDefinition=isGrpcWebServiceDefinition;function uncapitalize(Z){return Z.length===0?Z:Z[0].toLowerCase()+Z.slice(1)}var tsProto={};Object.defineProperty(tsProto,"__esModule",{value:!0});tsProto.isTsProtoServiceDefinition=tsProto.fromTsProtoServiceDefinition=void 0;function fromTsProtoServiceDefinition(Z){const L={};for(const[X,ee]of Object.entries(Z.methods)){const te=ee.requestType.encode,ie=ee.requestType.fromPartial,oe=ee.responseType.encode,se=ee.responseType.fromPartial;L[X]={path:`/${Z.fullName}/${ee.name}`,requestStream:ee.requestStream,responseStream:ee.responseStream,requestDeserialize:ee.requestType.decode,requestSerialize:ie!=null?ue=>te(ie(ue)).finish():ue=>te(ue).finish(),responseDeserialize:ee.responseType.decode,responseSerialize:se!=null?ue=>oe(se(ue)).finish():ue=>oe(ue).finish(),options:ee.options}}return L}tsProto.fromTsProtoServiceDefinition=fromTsProtoServiceDefinition;function isTsProtoServiceDefinition(Z){return"name"in Z&&"fullName"in Z&&"methods"in Z}tsProto.isTsProtoServiceDefinition=isTsProtoServiceDefinition;Object.defineProperty(serviceDefinitions,"__esModule",{value:!0});serviceDefinitions.toGrpcWebMethodDefinition=serviceDefinitions.normalizeServiceDefinition=void 0;const grpc_web_1$5=grpcWeb,ts_proto_1=tsProto;function normalizeServiceDefinition(Z){return(0,grpc_web_1$5.isGrpcWebServiceDefinition)(Z)?(0,grpc_web_1$5.fromGrpcWebServiceDefinition)(Z):(0,ts_proto_1.isTsProtoServiceDefinition)(Z)?(0,ts_proto_1.fromTsProtoServiceDefinition)(Z):Z}serviceDefinitions.normalizeServiceDefinition=normalizeServiceDefinition;function toGrpcWebMethodDefinition(Z){const[,L,X]=Z.path.split("/");return{service:{serviceName:L},methodName:X,requestStream:Z.requestStream,responseStream:Z.responseStream,requestType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(ee){return Z.requestDeserialize(ee)}},responseType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(ee){return Z.responseDeserialize(ee)}}}}serviceDefinitions.toGrpcWebMethodDefinition=toGrpcWebMethodDefinition;var channel={};Object.defineProperty(channel,"__esModule",{value:!0});channel.createChannel=void 0;function createChannel(Z,L){return{address:Z,transport:L}}channel.createChannel=createChannel;var ClientFactory={},createBidiStreamingMethod$1={},grpcWebClient_umdExports={},grpcWebClient_umd={get exports(){return grpcWebClient_umdExports},set exports(Z){grpcWebClient_umdExports=Z}};(function(Z,L){(function(X,ee){Z.exports=ee()})(commonjsGlobal,function(){return X={418:function(te,ie){(function(oe,se){for(var ue in se)oe[ue]=se[ue]})(ie,function(oe){var se={};function ue(ce){if(se[ce])return se[ce].exports;var le=se[ce]={i:ce,l:!1,exports:{}};return oe[ce].call(le.exports,le,le.exports,ue),le.l=!0,le.exports}return ue.m=oe,ue.c=se,ue.i=function(ce){return ce},ue.d=function(ce,le,he){ue.o(ce,le)||Object.defineProperty(ce,le,{configurable:!1,enumerable:!0,get:he})},ue.n=function(ce){var le=ce&&ce.__esModule?function(){return ce.default}:function(){return ce};return ue.d(le,"a",le),le},ue.o=function(ce,le){return Object.prototype.hasOwnProperty.call(ce,le)},ue.p="",ue(ue.s=1)}([function(oe,se,ue){Object.defineProperty(se,"__esModule",{value:!0});var ce=ue(3),le=function(){function he(pe,we){pe===void 0&&(pe={}),we===void 0&&(we={splitValues:!1});var _e,xe=this;this.headersMap={},pe&&(typeof Headers<"u"&&pe instanceof Headers?ce.getHeaderKeys(pe).forEach(function(Ae){ce.getHeaderValues(pe,Ae).forEach(function(Ie){we.splitValues?xe.append(Ae,ce.splitHeaderValue(Ie)):xe.append(Ae,Ie)})}):typeof(_e=pe)=="object"&&typeof _e.headersMap=="object"&&typeof _e.forEach=="function"?pe.forEach(function(Ae,Ie){xe.append(Ae,Ie)}):typeof Map<"u"&&pe instanceof Map?pe.forEach(function(Ae,Ie){xe.append(Ie,Ae)}):typeof pe=="string"?this.appendFromString(pe):typeof pe=="object"&&Object.getOwnPropertyNames(pe).forEach(function(Ae){var Ie=pe[Ae];Array.isArray(Ie)?Ie.forEach(function(Pe){xe.append(Ae,Pe)}):xe.append(Ae,Ie)}))}return he.prototype.appendFromString=function(pe){for(var we=pe.split(`\r
`),_e=0;_e<we.length;_e++){var xe=we[_e],Ae=xe.indexOf(":");if(Ae>0){var Ie=xe.substring(0,Ae).trim(),Pe=xe.substring(Ae+1).trim();this.append(Ie,Pe)}}},he.prototype.delete=function(pe,we){var _e=ce.normalizeName(pe);if(we===void 0)delete this.headersMap[_e];else{var xe=this.headersMap[_e];if(xe){var Ae=xe.indexOf(we);Ae>=0&&xe.splice(Ae,1),xe.length===0&&delete this.headersMap[_e]}}},he.prototype.append=function(pe,we){var _e=this,xe=ce.normalizeName(pe);Array.isArray(this.headersMap[xe])||(this.headersMap[xe]=[]),Array.isArray(we)?we.forEach(function(Ae){_e.headersMap[xe].push(ce.normalizeValue(Ae))}):this.headersMap[xe].push(ce.normalizeValue(we))},he.prototype.set=function(pe,we){var _e=ce.normalizeName(pe);if(Array.isArray(we)){var xe=[];we.forEach(function(Ae){xe.push(ce.normalizeValue(Ae))}),this.headersMap[_e]=xe}else this.headersMap[_e]=[ce.normalizeValue(we)]},he.prototype.has=function(pe,we){var _e=this.headersMap[ce.normalizeName(pe)];if(!Array.isArray(_e))return!1;if(we!==void 0){var xe=ce.normalizeValue(we);return _e.indexOf(xe)>=0}return!0},he.prototype.get=function(pe){var we=this.headersMap[ce.normalizeName(pe)];return we!==void 0?we.concat():[]},he.prototype.forEach=function(pe){var we=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(_e){pe(_e,we.headersMap[_e])},this)},he.prototype.toHeaders=function(){if(typeof Headers<"u"){var pe=new Headers;return this.forEach(function(we,_e){_e.forEach(function(xe){pe.append(we,xe)})}),pe}throw new Error("Headers class is not defined")},he}();se.BrowserHeaders=le},function(oe,se,ue){Object.defineProperty(se,"__esModule",{value:!0});var ce=ue(0);se.BrowserHeaders=ce.BrowserHeaders},function(oe,se,ue){Object.defineProperty(se,"__esModule",{value:!0}),se.iterateHeaders=function(ce,le){for(var he=ce[Symbol.iterator](),pe=he.next();!pe.done;)le(pe.value[0]),pe=he.next()},se.iterateHeadersKeys=function(ce,le){for(var he=ce.keys(),pe=he.next();!pe.done;)le(pe.value),pe=he.next()}},function(oe,se,ue){Object.defineProperty(se,"__esModule",{value:!0});var ce=ue(2);se.normalizeName=function(le){if(typeof le!="string"&&(le=String(le)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(le))throw new TypeError("Invalid character in header field name");return le.toLowerCase()},se.normalizeValue=function(le){return typeof le!="string"&&(le=String(le)),le},se.getHeaderValues=function(le,he){var pe=le;if(pe instanceof Headers&&pe.getAll)return pe.getAll(he);var we=pe.get(he);return we&&typeof we=="string"?[we]:we},se.getHeaderKeys=function(le){var he=le,pe={},we=[];return he.keys?ce.iterateHeadersKeys(he,function(_e){pe[_e]||(pe[_e]=!0,we.push(_e))}):he.forEach?he.forEach(function(_e,xe){pe[xe]||(pe[xe]=!0,we.push(xe))}):ce.iterateHeaders(he,function(_e){var xe=_e[0];pe[xe]||(pe[xe]=!0,we.push(xe))}),we},se.splitHeaderValue=function(le){var he=[];return le.split(", ").forEach(function(pe){pe.split(",").forEach(function(we){he.push(we)})}),he}}]))},617:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.ChunkParser=ie.ChunkType=ie.encodeASCII=ie.decodeASCII=void 0;var se,ue=oe(65);function ce(Ae){return(Ie=Ae)===9||Ie===10||Ie===13||Ae>=32&&Ae<=126;var Ie}function le(Ae){for(var Ie=0;Ie!==Ae.length;++Ie)if(!ce(Ae[Ie]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(Ae))}function he(Ae){return(128&Ae.getUint8(0))==128}function pe(Ae){return Ae.getUint32(1,!1)}function we(Ae,Ie,Pe){return Ae.byteLength-Ie>=Pe}function _e(Ae,Ie,Pe){if(Ae.slice)return Ae.slice(Ie,Pe);var Ce=Ae.length;Pe!==void 0&&(Ce=Pe);for(var We=new Uint8Array(Ce-Ie),Ve=0,Ge=Ie;Ge<Ce;Ge++)We[Ve++]=Ae[Ge];return We}ie.decodeASCII=le,ie.encodeASCII=function(Ae){for(var Ie=new Uint8Array(Ae.length),Pe=0;Pe!==Ae.length;++Pe){var Ce=Ae.charCodeAt(Pe);if(!ce(Ce))throw new Error("Metadata contains invalid ASCII");Ie[Pe]=Ce}return Ie},function(Ae){Ae[Ae.MESSAGE=1]="MESSAGE",Ae[Ae.TRAILERS=2]="TRAILERS"}(se=ie.ChunkType||(ie.ChunkType={}));var xe=function(){function Ae(){this.buffer=null,this.position=0}return Ae.prototype.parse=function(Ie,Pe){if(Ie.length===0&&Pe)return[];var Ce,We=[];if(this.buffer==null)this.buffer=Ie,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=Ie,this.position=0;else{var Ve=this.buffer.byteLength-this.position,Ge=new Uint8Array(Ve+Ie.byteLength),tt=_e(this.buffer,this.position);Ge.set(tt,0);var Qe=new Uint8Array(Ie);Ge.set(Qe,Ve),this.buffer=Ge,this.position=0}for(;;){if(!we(this.buffer,this.position,5))return We;var ot=_e(this.buffer,this.position,this.position+5),st=new DataView(ot.buffer,ot.byteOffset,ot.byteLength),nt=pe(st);if(!we(this.buffer,this.position,5+nt))return We;var lt=_e(this.buffer,this.position+5,this.position+5+nt);if(this.position+=5+nt,he(st))return We.push({chunkType:se.TRAILERS,trailers:(Ce=lt,new ue.Metadata(le(Ce)))}),We;We.push({chunkType:se.MESSAGE,data:lt})}},Ae}();ie.ChunkParser=xe},8:function(te,ie){var oe;Object.defineProperty(ie,"__esModule",{value:!0}),ie.httpStatusToCode=ie.Code=void 0,function(se){se[se.OK=0]="OK",se[se.Canceled=1]="Canceled",se[se.Unknown=2]="Unknown",se[se.InvalidArgument=3]="InvalidArgument",se[se.DeadlineExceeded=4]="DeadlineExceeded",se[se.NotFound=5]="NotFound",se[se.AlreadyExists=6]="AlreadyExists",se[se.PermissionDenied=7]="PermissionDenied",se[se.ResourceExhausted=8]="ResourceExhausted",se[se.FailedPrecondition=9]="FailedPrecondition",se[se.Aborted=10]="Aborted",se[se.OutOfRange=11]="OutOfRange",se[se.Unimplemented=12]="Unimplemented",se[se.Internal=13]="Internal",se[se.Unavailable=14]="Unavailable",se[se.DataLoss=15]="DataLoss",se[se.Unauthenticated=16]="Unauthenticated"}(oe=ie.Code||(ie.Code={})),ie.httpStatusToCode=function(se){switch(se){case 0:return oe.Internal;case 200:return oe.OK;case 400:return oe.InvalidArgument;case 401:return oe.Unauthenticated;case 403:return oe.PermissionDenied;case 404:return oe.NotFound;case 409:return oe.Aborted;case 412:return oe.FailedPrecondition;case 429:return oe.ResourceExhausted;case 499:return oe.Canceled;case 500:return oe.Unknown;case 501:return oe.Unimplemented;case 503:return oe.Unavailable;case 504:return oe.DeadlineExceeded;default:return oe.Unknown}}},934:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.client=void 0;var se=oe(65),ue=oe(617),ce=oe(8),le=oe(346),he=oe(57),pe=oe(882);ie.client=function(xe,Ae){return new we(xe,Ae)};var we=function(){function xe(Ae,Ie){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new ue.ChunkParser,this.methodDefinition=Ae,this.props=Ie,this.createTransport()}return xe.prototype.createTransport=function(){var Ae=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,Ie={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:Ae,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(Ie):this.transport=he.makeDefaultTransport(Ie)},xe.prototype.onTransportHeaders=function(Ae,Ie){if(this.props.debug&&le.debug("onHeaders",Ae,Ie),this.closed)this.props.debug&&le.debug("grpc.onHeaders received after request was closed - ignoring");else if(Ie!==0){this.responseHeaders=Ae,this.props.debug&&le.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var Pe=_e(Ae);this.props.debug&&le.debug("onHeaders.gRPCStatus",Pe);var Ce=Pe&&Pe>=0?Pe:ce.httpStatusToCode(Ie);this.props.debug&&le.debug("onHeaders.code",Ce);var We=Ae.get("grpc-message")||[];if(this.props.debug&&le.debug("onHeaders.gRPCMessage",We),this.rawOnHeaders(Ae),Ce!==ce.Code.OK){var Ve=this.decodeGRPCStatus(We[0]);this.rawOnError(Ce,Ve,Ae)}}},xe.prototype.onTransportChunk=function(Ae){var Ie=this;if(this.closed)this.props.debug&&le.debug("grpc.onChunk received after request was closed - ignoring");else{var Pe=[];try{Pe=this.parser.parse(Ae)}catch(Ce){return this.props.debug&&le.debug("onChunk.parsing error",Ce,Ce.message),void this.rawOnError(ce.Code.Internal,"parsing error: "+Ce.message)}Pe.forEach(function(Ce){if(Ce.chunkType===ue.ChunkType.MESSAGE){var We=Ie.methodDefinition.responseType.deserializeBinary(Ce.data);Ie.rawOnMessage(We)}else Ce.chunkType===ue.ChunkType.TRAILERS&&(Ie.responseHeaders?(Ie.responseTrailers=new se.Metadata(Ce.trailers),Ie.props.debug&&le.debug("onChunk.trailers",Ie.responseTrailers)):(Ie.responseHeaders=new se.Metadata(Ce.trailers),Ie.rawOnHeaders(Ie.responseHeaders)))})}},xe.prototype.onTransportEnd=function(){if(this.props.debug&&le.debug("grpc.onEnd"),this.closed)this.props.debug&&le.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var Ae=_e(this.responseTrailers);if(Ae!==null){var Ie=this.responseTrailers.get("grpc-message"),Pe=this.decodeGRPCStatus(Ie[0]);this.rawOnEnd(Ae,Pe,this.responseTrailers)}else this.rawOnError(ce.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(ce.Code.Unknown,"Response closed without headers");var Ce=_e(this.responseHeaders),We=this.responseHeaders.get("grpc-message");if(this.props.debug&&le.debug("grpc.headers only response ",Ce,We),Ce===null)return void this.rawOnEnd(ce.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Ve=this.decodeGRPCStatus(We[0]);this.rawOnEnd(Ce,Ve,this.responseHeaders)}},xe.prototype.decodeGRPCStatus=function(Ae){if(!Ae)return"";try{return decodeURIComponent(Ae)}catch{return Ae}},xe.prototype.rawOnEnd=function(Ae,Ie,Pe){var Ce=this;this.props.debug&&le.debug("rawOnEnd",Ae,Ie,Pe),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(We){if(!Ce.closed)try{We(Ae,Ie,Pe)}catch(Ve){setTimeout(function(){throw Ve},0)}}))},xe.prototype.rawOnHeaders=function(Ae){this.props.debug&&le.debug("rawOnHeaders",Ae),this.completed||this.onHeadersCallbacks.forEach(function(Ie){try{Ie(Ae)}catch(Pe){setTimeout(function(){throw Pe},0)}})},xe.prototype.rawOnError=function(Ae,Ie,Pe){var Ce=this;Pe===void 0&&(Pe=new se.Metadata),this.props.debug&&le.debug("rawOnError",Ae,Ie),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(We){if(!Ce.closed)try{We(Ae,Ie,Pe)}catch(Ve){setTimeout(function(){throw Ve},0)}}))},xe.prototype.rawOnMessage=function(Ae){var Ie=this;this.props.debug&&le.debug("rawOnMessage",Ae.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(Pe){if(!Ie.closed)try{Pe(Ae)}catch(Ce){setTimeout(function(){throw Ce},0)}})},xe.prototype.onHeaders=function(Ae){this.onHeadersCallbacks.push(Ae)},xe.prototype.onMessage=function(Ae){this.onMessageCallbacks.push(Ae)},xe.prototype.onEnd=function(Ae){this.onEndCallbacks.push(Ae)},xe.prototype.start=function(Ae){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var Ie=new se.Metadata(Ae||{});Ie.set("content-type","application/grpc-web+proto"),Ie.set("x-grpc-web","1"),this.transport.start(Ie)},xe.prototype.send=function(Ae){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var Ie=pe.frameRequest(Ae);this.transport.sendMessage(Ie)},xe.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},xe.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&le.debug("request.abort aborting request"),this.transport.cancel()},xe}();function _e(xe){var Ae=xe.get("grpc-status")||[];if(Ae.length>0)try{var Ie=Ae[0];return parseInt(Ie,10)}catch{return null}return null}},346:function(te,ie){Object.defineProperty(ie,"__esModule",{value:!0}),ie.debug=void 0,ie.debug=function(){for(var oe=[],se=0;se<arguments.length;se++)oe[se]=arguments[se];console.debug?console.debug.apply(null,oe):console.log.apply(null,oe)}},607:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.grpc=void 0;var se,ue=oe(418),ce=oe(57),le=oe(229),he=oe(540),pe=oe(210),we=oe(859),_e=oe(8),xe=oe(938),Ae=oe(35),Ie=oe(934);(se=ie.grpc||(ie.grpc={})).setDefaultTransport=ce.setDefaultTransportFactory,se.CrossBrowserHttpTransport=we.CrossBrowserHttpTransport,se.FetchReadableStreamTransport=le.FetchReadableStreamTransport,se.XhrTransport=pe.XhrTransport,se.WebsocketTransport=he.WebsocketTransport,se.Code=_e.Code,se.Metadata=ue.BrowserHeaders,se.client=function(Pe,Ce){return Ie.client(Pe,Ce)},se.invoke=xe.invoke,se.unary=Ae.unary},938:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.invoke=void 0;var se=oe(934);ie.invoke=function(ue,ce){if(ue.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var le=se.client(ue,{host:ce.host,transport:ce.transport,debug:ce.debug});return ce.onHeaders&&le.onHeaders(ce.onHeaders),ce.onMessage&&le.onMessage(ce.onMessage),ce.onEnd&&le.onEnd(ce.onEnd),le.start(ce.metadata),le.send(ce.request),le.finishSend(),{close:function(){le.close()}}}},65:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.Metadata=void 0;var se=oe(418);Object.defineProperty(ie,"Metadata",{enumerable:!0,get:function(){return se.BrowserHeaders}})},57:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.makeDefaultTransport=ie.setDefaultTransportFactory=void 0;var se=oe(859),ue=function(ce){return se.CrossBrowserHttpTransport({withCredentials:!1})(ce)};ie.setDefaultTransportFactory=function(ce){ue=ce},ie.makeDefaultTransport=function(ce){return ue(ce)}},229:function(te,ie,oe){var se=this&&this.__assign||function(){return(se=Object.assign||function(he){for(var pe,we=1,_e=arguments.length;we<_e;we++)for(var xe in pe=arguments[we])Object.prototype.hasOwnProperty.call(pe,xe)&&(he[xe]=pe[xe]);return he}).apply(this,arguments)};Object.defineProperty(ie,"__esModule",{value:!0}),ie.detectFetchSupport=ie.FetchReadableStreamTransport=void 0;var ue=oe(65),ce=oe(346);ie.FetchReadableStreamTransport=function(he){return function(pe){return function(we,_e){return we.debug&&ce.debug("fetchRequest",we),new le(we,_e)}(pe,he)}};var le=function(){function he(pe,we){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=pe,this.init=we}return he.prototype.pump=function(pe,we){var _e=this;if(this.reader=pe,this.cancelled)return this.options.debug&&ce.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(xe){_e.options.debug&&ce.debug("Fetch.pump.reader.cancel exception",xe)});this.reader.read().then(function(xe){if(xe.done)return _e.options.onEnd(),we;_e.options.onChunk(xe.value),_e.pump(_e.reader,we)}).catch(function(xe){_e.cancelled?_e.options.debug&&ce.debug("Fetch.catch - request cancelled"):(_e.cancelled=!0,_e.options.debug&&ce.debug("Fetch.catch",xe.message),_e.options.onEnd(xe))})},he.prototype.send=function(pe){var we=this;fetch(this.options.url,se(se({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:pe,signal:this.controller&&this.controller.signal})).then(function(_e){if(we.options.debug&&ce.debug("Fetch.response",_e),we.options.onHeaders(new ue.Metadata(_e.headers),_e.status),!_e.body)return _e;we.pump(_e.body.getReader(),_e)}).catch(function(_e){we.cancelled?we.options.debug&&ce.debug("Fetch.catch - request cancelled"):(we.cancelled=!0,we.options.debug&&ce.debug("Fetch.catch",_e.message),we.options.onEnd(_e))})},he.prototype.sendMessage=function(pe){this.send(pe)},he.prototype.finishSend=function(){},he.prototype.start=function(pe){this.metadata=pe},he.prototype.cancel=function(){var pe=this;this.cancelled?this.options.debug&&ce.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&ce.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&ce.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&ce.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(we){pe.options.debug&&ce.debug("Fetch.cancel.reader.cancel exception",we)})):this.options.debug&&ce.debug("Fetch.cancel before reader"))},he}();ie.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.CrossBrowserHttpTransport=void 0;var se=oe(229),ue=oe(210);ie.CrossBrowserHttpTransport=function(ce){if(se.detectFetchSupport()){var le={credentials:ce.withCredentials?"include":"same-origin"};return se.FetchReadableStreamTransport(le)}return ue.XhrTransport({withCredentials:ce.withCredentials})}},210:function(te,ie,oe){var se,ue=this&&this.__extends||(se=function(Ae,Ie){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pe,Ce){Pe.__proto__=Ce}||function(Pe,Ce){for(var We in Ce)Object.prototype.hasOwnProperty.call(Ce,We)&&(Pe[We]=Ce[We])})(Ae,Ie)},function(Ae,Ie){function Pe(){this.constructor=Ae}se(Ae,Ie),Ae.prototype=Ie===null?Object.create(Ie):(Pe.prototype=Ie.prototype,new Pe)});Object.defineProperty(ie,"__esModule",{value:!0}),ie.stringToArrayBuffer=ie.MozChunkedArrayBufferXHR=ie.XHR=ie.XhrTransport=void 0;var ce=oe(65),le=oe(346),he=oe(849);ie.XhrTransport=function(Ae){return function(Ie){if(he.detectMozXHRSupport())return new we(Ie,Ae);if(he.detectXHROverrideMimeTypeSupport())return new pe(Ie,Ae);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var pe=function(){function Ae(Ie,Pe){this.options=Ie,this.init=Pe}return Ae.prototype.onProgressEvent=function(){this.options.debug&&le.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var Ie=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var Pe=xe(Ie);this.options.onChunk(Pe)},Ae.prototype.onLoadEvent=function(){this.options.debug&&le.debug("XHR.onLoadEvent"),this.options.onEnd()},Ae.prototype.onStateChange=function(){this.options.debug&&le.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new ce.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},Ae.prototype.sendMessage=function(Ie){this.xhr.send(Ie)},Ae.prototype.finishSend=function(){},Ae.prototype.start=function(Ie){var Pe=this;this.metadata=Ie;var Ce=new XMLHttpRequest;this.xhr=Ce,Ce.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(We,Ve){Ce.setRequestHeader(We,Ve.join(", "))}),Ce.withCredentials=!!this.init.withCredentials,Ce.addEventListener("readystatechange",this.onStateChange.bind(this)),Ce.addEventListener("progress",this.onProgressEvent.bind(this)),Ce.addEventListener("loadend",this.onLoadEvent.bind(this)),Ce.addEventListener("error",function(We){Pe.options.debug&&le.debug("XHR.error",We),Pe.options.onEnd(We.error)})},Ae.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},Ae.prototype.cancel=function(){this.options.debug&&le.debug("XHR.abort"),this.xhr.abort()},Ae}();ie.XHR=pe;var we=function(Ae){function Ie(){return Ae!==null&&Ae.apply(this,arguments)||this}return ue(Ie,Ae),Ie.prototype.configureXhr=function(){this.options.debug&&le.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},Ie.prototype.onProgressEvent=function(){var Pe=this.xhr.response;this.options.debug&&le.debug("MozXHR.onProgressEvent: ",new Uint8Array(Pe)),this.options.onChunk(new Uint8Array(Pe))},Ie}(pe);function _e(Ae,Ie){var Pe=Ae.charCodeAt(Ie);if(Pe>=55296&&Pe<=56319){var Ce=Ae.charCodeAt(Ie+1);Ce>=56320&&Ce<=57343&&(Pe=65536+(Pe-55296<<10)+(Ce-56320))}return Pe}function xe(Ae){for(var Ie=new Uint8Array(Ae.length),Pe=0,Ce=0;Ce<Ae.length;Ce++){var We=String.prototype.codePointAt?Ae.codePointAt(Ce):_e(Ae,Ce);Ie[Pe++]=255&We}return Ie}ie.MozChunkedArrayBufferXHR=we,ie.stringToArrayBuffer=xe},849:function(te,ie){var oe;function se(){if(oe!==void 0)return oe;if(XMLHttpRequest){oe=new XMLHttpRequest;try{oe.open("GET","https://localhost")}catch{}}return oe}function ue(ce){var le=se();if(!le)return!1;try{return le.responseType=ce,le.responseType===ce}catch{}return!1}Object.defineProperty(ie,"__esModule",{value:!0}),ie.detectXHROverrideMimeTypeSupport=ie.detectMozXHRSupport=ie.xhrSupportsResponseType=void 0,ie.xhrSupportsResponseType=ue,ie.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&ue("moz-chunked-arraybuffer")},ie.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.WebsocketTransport=void 0;var se,ue=oe(346),ce=oe(617);(function(he){he[he.FINISH_SEND=1]="FINISH_SEND"})(se||(se={}));var le=new Uint8Array([1]);ie.WebsocketTransport=function(){return function(he){return function(pe){pe.debug&&ue.debug("websocketRequest",pe);var we,_e=function(Ie){if(Ie.substr(0,8)==="https://")return"wss://"+Ie.substr(8);if(Ie.substr(0,7)==="http://")return"ws://"+Ie.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(pe.url),xe=[];function Ae(Ie){if(Ie===se.FINISH_SEND)we.send(le);else{var Pe=Ie,Ce=new Int8Array(Pe.byteLength+1);Ce.set(new Uint8Array([0])),Ce.set(Pe,1),we.send(Ce)}}return{sendMessage:function(Ie){we&&we.readyState!==we.CONNECTING?Ae(Ie):xe.push(Ie)},finishSend:function(){we&&we.readyState!==we.CONNECTING?Ae(se.FINISH_SEND):xe.push(se.FINISH_SEND)},start:function(Ie){(we=new WebSocket(_e,["grpc-websockets"])).binaryType="arraybuffer",we.onopen=function(){var Pe;pe.debug&&ue.debug("websocketRequest.onopen"),we.send((Pe="",Ie.forEach(function(Ce,We){Pe+=Ce+": "+We.join(", ")+`\r
`}),ce.encodeASCII(Pe))),xe.forEach(function(Ce){Ae(Ce)})},we.onclose=function(Pe){pe.debug&&ue.debug("websocketRequest.onclose",Pe),pe.onEnd()},we.onerror=function(Pe){pe.debug&&ue.debug("websocketRequest.onerror",Pe)},we.onmessage=function(Pe){pe.onChunk(new Uint8Array(Pe.data))}},cancel:function(){pe.debug&&ue.debug("websocket.abort"),we.close()}}}(he)}}},35:function(te,ie,oe){Object.defineProperty(ie,"__esModule",{value:!0}),ie.unary=void 0;var se=oe(65),ue=oe(934);ie.unary=function(ce,le){if(ce.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(ce.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var he=null,pe=null,we=ue.client(ce,{host:le.host,transport:le.transport,debug:le.debug});return we.onHeaders(function(_e){he=_e}),we.onMessage(function(_e){pe=_e}),we.onEnd(function(_e,xe,Ae){le.onEnd({status:_e,statusMessage:xe,headers:he||new se.Metadata,message:pe,trailers:Ae})}),we.start(le.metadata),we.send(le.request),we.finishSend(),{close:function(){we.close()}}}},882:function(te,ie){Object.defineProperty(ie,"__esModule",{value:!0}),ie.frameRequest=void 0,ie.frameRequest=function(oe){var se=oe.serializeBinary(),ue=new ArrayBuffer(se.byteLength+5);return new DataView(ue,1,4).setUint32(0,se.length,!1),new Uint8Array(ue,5).set(se),new Uint8Array(ue)}}},ee={},function te(ie){if(ee[ie])return ee[ie].exports;var oe=ee[ie]={exports:{}};return X[ie].call(oe.exports,oe,oe.exports,te),oe.exports}(607);var X,ee})})(grpcWebClient_umd);class AbortError extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}function isAbortError(Z){return typeof Z=="object"&&Z!==null&&Z.name==="AbortError"}function throwIfAborted(Z){if(Z.aborted)throw new AbortError}function rethrowAbortError(Z){if(isAbortError(Z))throw Z}function catchAbortError(Z){if(!isAbortError(Z))throw Z}function execute(Z,L){return new Promise((X,ee)=>{if(Z.aborted){ee(new AbortError);return}let te,ie=!1;function oe(){ie||(ie=!0,te?.())}const se=L(ue=>{X(ue),oe()},ue=>{ee(ue),oe()});if(!ie){const ue=()=>{const ce=se();ce==null?ee(new AbortError):ce.then(()=>{ee(new AbortError)},le=>{ee(le)}),oe()};Z.addEventListener("abort",ue),te=()=>{Z.removeEventListener("abort",ue)}}})}function abortable(Z,L){if(Z.aborted){const X=()=>{};L.then(X,X)}return execute(Z,(X,ee)=>(L.then(X,ee),()=>{}))}function delay(Z,L){return execute(Z,X=>{const ee=typeof L=="number"?L:L.getTime()-Date.now(),te=setTimeout(X,ee);return()=>{clearTimeout(te)}})}function forever(Z){return execute(Z,()=>()=>{})}function waitForEvent(Z,L,X,ee){return execute(Z,te=>{let ie,oe=!1;return ie=listen(L,X,(...ue)=>{te(ue.length>1?ue:ue[0]),oe=!0,ie?.()},ee),oe&&ie(),()=>{oe=!0,ie?.()}})}function listen(Z,L,X,ee){if(isEventTarget(Z))return Z.addEventListener(L,X,ee),()=>Z.removeEventListener(L,X,ee);if(isJQueryStyleEventEmitter(Z))return Z.on(L,X),()=>Z.off(L,X);if(isNodeStyleEventEmitter(Z))return Z.addListener(L,X),()=>Z.removeListener(L,X);throw new Error("Invalid event target")}function isNodeStyleEventEmitter(Z){return isFunction(Z.addListener)&&isFunction(Z.removeListener)}function isJQueryStyleEventEmitter(Z){return isFunction(Z.on)&&isFunction(Z.off)}function isEventTarget(Z){return isFunction(Z.addEventListener)&&isFunction(Z.removeEventListener)}const isFunction=Z=>typeof Z=="function";function all(Z,L){return new Promise((X,ee)=>{if(Z.aborted){ee(new AbortError);return}const te=new AbortController,ie=L(te.signal);if(ie.length===0){X([]);return}const oe=()=>{te.abort()};Z.addEventListener("abort",oe);let se;const ue=new Array(ie.length);let ce=0;function le(){ce+=1,ce===ie.length&&(Z.removeEventListener("abort",oe),se!=null?ee(se.reason):X(ue))}for(const[he,pe]of ie.entries())pe.then(we=>{ue[he]=we,le()},we=>{te.abort(),(se==null||!isAbortError(we)&&isAbortError(se.reason))&&(se={reason:we}),le()})})}function race(Z,L){return new Promise((X,ee)=>{if(Z.aborted){ee(new AbortError);return}const te=new AbortController,ie=L(te.signal),oe=()=>{te.abort()};Z.addEventListener("abort",oe);let se=0;function ue(le){te.abort(),se+=1,se===ie.length&&(Z.removeEventListener("abort",oe),le.status==="fulfilled"?X(le.value):ee(le.reason))}let ce;for(const le of ie)le.then(he=>{ce==null&&(ce={status:"fulfilled",value:he}),ue(ce)},he=>{(ce==null||!isAbortError(he)&&(ce.status==="fulfilled"||isAbortError(ce.reason)))&&(ce={status:"rejected",reason:he}),ue(ce)})})}async function retry(Z,L,X={}){const{baseMs:ee=1e3,maxDelayMs:te=3e4,onError:ie,maxAttempts:oe=1/0}=X;let se=0;const ue=()=>{se=-1};for(;;)try{return await L(Z,se,ue)}catch(ce){if(rethrowAbortError(ce),se>=oe)throw ce;let le;if(se===-1)le=0;else{const he=Math.min(te,Math.pow(2,se)*ee);le=Math.round(he*(1+Math.random())/2)}ie&&ie(ce,se,le),le!==0&&await delay(Z,le),se+=1}}function spawn(Z,L){if(Z.aborted)return Promise.reject(new AbortError);const X=[],ee=new AbortController,te=ee.signal,ie=()=>{ee.abort()};Z.addEventListener("abort",ie);const oe=()=>{Z.removeEventListener("abort",ie)},se=new Set,ue=()=>{for(const he of se)he.abort()};te.addEventListener("abort",ue);const ce=()=>{te.removeEventListener("abort",ue)};let le=new Promise((he,pe)=>{let we,_e;xe(Ae=>L(Ae,{defer(Ie){X.push(Ie)},fork:xe})).join().then(Ae=>{ee.abort(),we={value:Ae}},Ae=>{ee.abort(),(!isAbortError(Ae)||_e==null)&&(_e={error:Ae})});function xe(Ae){if(te.aborted)return{abort(){},async join(){throw new AbortError}};const Ie=new AbortController,Pe=Ie.signal,Ce=Ae(Pe),We={abort(){Ie.abort()},join:()=>Ce};return se.add(We),Ce.catch(catchAbortError).catch(Ve=>{_e={error:Ve},ee.abort()}).finally(()=>{se.delete(We),se.size===0&&(_e!=null?pe(_e.error):he(we.value))}),We}});return le=le.finally(()=>{oe(),ce();let he=Promise.resolve();for(let pe=X.length-1;pe>=0;pe--)he=he.finally(X[pe]);return he}),le}function run(Z){const L=new AbortController,X=Z(L.signal).catch(catchAbortError);return()=>(L.abort(),X)}function proactiveRetry(Z,L,X={}){const{baseMs:ee=1e3,onError:te,maxAttempts:ie=1/0}=X;return execute(Z,(oe,se)=>{const ue=new AbortController;let ce=!1;const le=new Map;function he(_e){ue.abort(),le.clear(),oe(_e)}function pe(_e,xe){if(le.delete(xe),ce&&le.size===0){se(_e);return}if(!isAbortError(_e)&&te)try{te(_e,xe)}catch(Ae){ue.abort(),le.clear(),se(Ae)}}async function we(_e){for(let xe=0;;xe++){const Ae=L(_e,xe);if(le.set(xe,Ae),Ae.then(he,Ce=>pe(Ce,xe)),xe+1>=ie)break;const Ie=Math.pow(2,xe)*ee,Pe=Math.round(Ie*(1+Math.random())/2);await delay(_e,Pe)}ce=!0}return we(ue.signal).catch(catchAbortError),()=>{ue.abort()}})}const es=Object.freeze(Object.defineProperty({__proto__:null,AbortError,abortable,all,catchAbortError,delay,execute,forever,isAbortError,proactiveRetry,race,rethrowAbortError,retry,run,spawn,throwIfAborted,waitForEvent},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(es);var AsyncSink$1={};Object.defineProperty(AsyncSink$1,"__esModule",{value:!0});AsyncSink$1.AsyncSink=void 0;const ARRAY_VALUE="value",ARRAY_ERROR="error";class AsyncSink{constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(L){this._push({type:ARRAY_VALUE,value:L})}error(L){this._push({type:ARRAY_ERROR,error:L})}_push(L){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){const{resolve:X,reject:ee}=this._resolvers.shift();L.type===ARRAY_ERROR?ee(L.error):X({done:!1,value:L.value})}else this._values.push(L)}next(){if(this._values.length>0){const{type:L,value:X,error:ee}=this._values.shift();return L===ARRAY_ERROR?Promise.reject(ee):Promise.resolve({done:!1,value:X})}return this._ended?Promise.resolve({done:!0}):new Promise((L,X)=>{this._resolvers.push({resolve:L,reject:X})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}}AsyncSink$1.AsyncSink=AsyncSink;var isAsyncIterable$1={};Object.defineProperty(isAsyncIterable$1,"__esModule",{value:!0});isAsyncIterable$1.isAsyncIterable=void 0;function isAsyncIterable(Z){return Z!=null&&Symbol.asyncIterator in Z}isAsyncIterable$1.isAsyncIterable=isAsyncIterable;var convertMetadata={},base64Exports={},base64={get exports(){return base64Exports},set exports(Z){base64Exports=Z}};(function(Z,L){(function(X,ee){Z.exports=ee()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var X="3.7.5",ee=X,te=typeof atob=="function",ie=typeof btoa=="function",oe=typeof Buffer=="function",se=typeof TextDecoder=="function"?new TextDecoder:void 0,ue=typeof TextEncoder=="function"?new TextEncoder:void 0,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",le=Array.prototype.slice.call(ce),he=function(Fe){var Ze={};return Fe.forEach(function(Ye,et){return Ze[Ye]=et}),Ze}(le),pe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,we=String.fromCharCode.bind(String),_e=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(Fe){return new Uint8Array(Array.prototype.slice.call(Fe,0))},xe=function(Fe){return Fe.replace(/=/g,"").replace(/[+\/]/g,function(Ze){return Ze=="+"?"-":"_"})},Ae=function(Fe){return Fe.replace(/[^A-Za-z0-9\+\/]/g,"")},Ie=function(Fe){for(var Ze,Ye,et,Xe,Ke="",at=Fe.length%3,Je=0;Je<Fe.length;){if((Ye=Fe.charCodeAt(Je++))>255||(et=Fe.charCodeAt(Je++))>255||(Xe=Fe.charCodeAt(Je++))>255)throw new TypeError("invalid character found");Ze=Ye<<16|et<<8|Xe,Ke+=le[Ze>>18&63]+le[Ze>>12&63]+le[Ze>>6&63]+le[Ze&63]}return at?Ke.slice(0,at-3)+"===".substring(at):Ke},Pe=ie?function(Fe){return btoa(Fe)}:oe?function(Fe){return Buffer.from(Fe,"binary").toString("base64")}:Ie,Ce=oe?function(Fe){return Buffer.from(Fe).toString("base64")}:function(Fe){for(var Ze=4096,Ye=[],et=0,Xe=Fe.length;et<Xe;et+=Ze)Ye.push(we.apply(null,Fe.subarray(et,et+Ze)));return Pe(Ye.join(""))},We=function(Fe,Ze){return Ze===void 0&&(Ze=!1),Ze?xe(Ce(Fe)):Ce(Fe)},Ve=function(Fe){if(Fe.length<2){var Ze=Fe.charCodeAt(0);return Ze<128?Fe:Ze<2048?we(192|Ze>>>6)+we(128|Ze&63):we(224|Ze>>>12&15)+we(128|Ze>>>6&63)+we(128|Ze&63)}else{var Ze=65536+(Fe.charCodeAt(0)-55296)*1024+(Fe.charCodeAt(1)-56320);return we(240|Ze>>>18&7)+we(128|Ze>>>12&63)+we(128|Ze>>>6&63)+we(128|Ze&63)}},Ge=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,tt=function(Fe){return Fe.replace(Ge,Ve)},Qe=oe?function(Fe){return Buffer.from(Fe,"utf8").toString("base64")}:ue?function(Fe){return Ce(ue.encode(Fe))}:function(Fe){return Pe(tt(Fe))},ot=function(Fe,Ze){return Ze===void 0&&(Ze=!1),Ze?xe(Qe(Fe)):Qe(Fe)},st=function(Fe){return ot(Fe,!0)},nt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,lt=function(Fe){switch(Fe.length){case 4:var Ze=(7&Fe.charCodeAt(0))<<18|(63&Fe.charCodeAt(1))<<12|(63&Fe.charCodeAt(2))<<6|63&Fe.charCodeAt(3),Ye=Ze-65536;return we((Ye>>>10)+55296)+we((Ye&1023)+56320);case 3:return we((15&Fe.charCodeAt(0))<<12|(63&Fe.charCodeAt(1))<<6|63&Fe.charCodeAt(2));default:return we((31&Fe.charCodeAt(0))<<6|63&Fe.charCodeAt(1))}},Me=function(Fe){return Fe.replace(nt,lt)},de=function(Fe){if(Fe=Fe.replace(/\s+/g,""),!pe.test(Fe))throw new TypeError("malformed base64.");Fe+="==".slice(2-(Fe.length&3));for(var Ze,Ye="",et,Xe,Ke=0;Ke<Fe.length;)Ze=he[Fe.charAt(Ke++)]<<18|he[Fe.charAt(Ke++)]<<12|(et=he[Fe.charAt(Ke++)])<<6|(Xe=he[Fe.charAt(Ke++)]),Ye+=et===64?we(Ze>>16&255):Xe===64?we(Ze>>16&255,Ze>>8&255):we(Ze>>16&255,Ze>>8&255,Ze&255);return Ye},ve=te?function(Fe){return atob(Ae(Fe))}:oe?function(Fe){return Buffer.from(Fe,"base64").toString("binary")}:de,Se=oe?function(Fe){return _e(Buffer.from(Fe,"base64"))}:function(Fe){return _e(ve(Fe).split("").map(function(Ze){return Ze.charCodeAt(0)}))},$e=function(Fe){return Se(Le(Fe))},Be=oe?function(Fe){return Buffer.from(Fe,"base64").toString("utf8")}:se?function(Fe){return se.decode(Se(Fe))}:function(Fe){return Me(ve(Fe))},Le=function(Fe){return Ae(Fe.replace(/[-_]/g,function(Ze){return Ze=="-"?"+":"/"}))},Ue=function(Fe){return Be(Le(Fe))},Ne=function(Fe){if(typeof Fe!="string")return!1;var Ze=Fe.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Ze)||!/[^\s0-9a-zA-Z\-_]/.test(Ze)},ge=function(Fe){return{value:Fe,enumerable:!1,writable:!0,configurable:!0}},Oe=function(){var Fe=function(Ze,Ye){return Object.defineProperty(String.prototype,Ze,ge(Ye))};Fe("fromBase64",function(){return Ue(this)}),Fe("toBase64",function(Ze){return ot(this,Ze)}),Fe("toBase64URI",function(){return ot(this,!0)}),Fe("toBase64URL",function(){return ot(this,!0)}),Fe("toUint8Array",function(){return $e(this)})},rt=function(){var Fe=function(Ze,Ye){return Object.defineProperty(Uint8Array.prototype,Ze,ge(Ye))};Fe("toBase64",function(Ze){return We(this,Ze)}),Fe("toBase64URI",function(){return We(this,!0)}),Fe("toBase64URL",function(){return We(this,!0)})},Te=function(){Oe(),rt()},qe={version:X,VERSION:ee,atob:ve,atobPolyfill:de,btoa:Pe,btoaPolyfill:Ie,fromBase64:Ue,toBase64:ot,encode:ot,encodeURI:st,encodeURL:st,utob:tt,btou:Me,decode:Ue,isValid:Ne,fromUint8Array:We,toUint8Array:$e,extendString:Oe,extendUint8Array:rt,extendBuiltins:Te};return qe.Base64={},Object.keys(qe).forEach(function(Fe){return qe.Base64[Fe]=qe[Fe]}),qe})})(base64);Object.defineProperty(convertMetadata,"__esModule",{value:!0});convertMetadata.convertMetadataFromGrpcWeb=convertMetadata.convertMetadataToGrpcWeb=void 0;const grpc_web_1$4=grpcWebClient_umdExports,nice_grpc_common_1$5=lib,js_base64_1=base64Exports;function convertMetadataToGrpcWeb(Z){const L=new grpc_web_1$4.grpc.Metadata;for(const[X,ee]of Z)for(const te of ee)L.append(X,typeof te=="string"?te:js_base64_1.Base64.fromUint8Array(te));return L}convertMetadata.convertMetadataToGrpcWeb=convertMetadataToGrpcWeb;function convertMetadataFromGrpcWeb(Z){const L=(0,nice_grpc_common_1$5.Metadata)();for(const[X,ee]of Object.entries(Z.headersMap))if(X.endsWith("-bin"))for(const te of ee)for(const ie of te.split(/,\s?/))L.append(X,js_base64_1.Base64.toUint8Array(ie));else L.set(X,ee);return L}convertMetadata.convertMetadataFromGrpcWeb=convertMetadataFromGrpcWeb;Object.defineProperty(createBidiStreamingMethod$1,"__esModule",{value:!0});createBidiStreamingMethod$1.createBidiStreamingMethod=void 0;const nice_grpc_common_1$4=lib,grpc_web_1$3=grpcWebClient_umdExports,abort_controller_x_1$3=require$$2,AsyncSink_1$1=AsyncSink$1,service_definitions_1$4=serviceDefinitions,isAsyncIterable_1$3=isAsyncIterable$1,convertMetadata_1$3=convertMetadata;function createBidiStreamingMethod(Z,L,X,ee){const te=(0,service_definitions_1$4.toGrpcWebMethodDefinition)(Z),ie={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*oe(ue,ce){if(!(0,isAsyncIterable_1$3.isAsyncIterable)(ue))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");const{metadata:le=(0,nice_grpc_common_1$4.Metadata)(),signal:he=new AbortController().signal,onHeader:pe,onTrailer:we}=ce,_e=new AbortController,xe=new AsyncSink_1$1.AsyncSink,Ae=grpc_web_1$3.grpc.client(te,{host:L.address,transport:L.transport});Ae.onHeaders(Ce=>{pe?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Ce))}),Ae.onMessage(Ce=>{xe.write(Ce)}),Ae.onEnd((Ce,We,Ve)=>{we?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Ve)),Ce===grpc_web_1$3.grpc.Code.OK?xe.end():xe.error(new nice_grpc_common_1$4.ClientError(Z.path,+Ce,We))}),Ae.start((0,convertMetadata_1$3.convertMetadataToGrpcWeb)(le));let Ie;pipeRequest$1(_e.signal,ue,Ae,Z).then(()=>{Ae.finishSend()},Ce=>{(0,abort_controller_x_1$3.isAbortError)(Ce)||(Ie=Ce,Ae.close(),xe.end())});const Pe=()=>{xe.error(new abort_controller_x_1$3.AbortError),_e.abort(),Ae.close()};he.addEventListener("abort",Pe);try{yield*xe}finally{if(_e.abort(),he.removeEventListener("abort",Pe),(0,abort_controller_x_1$3.throwIfAborted)(he),Ie)throw Ie}}const se=X==null?oe:(ue,ce)=>X({method:ie,requestStream:!0,request:ue,responseStream:!0,next:oe},ce);return(ue,ce)=>{const he=se(ue,{...ee,...ce})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const pe=await he.next();return pe.done&&pe.value!=null?await he.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):pe},return(){return he.return()},throw(pe){return he.throw(pe)}}}}}}createBidiStreamingMethod$1.createBidiStreamingMethod=createBidiStreamingMethod;async function pipeRequest$1(Z,L,X,ee){for await(const te of L)(0,abort_controller_x_1$3.throwIfAborted)(Z),X.send({serializeBinary:()=>ee.requestSerialize(te)})}var createClientStreamingMethod$1={};Object.defineProperty(createClientStreamingMethod$1,"__esModule",{value:!0});createClientStreamingMethod$1.createClientStreamingMethod=void 0;const nice_grpc_common_1$3=lib,grpc_web_1$2=grpcWebClient_umdExports,abort_controller_x_1$2=require$$2,service_definitions_1$3=serviceDefinitions,isAsyncIterable_1$2=isAsyncIterable$1,convertMetadata_1$2=convertMetadata;function createClientStreamingMethod(Z,L,X,ee){const te=(0,service_definitions_1$3.toGrpcWebMethodDefinition)(Z),ie={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*oe(ue,ce){if(!(0,isAsyncIterable_1$2.isAsyncIterable)(ue))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");const{metadata:le=(0,nice_grpc_common_1$3.Metadata)(),signal:he=new AbortController().signal,onHeader:pe,onTrailer:we}=ce;return await(0,abort_controller_x_1$2.execute)(he,(_e,xe)=>{const Ae=new AbortController;let Ie;const Pe=grpc_web_1$2.grpc.client(te,{host:L.address,transport:L.transport});return Pe.onHeaders(Ce=>{pe?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Ce))}),Pe.onMessage(Ce=>{Ie=Ce}),Pe.onEnd((Ce,We,Ve)=>{we?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Ve)),Ae.abort(),Ce===grpc_web_1$2.grpc.Code.OK?_e(Ie):xe(new nice_grpc_common_1$3.ClientError(Z.path,+Ce,We))}),Pe.start((0,convertMetadata_1$2.convertMetadataToGrpcWeb)(le)),pipeRequest(Ae.signal,ue,Pe,Z).then(()=>{Pe.finishSend()},Ce=>{(0,abort_controller_x_1$2.isAbortError)(Ce)||(xe(Ce),Pe.close())}),()=>{Ae.abort(),Pe.close()}})}const se=X==null?oe:(ue,ce)=>X({method:ie,requestStream:!0,request:ue,responseStream:!1,next:oe},ce);return async(ue,ce)=>{const he=se(ue,{...ee,...ce})[Symbol.asyncIterator]();let pe=await he.next();for(;;){if(!pe.done){pe=await he.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(pe.value==null){pe=await he.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return pe.value}}}createClientStreamingMethod$1.createClientStreamingMethod=createClientStreamingMethod;async function pipeRequest(Z,L,X,ee){for await(const te of L)(0,abort_controller_x_1$2.throwIfAborted)(Z),X.send({serializeBinary:()=>ee.requestSerialize(te)})}var createServerStreamingMethod$1={};Object.defineProperty(createServerStreamingMethod$1,"__esModule",{value:!0});createServerStreamingMethod$1.createServerStreamingMethod=void 0;const grpc_web_1$1=grpcWebClient_umdExports,abort_controller_x_1$1=require$$2,AsyncSink_1=AsyncSink$1,nice_grpc_common_1$2=lib,service_definitions_1$2=serviceDefinitions,convertMetadata_1$1=convertMetadata,isAsyncIterable_1$1=isAsyncIterable$1;function createServerStreamingMethod(Z,L,X,ee){const te=(0,service_definitions_1$2.toGrpcWebMethodDefinition)(Z),ie={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*oe(ue,ce){if((0,isAsyncIterable_1$1.isAsyncIterable)(ue))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");const{metadata:le=(0,nice_grpc_common_1$2.Metadata)(),signal:he=new AbortController().signal,onHeader:pe,onTrailer:we}=ce,_e=new AsyncSink_1.AsyncSink,xe=grpc_web_1$1.grpc.client(te,{host:L.address,transport:L.transport});xe.onHeaders(Ie=>{pe?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Ie))}),xe.onMessage(Ie=>{_e.write(Ie)}),xe.onEnd((Ie,Pe,Ce)=>{we?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Ce)),Ie===grpc_web_1$1.grpc.Code.OK?_e.end():_e.error(new nice_grpc_common_1$2.ClientError(Z.path,+Ie,Pe))}),xe.start((0,convertMetadata_1$1.convertMetadataToGrpcWeb)(le)),xe.send({serializeBinary:()=>Z.requestSerialize(ue)}),xe.finishSend();const Ae=()=>{_e.error(new abort_controller_x_1$1.AbortError),xe.close()};he.addEventListener("abort",Ae);try{yield*_e}finally{he.removeEventListener("abort",Ae),(0,abort_controller_x_1$1.throwIfAborted)(he)}}const se=X==null?oe:(ue,ce)=>X({method:ie,requestStream:!1,request:ue,responseStream:!0,next:oe},ce);return(ue,ce)=>{const he=se(ue,{...ee,...ce})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const pe=await he.next();return pe.done&&pe.value!=null?await he.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):pe},return(){return he.return()},throw(pe){return he.throw(pe)}}}}}}createServerStreamingMethod$1.createServerStreamingMethod=createServerStreamingMethod;var createUnaryMethod$1={};Object.defineProperty(createUnaryMethod$1,"__esModule",{value:!0});createUnaryMethod$1.createUnaryMethod=void 0;const nice_grpc_common_1$1=lib,grpc_web_1=grpcWebClient_umdExports,abort_controller_x_1=require$$2,service_definitions_1$1=serviceDefinitions,isAsyncIterable_1=isAsyncIterable$1,convertMetadata_1=convertMetadata;function createUnaryMethod(Z,L,X,ee){const te=(0,service_definitions_1$1.toGrpcWebMethodDefinition)(Z),ie={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*oe(ue,ce){if((0,isAsyncIterable_1.isAsyncIterable)(ue))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");const{metadata:le=(0,nice_grpc_common_1$1.Metadata)(),signal:he=new AbortController().signal,onHeader:pe,onTrailer:we}=ce;return await(0,abort_controller_x_1.execute)(he,(_e,xe)=>{let Ae;const Ie=grpc_web_1.grpc.client(te,{host:L.address,transport:L.transport});return Ie.onHeaders(Pe=>{pe?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Pe))}),Ie.onMessage(Pe=>{Ae=Pe}),Ie.onEnd((Pe,Ce,We)=>{we?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(We)),Pe===grpc_web_1.grpc.Code.OK?_e(Ae):xe(new nice_grpc_common_1$1.ClientError(Z.path,+Pe,Ce))}),Ie.start((0,convertMetadata_1.convertMetadataToGrpcWeb)(le)),Ie.send({serializeBinary:()=>Z.requestSerialize(ue)}),Ie.finishSend(),()=>{Ie.close()}})}const se=X==null?oe:(ue,ce)=>X({method:ie,requestStream:!1,request:ue,responseStream:!1,next:oe},ce);return async(ue,ce)=>{const he=se(ue,{...ee,...ce})[Symbol.asyncIterator]();let pe=await he.next();for(;;){if(!pe.done){pe=await he.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(pe.value==null){pe=await he.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return pe.value}}}createUnaryMethod$1.createUnaryMethod=createUnaryMethod;Object.defineProperty(ClientFactory,"__esModule",{value:!0});ClientFactory.createClient=ClientFactory.createClientFactory=void 0;const nice_grpc_common_1=lib,service_definitions_1=serviceDefinitions,createBidiStreamingMethod_1=createBidiStreamingMethod$1,createClientStreamingMethod_1=createClientStreamingMethod$1,createServerStreamingMethod_1=createServerStreamingMethod$1,createUnaryMethod_1=createUnaryMethod$1;function createClientFactory(){return createClientFactoryWithMiddleware()}ClientFactory.createClientFactory=createClientFactory;function createClient(Z,L,X){return createClientFactory().create(Z,L,X)}ClientFactory.createClient=createClient;function createClientFactoryWithMiddleware(Z){return{use(L){return createClientFactoryWithMiddleware(Z==null?L:(0,nice_grpc_common_1.composeClientMiddleware)(Z,L))},create(L,X,ee={}){const te={},ie=Object.entries((0,service_definitions_1.normalizeServiceDefinition)(L));for(const[oe,se]of ie){const ue={...ee["*"],...ee[oe]};se.requestStream?se.responseStream?te[oe]=(0,createBidiStreamingMethod_1.createBidiStreamingMethod)(se,X,Z,ue):te[oe]=(0,createClientStreamingMethod_1.createClientStreamingMethod)(se,X,Z,ue):se.responseStream?te[oe]=(0,createServerStreamingMethod_1.createServerStreamingMethod)(se,X,Z,ue):te[oe]=(0,createUnaryMethod_1.createUnaryMethod)(se,X,Z,ue)}return te}}}var Client={};Object.defineProperty(Client,"__esModule",{value:!0});(function(Z){var L=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(te,ie,oe,se){se===void 0&&(se=oe);var ue=Object.getOwnPropertyDescriptor(ie,oe);(!ue||("get"in ue?!ie.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return ie[oe]}}),Object.defineProperty(te,se,ue)}:function(te,ie,oe,se){se===void 0&&(se=oe),te[se]=ie[oe]}),X=commonjsGlobal&&commonjsGlobal.__exportStar||function(te,ie){for(var oe in te)oe!=="default"&&!Object.prototype.hasOwnProperty.call(ie,oe)&&L(ie,te,oe)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.Status=Z.Metadata=Z.composeClientMiddleware=Z.ClientError=void 0;var ee=lib;Object.defineProperty(Z,"ClientError",{enumerable:!0,get:function(){return ee.ClientError}}),Object.defineProperty(Z,"composeClientMiddleware",{enumerable:!0,get:function(){return ee.composeClientMiddleware}}),Object.defineProperty(Z,"Metadata",{enumerable:!0,get:function(){return ee.Metadata}}),Object.defineProperty(Z,"Status",{enumerable:!0,get:function(){return ee.Status}}),X(serviceDefinitions,Z),X(channel,Z),X(ClientFactory,Z),X(Client,Z)})(lib$1);function createBaseLinkedTwitterPair(){return{username:"",address:""}}var LinkedTwitterPair={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),Z.address!==""&&L.uint32(18).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseLinkedTwitterPair();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.username=X.string();continue;case 2:if(ie!=18)break;te.address=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return LinkedTwitterPair.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedTwitterPair();return L.username=Z.username??"",L.address=Z.address??"",L}};function createBaseDripRequest(){return{username:"",address:""}}var DripRequest={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),Z.address!==""&&L.uint32(18).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseDripRequest();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.username=X.string();continue;case 2:if(ie!=18)break;te.address=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return DripRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseDripRequest();return L.username=Z.username??"",L.address=Z.address??"",L}};function createBaseDripDevRequest(){return{address:""}}var DripDevRequest={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseDripDevRequest();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.address=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return DripDevRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseDripDevRequest();return L.address=Z.address??"",L}};function createBaseDripResponse(){return{dripTxHash:"",ecsTxHash:""}}var DripResponse={encode(Z,L=_m0.Writer.create()){return Z.dripTxHash!==""&&L.uint32(10).string(Z.dripTxHash),Z.ecsTxHash!==""&&L.uint32(18).string(Z.ecsTxHash),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseDripResponse();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.dripTxHash=X.string();continue;case 2:if(ie!=18)break;te.ecsTxHash=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return DripResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseDripResponse();return L.dripTxHash=Z.dripTxHash??"",L.ecsTxHash=Z.ecsTxHash??"",L}};function createBaseTimeUntilDripResponse(){return{timeUntilDripMinutes:0,timeUntilDripSeconds:0}}var TimeUntilDripResponse={encode(Z,L=_m0.Writer.create()){return Z.timeUntilDripMinutes!==0&&L.uint32(9).double(Z.timeUntilDripMinutes),Z.timeUntilDripSeconds!==0&&L.uint32(17).double(Z.timeUntilDripSeconds),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseTimeUntilDripResponse();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=9)break;te.timeUntilDripMinutes=X.double();continue;case 2:if(ie!=17)break;te.timeUntilDripSeconds=X.double();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return TimeUntilDripResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseTimeUntilDripResponse();return L.timeUntilDripMinutes=Z.timeUntilDripMinutes??0,L.timeUntilDripSeconds=Z.timeUntilDripSeconds??0,L}};function createBaseGetLinkedTwittersRequest(){return{}}var GetLinkedTwittersRequest={encode(Z,L=_m0.Writer.create()){return L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseGetLinkedTwittersRequest();for(;X.pos<ee;){const ie=X.uint32();if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return GetLinkedTwittersRequest.fromPartial(Z??{})},fromPartial(Z){return createBaseGetLinkedTwittersRequest()}};function createBaseGetLinkedTwittersResponse(){return{linkedTwitters:[]}}var GetLinkedTwittersResponse={encode(Z,L=_m0.Writer.create()){for(const X of Z.linkedTwitters)LinkedTwitterPair.encode(X,L.uint32(10).fork()).ldelim();return L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseGetLinkedTwittersResponse();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.linkedTwitters.push(LinkedTwitterPair.decode(X,X.uint32()));continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return GetLinkedTwittersResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseGetLinkedTwittersResponse();return L.linkedTwitters=Z.linkedTwitters?.map(X=>LinkedTwitterPair.fromPartial(X))||[],L}};function createBaseLinkedTwitterForAddressRequest(){return{address:""}}var LinkedTwitterForAddressRequest={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseLinkedTwitterForAddressRequest();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.address=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return LinkedTwitterForAddressRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedTwitterForAddressRequest();return L.address=Z.address??"",L}};function createBaseLinkedTwitterForAddressResponse(){return{username:""}}var LinkedTwitterForAddressResponse={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseLinkedTwitterForAddressResponse();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.username=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return LinkedTwitterForAddressResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedTwitterForAddressResponse();return L.username=Z.username??"",L}};function createBaseLinkedAddressForTwitterRequest(){return{username:""}}var LinkedAddressForTwitterRequest={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseLinkedAddressForTwitterRequest();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.username=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return LinkedAddressForTwitterRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedAddressForTwitterRequest();return L.username=Z.username??"",L}};function createBaseLinkedAddressForTwitterResponse(){return{address:""}}var LinkedAddressForTwitterResponse={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseLinkedAddressForTwitterResponse();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.address=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return LinkedAddressForTwitterResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedAddressForTwitterResponse();return L.address=Z.address??"",L}};function createBaseSetLinkedTwitterRequest(){return{address:"",username:"",signature:""}}var SetLinkedTwitterRequest={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),Z.username!==""&&L.uint32(18).string(Z.username),Z.signature!==""&&L.uint32(26).string(Z.signature),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseSetLinkedTwitterRequest();for(;X.pos<ee;){const ie=X.uint32();switch(ie>>>3){case 1:if(ie!=10)break;te.address=X.string();continue;case 2:if(ie!=18)break;te.username=X.string();continue;case 3:if(ie!=26)break;te.signature=X.string();continue}if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return SetLinkedTwitterRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseSetLinkedTwitterRequest();return L.address=Z.address??"",L.username=Z.username??"",L.signature=Z.signature??"",L}};function createBaseSetLinkedTwitterResponse(){return{}}var SetLinkedTwitterResponse={encode(Z,L=_m0.Writer.create()){return L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let ee=L===void 0?X.len:X.pos+L;const te=createBaseSetLinkedTwitterResponse();for(;X.pos<ee;){const ie=X.uint32();if((ie&7)==4||ie==0)break;X.skipType(ie&7)}return te},create(Z){return SetLinkedTwitterResponse.fromPartial(Z??{})},fromPartial(Z){return createBaseSetLinkedTwitterResponse()}},FaucetServiceDefinition={name:"FaucetService",fullName:"faucet.FaucetService",methods:{drip:{name:"Drip",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripDev:{name:"DripDev",requestType:DripDevRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripVerifyTweet:{name:"DripVerifyTweet",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},timeUntilDrip:{name:"TimeUntilDrip",requestType:DripRequest,requestStream:!1,responseType:TimeUntilDripResponse,responseStream:!1,options:{}},getLinkedTwitters:{name:"GetLinkedTwitters",requestType:GetLinkedTwittersRequest,requestStream:!1,responseType:GetLinkedTwittersResponse,responseStream:!1,options:{}},getLinkedTwitterForAddress:{name:"GetLinkedTwitterForAddress",requestType:LinkedTwitterForAddressRequest,requestStream:!1,responseType:LinkedTwitterForAddressResponse,responseStream:!1,options:{}},getLinkedAddressForTwitter:{name:"GetLinkedAddressForTwitter",requestType:LinkedAddressForTwitterRequest,requestStream:!1,responseType:LinkedAddressForTwitterResponse,responseStream:!1,options:{}},setLinkedTwitter:{name:"SetLinkedTwitter",requestType:SetLinkedTwitterRequest,requestStream:!1,responseType:SetLinkedTwitterResponse,responseStream:!1,options:{}}}};(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createFaucetService(Z){return lib$1.createClient(FaucetServiceDefinition,lib$1.createChannel(Z))}const worldsJson={4242:{address:"0x8c49E99D044f74c92e2376C0ac16579d1CB3B07B",blockNumber:23183468},31337:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}};var foundry$1={id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}};const foundry=defineChain(foundry$1);var t={name:"Lattice Testnet",id:4242,network:"lattice-testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]},public:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]}},blockExplorers:{otterscan:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"},default:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},r={...foundry,fees:{defaultPriorityFee:0n}};const supportedChains=[r,t],worlds=worldsJson;async function getNetworkConfig(){const Z=new URLSearchParams(window.location.search),L=Number(Z.get("chainId")||Z.get("chainid")||"31337"),X=supportedChains.findIndex(se=>se.id===L),ee=supportedChains[X];if(!ee)throw new Error(`Chain ${L} not found`);const te=worlds[ee.id.toString()],ie=Z.get("worldAddress")||te?.address;if(!ie)throw new Error(`No world address found for chain ${L}. Did you run \`mud deploy\`?`);const oe=Z.has("initialBlockNumber")?Number(Z.get("initialBlockNumber")):te?.blockNumber??0n;return{privateKey:be$1(),chainId:L,chain:ee,faucetServiceUrl:Z.get("faucet")??ee.faucetUrl,worldAddress:ie,initialBlockNumber:oe}}const world=Yt(),_abi=[{inputs:[{internalType:"string",name:"resource",type:"string"},{internalType:"address",name:"caller",type:"address"}],name:"AccessDenied",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorExists",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorNotFound",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"InvalidSelector",type:"error"},{inputs:[{internalType:"string",name:"module",type:"string"}],name:"ModuleAlreadyInstalled",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceExists",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_DataIndexOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidDataLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidFieldNamesLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidKeyNamesLength",type:"error"},{inputs:[],name:"StoreCore_NotDynamicField",type:"error"},{inputs:[],name:"StoreCore_NotImplemented",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableAlreadyExists",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableNotFound",type:"error"},{inputs:[{internalType:"address",name:"system",type:"address"}],name:"SystemExists",type:"error"},{anonymous:!1,inputs:[],name:"HelloWorld",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"}],name:"StoreDeleteRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreEphemeralRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"uint8",name:"schemaIndex",type:"uint8"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetField",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetRecord",type:"event"},{inputs:[],name:"askStart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes",name:"funcSelectorAndArgs",type:"bytes"}],name:"call",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"deleteRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"emitEphemeralRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"getFieldSlice",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getKeySchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getRecord",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getValueSchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"grantAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"increment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installRootModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"joinGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"byteLengthToPop",type:"uint256"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"popFromField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"dataToPush",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"pushToField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"string",name:"systemFunctionName",type:"string"},{internalType:"string",name:"systemFunctionArguments",type:"string"}],name:"registerFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes16",name:"namespace",type:"bytes16"}],name:"registerNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"},{internalType:"bytes4",name:"systemFunctionSelector",type:"bytes4"}],name:"registerRootFunctionSelector",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"contract IStoreHook",name:"hook",type:"address"}],name:"registerStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract System",name:"system",type:"address"},{internalType:"bool",name:"publicAccess",type:"bool"}],name:"registerSystem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract ISystemHook",name:"hook",type:"address"}],name:"registerSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"Schema",name:"keySchema",type:"bytes32"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"string[]",name:"keyNames",type:"string[]"},{internalType:"string[]",name:"fieldNames",type:"string[]"}],name:"registerTable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"revokeAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"startByteIndex",type:"uint256"},{internalType:"bytes",name:"dataToSet",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"updateInField",outputs:[],stateMutability:"nonpayable",type:"function"}];class IWorld__factory{static createInterface(){return new Interface(_abi)}static connect(L,X){return new Contract(L,_abi,X)}}IWorld__factory.abi=_abi;const mudConfig=s({enums:{},tables:{Counter:{keySchema:{},schema:"uint32"},Game:{keySchema:{},schema:{gameId:"uint256",startTime:"uint256",endTime:"uint256"}},GameState:{keySchema:{},schema:"uint32"},GameMap:{keySchema:{},schema:{width:"uint256",height:"uint256",map:"bytes"}},GameMapArray:{keySchema:{},schema:{amount:"uint32",receiver:"bytes32"},ephemeral:!0},MapBlock:{dataStruct:!1,schema:{x:"uint256",y:"uint256"}},MapItems:{keySchema:{},schema:"bytes"},Player:{dataStruct:!1,schema:{gameId:"uint256",state:"uint32",money:"uint32",assets:"bytes",transactions:"bytes"}}}});async function setupNetwork(){const Z=await getNetworkConfig(),L={chain:Z.chain,transport:Ee(fallback([webSocket(),http()])),pollingInterval:1e3},X=createPublicClient(L),ee=J(Z.privateKey),te=createWalletClient({...L,account:ee}),ie=new Subject,oe=me({address:Z.worldAddress,abi:IWorld__factory.abi,publicClient:X,walletClient:te,onWrite:he=>ie.next(he)}),{components:se,latestBlock$:ue,blockStorageOperations$:ce,waitForTransaction:le}=await ae({world,config:mudConfig,address:Z.worldAddress,publicClient:X,startBlock:BigInt(Z.initialBlockNumber)});if(Z.faucetServiceUrl){const he=ee.address;console.info("[Dev Faucet]: Player address -> ",he);const pe=createFaucetService(Z.faucetServiceUrl),we=async()=>{const _e=await X.getBalance({address:he});console.info(`[Dev Faucet]: Player balance -> ${_e}`),_e<parseEther("1")&&(console.info("[Dev Faucet]: Balance is low, dripping funds to player"),await pe.dripDev({address:he}),await pe.dripDev({address:he}))};we(),setInterval(we,2e4)}return{world,components:se,playerEntity:u({address:"address"},{address:te.account.address}),publicClient:X,walletClient:te,latestBlock$:ue,blockStorageOperations$:ce,waitForTransaction:le,worldContract:oe,write$:ie.asObservable().pipe(share$1())}}async function setup(){const Z=await setupNetwork(),L=createClientComponents(Z),X=createSystemCalls(Z,L);return{network:Z,components:L,systemCalls:X}}const{components,systemCalls:{increment,joinGame,askStart},network}=await setup();globalThis.ponzi={counter:0,currentPlayer:network.playerEntity,gameState:null,game:null,gameMap:null,players:null};globalThis.env={components};components.GameState.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("GameState updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.gameState=L.value,globalThis.ponzi.gamestate_update?.(X.value,L.value)});components.Counter.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("Counter updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.counter=L,globalThis.ponzi.counter_update?.(X,L)});components.Game.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("Game updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.game=L,globalThis.ponzi.game_update?.(X,L)});components.Player.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("Player updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.player_update?.(Z)});window.getPlayers=()=>components.Player.values;window.queryValue=async(Z,L)=>{const X=De(Z,L);return console.log("getValueByComAndEntity:",X),X};window.increment=async()=>{console.log("new counter value:",await increment())};window.joinGame=async()=>{console.log("joinGame:",await joinGame())};window.askStart=async()=>{console.log("askStart:",await askStart())};export{BaseError as B,HttpRequestError as H,InvalidAddressError as I,concat as a,isHex as b,call as c,decodeErrorResult as d,encodeAbiParameters as e,getUrl$1 as g,isAddress as i,stringify as s};
//# sourceMappingURL=index-46670b1e.js.map
