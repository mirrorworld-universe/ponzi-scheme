(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))te(ie);new MutationObserver(ie=>{for(const oe of ie)if(oe.type==="childList")for(const se of oe.addedNodes)se.tagName==="LINK"&&se.rel==="modulepreload"&&te(se)}).observe(document,{childList:!0,subtree:!0});function X(ie){const oe={};return ie.integrity&&(oe.integrity=ie.integrity),ie.referrerPolicy&&(oe.referrerPolicy=ie.referrerPolicy),ie.crossOrigin==="use-credentials"?oe.credentials="include":ie.crossOrigin==="anonymous"?oe.credentials="omit":oe.credentials="same-origin",oe}function te(ie){if(ie.ep)return;ie.ep=!0;const oe=X(ie);fetch(ie.href,oe)}})();const style="",scriptRel="modulepreload",assetsURL=function(Z){return"/"+Z},seen={},__vitePreload=function(L,X,te){if(!X||X.length===0)return L();const ie=document.getElementsByTagName("link");return Promise.all(X.map(oe=>{if(oe=assetsURL(oe),oe in seen)return;seen[oe]=!0;const se=oe.endsWith(".css"),ue=se?'[rel="stylesheet"]':"";if(!!te)for(let de=ie.length-1;de>=0;de--){const pe=ie[de];if(pe.href===oe&&(!se||pe.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${oe}"]${ue}`))return;const le=document.createElement("link");if(le.rel=se?"stylesheet":scriptRel,se||(le.as="script",le.crossOrigin=""),le.href=oe,document.head.appendChild(le),se)return new Promise((de,pe)=>{le.addEventListener("load",de),le.addEventListener("error",()=>pe(new Error(`Unable to preload CSS for ${oe}`)))})})).then(()=>L())};function createClientComponents({components:Z}){return{...Z}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Z){return Z&&Z.__esModule&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z}function getAugmentedNamespace(Z){if(Z.__esModule)return Z;var L=Z.default;if(typeof L=="function"){var X=function te(){if(this instanceof te){var ie=[null];ie.push.apply(ie,arguments);var oe=Function.bind.apply(L,ie);return new oe}return L.apply(this,arguments)};X.prototype=L.prototype}else X={};return Object.defineProperty(X,"__esModule",{value:!0}),Object.keys(Z).forEach(function(te){var ie=Object.getOwnPropertyDescriptor(Z,te);Object.defineProperty(X,te,ie.get?ie:{enumerable:!0,get:function(){return Z[te]}})}),X}var extendStatics=function(Z,L){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,te){X.__proto__=te}||function(X,te){for(var ie in te)Object.prototype.hasOwnProperty.call(te,ie)&&(X[ie]=te[ie])},extendStatics(Z,L)};function __extends$1(Z,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");extendStatics(Z,L);function X(){this.constructor=Z}Z.prototype=L===null?Object.create(L):(X.prototype=L.prototype,new X)}function __awaiter$4(Z,L,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(pe){se(pe)}}function ce(de){try{le(te.throw(de))}catch(pe){se(pe)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(Z,L||[])).next())})}function __generator(Z,L){var X={label:0,sent:function(){if(oe[0]&1)throw oe[1];return oe[1]},trys:[],ops:[]},te,ie,oe,se;return se={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function ue(le){return function(de){return ce([le,de])}}function ce(le){if(te)throw new TypeError("Generator is already executing.");for(;se&&(se=0,le[0]&&(X=0)),X;)try{if(te=1,ie&&(oe=le[0]&2?ie.return:le[0]?ie.throw||((oe=ie.return)&&oe.call(ie),0):ie.next)&&!(oe=oe.call(ie,le[1])).done)return oe;switch(ie=0,oe&&(le=[le[0]&2,oe.value]),le[0]){case 0:case 1:oe=le;break;case 4:return X.label++,{value:le[1],done:!1};case 5:X.label++,ie=le[1],le=[0];continue;case 7:le=X.ops.pop(),X.trys.pop();continue;default:if(oe=X.trys,!(oe=oe.length>0&&oe[oe.length-1])&&(le[0]===6||le[0]===2)){X=0;continue}if(le[0]===3&&(!oe||le[1]>oe[0]&&le[1]<oe[3])){X.label=le[1];break}if(le[0]===6&&X.label<oe[1]){X.label=oe[1],oe=le;break}if(oe&&X.label<oe[2]){X.label=oe[2],X.ops.push(le);break}oe[2]&&X.ops.pop(),X.trys.pop();continue}le=L.call(Z,X)}catch(de){le=[6,de],ie=0}finally{te=oe=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}function __values(Z){var L=typeof Symbol=="function"&&Symbol.iterator,X=L&&Z[L],te=0;if(X)return X.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&te>=Z.length&&(Z=void 0),{value:Z&&Z[te++],done:!Z}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$4(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var te=X.call(Z),ie,oe=[],se;try{for(;(L===void 0||L-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe}function __spreadArray$3(Z,L,X){if(X||arguments.length===2)for(var te=0,ie=L.length,oe;te<ie;te++)(oe||!(te in L))&&(oe||(oe=Array.prototype.slice.call(L,0,te)),oe[te]=L[te]);return Z.concat(oe||Array.prototype.slice.call(L))}function __await(Z){return this instanceof __await?(this.v=Z,this):new __await(Z)}function __asyncGenerator(Z,L,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te=X.apply(Z,L||[]),ie,oe=[];return ie={},se("next"),se("throw"),se("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function se(ge){te[ge]&&(ie[ge]=function(_e){return new Promise(function(Te,Ae){oe.push([ge,_e,Te,Ae])>1||ue(ge,_e)})})}function ue(ge,_e){try{ce(te[ge](_e))}catch(Te){pe(oe[0][3],Te)}}function ce(ge){ge.value instanceof __await?Promise.resolve(ge.value.v).then(le,de):pe(oe[0][2],ge)}function le(ge){ue("next",ge)}function de(ge){ue("throw",ge)}function pe(ge,_e){ge(_e),oe.shift(),oe.length&&ue(oe[0][0],oe[0][1])}}function __asyncValues(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=Z[Symbol.asyncIterator],X;return L?L.call(Z):(Z=typeof __values=="function"?__values(Z):Z[Symbol.iterator](),X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X);function te(oe){X[oe]=Z[oe]&&function(se){return new Promise(function(ue,ce){se=Z[oe](se),ie(ue,ce,se.done,se.value)})}}function ie(oe,se,ue,ce){Promise.resolve(ce).then(function(le){oe({value:le,done:ue})},se)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$2(Z){return typeof Z=="function"}function createErrorClass(Z){var L=function(te){Error.call(te),te.stack=new Error().stack},X=Z(L);return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}var UnsubscriptionError=createErrorClass(function(Z){return function(X){Z(this),this.message=X?X.length+` errors occurred during unsubscription:
`+X.map(function(te,ie){return ie+1+") "+te.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=X}});function arrRemove(Z,L){if(Z){var X=Z.indexOf(L);0<=X&&Z.splice(X,1)}}var Subscription=function(){function Z(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}return Z.prototype.unsubscribe=function(){var L,X,te,ie,oe;if(!this.closed){this.closed=!0;var se=this._parentage;if(se)if(this._parentage=null,Array.isArray(se))try{for(var ue=__values(se),ce=ue.next();!ce.done;ce=ue.next()){var le=ce.value;le.remove(this)}}catch(Ae){L={error:Ae}}finally{try{ce&&!ce.done&&(X=ue.return)&&X.call(ue)}finally{if(L)throw L.error}}else se.remove(this);var de=this.initialTeardown;if(isFunction$2(de))try{de()}catch(Ae){oe=Ae instanceof UnsubscriptionError?Ae.errors:[Ae]}var pe=this._finalizers;if(pe){this._finalizers=null;try{for(var ge=__values(pe),_e=ge.next();!_e.done;_e=ge.next()){var Te=_e.value;try{execFinalizer(Te)}catch(Ae){oe=oe??[],Ae instanceof UnsubscriptionError?oe=__spreadArray$3(__spreadArray$3([],__read$4(oe)),__read$4(Ae.errors)):oe.push(Ae)}}}catch(Ae){te={error:Ae}}finally{try{_e&&!_e.done&&(ie=ge.return)&&ie.call(ge)}finally{if(te)throw te.error}}}if(oe)throw new UnsubscriptionError(oe)}},Z.prototype.add=function(L){var X;if(L&&L!==this)if(this.closed)execFinalizer(L);else{if(L instanceof Z){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=(X=this._finalizers)!==null&&X!==void 0?X:[]).push(L)}},Z.prototype._hasParent=function(L){var X=this._parentage;return X===L||Array.isArray(X)&&X.includes(L)},Z.prototype._addParent=function(L){var X=this._parentage;this._parentage=Array.isArray(X)?(X.push(L),X):X?[X,L]:L},Z.prototype._removeParent=function(L){var X=this._parentage;X===L?this._parentage=null:Array.isArray(X)&&arrRemove(X,L)},Z.prototype.remove=function(L){var X=this._finalizers;X&&arrRemove(X,L),L instanceof Z&&L._removeParent(this)},Z.EMPTY=function(){var L=new Z;return L.closed=!0,L}(),Z}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(Z){return Z instanceof Subscription||Z&&"closed"in Z&&isFunction$2(Z.remove)&&isFunction$2(Z.add)&&isFunction$2(Z.unsubscribe)}function execFinalizer(Z){isFunction$2(Z)?Z():Z.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(Z,L){for(var X=[],te=2;te<arguments.length;te++)X[te-2]=arguments[te];var ie=timeoutProvider.delegate;return ie?.setTimeout?ie.setTimeout.apply(ie,__spreadArray$3([Z,L],__read$4(X))):setTimeout.apply(void 0,__spreadArray$3([Z,L],__read$4(X)))},clearTimeout:function(Z){var L=timeoutProvider.delegate;return(L?.clearTimeout||clearTimeout)(Z)},delegate:void 0};function reportUnhandledError(Z){timeoutProvider.setTimeout(function(){throw Z})}function noop$2(){}function errorContext(Z){Z()}var Subscriber=function(Z){__extends$1(L,Z);function L(X){var te=Z.call(this)||this;return te.isStopped=!1,X?(te.destination=X,isSubscription(X)&&X.add(te)):te.destination=EMPTY_OBSERVER,te}return L.create=function(X,te,ie){return new SafeSubscriber(X,te,ie)},L.prototype.next=function(X){this.isStopped||this._next(X)},L.prototype.error=function(X){this.isStopped||(this.isStopped=!0,this._error(X))},L.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},L.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,Z.prototype.unsubscribe.call(this),this.destination=null)},L.prototype._next=function(X){this.destination.next(X)},L.prototype._error=function(X){try{this.destination.error(X)}finally{this.unsubscribe()}},L.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},L}(Subscription),_bind=Function.prototype.bind;function bind(Z,L){return _bind.call(Z,L)}var ConsumerObserver=function(){function Z(L){this.partialObserver=L}return Z.prototype.next=function(L){var X=this.partialObserver;if(X.next)try{X.next(L)}catch(te){handleUnhandledError(te)}},Z.prototype.error=function(L){var X=this.partialObserver;if(X.error)try{X.error(L)}catch(te){handleUnhandledError(te)}else handleUnhandledError(L)},Z.prototype.complete=function(){var L=this.partialObserver;if(L.complete)try{L.complete()}catch(X){handleUnhandledError(X)}},Z}(),SafeSubscriber=function(Z){__extends$1(L,Z);function L(X,te,ie){var oe=Z.call(this)||this,se;if(isFunction$2(X)||!X)se={next:X??void 0,error:te??void 0,complete:ie??void 0};else{var ue;oe&&config.useDeprecatedNextContext?(ue=Object.create(X),ue.unsubscribe=function(){return oe.unsubscribe()},se={next:X.next&&bind(X.next,ue),error:X.error&&bind(X.error,ue),complete:X.complete&&bind(X.complete,ue)}):se=X}return oe.destination=new ConsumerObserver(se),oe}return L}(Subscriber);function handleUnhandledError(Z){reportUnhandledError(Z)}function defaultErrorHandler(Z){throw Z}var EMPTY_OBSERVER={closed:!0,next:noop$2,error:defaultErrorHandler,complete:noop$2},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(Z){return Z}function pipe(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];return pipeFromArray$1(Z)}function pipeFromArray$1(Z){return Z.length===0?identity$1:Z.length===1?Z[0]:function(X){return Z.reduce(function(te,ie){return ie(te)},X)}}var Observable=function(){function Z(L){L&&(this._subscribe=L)}return Z.prototype.lift=function(L){var X=new Z;return X.source=this,X.operator=L,X},Z.prototype.subscribe=function(L,X,te){var ie=this,oe=isSubscriber(L)?L:new SafeSubscriber(L,X,te);return errorContext(function(){var se=ie,ue=se.operator,ce=se.source;oe.add(ue?ue.call(oe,ce):ce?ie._subscribe(oe):ie._trySubscribe(oe))}),oe},Z.prototype._trySubscribe=function(L){try{return this._subscribe(L)}catch(X){L.error(X)}},Z.prototype.forEach=function(L,X){var te=this;return X=getPromiseCtor(X),new X(function(ie,oe){var se=new SafeSubscriber({next:function(ue){try{L(ue)}catch(ce){oe(ce),se.unsubscribe()}},error:oe,complete:ie});te.subscribe(se)})},Z.prototype._subscribe=function(L){var X;return(X=this.source)===null||X===void 0?void 0:X.subscribe(L)},Z.prototype[observable$1]=function(){return this},Z.prototype.pipe=function(){for(var L=[],X=0;X<arguments.length;X++)L[X]=arguments[X];return pipeFromArray$1(L)(this)},Z.prototype.toPromise=function(L){var X=this;return L=getPromiseCtor(L),new L(function(te,ie){var oe;X.subscribe(function(se){return oe=se},function(se){return ie(se)},function(){return te(oe)})})},Z.create=function(L){return new Z(L)},Z}();function getPromiseCtor(Z){var L;return(L=Z??config.Promise)!==null&&L!==void 0?L:Promise}function isObserver(Z){return Z&&isFunction$2(Z.next)&&isFunction$2(Z.error)&&isFunction$2(Z.complete)}function isSubscriber(Z){return Z&&Z instanceof Subscriber||isObserver(Z)&&isSubscription(Z)}function hasLift(Z){return isFunction$2(Z?.lift)}function operate(Z){return function(L){if(hasLift(L))return L.lift(function(X){try{return Z(X,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(Z,L,X,te,ie){return new OperatorSubscriber(Z,L,X,te,ie)}var OperatorSubscriber=function(Z){__extends$1(L,Z);function L(X,te,ie,oe,se,ue){var ce=Z.call(this,X)||this;return ce.onFinalize=se,ce.shouldUnsubscribe=ue,ce._next=te?function(le){try{te(le)}catch(de){X.error(de)}}:Z.prototype._next,ce._error=oe?function(le){try{oe(le)}catch(de){X.error(de)}finally{this.unsubscribe()}}:Z.prototype._error,ce._complete=ie?function(){try{ie()}catch(le){X.error(le)}finally{this.unsubscribe()}}:Z.prototype._complete,ce}return L.prototype.unsubscribe=function(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var te=this.closed;Z.prototype.unsubscribe.call(this),!te&&((X=this.onFinalize)===null||X===void 0||X.call(this))}},L}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(Z){return function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(Z){__extends$1(L,Z);function L(){var X=Z.call(this)||this;return X.closed=!1,X.currentObservers=null,X.observers=[],X.isStopped=!1,X.hasError=!1,X.thrownError=null,X}return L.prototype.lift=function(X){var te=new AnonymousSubject(this,this);return te.operator=X,te},L.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},L.prototype.next=function(X){var te=this;errorContext(function(){var ie,oe;if(te._throwIfClosed(),!te.isStopped){te.currentObservers||(te.currentObservers=Array.from(te.observers));try{for(var se=__values(te.currentObservers),ue=se.next();!ue.done;ue=se.next()){var ce=ue.value;ce.next(X)}}catch(le){ie={error:le}}finally{try{ue&&!ue.done&&(oe=se.return)&&oe.call(se)}finally{if(ie)throw ie.error}}}})},L.prototype.error=function(X){var te=this;errorContext(function(){if(te._throwIfClosed(),!te.isStopped){te.hasError=te.isStopped=!0,te.thrownError=X;for(var ie=te.observers;ie.length;)ie.shift().error(X)}})},L.prototype.complete=function(){var X=this;errorContext(function(){if(X._throwIfClosed(),!X.isStopped){X.isStopped=!0;for(var te=X.observers;te.length;)te.shift().complete()}})},L.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(L.prototype,"observed",{get:function(){var X;return((X=this.observers)===null||X===void 0?void 0:X.length)>0},enumerable:!1,configurable:!0}),L.prototype._trySubscribe=function(X){return this._throwIfClosed(),Z.prototype._trySubscribe.call(this,X)},L.prototype._subscribe=function(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)},L.prototype._innerSubscribe=function(X){var te=this,ie=this,oe=ie.hasError,se=ie.isStopped,ue=ie.observers;return oe||se?EMPTY_SUBSCRIPTION:(this.currentObservers=null,ue.push(X),new Subscription(function(){te.currentObservers=null,arrRemove(ue,X)}))},L.prototype._checkFinalizedStatuses=function(X){var te=this,ie=te.hasError,oe=te.thrownError,se=te.isStopped;ie?X.error(oe):se&&X.complete()},L.prototype.asObservable=function(){var X=new Observable;return X.source=this,X},L.create=function(X,te){return new AnonymousSubject(X,te)},L}(Observable),AnonymousSubject=function(Z){__extends$1(L,Z);function L(X,te){var ie=Z.call(this)||this;return ie.destination=X,ie.source=te,ie}return L.prototype.next=function(X){var te,ie;(ie=(te=this.destination)===null||te===void 0?void 0:te.next)===null||ie===void 0||ie.call(te,X)},L.prototype.error=function(X){var te,ie;(ie=(te=this.destination)===null||te===void 0?void 0:te.error)===null||ie===void 0||ie.call(te,X)},L.prototype.complete=function(){var X,te;(te=(X=this.destination)===null||X===void 0?void 0:X.complete)===null||te===void 0||te.call(X)},L.prototype._subscribe=function(X){var te,ie;return(ie=(te=this.source)===null||te===void 0?void 0:te.subscribe(X))!==null&&ie!==void 0?ie:EMPTY_SUBSCRIPTION},L}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(Z){__extends$1(L,Z);function L(X,te,ie){X===void 0&&(X=1/0),te===void 0&&(te=1/0),ie===void 0&&(ie=dateTimestampProvider);var oe=Z.call(this)||this;return oe._bufferSize=X,oe._windowTime=te,oe._timestampProvider=ie,oe._buffer=[],oe._infiniteTimeWindow=!0,oe._infiniteTimeWindow=te===1/0,oe._bufferSize=Math.max(1,X),oe._windowTime=Math.max(1,te),oe}return L.prototype.next=function(X){var te=this,ie=te.isStopped,oe=te._buffer,se=te._infiniteTimeWindow,ue=te._timestampProvider,ce=te._windowTime;ie||(oe.push(X),!se&&oe.push(ue.now()+ce)),this._trimBuffer(),Z.prototype.next.call(this,X)},L.prototype._subscribe=function(X){this._throwIfClosed(),this._trimBuffer();for(var te=this._innerSubscribe(X),ie=this,oe=ie._infiniteTimeWindow,se=ie._buffer,ue=se.slice(),ce=0;ce<ue.length&&!X.closed;ce+=oe?1:2)X.next(ue[ce]);return this._checkFinalizedStatuses(X),te},L.prototype._trimBuffer=function(){var X=this,te=X._bufferSize,ie=X._timestampProvider,oe=X._buffer,se=X._infiniteTimeWindow,ue=(se?1:2)*te;if(te<1/0&&ue<oe.length&&oe.splice(0,oe.length-ue),!se){for(var ce=ie.now(),le=0,de=1;de<oe.length&&oe[de]<=ce;de+=2)le=de;le&&oe.splice(0,le+1)}},L}(Subject),EMPTY=new Observable(function(Z){return Z.complete()});function isScheduler(Z){return Z&&isFunction$2(Z.schedule)}function last(Z){return Z[Z.length-1]}function popResultSelector(Z){return isFunction$2(last(Z))?Z.pop():void 0}function popScheduler(Z){return isScheduler(last(Z))?Z.pop():void 0}var isArrayLike=function(Z){return Z&&typeof Z.length=="number"&&typeof Z!="function"};function isPromise(Z){return isFunction$2(Z?.then)}function isInteropObservable(Z){return isFunction$2(Z[observable$1])}function isAsyncIterable$2(Z){return Symbol.asyncIterator&&isFunction$2(Z?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(Z){return new TypeError("You provided "+(Z!==null&&typeof Z=="object"?"an invalid object":"'"+Z+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable$1(Z){return isFunction$2(Z?.[iterator])}function readableStreamLikeToAsyncGenerator(Z){return __asyncGenerator(this,arguments,function(){var X,te,ie,oe;return __generator(this,function(se){switch(se.label){case 0:X=Z.getReader(),se.label=1;case 1:se.trys.push([1,,9,10]),se.label=2;case 2:return[4,__await(X.read())];case 3:return te=se.sent(),ie=te.value,oe=te.done,oe?[4,__await(void 0)]:[3,5];case 4:return[2,se.sent()];case 5:return[4,__await(ie)];case 6:return[4,se.sent()];case 7:return se.sent(),[3,2];case 8:return[3,10];case 9:return X.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(Z){return isFunction$2(Z?.getReader)}function innerFrom(Z){if(Z instanceof Observable)return Z;if(Z!=null){if(isInteropObservable(Z))return fromInteropObservable(Z);if(isArrayLike(Z))return fromArrayLike(Z);if(isPromise(Z))return fromPromise(Z);if(isAsyncIterable$2(Z))return fromAsyncIterable(Z);if(isIterable$1(Z))return fromIterable(Z);if(isReadableStreamLike(Z))return fromReadableStreamLike(Z)}throw createInvalidObservableTypeError(Z)}function fromInteropObservable(Z){return new Observable(function(L){var X=Z[observable$1]();if(isFunction$2(X.subscribe))return X.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(Z){return new Observable(function(L){for(var X=0;X<Z.length&&!L.closed;X++)L.next(Z[X]);L.complete()})}function fromPromise(Z){return new Observable(function(L){Z.then(function(X){L.closed||(L.next(X),L.complete())},function(X){return L.error(X)}).then(null,reportUnhandledError)})}function fromIterable(Z){return new Observable(function(L){var X,te;try{for(var ie=__values(Z),oe=ie.next();!oe.done;oe=ie.next()){var se=oe.value;if(L.next(se),L.closed)return}}catch(ue){X={error:ue}}finally{try{oe&&!oe.done&&(te=ie.return)&&te.call(ie)}finally{if(X)throw X.error}}L.complete()})}function fromAsyncIterable(Z){return new Observable(function(L){process$1(Z,L).catch(function(X){return L.error(X)})})}function fromReadableStreamLike(Z){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(Z))}function process$1(Z,L){var X,te,ie,oe;return __awaiter$4(this,void 0,void 0,function(){var se,ue;return __generator(this,function(ce){switch(ce.label){case 0:ce.trys.push([0,5,6,11]),X=__asyncValues(Z),ce.label=1;case 1:return[4,X.next()];case 2:if(te=ce.sent(),!!te.done)return[3,4];if(se=te.value,L.next(se),L.closed)return[2];ce.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ue=ce.sent(),ie={error:ue},[3,11];case 6:return ce.trys.push([6,,9,10]),te&&!te.done&&(oe=X.return)?[4,oe.call(X)]:[3,8];case 7:ce.sent(),ce.label=8;case 8:return[3,10];case 9:if(ie)throw ie.error;return[7];case 10:return[7];case 11:return L.complete(),[2]}})})}function executeSchedule(Z,L,X,te,ie){te===void 0&&(te=0),ie===void 0&&(ie=!1);var oe=L.schedule(function(){X(),ie?Z.add(this.schedule(null,te)):this.unsubscribe()},te);if(Z.add(oe),!ie)return oe}function observeOn(Z,L){return L===void 0&&(L=0),operate(function(X,te){X.subscribe(createOperatorSubscriber(te,function(ie){return executeSchedule(te,Z,function(){return te.next(ie)},L)},function(){return executeSchedule(te,Z,function(){return te.complete()},L)},function(ie){return executeSchedule(te,Z,function(){return te.error(ie)},L)}))})}function subscribeOn(Z,L){return L===void 0&&(L=0),operate(function(X,te){te.add(Z.schedule(function(){return X.subscribe(te)},L))})}function scheduleObservable(Z,L){return innerFrom(Z).pipe(subscribeOn(L),observeOn(L))}function schedulePromise(Z,L){return innerFrom(Z).pipe(subscribeOn(L),observeOn(L))}function scheduleArray(Z,L){return new Observable(function(X){var te=0;return L.schedule(function(){te===Z.length?X.complete():(X.next(Z[te++]),X.closed||this.schedule())})})}function scheduleIterable(Z,L){return new Observable(function(X){var te;return executeSchedule(X,L,function(){te=Z[iterator](),executeSchedule(X,L,function(){var ie,oe,se;try{ie=te.next(),oe=ie.value,se=ie.done}catch(ue){X.error(ue);return}se?X.complete():X.next(oe)},0,!0)}),function(){return isFunction$2(te?.return)&&te.return()}})}function scheduleAsyncIterable(Z,L){if(!Z)throw new Error("Iterable cannot be null");return new Observable(function(X){executeSchedule(X,L,function(){var te=Z[Symbol.asyncIterator]();executeSchedule(X,L,function(){te.next().then(function(ie){ie.done?X.complete():X.next(ie.value)})},0,!0)})})}function scheduleReadableStreamLike(Z,L){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(Z),L)}function scheduled(Z,L){if(Z!=null){if(isInteropObservable(Z))return scheduleObservable(Z,L);if(isArrayLike(Z))return scheduleArray(Z,L);if(isPromise(Z))return schedulePromise(Z,L);if(isAsyncIterable$2(Z))return scheduleAsyncIterable(Z,L);if(isIterable$1(Z))return scheduleIterable(Z,L);if(isReadableStreamLike(Z))return scheduleReadableStreamLike(Z,L)}throw createInvalidObservableTypeError(Z)}function from(Z,L){return L?scheduled(Z,L):innerFrom(Z)}function of(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];var X=popScheduler(Z);return from(Z,X)}var EmptyError=createErrorClass(function(Z){return function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(Z,L){var X=typeof L=="object";return new Promise(function(te,ie){var oe=new SafeSubscriber({next:function(se){te(se),oe.unsubscribe()},error:ie,complete:function(){X?te(L.defaultValue):ie(new EmptyError)}});Z.subscribe(oe)})}function map(Z,L){return operate(function(X,te){var ie=0;X.subscribe(createOperatorSubscriber(te,function(oe){te.next(Z.call(L,oe,ie++))}))})}var isArray$3=Array.isArray;function callOrApply(Z,L){return isArray$3(L)?Z.apply(void 0,__spreadArray$3([],__read$4(L))):Z(L)}function mapOneOrManyArgs(Z){return map(function(L){return callOrApply(Z,L)})}var isArray$2=Array.isArray,getPrototypeOf$1=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(Z){if(Z.length===1){var L=Z[0];if(isArray$2(L))return{args:L,keys:null};if(isPOJO(L)){var X=getKeys(L);return{args:X.map(function(te){return L[te]}),keys:X}}}return{args:Z,keys:null}}function isPOJO(Z){return Z&&typeof Z=="object"&&getPrototypeOf$1(Z)===objectProto}function createObject(Z,L){return Z.reduce(function(X,te,ie){return X[te]=L[ie],X},{})}function combineLatest(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];var X=popScheduler(Z),te=popResultSelector(Z),ie=argsArgArrayOrObject(Z),oe=ie.args,se=ie.keys;if(oe.length===0)return from([],X);var ue=new Observable(combineLatestInit(oe,X,se?function(ce){return createObject(se,ce)}:identity$1));return te?ue.pipe(mapOneOrManyArgs(te)):ue}function combineLatestInit(Z,L,X){return X===void 0&&(X=identity$1),function(te){maybeSchedule(L,function(){for(var ie=Z.length,oe=new Array(ie),se=ie,ue=ie,ce=function(de){maybeSchedule(L,function(){var pe=from(Z[de],L),ge=!1;pe.subscribe(createOperatorSubscriber(te,function(_e){oe[de]=_e,ge||(ge=!0,ue--),ue||te.next(X(oe.slice()))},function(){--se||te.complete()}))},te)},le=0;le<ie;le++)ce(le)},te)}}function maybeSchedule(Z,L,X){Z?executeSchedule(X,Z,L):L()}function mergeInternals(Z,L,X,te,ie,oe,se,ue){var ce=[],le=0,de=0,pe=!1,ge=function(){pe&&!ce.length&&!le&&L.complete()},_e=function(Ae){return le<te?Te(Ae):ce.push(Ae)},Te=function(Ae){oe&&L.next(Ae),le++;var Ie=!1;innerFrom(X(Ae,de++)).subscribe(createOperatorSubscriber(L,function(Pe){ie?.(Pe),oe?_e(Pe):L.next(Pe)},function(){Ie=!0},void 0,function(){if(Ie)try{le--;for(var Pe=function(){var Ce=ce.shift();se?executeSchedule(L,se,function(){return Te(Ce)}):Te(Ce)};ce.length&&le<te;)Pe();ge()}catch(Ce){L.error(Ce)}}))};return Z.subscribe(createOperatorSubscriber(L,_e,function(){pe=!0,ge()})),function(){ue?.()}}function mergeMap(Z,L,X){return X===void 0&&(X=1/0),isFunction$2(L)?mergeMap(function(te,ie){return map(function(oe,se){return L(te,oe,ie,se)})(innerFrom(Z(te,ie)))},X):(typeof L=="number"&&(X=L),operate(function(te,ie){return mergeInternals(te,ie,Z,X)}))}function mergeAll(Z){return Z===void 0&&(Z=1/0),mergeMap(identity$1,Z)}function concatAll(){return mergeAll(1)}function concat$2(){for(var Z=[],L=0;L<arguments.length;L++)Z[L]=arguments[L];return concatAll()(from(Z,popScheduler(Z)))}function defer(Z){return new Observable(function(L){innerFrom(Z()).subscribe(L)})}function filter(Z,L){return operate(function(X,te){var ie=0;X.subscribe(createOperatorSubscriber(te,function(oe){return Z.call(L,oe,ie++)&&te.next(oe)}))})}function catchError(Z){return operate(function(L,X){var te=null,ie=!1,oe;te=L.subscribe(createOperatorSubscriber(X,void 0,void 0,function(se){oe=innerFrom(Z(se,catchError(Z)(L))),te?(te.unsubscribe(),te=null,oe.subscribe(X)):ie=!0})),ie&&(te.unsubscribe(),te=null,oe.subscribe(X))})}function concatMap(Z,L){return isFunction$2(L)?mergeMap(Z,L,1):mergeMap(Z,1)}function take(Z){return Z<=0?function(){return EMPTY}:operate(function(L,X){var te=0;L.subscribe(createOperatorSubscriber(X,function(ie){++te<=Z&&(X.next(ie),Z<=te&&X.complete())}))})}function share$1(Z){Z===void 0&&(Z={});var L=Z.connector,X=L===void 0?function(){return new Subject}:L,te=Z.resetOnError,ie=te===void 0?!0:te,oe=Z.resetOnComplete,se=oe===void 0?!0:oe,ue=Z.resetOnRefCountZero,ce=ue===void 0?!0:ue;return function(le){var de=null,pe=null,ge=null,_e=0,Te=!1,Ae=!1,Ie=function(){pe?.unsubscribe(),pe=null},Pe=function(){Ie(),de=ge=null,Te=Ae=!1},Ce=function(){var Oe=de;Pe(),Oe?.unsubscribe()};return operate(function(Oe,Ge){_e++,!Ae&&!Te&&Ie();var Ye=ge=ge??X();Ge.add(function(){_e--,_e===0&&!Ae&&!Te&&(pe=handleReset(Ce,ce))}),Ye.subscribe(Ge),de||(de=new SafeSubscriber({next:function(Ke){return Ye.next(Ke)},error:function(Ke){Ae=!0,Ie(),pe=handleReset(Pe,ie,Ke),Ye.error(Ke)},complete:function(){Te=!0,Ie(),pe=handleReset(Pe,se),Ye.complete()}}),from(Oe).subscribe(de))})(le)}}function handleReset(Z,L){for(var X=[],te=2;te<arguments.length;te++)X[te-2]=arguments[te];return L===!0?(Z(),null):L===!1?null:L.apply(void 0,__spreadArray$3([],__read$4(X))).pipe(take(1)).subscribe(function(){return Z()})}function shareReplay(Z,L,X){var te,ie,oe,se,ue=!1;return Z&&typeof Z=="object"?(te=Z.bufferSize,se=te===void 0?1/0:te,ie=Z.windowTime,L=ie===void 0?1/0:ie,oe=Z.refCount,ue=oe===void 0?!1:oe,X=Z.scheduler):se=Z??1/0,share$1({connector:function(){return new ReplaySubject(se,L,X)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ue})}function tap(Z,L,X){var te=isFunction$2(Z)||L||X?{next:Z,error:L,complete:X}:Z;return te?operate(function(ie,oe){var se;(se=te.subscribe)===null||se===void 0||se.call(te);var ue=!0;ie.subscribe(createOperatorSubscriber(oe,function(ce){var le;(le=te.next)===null||le===void 0||le.call(te,ce),oe.next(ce)},function(){var ce;ue=!1,(ce=te.complete)===null||ce===void 0||ce.call(te),oe.complete()},function(ce){var le;ue=!1,(le=te.error)===null||le===void 0||le.call(te,ce),oe.error(ce)},function(){var ce,le;ue&&((ce=te.unsubscribe)===null||ce===void 0||ce.call(te)),(le=te.finalize)===null||le===void 0||le.call(te)}))}):identity$1}var bnExports={},bn={get exports(){return bnExports},set exports(Z){bnExports=Z}};const __viteBrowserExternal={},Tm=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(Tm);(function(Z){(function(L,X){function te(Le,he){if(!Le)throw new Error(he||"Assertion failed")}function ie(Le,he){Le.super_=he;var we=function(){};we.prototype=he.prototype,Le.prototype=new we,Le.prototype.constructor=Le}function oe(Le,he,we){if(oe.isBN(Le))return Le;this.negative=0,this.words=null,this.length=0,this.red=null,Le!==null&&((he==="le"||he==="be")&&(we=he,he=10),this._init(Le||0,he||10,we||"be"))}typeof L=="object"?L.exports=oe:X.BN=oe,oe.BN=oe,oe.wordSize=26;var se;try{typeof window<"u"&&typeof window.Buffer<"u"?se=window.Buffer:se=require$$0.Buffer}catch{}oe.isBN=function(he){return he instanceof oe?!0:he!==null&&typeof he=="object"&&he.constructor.wordSize===oe.wordSize&&Array.isArray(he.words)},oe.max=function(he,we){return he.cmp(we)>0?he:we},oe.min=function(he,we){return he.cmp(we)<0?he:we},oe.prototype._init=function(he,we,$e){if(typeof he=="number")return this._initNumber(he,we,$e);if(typeof he=="object")return this._initArray(he,we,$e);we==="hex"&&(we=16),te(we===(we|0)&&we>=2&&we<=36),he=he.toString().replace(/\s+/g,"");var Ne=0;he[0]==="-"&&(Ne++,this.negative=1),Ne<he.length&&(we===16?this._parseHex(he,Ne,$e):(this._parseBase(he,we,Ne),$e==="le"&&this._initArray(this.toArray(),we,$e)))},oe.prototype._initNumber=function(he,we,$e){he<0&&(this.negative=1,he=-he),he<67108864?(this.words=[he&67108863],this.length=1):he<4503599627370496?(this.words=[he&67108863,he/67108864&67108863],this.length=2):(te(he<9007199254740992),this.words=[he&67108863,he/67108864&67108863,1],this.length=3),$e==="le"&&this._initArray(this.toArray(),we,$e)},oe.prototype._initArray=function(he,we,$e){if(te(typeof he.length=="number"),he.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(he.length/3),this.words=new Array(this.length);for(var Ne=0;Ne<this.length;Ne++)this.words[Ne]=0;var Me,Ze,We=0;if($e==="be")for(Ne=he.length-1,Me=0;Ne>=0;Ne-=3)Ze=he[Ne]|he[Ne-1]<<8|he[Ne-2]<<16,this.words[Me]|=Ze<<We&67108863,this.words[Me+1]=Ze>>>26-We&67108863,We+=24,We>=26&&(We-=26,Me++);else if($e==="le")for(Ne=0,Me=0;Ne<he.length;Ne+=3)Ze=he[Ne]|he[Ne+1]<<8|he[Ne+2]<<16,this.words[Me]|=Ze<<We&67108863,this.words[Me+1]=Ze>>>26-We&67108863,We+=24,We>=26&&(We-=26,Me++);return this._strip()};function ue(Le,he){var we=Le.charCodeAt(he);if(we>=48&&we<=57)return we-48;if(we>=65&&we<=70)return we-55;if(we>=97&&we<=102)return we-87;te(!1,"Invalid character in "+Le)}function ce(Le,he,we){var $e=ue(Le,we);return we-1>=he&&($e|=ue(Le,we-1)<<4),$e}oe.prototype._parseHex=function(he,we,$e){this.length=Math.ceil((he.length-we)/6),this.words=new Array(this.length);for(var Ne=0;Ne<this.length;Ne++)this.words[Ne]=0;var Me=0,Ze=0,We;if($e==="be")for(Ne=he.length-1;Ne>=we;Ne-=2)We=ce(he,we,Ne)<<Me,this.words[Ze]|=We&67108863,Me>=18?(Me-=18,Ze+=1,this.words[Ze]|=We>>>26):Me+=8;else{var Be=he.length-we;for(Ne=Be%2===0?we+1:we;Ne<he.length;Ne+=2)We=ce(he,we,Ne)<<Me,this.words[Ze]|=We&67108863,Me>=18?(Me-=18,Ze+=1,this.words[Ze]|=We>>>26):Me+=8}this._strip()};function le(Le,he,we,$e){for(var Ne=0,Me=0,Ze=Math.min(Le.length,we),We=he;We<Ze;We++){var Be=Le.charCodeAt(We)-48;Ne*=$e,Be>=49?Me=Be-49+10:Be>=17?Me=Be-17+10:Me=Be,te(Be>=0&&Me<$e,"Invalid character"),Ne+=Me}return Ne}oe.prototype._parseBase=function(he,we,$e){this.words=[0],this.length=1;for(var Ne=0,Me=1;Me<=67108863;Me*=we)Ne++;Ne--,Me=Me/we|0;for(var Ze=he.length-$e,We=Ze%Ne,Be=Math.min(Ze,Ze-We)+$e,ve=0,Fe=$e;Fe<Be;Fe+=Ne)ve=le(he,Fe,Fe+Ne,we),this.imuln(Me),this.words[0]+ve<67108864?this.words[0]+=ve:this._iaddn(ve);if(We!==0){var it=1;for(ve=le(he,Fe,he.length,we),Fe=0;Fe<We;Fe++)it*=we;this.imuln(it),this.words[0]+ve<67108864?this.words[0]+=ve:this._iaddn(ve)}this._strip()},oe.prototype.copy=function(he){he.words=new Array(this.length);for(var we=0;we<this.length;we++)he.words[we]=this.words[we];he.length=this.length,he.negative=this.negative,he.red=this.red};function de(Le,he){Le.words=he.words,Le.length=he.length,Le.negative=he.negative,Le.red=he.red}if(oe.prototype._move=function(he){de(he,this)},oe.prototype.clone=function(){var he=new oe(null);return this.copy(he),he},oe.prototype._expand=function(he){for(;this.length<he;)this.words[this.length++]=0;return this},oe.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},oe.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{oe.prototype[Symbol.for("nodejs.util.inspect.custom")]=pe}catch{oe.prototype.inspect=pe}else oe.prototype.inspect=pe;function pe(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ge=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_e=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Te=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];oe.prototype.toString=function(he,we){he=he||10,we=we|0||1;var $e;if(he===16||he==="hex"){$e="";for(var Ne=0,Me=0,Ze=0;Ze<this.length;Ze++){var We=this.words[Ze],Be=((We<<Ne|Me)&16777215).toString(16);Me=We>>>24-Ne&16777215,Ne+=2,Ne>=26&&(Ne-=26,Ze--),Me!==0||Ze!==this.length-1?$e=ge[6-Be.length]+Be+$e:$e=Be+$e}for(Me!==0&&($e=Me.toString(16)+$e);$e.length%we!==0;)$e="0"+$e;return this.negative!==0&&($e="-"+$e),$e}if(he===(he|0)&&he>=2&&he<=36){var ve=_e[he],Fe=Te[he];$e="";var it=this.clone();for(it.negative=0;!it.isZero();){var xe=it.modrn(Fe).toString(he);it=it.idivn(Fe),it.isZero()?$e=xe+$e:$e=ge[ve-xe.length]+xe+$e}for(this.isZero()&&($e="0"+$e);$e.length%we!==0;)$e="0"+$e;return this.negative!==0&&($e="-"+$e),$e}te(!1,"Base should be between 2 and 36")},oe.prototype.toNumber=function(){var he=this.words[0];return this.length===2?he+=this.words[1]*67108864:this.length===3&&this.words[2]===1?he+=4503599627370496+this.words[1]*67108864:this.length>2&&te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-he:he},oe.prototype.toJSON=function(){return this.toString(16,2)},se&&(oe.prototype.toBuffer=function(he,we){return this.toArrayLike(se,he,we)}),oe.prototype.toArray=function(he,we){return this.toArrayLike(Array,he,we)};var Ae=function(he,we){return he.allocUnsafe?he.allocUnsafe(we):new he(we)};oe.prototype.toArrayLike=function(he,we,$e){this._strip();var Ne=this.byteLength(),Me=$e||Math.max(1,Ne);te(Ne<=Me,"byte array longer than desired length"),te(Me>0,"Requested array length <= 0");var Ze=Ae(he,Me),We=we==="le"?"LE":"BE";return this["_toArrayLike"+We](Ze,Ne),Ze},oe.prototype._toArrayLikeLE=function(he,we){for(var $e=0,Ne=0,Me=0,Ze=0;Me<this.length;Me++){var We=this.words[Me]<<Ze|Ne;he[$e++]=We&255,$e<he.length&&(he[$e++]=We>>8&255),$e<he.length&&(he[$e++]=We>>16&255),Ze===6?($e<he.length&&(he[$e++]=We>>24&255),Ne=0,Ze=0):(Ne=We>>>24,Ze+=2)}if($e<he.length)for(he[$e++]=Ne;$e<he.length;)he[$e++]=0},oe.prototype._toArrayLikeBE=function(he,we){for(var $e=he.length-1,Ne=0,Me=0,Ze=0;Me<this.length;Me++){var We=this.words[Me]<<Ze|Ne;he[$e--]=We&255,$e>=0&&(he[$e--]=We>>8&255),$e>=0&&(he[$e--]=We>>16&255),Ze===6?($e>=0&&(he[$e--]=We>>24&255),Ne=0,Ze=0):(Ne=We>>>24,Ze+=2)}if($e>=0)for(he[$e--]=Ne;$e>=0;)he[$e--]=0},Math.clz32?oe.prototype._countBits=function(he){return 32-Math.clz32(he)}:oe.prototype._countBits=function(he){var we=he,$e=0;return we>=4096&&($e+=13,we>>>=13),we>=64&&($e+=7,we>>>=7),we>=8&&($e+=4,we>>>=4),we>=2&&($e+=2,we>>>=2),$e+we},oe.prototype._zeroBits=function(he){if(he===0)return 26;var we=he,$e=0;return we&8191||($e+=13,we>>>=13),we&127||($e+=7,we>>>=7),we&15||($e+=4,we>>>=4),we&3||($e+=2,we>>>=2),we&1||$e++,$e},oe.prototype.bitLength=function(){var he=this.words[this.length-1],we=this._countBits(he);return(this.length-1)*26+we};function Ie(Le){for(var he=new Array(Le.bitLength()),we=0;we<he.length;we++){var $e=we/26|0,Ne=we%26;he[we]=Le.words[$e]>>>Ne&1}return he}oe.prototype.zeroBits=function(){if(this.isZero())return 0;for(var he=0,we=0;we<this.length;we++){var $e=this._zeroBits(this.words[we]);if(he+=$e,$e!==26)break}return he},oe.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},oe.prototype.toTwos=function(he){return this.negative!==0?this.abs().inotn(he).iaddn(1):this.clone()},oe.prototype.fromTwos=function(he){return this.testn(he-1)?this.notn(he).iaddn(1).ineg():this.clone()},oe.prototype.isNeg=function(){return this.negative!==0},oe.prototype.neg=function(){return this.clone().ineg()},oe.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},oe.prototype.iuor=function(he){for(;this.length<he.length;)this.words[this.length++]=0;for(var we=0;we<he.length;we++)this.words[we]=this.words[we]|he.words[we];return this._strip()},oe.prototype.ior=function(he){return te((this.negative|he.negative)===0),this.iuor(he)},oe.prototype.or=function(he){return this.length>he.length?this.clone().ior(he):he.clone().ior(this)},oe.prototype.uor=function(he){return this.length>he.length?this.clone().iuor(he):he.clone().iuor(this)},oe.prototype.iuand=function(he){var we;this.length>he.length?we=he:we=this;for(var $e=0;$e<we.length;$e++)this.words[$e]=this.words[$e]&he.words[$e];return this.length=we.length,this._strip()},oe.prototype.iand=function(he){return te((this.negative|he.negative)===0),this.iuand(he)},oe.prototype.and=function(he){return this.length>he.length?this.clone().iand(he):he.clone().iand(this)},oe.prototype.uand=function(he){return this.length>he.length?this.clone().iuand(he):he.clone().iuand(this)},oe.prototype.iuxor=function(he){var we,$e;this.length>he.length?(we=this,$e=he):(we=he,$e=this);for(var Ne=0;Ne<$e.length;Ne++)this.words[Ne]=we.words[Ne]^$e.words[Ne];if(this!==we)for(;Ne<we.length;Ne++)this.words[Ne]=we.words[Ne];return this.length=we.length,this._strip()},oe.prototype.ixor=function(he){return te((this.negative|he.negative)===0),this.iuxor(he)},oe.prototype.xor=function(he){return this.length>he.length?this.clone().ixor(he):he.clone().ixor(this)},oe.prototype.uxor=function(he){return this.length>he.length?this.clone().iuxor(he):he.clone().iuxor(this)},oe.prototype.inotn=function(he){te(typeof he=="number"&&he>=0);var we=Math.ceil(he/26)|0,$e=he%26;this._expand(we),$e>0&&we--;for(var Ne=0;Ne<we;Ne++)this.words[Ne]=~this.words[Ne]&67108863;return $e>0&&(this.words[Ne]=~this.words[Ne]&67108863>>26-$e),this._strip()},oe.prototype.notn=function(he){return this.clone().inotn(he)},oe.prototype.setn=function(he,we){te(typeof he=="number"&&he>=0);var $e=he/26|0,Ne=he%26;return this._expand($e+1),we?this.words[$e]=this.words[$e]|1<<Ne:this.words[$e]=this.words[$e]&~(1<<Ne),this._strip()},oe.prototype.iadd=function(he){var we;if(this.negative!==0&&he.negative===0)return this.negative=0,we=this.isub(he),this.negative^=1,this._normSign();if(this.negative===0&&he.negative!==0)return he.negative=0,we=this.isub(he),he.negative=1,we._normSign();var $e,Ne;this.length>he.length?($e=this,Ne=he):($e=he,Ne=this);for(var Me=0,Ze=0;Ze<Ne.length;Ze++)we=($e.words[Ze]|0)+(Ne.words[Ze]|0)+Me,this.words[Ze]=we&67108863,Me=we>>>26;for(;Me!==0&&Ze<$e.length;Ze++)we=($e.words[Ze]|0)+Me,this.words[Ze]=we&67108863,Me=we>>>26;if(this.length=$e.length,Me!==0)this.words[this.length]=Me,this.length++;else if($e!==this)for(;Ze<$e.length;Ze++)this.words[Ze]=$e.words[Ze];return this},oe.prototype.add=function(he){var we;return he.negative!==0&&this.negative===0?(he.negative=0,we=this.sub(he),he.negative^=1,we):he.negative===0&&this.negative!==0?(this.negative=0,we=he.sub(this),this.negative=1,we):this.length>he.length?this.clone().iadd(he):he.clone().iadd(this)},oe.prototype.isub=function(he){if(he.negative!==0){he.negative=0;var we=this.iadd(he);return he.negative=1,we._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(he),this.negative=1,this._normSign();var $e=this.cmp(he);if($e===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ne,Me;$e>0?(Ne=this,Me=he):(Ne=he,Me=this);for(var Ze=0,We=0;We<Me.length;We++)we=(Ne.words[We]|0)-(Me.words[We]|0)+Ze,Ze=we>>26,this.words[We]=we&67108863;for(;Ze!==0&&We<Ne.length;We++)we=(Ne.words[We]|0)+Ze,Ze=we>>26,this.words[We]=we&67108863;if(Ze===0&&We<Ne.length&&Ne!==this)for(;We<Ne.length;We++)this.words[We]=Ne.words[We];return this.length=Math.max(this.length,We),Ne!==this&&(this.negative=1),this._strip()},oe.prototype.sub=function(he){return this.clone().isub(he)};function Pe(Le,he,we){we.negative=he.negative^Le.negative;var $e=Le.length+he.length|0;we.length=$e,$e=$e-1|0;var Ne=Le.words[0]|0,Me=he.words[0]|0,Ze=Ne*Me,We=Ze&67108863,Be=Ze/67108864|0;we.words[0]=We;for(var ve=1;ve<$e;ve++){for(var Fe=Be>>>26,it=Be&67108863,xe=Math.min(ve,he.length-1),Ve=Math.max(0,ve-Le.length+1);Ve<=xe;Ve++){var Ue=ve-Ve|0;Ne=Le.words[Ue]|0,Me=he.words[Ve]|0,Ze=Ne*Me+it,Fe+=Ze/67108864|0,it=Ze&67108863}we.words[ve]=it|0,Be=Fe|0}return Be!==0?we.words[ve]=Be|0:we.length--,we._strip()}var Ce=function(he,we,$e){var Ne=he.words,Me=we.words,Ze=$e.words,We=0,Be,ve,Fe,it=Ne[0]|0,xe=it&8191,Ve=it>>>13,Ue=Ne[1]|0,qe=Ue&8191,Xe=Ue>>>13,rt=Ne[2]|0,Qe=rt&8191,Je=rt>>>13,dt=Ne[3]|0,et=dt&8191,st=dt>>>13,qt=Ne[4]|0,ht=qt&8191,pt=qt>>>13,Qt=Ne[5]|0,yt=Qt&8191,mt=Qt>>>13,er=Ne[6]|0,gt=er&8191,bt=er>>>13,tr=Ne[7]|0,vt=tr&8191,wt=tr>>>13,rr=Ne[8]|0,Et=rr&8191,_t=rr>>>13,nr=Ne[9]|0,Tt=nr&8191,xt=nr>>>13,ir=Me[0]|0,At=ir&8191,St=ir>>>13,or=Me[1]|0,It=or&8191,$t=or>>>13,sr=Me[2]|0,Rt=sr&8191,Pt=sr>>>13,ar=Me[3]|0,Nt=ar&8191,Ct=ar>>>13,ur=Me[4]|0,Bt=ur&8191,Ot=ur>>>13,cr=Me[5]|0,Mt=cr&8191,kt=cr>>>13,lr=Me[6]|0,Lt=lr&8191,Ut=lr>>>13,dr=Me[7]|0,Dt=dr&8191,jt=dr>>>13,hr=Me[8]|0,Zt=hr&8191,zt=hr>>>13,pr=Me[9]|0,Ht=pr&8191,Wt=pr>>>13;$e.negative=he.negative^we.negative,$e.length=19,Be=Math.imul(xe,At),ve=Math.imul(xe,St),ve=ve+Math.imul(Ve,At)|0,Fe=Math.imul(Ve,St);var Gt=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,Be=Math.imul(qe,At),ve=Math.imul(qe,St),ve=ve+Math.imul(Xe,At)|0,Fe=Math.imul(Xe,St),Be=Be+Math.imul(xe,It)|0,ve=ve+Math.imul(xe,$t)|0,ve=ve+Math.imul(Ve,It)|0,Fe=Fe+Math.imul(Ve,$t)|0;var Vt=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,Be=Math.imul(Qe,At),ve=Math.imul(Qe,St),ve=ve+Math.imul(Je,At)|0,Fe=Math.imul(Je,St),Be=Be+Math.imul(qe,It)|0,ve=ve+Math.imul(qe,$t)|0,ve=ve+Math.imul(Xe,It)|0,Fe=Fe+Math.imul(Xe,$t)|0,Be=Be+Math.imul(xe,Rt)|0,ve=ve+Math.imul(xe,Pt)|0,ve=ve+Math.imul(Ve,Rt)|0,Fe=Fe+Math.imul(Ve,Pt)|0;var Kt=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Be=Math.imul(et,At),ve=Math.imul(et,St),ve=ve+Math.imul(st,At)|0,Fe=Math.imul(st,St),Be=Be+Math.imul(Qe,It)|0,ve=ve+Math.imul(Qe,$t)|0,ve=ve+Math.imul(Je,It)|0,Fe=Fe+Math.imul(Je,$t)|0,Be=Be+Math.imul(qe,Rt)|0,ve=ve+Math.imul(qe,Pt)|0,ve=ve+Math.imul(Xe,Rt)|0,Fe=Fe+Math.imul(Xe,Pt)|0,Be=Be+Math.imul(xe,Nt)|0,ve=ve+Math.imul(xe,Ct)|0,ve=ve+Math.imul(Ve,Nt)|0,Fe=Fe+Math.imul(Ve,Ct)|0;var Xt=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Be=Math.imul(ht,At),ve=Math.imul(ht,St),ve=ve+Math.imul(pt,At)|0,Fe=Math.imul(pt,St),Be=Be+Math.imul(et,It)|0,ve=ve+Math.imul(et,$t)|0,ve=ve+Math.imul(st,It)|0,Fe=Fe+Math.imul(st,$t)|0,Be=Be+Math.imul(Qe,Rt)|0,ve=ve+Math.imul(Qe,Pt)|0,ve=ve+Math.imul(Je,Rt)|0,Fe=Fe+Math.imul(Je,Pt)|0,Be=Be+Math.imul(qe,Nt)|0,ve=ve+Math.imul(qe,Ct)|0,ve=ve+Math.imul(Xe,Nt)|0,Fe=Fe+Math.imul(Xe,Ct)|0,Be=Be+Math.imul(xe,Bt)|0,ve=ve+Math.imul(xe,Ot)|0,ve=ve+Math.imul(Ve,Bt)|0,Fe=Fe+Math.imul(Ve,Ot)|0;var Jt=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,Be=Math.imul(yt,At),ve=Math.imul(yt,St),ve=ve+Math.imul(mt,At)|0,Fe=Math.imul(mt,St),Be=Be+Math.imul(ht,It)|0,ve=ve+Math.imul(ht,$t)|0,ve=ve+Math.imul(pt,It)|0,Fe=Fe+Math.imul(pt,$t)|0,Be=Be+Math.imul(et,Rt)|0,ve=ve+Math.imul(et,Pt)|0,ve=ve+Math.imul(st,Rt)|0,Fe=Fe+Math.imul(st,Pt)|0,Be=Be+Math.imul(Qe,Nt)|0,ve=ve+Math.imul(Qe,Ct)|0,ve=ve+Math.imul(Je,Nt)|0,Fe=Fe+Math.imul(Je,Ct)|0,Be=Be+Math.imul(qe,Bt)|0,ve=ve+Math.imul(qe,Ot)|0,ve=ve+Math.imul(Xe,Bt)|0,Fe=Fe+Math.imul(Xe,Ot)|0,Be=Be+Math.imul(xe,Mt)|0,ve=ve+Math.imul(xe,kt)|0,ve=ve+Math.imul(Ve,Mt)|0,Fe=Fe+Math.imul(Ve,kt)|0;var yr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(yr>>>26)|0,yr&=67108863,Be=Math.imul(gt,At),ve=Math.imul(gt,St),ve=ve+Math.imul(bt,At)|0,Fe=Math.imul(bt,St),Be=Be+Math.imul(yt,It)|0,ve=ve+Math.imul(yt,$t)|0,ve=ve+Math.imul(mt,It)|0,Fe=Fe+Math.imul(mt,$t)|0,Be=Be+Math.imul(ht,Rt)|0,ve=ve+Math.imul(ht,Pt)|0,ve=ve+Math.imul(pt,Rt)|0,Fe=Fe+Math.imul(pt,Pt)|0,Be=Be+Math.imul(et,Nt)|0,ve=ve+Math.imul(et,Ct)|0,ve=ve+Math.imul(st,Nt)|0,Fe=Fe+Math.imul(st,Ct)|0,Be=Be+Math.imul(Qe,Bt)|0,ve=ve+Math.imul(Qe,Ot)|0,ve=ve+Math.imul(Je,Bt)|0,Fe=Fe+Math.imul(Je,Ot)|0,Be=Be+Math.imul(qe,Mt)|0,ve=ve+Math.imul(qe,kt)|0,ve=ve+Math.imul(Xe,Mt)|0,Fe=Fe+Math.imul(Xe,kt)|0,Be=Be+Math.imul(xe,Lt)|0,ve=ve+Math.imul(xe,Ut)|0,ve=ve+Math.imul(Ve,Lt)|0,Fe=Fe+Math.imul(Ve,Ut)|0;var gr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(gr>>>26)|0,gr&=67108863,Be=Math.imul(vt,At),ve=Math.imul(vt,St),ve=ve+Math.imul(wt,At)|0,Fe=Math.imul(wt,St),Be=Be+Math.imul(gt,It)|0,ve=ve+Math.imul(gt,$t)|0,ve=ve+Math.imul(bt,It)|0,Fe=Fe+Math.imul(bt,$t)|0,Be=Be+Math.imul(yt,Rt)|0,ve=ve+Math.imul(yt,Pt)|0,ve=ve+Math.imul(mt,Rt)|0,Fe=Fe+Math.imul(mt,Pt)|0,Be=Be+Math.imul(ht,Nt)|0,ve=ve+Math.imul(ht,Ct)|0,ve=ve+Math.imul(pt,Nt)|0,Fe=Fe+Math.imul(pt,Ct)|0,Be=Be+Math.imul(et,Bt)|0,ve=ve+Math.imul(et,Ot)|0,ve=ve+Math.imul(st,Bt)|0,Fe=Fe+Math.imul(st,Ot)|0,Be=Be+Math.imul(Qe,Mt)|0,ve=ve+Math.imul(Qe,kt)|0,ve=ve+Math.imul(Je,Mt)|0,Fe=Fe+Math.imul(Je,kt)|0,Be=Be+Math.imul(qe,Lt)|0,ve=ve+Math.imul(qe,Ut)|0,ve=ve+Math.imul(Xe,Lt)|0,Fe=Fe+Math.imul(Xe,Ut)|0,Be=Be+Math.imul(xe,Dt)|0,ve=ve+Math.imul(xe,jt)|0,ve=ve+Math.imul(Ve,Dt)|0,Fe=Fe+Math.imul(Ve,jt)|0;var br=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(br>>>26)|0,br&=67108863,Be=Math.imul(Et,At),ve=Math.imul(Et,St),ve=ve+Math.imul(_t,At)|0,Fe=Math.imul(_t,St),Be=Be+Math.imul(vt,It)|0,ve=ve+Math.imul(vt,$t)|0,ve=ve+Math.imul(wt,It)|0,Fe=Fe+Math.imul(wt,$t)|0,Be=Be+Math.imul(gt,Rt)|0,ve=ve+Math.imul(gt,Pt)|0,ve=ve+Math.imul(bt,Rt)|0,Fe=Fe+Math.imul(bt,Pt)|0,Be=Be+Math.imul(yt,Nt)|0,ve=ve+Math.imul(yt,Ct)|0,ve=ve+Math.imul(mt,Nt)|0,Fe=Fe+Math.imul(mt,Ct)|0,Be=Be+Math.imul(ht,Bt)|0,ve=ve+Math.imul(ht,Ot)|0,ve=ve+Math.imul(pt,Bt)|0,Fe=Fe+Math.imul(pt,Ot)|0,Be=Be+Math.imul(et,Mt)|0,ve=ve+Math.imul(et,kt)|0,ve=ve+Math.imul(st,Mt)|0,Fe=Fe+Math.imul(st,kt)|0,Be=Be+Math.imul(Qe,Lt)|0,ve=ve+Math.imul(Qe,Ut)|0,ve=ve+Math.imul(Je,Lt)|0,Fe=Fe+Math.imul(Je,Ut)|0,Be=Be+Math.imul(qe,Dt)|0,ve=ve+Math.imul(qe,jt)|0,ve=ve+Math.imul(Xe,Dt)|0,Fe=Fe+Math.imul(Xe,jt)|0,Be=Be+Math.imul(xe,Zt)|0,ve=ve+Math.imul(xe,zt)|0,ve=ve+Math.imul(Ve,Zt)|0,Fe=Fe+Math.imul(Ve,zt)|0;var vr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(vr>>>26)|0,vr&=67108863,Be=Math.imul(Tt,At),ve=Math.imul(Tt,St),ve=ve+Math.imul(xt,At)|0,Fe=Math.imul(xt,St),Be=Be+Math.imul(Et,It)|0,ve=ve+Math.imul(Et,$t)|0,ve=ve+Math.imul(_t,It)|0,Fe=Fe+Math.imul(_t,$t)|0,Be=Be+Math.imul(vt,Rt)|0,ve=ve+Math.imul(vt,Pt)|0,ve=ve+Math.imul(wt,Rt)|0,Fe=Fe+Math.imul(wt,Pt)|0,Be=Be+Math.imul(gt,Nt)|0,ve=ve+Math.imul(gt,Ct)|0,ve=ve+Math.imul(bt,Nt)|0,Fe=Fe+Math.imul(bt,Ct)|0,Be=Be+Math.imul(yt,Bt)|0,ve=ve+Math.imul(yt,Ot)|0,ve=ve+Math.imul(mt,Bt)|0,Fe=Fe+Math.imul(mt,Ot)|0,Be=Be+Math.imul(ht,Mt)|0,ve=ve+Math.imul(ht,kt)|0,ve=ve+Math.imul(pt,Mt)|0,Fe=Fe+Math.imul(pt,kt)|0,Be=Be+Math.imul(et,Lt)|0,ve=ve+Math.imul(et,Ut)|0,ve=ve+Math.imul(st,Lt)|0,Fe=Fe+Math.imul(st,Ut)|0,Be=Be+Math.imul(Qe,Dt)|0,ve=ve+Math.imul(Qe,jt)|0,ve=ve+Math.imul(Je,Dt)|0,Fe=Fe+Math.imul(Je,jt)|0,Be=Be+Math.imul(qe,Zt)|0,ve=ve+Math.imul(qe,zt)|0,ve=ve+Math.imul(Xe,Zt)|0,Fe=Fe+Math.imul(Xe,zt)|0,Be=Be+Math.imul(xe,Ht)|0,ve=ve+Math.imul(xe,Wt)|0,ve=ve+Math.imul(Ve,Ht)|0,Fe=Fe+Math.imul(Ve,Wt)|0;var wr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(wr>>>26)|0,wr&=67108863,Be=Math.imul(Tt,It),ve=Math.imul(Tt,$t),ve=ve+Math.imul(xt,It)|0,Fe=Math.imul(xt,$t),Be=Be+Math.imul(Et,Rt)|0,ve=ve+Math.imul(Et,Pt)|0,ve=ve+Math.imul(_t,Rt)|0,Fe=Fe+Math.imul(_t,Pt)|0,Be=Be+Math.imul(vt,Nt)|0,ve=ve+Math.imul(vt,Ct)|0,ve=ve+Math.imul(wt,Nt)|0,Fe=Fe+Math.imul(wt,Ct)|0,Be=Be+Math.imul(gt,Bt)|0,ve=ve+Math.imul(gt,Ot)|0,ve=ve+Math.imul(bt,Bt)|0,Fe=Fe+Math.imul(bt,Ot)|0,Be=Be+Math.imul(yt,Mt)|0,ve=ve+Math.imul(yt,kt)|0,ve=ve+Math.imul(mt,Mt)|0,Fe=Fe+Math.imul(mt,kt)|0,Be=Be+Math.imul(ht,Lt)|0,ve=ve+Math.imul(ht,Ut)|0,ve=ve+Math.imul(pt,Lt)|0,Fe=Fe+Math.imul(pt,Ut)|0,Be=Be+Math.imul(et,Dt)|0,ve=ve+Math.imul(et,jt)|0,ve=ve+Math.imul(st,Dt)|0,Fe=Fe+Math.imul(st,jt)|0,Be=Be+Math.imul(Qe,Zt)|0,ve=ve+Math.imul(Qe,zt)|0,ve=ve+Math.imul(Je,Zt)|0,Fe=Fe+Math.imul(Je,zt)|0,Be=Be+Math.imul(qe,Ht)|0,ve=ve+Math.imul(qe,Wt)|0,ve=ve+Math.imul(Xe,Ht)|0,Fe=Fe+Math.imul(Xe,Wt)|0;var Er=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Er>>>26)|0,Er&=67108863,Be=Math.imul(Tt,Rt),ve=Math.imul(Tt,Pt),ve=ve+Math.imul(xt,Rt)|0,Fe=Math.imul(xt,Pt),Be=Be+Math.imul(Et,Nt)|0,ve=ve+Math.imul(Et,Ct)|0,ve=ve+Math.imul(_t,Nt)|0,Fe=Fe+Math.imul(_t,Ct)|0,Be=Be+Math.imul(vt,Bt)|0,ve=ve+Math.imul(vt,Ot)|0,ve=ve+Math.imul(wt,Bt)|0,Fe=Fe+Math.imul(wt,Ot)|0,Be=Be+Math.imul(gt,Mt)|0,ve=ve+Math.imul(gt,kt)|0,ve=ve+Math.imul(bt,Mt)|0,Fe=Fe+Math.imul(bt,kt)|0,Be=Be+Math.imul(yt,Lt)|0,ve=ve+Math.imul(yt,Ut)|0,ve=ve+Math.imul(mt,Lt)|0,Fe=Fe+Math.imul(mt,Ut)|0,Be=Be+Math.imul(ht,Dt)|0,ve=ve+Math.imul(ht,jt)|0,ve=ve+Math.imul(pt,Dt)|0,Fe=Fe+Math.imul(pt,jt)|0,Be=Be+Math.imul(et,Zt)|0,ve=ve+Math.imul(et,zt)|0,ve=ve+Math.imul(st,Zt)|0,Fe=Fe+Math.imul(st,zt)|0,Be=Be+Math.imul(Qe,Ht)|0,ve=ve+Math.imul(Qe,Wt)|0,ve=ve+Math.imul(Je,Ht)|0,Fe=Fe+Math.imul(Je,Wt)|0;var _r=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(_r>>>26)|0,_r&=67108863,Be=Math.imul(Tt,Nt),ve=Math.imul(Tt,Ct),ve=ve+Math.imul(xt,Nt)|0,Fe=Math.imul(xt,Ct),Be=Be+Math.imul(Et,Bt)|0,ve=ve+Math.imul(Et,Ot)|0,ve=ve+Math.imul(_t,Bt)|0,Fe=Fe+Math.imul(_t,Ot)|0,Be=Be+Math.imul(vt,Mt)|0,ve=ve+Math.imul(vt,kt)|0,ve=ve+Math.imul(wt,Mt)|0,Fe=Fe+Math.imul(wt,kt)|0,Be=Be+Math.imul(gt,Lt)|0,ve=ve+Math.imul(gt,Ut)|0,ve=ve+Math.imul(bt,Lt)|0,Fe=Fe+Math.imul(bt,Ut)|0,Be=Be+Math.imul(yt,Dt)|0,ve=ve+Math.imul(yt,jt)|0,ve=ve+Math.imul(mt,Dt)|0,Fe=Fe+Math.imul(mt,jt)|0,Be=Be+Math.imul(ht,Zt)|0,ve=ve+Math.imul(ht,zt)|0,ve=ve+Math.imul(pt,Zt)|0,Fe=Fe+Math.imul(pt,zt)|0,Be=Be+Math.imul(et,Ht)|0,ve=ve+Math.imul(et,Wt)|0,ve=ve+Math.imul(st,Ht)|0,Fe=Fe+Math.imul(st,Wt)|0;var Tr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,Be=Math.imul(Tt,Bt),ve=Math.imul(Tt,Ot),ve=ve+Math.imul(xt,Bt)|0,Fe=Math.imul(xt,Ot),Be=Be+Math.imul(Et,Mt)|0,ve=ve+Math.imul(Et,kt)|0,ve=ve+Math.imul(_t,Mt)|0,Fe=Fe+Math.imul(_t,kt)|0,Be=Be+Math.imul(vt,Lt)|0,ve=ve+Math.imul(vt,Ut)|0,ve=ve+Math.imul(wt,Lt)|0,Fe=Fe+Math.imul(wt,Ut)|0,Be=Be+Math.imul(gt,Dt)|0,ve=ve+Math.imul(gt,jt)|0,ve=ve+Math.imul(bt,Dt)|0,Fe=Fe+Math.imul(bt,jt)|0,Be=Be+Math.imul(yt,Zt)|0,ve=ve+Math.imul(yt,zt)|0,ve=ve+Math.imul(mt,Zt)|0,Fe=Fe+Math.imul(mt,zt)|0,Be=Be+Math.imul(ht,Ht)|0,ve=ve+Math.imul(ht,Wt)|0,ve=ve+Math.imul(pt,Ht)|0,Fe=Fe+Math.imul(pt,Wt)|0;var xr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(xr>>>26)|0,xr&=67108863,Be=Math.imul(Tt,Mt),ve=Math.imul(Tt,kt),ve=ve+Math.imul(xt,Mt)|0,Fe=Math.imul(xt,kt),Be=Be+Math.imul(Et,Lt)|0,ve=ve+Math.imul(Et,Ut)|0,ve=ve+Math.imul(_t,Lt)|0,Fe=Fe+Math.imul(_t,Ut)|0,Be=Be+Math.imul(vt,Dt)|0,ve=ve+Math.imul(vt,jt)|0,ve=ve+Math.imul(wt,Dt)|0,Fe=Fe+Math.imul(wt,jt)|0,Be=Be+Math.imul(gt,Zt)|0,ve=ve+Math.imul(gt,zt)|0,ve=ve+Math.imul(bt,Zt)|0,Fe=Fe+Math.imul(bt,zt)|0,Be=Be+Math.imul(yt,Ht)|0,ve=ve+Math.imul(yt,Wt)|0,ve=ve+Math.imul(mt,Ht)|0,Fe=Fe+Math.imul(mt,Wt)|0;var Ar=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Be=Math.imul(Tt,Lt),ve=Math.imul(Tt,Ut),ve=ve+Math.imul(xt,Lt)|0,Fe=Math.imul(xt,Ut),Be=Be+Math.imul(Et,Dt)|0,ve=ve+Math.imul(Et,jt)|0,ve=ve+Math.imul(_t,Dt)|0,Fe=Fe+Math.imul(_t,jt)|0,Be=Be+Math.imul(vt,Zt)|0,ve=ve+Math.imul(vt,zt)|0,ve=ve+Math.imul(wt,Zt)|0,Fe=Fe+Math.imul(wt,zt)|0,Be=Be+Math.imul(gt,Ht)|0,ve=ve+Math.imul(gt,Wt)|0,ve=ve+Math.imul(bt,Ht)|0,Fe=Fe+Math.imul(bt,Wt)|0;var Sr=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Be=Math.imul(Tt,Dt),ve=Math.imul(Tt,jt),ve=ve+Math.imul(xt,Dt)|0,Fe=Math.imul(xt,jt),Be=Be+Math.imul(Et,Zt)|0,ve=ve+Math.imul(Et,zt)|0,ve=ve+Math.imul(_t,Zt)|0,Fe=Fe+Math.imul(_t,zt)|0,Be=Be+Math.imul(vt,Ht)|0,ve=ve+Math.imul(vt,Wt)|0,ve=ve+Math.imul(wt,Ht)|0,Fe=Fe+Math.imul(wt,Wt)|0;var Ir=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,Be=Math.imul(Tt,Zt),ve=Math.imul(Tt,zt),ve=ve+Math.imul(xt,Zt)|0,Fe=Math.imul(xt,zt),Be=Be+Math.imul(Et,Ht)|0,ve=ve+Math.imul(Et,Wt)|0,ve=ve+Math.imul(_t,Ht)|0,Fe=Fe+Math.imul(_t,Wt)|0;var $r=(We+Be|0)+((ve&8191)<<13)|0;We=(Fe+(ve>>>13)|0)+($r>>>26)|0,$r&=67108863,Be=Math.imul(Tt,Ht),ve=Math.imul(Tt,Wt),ve=ve+Math.imul(xt,Ht)|0,Fe=Math.imul(xt,Wt);var Rr=(We+Be|0)+((ve&8191)<<13)|0;return We=(Fe+(ve>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Ze[0]=Gt,Ze[1]=Vt,Ze[2]=Kt,Ze[3]=Xt,Ze[4]=Jt,Ze[5]=yr,Ze[6]=gr,Ze[7]=br,Ze[8]=vr,Ze[9]=wr,Ze[10]=Er,Ze[11]=_r,Ze[12]=Tr,Ze[13]=xr,Ze[14]=Ar,Ze[15]=Sr,Ze[16]=Ir,Ze[17]=$r,Ze[18]=Rr,We!==0&&(Ze[19]=We,$e.length++),$e};Math.imul||(Ce=Pe);function Oe(Le,he,we){we.negative=he.negative^Le.negative,we.length=Le.length+he.length;for(var $e=0,Ne=0,Me=0;Me<we.length-1;Me++){var Ze=Ne;Ne=0;for(var We=$e&67108863,Be=Math.min(Me,he.length-1),ve=Math.max(0,Me-Le.length+1);ve<=Be;ve++){var Fe=Me-ve,it=Le.words[Fe]|0,xe=he.words[ve]|0,Ve=it*xe,Ue=Ve&67108863;Ze=Ze+(Ve/67108864|0)|0,Ue=Ue+We|0,We=Ue&67108863,Ze=Ze+(Ue>>>26)|0,Ne+=Ze>>>26,Ze&=67108863}we.words[Me]=We,$e=Ze,Ze=Ne}return $e!==0?we.words[Me]=$e:we.length--,we._strip()}function Ge(Le,he,we){return Oe(Le,he,we)}oe.prototype.mulTo=function(he,we){var $e,Ne=this.length+he.length;return this.length===10&&he.length===10?$e=Ce(this,he,we):Ne<63?$e=Pe(this,he,we):Ne<1024?$e=Oe(this,he,we):$e=Ge(this,he,we),$e},oe.prototype.mul=function(he){var we=new oe(null);return we.words=new Array(this.length+he.length),this.mulTo(he,we)},oe.prototype.mulf=function(he){var we=new oe(null);return we.words=new Array(this.length+he.length),Ge(this,he,we)},oe.prototype.imul=function(he){return this.clone().mulTo(he,this)},oe.prototype.imuln=function(he){var we=he<0;we&&(he=-he),te(typeof he=="number"),te(he<67108864);for(var $e=0,Ne=0;Ne<this.length;Ne++){var Me=(this.words[Ne]|0)*he,Ze=(Me&67108863)+($e&67108863);$e>>=26,$e+=Me/67108864|0,$e+=Ze>>>26,this.words[Ne]=Ze&67108863}return $e!==0&&(this.words[Ne]=$e,this.length++),we?this.ineg():this},oe.prototype.muln=function(he){return this.clone().imuln(he)},oe.prototype.sqr=function(){return this.mul(this)},oe.prototype.isqr=function(){return this.imul(this.clone())},oe.prototype.pow=function(he){var we=Ie(he);if(we.length===0)return new oe(1);for(var $e=this,Ne=0;Ne<we.length&&we[Ne]===0;Ne++,$e=$e.sqr());if(++Ne<we.length)for(var Me=$e.sqr();Ne<we.length;Ne++,Me=Me.sqr())we[Ne]!==0&&($e=$e.mul(Me));return $e},oe.prototype.iushln=function(he){te(typeof he=="number"&&he>=0);var we=he%26,$e=(he-we)/26,Ne=67108863>>>26-we<<26-we,Me;if(we!==0){var Ze=0;for(Me=0;Me<this.length;Me++){var We=this.words[Me]&Ne,Be=(this.words[Me]|0)-We<<we;this.words[Me]=Be|Ze,Ze=We>>>26-we}Ze&&(this.words[Me]=Ze,this.length++)}if($e!==0){for(Me=this.length-1;Me>=0;Me--)this.words[Me+$e]=this.words[Me];for(Me=0;Me<$e;Me++)this.words[Me]=0;this.length+=$e}return this._strip()},oe.prototype.ishln=function(he){return te(this.negative===0),this.iushln(he)},oe.prototype.iushrn=function(he,we,$e){te(typeof he=="number"&&he>=0);var Ne;we?Ne=(we-we%26)/26:Ne=0;var Me=he%26,Ze=Math.min((he-Me)/26,this.length),We=67108863^67108863>>>Me<<Me,Be=$e;if(Ne-=Ze,Ne=Math.max(0,Ne),Be){for(var ve=0;ve<Ze;ve++)Be.words[ve]=this.words[ve];Be.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,ve=0;ve<this.length;ve++)this.words[ve]=this.words[ve+Ze];else this.words[0]=0,this.length=1;var Fe=0;for(ve=this.length-1;ve>=0&&(Fe!==0||ve>=Ne);ve--){var it=this.words[ve]|0;this.words[ve]=Fe<<26-Me|it>>>Me,Fe=it&We}return Be&&Fe!==0&&(Be.words[Be.length++]=Fe),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},oe.prototype.ishrn=function(he,we,$e){return te(this.negative===0),this.iushrn(he,we,$e)},oe.prototype.shln=function(he){return this.clone().ishln(he)},oe.prototype.ushln=function(he){return this.clone().iushln(he)},oe.prototype.shrn=function(he){return this.clone().ishrn(he)},oe.prototype.ushrn=function(he){return this.clone().iushrn(he)},oe.prototype.testn=function(he){te(typeof he=="number"&&he>=0);var we=he%26,$e=(he-we)/26,Ne=1<<we;if(this.length<=$e)return!1;var Me=this.words[$e];return!!(Me&Ne)},oe.prototype.imaskn=function(he){te(typeof he=="number"&&he>=0);var we=he%26,$e=(he-we)/26;if(te(this.negative===0,"imaskn works only with positive numbers"),this.length<=$e)return this;if(we!==0&&$e++,this.length=Math.min($e,this.length),we!==0){var Ne=67108863^67108863>>>we<<we;this.words[this.length-1]&=Ne}return this._strip()},oe.prototype.maskn=function(he){return this.clone().imaskn(he)},oe.prototype.iaddn=function(he){return te(typeof he=="number"),te(he<67108864),he<0?this.isubn(-he):this.negative!==0?this.length===1&&(this.words[0]|0)<=he?(this.words[0]=he-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(he),this.negative=1,this):this._iaddn(he)},oe.prototype._iaddn=function(he){this.words[0]+=he;for(var we=0;we<this.length&&this.words[we]>=67108864;we++)this.words[we]-=67108864,we===this.length-1?this.words[we+1]=1:this.words[we+1]++;return this.length=Math.max(this.length,we+1),this},oe.prototype.isubn=function(he){if(te(typeof he=="number"),te(he<67108864),he<0)return this.iaddn(-he);if(this.negative!==0)return this.negative=0,this.iaddn(he),this.negative=1,this;if(this.words[0]-=he,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var we=0;we<this.length&&this.words[we]<0;we++)this.words[we]+=67108864,this.words[we+1]-=1;return this._strip()},oe.prototype.addn=function(he){return this.clone().iaddn(he)},oe.prototype.subn=function(he){return this.clone().isubn(he)},oe.prototype.iabs=function(){return this.negative=0,this},oe.prototype.abs=function(){return this.clone().iabs()},oe.prototype._ishlnsubmul=function(he,we,$e){var Ne=he.length+$e,Me;this._expand(Ne);var Ze,We=0;for(Me=0;Me<he.length;Me++){Ze=(this.words[Me+$e]|0)+We;var Be=(he.words[Me]|0)*we;Ze-=Be&67108863,We=(Ze>>26)-(Be/67108864|0),this.words[Me+$e]=Ze&67108863}for(;Me<this.length-$e;Me++)Ze=(this.words[Me+$e]|0)+We,We=Ze>>26,this.words[Me+$e]=Ze&67108863;if(We===0)return this._strip();for(te(We===-1),We=0,Me=0;Me<this.length;Me++)Ze=-(this.words[Me]|0)+We,We=Ze>>26,this.words[Me]=Ze&67108863;return this.negative=1,this._strip()},oe.prototype._wordDiv=function(he,we){var $e=this.length-he.length,Ne=this.clone(),Me=he,Ze=Me.words[Me.length-1]|0,We=this._countBits(Ze);$e=26-We,$e!==0&&(Me=Me.ushln($e),Ne.iushln($e),Ze=Me.words[Me.length-1]|0);var Be=Ne.length-Me.length,ve;if(we!=="mod"){ve=new oe(null),ve.length=Be+1,ve.words=new Array(ve.length);for(var Fe=0;Fe<ve.length;Fe++)ve.words[Fe]=0}var it=Ne.clone()._ishlnsubmul(Me,1,Be);it.negative===0&&(Ne=it,ve&&(ve.words[Be]=1));for(var xe=Be-1;xe>=0;xe--){var Ve=(Ne.words[Me.length+xe]|0)*67108864+(Ne.words[Me.length+xe-1]|0);for(Ve=Math.min(Ve/Ze|0,67108863),Ne._ishlnsubmul(Me,Ve,xe);Ne.negative!==0;)Ve--,Ne.negative=0,Ne._ishlnsubmul(Me,1,xe),Ne.isZero()||(Ne.negative^=1);ve&&(ve.words[xe]=Ve)}return ve&&ve._strip(),Ne._strip(),we!=="div"&&$e!==0&&Ne.iushrn($e),{div:ve||null,mod:Ne}},oe.prototype.divmod=function(he,we,$e){if(te(!he.isZero()),this.isZero())return{div:new oe(0),mod:new oe(0)};var Ne,Me,Ze;return this.negative!==0&&he.negative===0?(Ze=this.neg().divmod(he,we),we!=="mod"&&(Ne=Ze.div.neg()),we!=="div"&&(Me=Ze.mod.neg(),$e&&Me.negative!==0&&Me.iadd(he)),{div:Ne,mod:Me}):this.negative===0&&he.negative!==0?(Ze=this.divmod(he.neg(),we),we!=="mod"&&(Ne=Ze.div.neg()),{div:Ne,mod:Ze.mod}):this.negative&he.negative?(Ze=this.neg().divmod(he.neg(),we),we!=="div"&&(Me=Ze.mod.neg(),$e&&Me.negative!==0&&Me.isub(he)),{div:Ze.div,mod:Me}):he.length>this.length||this.cmp(he)<0?{div:new oe(0),mod:this}:he.length===1?we==="div"?{div:this.divn(he.words[0]),mod:null}:we==="mod"?{div:null,mod:new oe(this.modrn(he.words[0]))}:{div:this.divn(he.words[0]),mod:new oe(this.modrn(he.words[0]))}:this._wordDiv(he,we)},oe.prototype.div=function(he){return this.divmod(he,"div",!1).div},oe.prototype.mod=function(he){return this.divmod(he,"mod",!1).mod},oe.prototype.umod=function(he){return this.divmod(he,"mod",!0).mod},oe.prototype.divRound=function(he){var we=this.divmod(he);if(we.mod.isZero())return we.div;var $e=we.div.negative!==0?we.mod.isub(he):we.mod,Ne=he.ushrn(1),Me=he.andln(1),Ze=$e.cmp(Ne);return Ze<0||Me===1&&Ze===0?we.div:we.div.negative!==0?we.div.isubn(1):we.div.iaddn(1)},oe.prototype.modrn=function(he){var we=he<0;we&&(he=-he),te(he<=67108863);for(var $e=(1<<26)%he,Ne=0,Me=this.length-1;Me>=0;Me--)Ne=($e*Ne+(this.words[Me]|0))%he;return we?-Ne:Ne},oe.prototype.modn=function(he){return this.modrn(he)},oe.prototype.idivn=function(he){var we=he<0;we&&(he=-he),te(he<=67108863);for(var $e=0,Ne=this.length-1;Ne>=0;Ne--){var Me=(this.words[Ne]|0)+$e*67108864;this.words[Ne]=Me/he|0,$e=Me%he}return this._strip(),we?this.ineg():this},oe.prototype.divn=function(he){return this.clone().idivn(he)},oe.prototype.egcd=function(he){te(he.negative===0),te(!he.isZero());var we=this,$e=he.clone();we.negative!==0?we=we.umod(he):we=we.clone();for(var Ne=new oe(1),Me=new oe(0),Ze=new oe(0),We=new oe(1),Be=0;we.isEven()&&$e.isEven();)we.iushrn(1),$e.iushrn(1),++Be;for(var ve=$e.clone(),Fe=we.clone();!we.isZero();){for(var it=0,xe=1;!(we.words[0]&xe)&&it<26;++it,xe<<=1);if(it>0)for(we.iushrn(it);it-- >0;)(Ne.isOdd()||Me.isOdd())&&(Ne.iadd(ve),Me.isub(Fe)),Ne.iushrn(1),Me.iushrn(1);for(var Ve=0,Ue=1;!($e.words[0]&Ue)&&Ve<26;++Ve,Ue<<=1);if(Ve>0)for($e.iushrn(Ve);Ve-- >0;)(Ze.isOdd()||We.isOdd())&&(Ze.iadd(ve),We.isub(Fe)),Ze.iushrn(1),We.iushrn(1);we.cmp($e)>=0?(we.isub($e),Ne.isub(Ze),Me.isub(We)):($e.isub(we),Ze.isub(Ne),We.isub(Me))}return{a:Ze,b:We,gcd:$e.iushln(Be)}},oe.prototype._invmp=function(he){te(he.negative===0),te(!he.isZero());var we=this,$e=he.clone();we.negative!==0?we=we.umod(he):we=we.clone();for(var Ne=new oe(1),Me=new oe(0),Ze=$e.clone();we.cmpn(1)>0&&$e.cmpn(1)>0;){for(var We=0,Be=1;!(we.words[0]&Be)&&We<26;++We,Be<<=1);if(We>0)for(we.iushrn(We);We-- >0;)Ne.isOdd()&&Ne.iadd(Ze),Ne.iushrn(1);for(var ve=0,Fe=1;!($e.words[0]&Fe)&&ve<26;++ve,Fe<<=1);if(ve>0)for($e.iushrn(ve);ve-- >0;)Me.isOdd()&&Me.iadd(Ze),Me.iushrn(1);we.cmp($e)>=0?(we.isub($e),Ne.isub(Me)):($e.isub(we),Me.isub(Ne))}var it;return we.cmpn(1)===0?it=Ne:it=Me,it.cmpn(0)<0&&it.iadd(he),it},oe.prototype.gcd=function(he){if(this.isZero())return he.abs();if(he.isZero())return this.abs();var we=this.clone(),$e=he.clone();we.negative=0,$e.negative=0;for(var Ne=0;we.isEven()&&$e.isEven();Ne++)we.iushrn(1),$e.iushrn(1);do{for(;we.isEven();)we.iushrn(1);for(;$e.isEven();)$e.iushrn(1);var Me=we.cmp($e);if(Me<0){var Ze=we;we=$e,$e=Ze}else if(Me===0||$e.cmpn(1)===0)break;we.isub($e)}while(!0);return $e.iushln(Ne)},oe.prototype.invm=function(he){return this.egcd(he).a.umod(he)},oe.prototype.isEven=function(){return(this.words[0]&1)===0},oe.prototype.isOdd=function(){return(this.words[0]&1)===1},oe.prototype.andln=function(he){return this.words[0]&he},oe.prototype.bincn=function(he){te(typeof he=="number");var we=he%26,$e=(he-we)/26,Ne=1<<we;if(this.length<=$e)return this._expand($e+1),this.words[$e]|=Ne,this;for(var Me=Ne,Ze=$e;Me!==0&&Ze<this.length;Ze++){var We=this.words[Ze]|0;We+=Me,Me=We>>>26,We&=67108863,this.words[Ze]=We}return Me!==0&&(this.words[Ze]=Me,this.length++),this},oe.prototype.isZero=function(){return this.length===1&&this.words[0]===0},oe.prototype.cmpn=function(he){var we=he<0;if(this.negative!==0&&!we)return-1;if(this.negative===0&&we)return 1;this._strip();var $e;if(this.length>1)$e=1;else{we&&(he=-he),te(he<=67108863,"Number is too big");var Ne=this.words[0]|0;$e=Ne===he?0:Ne<he?-1:1}return this.negative!==0?-$e|0:$e},oe.prototype.cmp=function(he){if(this.negative!==0&&he.negative===0)return-1;if(this.negative===0&&he.negative!==0)return 1;var we=this.ucmp(he);return this.negative!==0?-we|0:we},oe.prototype.ucmp=function(he){if(this.length>he.length)return 1;if(this.length<he.length)return-1;for(var we=0,$e=this.length-1;$e>=0;$e--){var Ne=this.words[$e]|0,Me=he.words[$e]|0;if(Ne!==Me){Ne<Me?we=-1:Ne>Me&&(we=1);break}}return we},oe.prototype.gtn=function(he){return this.cmpn(he)===1},oe.prototype.gt=function(he){return this.cmp(he)===1},oe.prototype.gten=function(he){return this.cmpn(he)>=0},oe.prototype.gte=function(he){return this.cmp(he)>=0},oe.prototype.ltn=function(he){return this.cmpn(he)===-1},oe.prototype.lt=function(he){return this.cmp(he)===-1},oe.prototype.lten=function(he){return this.cmpn(he)<=0},oe.prototype.lte=function(he){return this.cmp(he)<=0},oe.prototype.eqn=function(he){return this.cmpn(he)===0},oe.prototype.eq=function(he){return this.cmp(he)===0},oe.red=function(he){return new ot(he)},oe.prototype.toRed=function(he){return te(!this.red,"Already a number in reduction context"),te(this.negative===0,"red works only with positives"),he.convertTo(this)._forceRed(he)},oe.prototype.fromRed=function(){return te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},oe.prototype._forceRed=function(he){return this.red=he,this},oe.prototype.forceRed=function(he){return te(!this.red,"Already a number in reduction context"),this._forceRed(he)},oe.prototype.redAdd=function(he){return te(this.red,"redAdd works only with red numbers"),this.red.add(this,he)},oe.prototype.redIAdd=function(he){return te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,he)},oe.prototype.redSub=function(he){return te(this.red,"redSub works only with red numbers"),this.red.sub(this,he)},oe.prototype.redISub=function(he){return te(this.red,"redISub works only with red numbers"),this.red.isub(this,he)},oe.prototype.redShl=function(he){return te(this.red,"redShl works only with red numbers"),this.red.shl(this,he)},oe.prototype.redMul=function(he){return te(this.red,"redMul works only with red numbers"),this.red._verify2(this,he),this.red.mul(this,he)},oe.prototype.redIMul=function(he){return te(this.red,"redMul works only with red numbers"),this.red._verify2(this,he),this.red.imul(this,he)},oe.prototype.redSqr=function(){return te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},oe.prototype.redISqr=function(){return te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},oe.prototype.redSqrt=function(){return te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},oe.prototype.redInvm=function(){return te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},oe.prototype.redNeg=function(){return te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},oe.prototype.redPow=function(he){return te(this.red&&!he.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,he)};var Ye={k256:null,p224:null,p192:null,p25519:null};function Ke(Le,he){this.name=Le,this.p=new oe(he,16),this.n=this.p.bitLength(),this.k=new oe(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var he=new oe(null);return he.words=new Array(Math.ceil(this.n/13)),he},Ke.prototype.ireduce=function(he){var we=he,$e;do this.split(we,this.tmp),we=this.imulK(we),we=we.iadd(this.tmp),$e=we.bitLength();while($e>this.n);var Ne=$e<this.n?-1:we.ucmp(this.p);return Ne===0?(we.words[0]=0,we.length=1):Ne>0?we.isub(this.p):we.strip!==void 0?we.strip():we._strip(),we},Ke.prototype.split=function(he,we){he.iushrn(this.n,0,we)},Ke.prototype.imulK=function(he){return he.imul(this.k)};function nt(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ie(nt,Ke),nt.prototype.split=function(he,we){for(var $e=4194303,Ne=Math.min(he.length,9),Me=0;Me<Ne;Me++)we.words[Me]=he.words[Me];if(we.length=Ne,he.length<=9){he.words[0]=0,he.length=1;return}var Ze=he.words[9];for(we.words[we.length++]=Ze&$e,Me=10;Me<he.length;Me++){var We=he.words[Me]|0;he.words[Me-10]=(We&$e)<<4|Ze>>>22,Ze=We}Ze>>>=22,he.words[Me-10]=Ze,Ze===0&&he.length>10?he.length-=10:he.length-=9},nt.prototype.imulK=function(he){he.words[he.length]=0,he.words[he.length+1]=0,he.length+=2;for(var we=0,$e=0;$e<he.length;$e++){var Ne=he.words[$e]|0;we+=Ne*977,he.words[$e]=we&67108863,we=Ne*64+(we/67108864|0)}return he.words[he.length-1]===0&&(he.length--,he.words[he.length-1]===0&&he.length--),he};function tt(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ie(tt,Ke);function at(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ie(at,Ke);function lt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ie(lt,Ke),lt.prototype.imulK=function(he){for(var we=0,$e=0;$e<he.length;$e++){var Ne=(he.words[$e]|0)*19+we,Me=Ne&67108863;Ne>>>=26,he.words[$e]=Me,we=Ne}return we!==0&&(he.words[he.length++]=we),he},oe._prime=function(he){if(Ye[he])return Ye[he];var we;if(he==="k256")we=new nt;else if(he==="p224")we=new tt;else if(he==="p192")we=new at;else if(he==="p25519")we=new lt;else throw new Error("Unknown prime "+he);return Ye[he]=we,we};function ot(Le){if(typeof Le=="string"){var he=oe._prime(Le);this.m=he.p,this.prime=he}else te(Le.gtn(1),"modulus must be greater than 1"),this.m=Le,this.prime=null}ot.prototype._verify1=function(he){te(he.negative===0,"red works only with positives"),te(he.red,"red works only with red numbers")},ot.prototype._verify2=function(he,we){te((he.negative|we.negative)===0,"red works only with positives"),te(he.red&&he.red===we.red,"red works only with red numbers")},ot.prototype.imod=function(he){return this.prime?this.prime.ireduce(he)._forceRed(this):(de(he,he.umod(this.m)._forceRed(this)),he)},ot.prototype.neg=function(he){return he.isZero()?he.clone():this.m.sub(he)._forceRed(this)},ot.prototype.add=function(he,we){this._verify2(he,we);var $e=he.add(we);return $e.cmp(this.m)>=0&&$e.isub(this.m),$e._forceRed(this)},ot.prototype.iadd=function(he,we){this._verify2(he,we);var $e=he.iadd(we);return $e.cmp(this.m)>=0&&$e.isub(this.m),$e},ot.prototype.sub=function(he,we){this._verify2(he,we);var $e=he.sub(we);return $e.cmpn(0)<0&&$e.iadd(this.m),$e._forceRed(this)},ot.prototype.isub=function(he,we){this._verify2(he,we);var $e=he.isub(we);return $e.cmpn(0)<0&&$e.iadd(this.m),$e},ot.prototype.shl=function(he,we){return this._verify1(he),this.imod(he.ushln(we))},ot.prototype.imul=function(he,we){return this._verify2(he,we),this.imod(he.imul(we))},ot.prototype.mul=function(he,we){return this._verify2(he,we),this.imod(he.mul(we))},ot.prototype.isqr=function(he){return this.imul(he,he.clone())},ot.prototype.sqr=function(he){return this.mul(he,he)},ot.prototype.sqrt=function(he){if(he.isZero())return he.clone();var we=this.m.andln(3);if(te(we%2===1),we===3){var $e=this.m.add(new oe(1)).iushrn(2);return this.pow(he,$e)}for(var Ne=this.m.subn(1),Me=0;!Ne.isZero()&&Ne.andln(1)===0;)Me++,Ne.iushrn(1);te(!Ne.isZero());var Ze=new oe(1).toRed(this),We=Ze.redNeg(),Be=this.m.subn(1).iushrn(1),ve=this.m.bitLength();for(ve=new oe(2*ve*ve).toRed(this);this.pow(ve,Be).cmp(We)!==0;)ve.redIAdd(We);for(var Fe=this.pow(ve,Ne),it=this.pow(he,Ne.addn(1).iushrn(1)),xe=this.pow(he,Ne),Ve=Me;xe.cmp(Ze)!==0;){for(var Ue=xe,qe=0;Ue.cmp(Ze)!==0;qe++)Ue=Ue.redSqr();te(qe<Ve);var Xe=this.pow(Fe,new oe(1).iushln(Ve-qe-1));it=it.redMul(Xe),Fe=Xe.redSqr(),xe=xe.redMul(Fe),Ve=qe}return it},ot.prototype.invm=function(he){var we=he._invmp(this.m);return we.negative!==0?(we.negative=0,this.imod(we).redNeg()):this.imod(we)},ot.prototype.pow=function(he,we){if(we.isZero())return new oe(1).toRed(this);if(we.cmpn(1)===0)return he.clone();var $e=4,Ne=new Array(1<<$e);Ne[0]=new oe(1).toRed(this),Ne[1]=he;for(var Me=2;Me<Ne.length;Me++)Ne[Me]=this.mul(Ne[Me-1],he);var Ze=Ne[0],We=0,Be=0,ve=we.bitLength()%26;for(ve===0&&(ve=26),Me=we.length-1;Me>=0;Me--){for(var Fe=we.words[Me],it=ve-1;it>=0;it--){var xe=Fe>>it&1;if(Ze!==Ne[0]&&(Ze=this.sqr(Ze)),xe===0&&We===0){Be=0;continue}We<<=1,We|=xe,Be++,!(Be!==$e&&(Me!==0||it!==0))&&(Ze=this.mul(Ze,Ne[We]),Be=0,We=0)}ve=26}return Ze},ot.prototype.convertTo=function(he){var we=he.umod(this.m);return we===he?we.clone():we},ot.prototype.convertFrom=function(he){var we=he.clone();return we.red=null,we},oe.mont=function(he){return new ft(he)};function ft(Le){ot.call(this,Le),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new oe(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie(ft,ot),ft.prototype.convertTo=function(he){return this.imod(he.ushln(this.shift))},ft.prototype.convertFrom=function(he){var we=this.imod(he.mul(this.rinv));return we.red=null,we},ft.prototype.imul=function(he,we){if(he.isZero()||we.isZero())return he.words[0]=0,he.length=1,he;var $e=he.imul(we),Ne=$e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Me=$e.isub(Ne).iushrn(this.shift),Ze=Me;return Me.cmp(this.m)>=0?Ze=Me.isub(this.m):Me.cmpn(0)<0&&(Ze=Me.iadd(this.m)),Ze._forceRed(this)},ft.prototype.mul=function(he,we){if(he.isZero()||we.isZero())return new oe(0)._forceRed(this);var $e=he.mul(we),Ne=$e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Me=$e.isub(Ne).iushrn(this.shift),Ze=Me;return Me.cmp(this.m)>=0?Ze=Me.isub(this.m):Me.cmpn(0)<0&&(Ze=Me.iadd(this.m)),Ze._forceRed(this)},ft.prototype.invm=function(he){var we=this.imod(he._invmp(this.m).mul(this.r2));return we._forceRed(this)}})(Z,commonjsGlobal)})(bn);const BN$1=bnExports,version$d="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const Z=[];if(["NFD","NFC","NFKD","NFKC"].forEach(L=>{try{if("test".normalize(L)!=="test")throw new Error("bad normalize")}catch{Z.push(L)}}),Z.length)throw new Error("missing "+Z.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(Z){return Z.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(Z){Z.DEBUG="DEBUG",Z.INFO="INFO",Z.WARNING="WARNING",Z.ERROR="ERROR",Z.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(Z){Z.UNKNOWN_ERROR="UNKNOWN_ERROR",Z.NOT_IMPLEMENTED="NOT_IMPLEMENTED",Z.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",Z.NETWORK_ERROR="NETWORK_ERROR",Z.SERVER_ERROR="SERVER_ERROR",Z.TIMEOUT="TIMEOUT",Z.BUFFER_OVERRUN="BUFFER_OVERRUN",Z.NUMERIC_FAULT="NUMERIC_FAULT",Z.MISSING_NEW="MISSING_NEW",Z.INVALID_ARGUMENT="INVALID_ARGUMENT",Z.MISSING_ARGUMENT="MISSING_ARGUMENT",Z.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",Z.CALL_EXCEPTION="CALL_EXCEPTION",Z.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",Z.NONCE_EXPIRED="NONCE_EXPIRED",Z.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",Z.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",Z.TRANSACTION_REPLACED="TRANSACTION_REPLACED",Z.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(L){Object.defineProperty(this,"version",{enumerable:!0,value:L,writable:!1})}_log(L,X){const te=L.toLowerCase();LogLevels[te]==null&&this.throwArgumentError("invalid log level name","logLevel",L),!(_logLevel>LogLevels[te])&&console.log.apply(console,X)}debug(...L){this._log(Logger.levels.DEBUG,L)}info(...L){this._log(Logger.levels.INFO,L)}warn(...L){this._log(Logger.levels.WARNING,L)}makeError(L,X,te){if(_censorErrors)return this.makeError("censored error",X,{});X||(X=Logger.errors.UNKNOWN_ERROR),te||(te={});const ie=[];Object.keys(te).forEach(ce=>{const le=te[ce];try{if(le instanceof Uint8Array){let de="";for(let pe=0;pe<le.length;pe++)de+=HEX[le[pe]>>4],de+=HEX[le[pe]&15];ie.push(ce+"=Uint8Array(0x"+de+")")}else ie.push(ce+"="+JSON.stringify(le))}catch{ie.push(ce+"="+JSON.stringify(te[ce].toString()))}}),ie.push(`code=${X}`),ie.push(`version=${this.version}`);const oe=L;let se="";switch(X){case ErrorCode.NUMERIC_FAULT:{se="NUMERIC_FAULT";const ce=L;switch(ce){case"overflow":case"underflow":case"division-by-zero":se+="-"+ce;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:se=X;break}se&&(L+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(L+=" ("+ie.join(", ")+")");const ue=new Error(L);return ue.reason=oe,ue.code=X,Object.keys(te).forEach(function(ce){ue[ce]=te[ce]}),ue}throwError(L,X,te){throw this.makeError(L,X,te)}throwArgumentError(L,X,te){return this.throwError(L,Logger.errors.INVALID_ARGUMENT,{argument:X,value:te})}assert(L,X,te,ie){L||this.throwError(X,te,ie)}assertArgument(L,X,te,ie){L||this.throwArgumentError(X,te,ie)}checkNormalize(L){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(L,X){typeof L=="number"&&(X==null&&(X="value not safe"),(L<0||L>=9007199254740991)&&this.throwError(X,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:L}),L%1&&this.throwError(X,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:L}))}checkArgumentCount(L,X,te){te?te=": "+te:te="",L<X&&this.throwError("missing argument"+te,Logger.errors.MISSING_ARGUMENT,{count:L,expectedCount:X}),L>X&&this.throwError("too many arguments"+te,Logger.errors.UNEXPECTED_ARGUMENT,{count:L,expectedCount:X})}checkNew(L,X){(L===Object||L==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:X.name})}checkAbstract(L,X){L===X?this.throwError("cannot instantiate abstract class "+JSON.stringify(X.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:L.name,operation:"new"}):(L===Object||L==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:X.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$d)),_globalLogger}static setCensorship(L,X){if(!L&&X&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!L)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!L,_permanentCensorErrors=!!X}static setLogLevel(L){const X=LogLevels[L.toLowerCase()];if(X==null){Logger.globalLogger().warn("invalid log level - "+L);return}_logLevel=X}static from(L){return new Logger(L)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$c="bytes/5.7.0",logger$e=new Logger(version$c);function isHexable(Z){return!!Z.toHexString}function addSlice(Z){return Z.slice||(Z.slice=function(){const L=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(Z,L)))}),Z}function isBytesLike(Z){return isHexString(Z)&&!(Z.length%2)||isBytes(Z)}function isInteger(Z){return typeof Z=="number"&&Z==Z&&Z%1===0}function isBytes(Z){if(Z==null)return!1;if(Z.constructor===Uint8Array)return!0;if(typeof Z=="string"||!isInteger(Z.length)||Z.length<0)return!1;for(let L=0;L<Z.length;L++){const X=Z[L];if(!isInteger(X)||X<0||X>=256)return!1}return!0}function arrayify(Z,L){if(L||(L={}),typeof Z=="number"){logger$e.checkSafeUint53(Z,"invalid arrayify value");const X=[];for(;Z;)X.unshift(Z&255),Z=parseInt(String(Z/256));return X.length===0&&X.push(0),addSlice(new Uint8Array(X))}if(L.allowMissingPrefix&&typeof Z=="string"&&Z.substring(0,2)!=="0x"&&(Z="0x"+Z),isHexable(Z)&&(Z=Z.toHexString()),isHexString(Z)){let X=Z.substring(2);X.length%2&&(L.hexPad==="left"?X="0"+X:L.hexPad==="right"?X+="0":logger$e.throwArgumentError("hex data is odd-length","value",Z));const te=[];for(let ie=0;ie<X.length;ie+=2)te.push(parseInt(X.substring(ie,ie+2),16));return addSlice(new Uint8Array(te))}return isBytes(Z)?addSlice(new Uint8Array(Z)):logger$e.throwArgumentError("invalid arrayify value","value",Z)}function concat$1(Z){const L=Z.map(ie=>arrayify(ie)),X=L.reduce((ie,oe)=>ie+oe.length,0),te=new Uint8Array(X);return L.reduce((ie,oe)=>(te.set(oe,ie),ie+oe.length),0),addSlice(te)}function stripZeros(Z){let L=arrayify(Z);if(L.length===0)return L;let X=0;for(;X<L.length&&L[X]===0;)X++;return X&&(L=L.slice(X)),L}function isHexString(Z,L){return!(typeof Z!="string"||!Z.match(/^0x[0-9A-Fa-f]*$/)||L&&Z.length!==2+2*L)}const HexCharacters="0123456789abcdef";function hexlify(Z,L){if(L||(L={}),typeof Z=="number"){logger$e.checkSafeUint53(Z,"invalid hexlify value");let X="";for(;Z;)X=HexCharacters[Z&15]+X,Z=Math.floor(Z/16);return X.length?(X.length%2&&(X="0"+X),"0x"+X):"0x00"}if(typeof Z=="bigint")return Z=Z.toString(16),Z.length%2?"0x0"+Z:"0x"+Z;if(L.allowMissingPrefix&&typeof Z=="string"&&Z.substring(0,2)!=="0x"&&(Z="0x"+Z),isHexable(Z))return Z.toHexString();if(isHexString(Z))return Z.length%2&&(L.hexPad==="left"?Z="0x0"+Z.substring(2):L.hexPad==="right"?Z+="0":logger$e.throwArgumentError("hex data is odd-length","value",Z)),Z.toLowerCase();if(isBytes(Z)){let X="0x";for(let te=0;te<Z.length;te++){let ie=Z[te];X+=HexCharacters[(ie&240)>>4]+HexCharacters[ie&15]}return X}return logger$e.throwArgumentError("invalid hexlify value","value",Z)}function hexDataLength(Z){if(typeof Z!="string")Z=hexlify(Z);else if(!isHexString(Z)||Z.length%2)return null;return(Z.length-2)/2}function hexDataSlice(Z,L,X){return typeof Z!="string"?Z=hexlify(Z):(!isHexString(Z)||Z.length%2)&&logger$e.throwArgumentError("invalid hexData","value",Z),L=2+2*L,X!=null?"0x"+Z.substring(L,2+2*X):"0x"+Z.substring(L)}function hexConcat(Z){let L="0x";return Z.forEach(X=>{L+=hexlify(X).substring(2)}),L}function hexZeroPad(Z,L){for(typeof Z!="string"?Z=hexlify(Z):isHexString(Z)||logger$e.throwArgumentError("invalid hex string","value",Z),Z.length>2*L+2&&logger$e.throwArgumentError("value out of range","value",arguments[1]);Z.length<2*L+2;)Z="0x0"+Z.substring(2);return Z}const version$b="bignumber/5.7.0";var BN=BN$1.BN;const logger$d=new Logger(version$b),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(L,X){L!==_constructorGuard$1&&logger$d.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=X,this._isBigNumber=!0,Object.freeze(this)}fromTwos(L){return toBigNumber(toBN(this).fromTwos(L))}toTwos(L){return toBigNumber(toBN(this).toTwos(L))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(L){return toBigNumber(toBN(this).add(toBN(L)))}sub(L){return toBigNumber(toBN(this).sub(toBN(L)))}div(L){return BigNumber.from(L).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(L)))}mul(L){return toBigNumber(toBN(this).mul(toBN(L)))}mod(L){const X=toBN(L);return X.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(X))}pow(L){const X=toBN(L);return X.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(X))}and(L){const X=toBN(L);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(X))}or(L){const X=toBN(L);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(X))}xor(L){const X=toBN(L);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(X))}mask(L){return(this.isNegative()||L<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(L))}shl(L){return(this.isNegative()||L<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(L))}shr(L){return(this.isNegative()||L<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(L))}eq(L){return toBN(this).eq(toBN(L))}lt(L){return toBN(this).lt(toBN(L))}lte(L){return toBN(this).lte(toBN(L))}gt(L){return toBN(this).gt(toBN(L))}gte(L){return toBN(this).gte(toBN(L))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$d.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$d.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$d.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$d.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(L){return{type:"BigNumber",hex:this.toHexString()}}static from(L){if(L instanceof BigNumber)return L;if(typeof L=="string")return L.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex$1(L)):L.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex$1(new BN(L))):logger$d.throwArgumentError("invalid BigNumber string","value",L);if(typeof L=="number")return L%1&&throwFault("underflow","BigNumber.from",L),(L>=MAX_SAFE||L<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",L),BigNumber.from(String(L));const X=L;if(typeof X=="bigint")return BigNumber.from(X.toString());if(isBytes(X))return BigNumber.from(hexlify(X));if(X)if(X.toHexString){const te=X.toHexString();if(typeof te=="string")return BigNumber.from(te)}else{let te=X._hex;if(te==null&&X.type==="BigNumber"&&(te=X.hex),typeof te=="string"&&(isHexString(te)||te[0]==="-"&&isHexString(te.substring(1))))return BigNumber.from(te)}return logger$d.throwArgumentError("invalid BigNumber value","value",L)}static isBigNumber(L){return!!(L&&L._isBigNumber)}}function toHex$1(Z){if(typeof Z!="string")return toHex$1(Z.toString(16));if(Z[0]==="-")return Z=Z.substring(1),Z[0]==="-"&&logger$d.throwArgumentError("invalid hex","value",Z),Z=toHex$1(Z),Z==="0x00"?Z:"-"+Z;if(Z.substring(0,2)!=="0x"&&(Z="0x"+Z),Z==="0x")return"0x00";for(Z.length%2&&(Z="0x0"+Z.substring(2));Z.length>4&&Z.substring(0,4)==="0x00";)Z="0x"+Z.substring(4);return Z}function toBigNumber(Z){return BigNumber.from(toHex$1(Z))}function toBN(Z){const L=BigNumber.from(Z).toHexString();return L[0]==="-"?new BN("-"+L.substring(3),16):new BN(L.substring(2),16)}function throwFault(Z,L,X){const te={fault:Z,operation:L};return X!=null&&(te.value=X),logger$d.throwError(Z,Logger.errors.NUMERIC_FAULT,te)}function _base36To16(Z){return new BN(Z,36).toString(16)}const version$a="properties/5.7.0";var __awaiter$3=globalThis&&globalThis.__awaiter||function(Z,L,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(pe){se(pe)}}function ce(de){try{le(te.throw(de))}catch(pe){se(pe)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(Z,L||[])).next())})};const logger$c=new Logger(version$a);function defineReadOnly(Z,L,X){Object.defineProperty(Z,L,{enumerable:!0,value:X,writable:!1})}function getStatic(Z,L){for(let X=0;X<32;X++){if(Z[L])return Z[L];if(!Z.prototype||typeof Z.prototype!="object")break;Z=Object.getPrototypeOf(Z.prototype).constructor}return null}function resolveProperties(Z){return __awaiter$3(this,void 0,void 0,function*(){const L=Object.keys(Z).map(te=>{const ie=Z[te];return Promise.resolve(ie).then(oe=>({key:te,value:oe}))});return(yield Promise.all(L)).reduce((te,ie)=>(te[ie.key]=ie.value,te),{})})}function shallowCopy(Z){const L={};for(const X in Z)L[X]=Z[X];return L}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(Z){if(Z==null||opaque[typeof Z])return!0;if(Array.isArray(Z)||typeof Z=="object"){if(!Object.isFrozen(Z))return!1;const L=Object.keys(Z);for(let X=0;X<L.length;X++){let te=null;try{te=Z[L[X]]}catch{continue}if(!_isFrozen(te))return!1}return!0}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof Z}`,"object",Z)}function _deepCopy(Z){if(_isFrozen(Z))return Z;if(Array.isArray(Z))return Object.freeze(Z.map(L=>deepCopy(L)));if(typeof Z=="object"){const L={};for(const X in Z){const te=Z[X];te!==void 0&&defineReadOnly(L,X,deepCopy(te))}return L}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof Z}`,"object",Z)}function deepCopy(Z){return _deepCopy(Z)}class Description{constructor(L){for(const X in L)this[X]=deepCopy(L[X])}}const version$9="abi/5.7.0",logger$b=new Logger(version$9),_constructorGuard={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(Z,L){if(Z==="bytes"||Z==="string"){if(ModifiersBytes[L])return!0}else if(Z==="address"){if(L==="payable")return!0}else if((Z.indexOf("[")>=0||Z==="tuple")&&ModifiersNest[L])return!0;return(ModifiersBytes[L]||L==="payable")&&logger$b.throwArgumentError("invalid modifier","name",L),!1}function parseParamType(Z,L){let X=Z;function te(ue){logger$b.throwArgumentError(`unexpected character at position ${ue}`,"param",Z)}Z=Z.replace(/\s/g," ");function ie(ue){let ce={type:"",name:"",parent:ue,state:{allowType:!0}};return L&&(ce.indexed=!1),ce}let oe={type:"",name:"",state:{allowType:!0}},se=oe;for(let ue=0;ue<Z.length;ue++){let ce=Z[ue];switch(ce){case"(":se.state.allowType&&se.type===""?se.type="tuple":se.state.allowParams||te(ue),se.state.allowType=!1,se.type=verifyType(se.type),se.components=[ie(se)],se=se.components[0];break;case")":delete se.state,se.name==="indexed"&&(L||te(ue),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let le=se;se=se.parent,se||te(ue),delete le.parent,se.state.allowParams=!1,se.state.allowName=!0,se.state.allowArray=!0;break;case",":delete se.state,se.name==="indexed"&&(L||te(ue),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let de=ie(se.parent);se.parent.components.push(de),delete se.parent,se=de;break;case" ":se.state.allowType&&se.type!==""&&(se.type=verifyType(se.type),delete se.state.allowType,se.state.allowName=!0,se.state.allowParams=!0),se.state.allowName&&se.name!==""&&(se.name==="indexed"?(L||te(ue),se.indexed&&te(ue),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)?se.name="":se.state.allowName=!1);break;case"[":se.state.allowArray||te(ue),se.type+=ce,se.state.allowArray=!1,se.state.allowName=!1,se.state.readArray=!0;break;case"]":se.state.readArray||te(ue),se.type+=ce,se.state.readArray=!1,se.state.allowArray=!0,se.state.allowName=!0;break;default:se.state.allowType?(se.type+=ce,se.state.allowParams=!0,se.state.allowArray=!0):se.state.allowName?(se.name+=ce,delete se.state.allowArray):se.state.readArray?se.type+=ce:te(ue)}}return se.parent&&logger$b.throwArgumentError("unexpected eof","param",Z),delete oe.state,se.name==="indexed"?(L||te(X.length-7),se.indexed&&te(X.length-7),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)&&(se.name=""),oe.type=verifyType(oe.type),oe}function populate(Z,L){for(let X in L)defineReadOnly(Z,X,L[X])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(L,X){L!==_constructorGuard&&logger$b.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,X);let te=this.type.match(paramTypeArray);te?populate(this,{arrayLength:parseInt(te[2]||"-1"),arrayChildren:ParamType.fromObject({type:te[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json){let te={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(te.indexed=this.indexed),this.components&&(te.components=this.components.map(ie=>JSON.parse(ie.format(L)))),JSON.stringify(te)}let X="";return this.baseType==="array"?(X+=this.arrayChildren.format(L),X+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(L!==FormatTypes.sighash&&(X+=this.type),X+="("+this.components.map(te=>te.format(L)).join(L===FormatTypes.full?", ":",")+")"):X+=this.type,L!==FormatTypes.sighash&&(this.indexed===!0&&(X+=" indexed"),L===FormatTypes.full&&this.name&&(X+=" "+this.name)),X}static from(L,X){return typeof L=="string"?ParamType.fromString(L,X):ParamType.fromObject(L)}static fromObject(L){return ParamType.isParamType(L)?L:new ParamType(_constructorGuard,{name:L.name||null,type:verifyType(L.type),indexed:L.indexed==null?null:!!L.indexed,components:L.components?L.components.map(ParamType.fromObject):null})}static fromString(L,X){function te(ie){return ParamType.fromObject({name:ie.name,type:ie.type,indexed:ie.indexed,components:ie.components})}return te(parseParamType(L,!!X))}static isParamType(L){return!!(L!=null&&L._isParamType)}}function parseParams(Z,L){return splitNesting(Z).map(X=>ParamType.fromString(X,L))}class Fragment{constructor(L,X){L!==_constructorGuard&&logger$b.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,X),this._isFragment=!0,Object.freeze(this)}static from(L){return Fragment.isFragment(L)?L:typeof L=="string"?Fragment.fromString(L):Fragment.fromObject(L)}static fromObject(L){if(Fragment.isFragment(L))return L;switch(L.type){case"function":return FunctionFragment.fromObject(L);case"event":return EventFragment.fromObject(L);case"constructor":return ConstructorFragment.fromObject(L);case"error":return ErrorFragment.fromObject(L);case"fallback":case"receive":return null}return logger$b.throwArgumentError("invalid fragment object","value",L)}static fromString(L){return L=L.replace(/\s/g," "),L=L.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),L=L.trim(),L.split(" ")[0]==="event"?EventFragment.fromString(L.substring(5).trim()):L.split(" ")[0]==="function"?FunctionFragment.fromString(L.substring(8).trim()):L.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(L.trim()):L.split(" ")[0]==="error"?ErrorFragment.fromString(L.substring(5).trim()):logger$b.throwArgumentError("unsupported fragment","value",L)}static isFragment(L){return!!(L&&L._isFragment)}}class EventFragment extends Fragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(te=>JSON.parse(te.format(L)))});let X="";return L!==FormatTypes.sighash&&(X+="event "),X+=this.name+"("+this.inputs.map(te=>te.format(L)).join(L===FormatTypes.full?", ":",")+") ",L!==FormatTypes.sighash&&this.anonymous&&(X+="anonymous "),X.trim()}static from(L){return typeof L=="string"?EventFragment.fromString(L):EventFragment.fromObject(L)}static fromObject(L){if(EventFragment.isEventFragment(L))return L;L.type!=="event"&&logger$b.throwArgumentError("invalid event object","value",L);const X={name:verifyIdentifier(L.name),anonymous:L.anonymous,inputs:L.inputs?L.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard,X)}static fromString(L){let X=L.match(regexParen);X||logger$b.throwArgumentError("invalid event string","value",L);let te=!1;return X[3].split(" ").forEach(ie=>{switch(ie.trim()){case"anonymous":te=!0;break;case"":break;default:logger$b.warn("unknown modifier: "+ie)}}),EventFragment.fromObject({name:X[1].trim(),anonymous:te,inputs:parseParams(X[2],!0),type:"event"})}static isEventFragment(L){return L&&L._isFragment&&L.type==="event"}}function parseGas(Z,L){L.gas=null;let X=Z.split("@");return X.length!==1?(X.length>2&&logger$b.throwArgumentError("invalid human-readable ABI signature","value",Z),X[1].match(/^[0-9]+$/)||logger$b.throwArgumentError("invalid human-readable ABI signature gas","value",Z),L.gas=BigNumber.from(X[1]),X[0]):Z}function parseModifiers(Z,L){L.constant=!1,L.payable=!1,L.stateMutability="nonpayable",Z.split(" ").forEach(X=>{switch(X.trim()){case"constant":L.constant=!0;break;case"payable":L.payable=!0,L.stateMutability="payable";break;case"nonpayable":L.payable=!1,L.stateMutability="nonpayable";break;case"pure":L.constant=!0,L.stateMutability="pure";break;case"view":L.constant=!0,L.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+X)}})}function verifyState(Z){let L={constant:!1,payable:!0,stateMutability:"payable"};return Z.stateMutability!=null?(L.stateMutability=Z.stateMutability,L.constant=L.stateMutability==="view"||L.stateMutability==="pure",Z.constant!=null&&!!Z.constant!==L.constant&&logger$b.throwArgumentError("cannot have constant function with mutability "+L.stateMutability,"value",Z),L.payable=L.stateMutability==="payable",Z.payable!=null&&!!Z.payable!==L.payable&&logger$b.throwArgumentError("cannot have payable function with mutability "+L.stateMutability,"value",Z)):Z.payable!=null?(L.payable=!!Z.payable,Z.constant==null&&!L.payable&&Z.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",Z),L.constant=!!Z.constant,L.constant?L.stateMutability="view":L.stateMutability=L.payable?"payable":"nonpayable",L.payable&&L.constant&&logger$b.throwArgumentError("cannot have constant payable function","value",Z)):Z.constant!=null?(L.constant=!!Z.constant,L.payable=!L.constant,L.stateMutability=L.constant?"view":"payable"):Z.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",Z),L}class ConstructorFragment extends Fragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(te=>JSON.parse(te.format(L)))});L===FormatTypes.sighash&&logger$b.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let X="constructor("+this.inputs.map(te=>te.format(L)).join(L===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(X+=this.stateMutability+" "),X.trim()}static from(L){return typeof L=="string"?ConstructorFragment.fromString(L):ConstructorFragment.fromObject(L)}static fromObject(L){if(ConstructorFragment.isConstructorFragment(L))return L;L.type!=="constructor"&&logger$b.throwArgumentError("invalid constructor object","value",L);let X=verifyState(L);X.constant&&logger$b.throwArgumentError("constructor cannot be constant","value",L);const te={name:null,type:L.type,inputs:L.inputs?L.inputs.map(ParamType.fromObject):[],payable:X.payable,stateMutability:X.stateMutability,gas:L.gas?BigNumber.from(L.gas):null};return new ConstructorFragment(_constructorGuard,te)}static fromString(L){let X={type:"constructor"};L=parseGas(L,X);let te=L.match(regexParen);return(!te||te[1].trim()!=="constructor")&&logger$b.throwArgumentError("invalid constructor string","value",L),X.inputs=parseParams(te[2].trim(),!1),parseModifiers(te[3].trim(),X),ConstructorFragment.fromObject(X)}static isConstructorFragment(L){return L&&L._isFragment&&L.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(te=>JSON.parse(te.format(L))),outputs:this.outputs.map(te=>JSON.parse(te.format(L)))});let X="";return L!==FormatTypes.sighash&&(X+="function "),X+=this.name+"("+this.inputs.map(te=>te.format(L)).join(L===FormatTypes.full?", ":",")+") ",L!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(X+=this.stateMutability+" "):this.constant&&(X+="view "),this.outputs&&this.outputs.length&&(X+="returns ("+this.outputs.map(te=>te.format(L)).join(", ")+") "),this.gas!=null&&(X+="@"+this.gas.toString()+" ")),X.trim()}static from(L){return typeof L=="string"?FunctionFragment.fromString(L):FunctionFragment.fromObject(L)}static fromObject(L){if(FunctionFragment.isFunctionFragment(L))return L;L.type!=="function"&&logger$b.throwArgumentError("invalid function object","value",L);let X=verifyState(L);const te={type:L.type,name:verifyIdentifier(L.name),constant:X.constant,inputs:L.inputs?L.inputs.map(ParamType.fromObject):[],outputs:L.outputs?L.outputs.map(ParamType.fromObject):[],payable:X.payable,stateMutability:X.stateMutability,gas:L.gas?BigNumber.from(L.gas):null};return new FunctionFragment(_constructorGuard,te)}static fromString(L){let X={type:"function"};L=parseGas(L,X);let te=L.split(" returns ");te.length>2&&logger$b.throwArgumentError("invalid function string","value",L);let ie=te[0].match(regexParen);if(ie||logger$b.throwArgumentError("invalid function signature","value",L),X.name=ie[1].trim(),X.name&&verifyIdentifier(X.name),X.inputs=parseParams(ie[2],!1),parseModifiers(ie[3].trim(),X),te.length>1){let oe=te[1].match(regexParen);(oe[1].trim()!=""||oe[3].trim()!="")&&logger$b.throwArgumentError("unexpected tokens","value",L),X.outputs=parseParams(oe[2],!1)}else X.outputs=[];return FunctionFragment.fromObject(X)}static isFunctionFragment(L){return L&&L._isFragment&&L.type==="function"}}function checkForbidden(Z){const L=Z.format();return(L==="Error(string)"||L==="Panic(uint256)")&&logger$b.throwArgumentError(`cannot specify user defined ${L} error`,"fragment",Z),Z}class ErrorFragment extends Fragment{format(L){if(L||(L=FormatTypes.sighash),FormatTypes[L]||logger$b.throwArgumentError("invalid format type","format",L),L===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(te=>JSON.parse(te.format(L)))});let X="";return L!==FormatTypes.sighash&&(X+="error "),X+=this.name+"("+this.inputs.map(te=>te.format(L)).join(L===FormatTypes.full?", ":",")+") ",X.trim()}static from(L){return typeof L=="string"?ErrorFragment.fromString(L):ErrorFragment.fromObject(L)}static fromObject(L){if(ErrorFragment.isErrorFragment(L))return L;L.type!=="error"&&logger$b.throwArgumentError("invalid error object","value",L);const X={type:L.type,name:verifyIdentifier(L.name),inputs:L.inputs?L.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard,X))}static fromString(L){let X={type:"error"},te=L.match(regexParen);return te||logger$b.throwArgumentError("invalid error signature","value",L),X.name=te[1].trim(),X.name&&verifyIdentifier(X.name),X.inputs=parseParams(te[2],!1),checkForbidden(ErrorFragment.fromObject(X))}static isErrorFragment(L){return L&&L._isFragment&&L.type==="error"}}function verifyType(Z){return Z.match(/^uint($|[^1-9])/)?Z="uint256"+Z.substring(4):Z.match(/^int($|[^1-9])/)&&(Z="int256"+Z.substring(3)),Z}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(Z){return(!Z||!Z.match(regexIdentifier))&&logger$b.throwArgumentError(`invalid identifier "${Z}"`,"value",Z),Z}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(Z){Z=Z.trim();let L=[],X="",te=0;for(let ie=0;ie<Z.length;ie++){let oe=Z[ie];oe===","&&te===0?(L.push(X),X=""):(X+=oe,oe==="("?te++:oe===")"&&(te--,te===-1&&logger$b.throwArgumentError("unbalanced parenthesis","value",Z)))}return X&&L.push(X),L}const logger$a=new Logger(version$9);function checkResultErrors(Z){const L=[],X=function(te,ie){if(Array.isArray(ie))for(let oe in ie){const se=te.slice();se.push(oe);try{X(se,ie[oe])}catch(ue){L.push({path:se,error:ue})}}};return X([],Z),L}class Coder{constructor(L,X,te,ie){this.name=L,this.type=X,this.localName=te,this.dynamic=ie}_throwError(L,X){logger$a.throwArgumentError(L,this.localName,X)}}let Writer$2=class{constructor(L){defineReadOnly(this,"wordSize",L||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(L)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(L){return this._data.push(L),this._dataLength+=L.length,L.length}appendWriter(L){return this._writeData(concat$1(L._data))}writeBytes(L){let X=arrayify(L);const te=X.length%this.wordSize;return te&&(X=concat$1([X,this._padding.slice(te)])),this._writeData(X)}_getValue(L){let X=arrayify(BigNumber.from(L));return X.length>this.wordSize&&logger$a.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:X.length}),X.length%this.wordSize&&(X=concat$1([this._padding.slice(X.length%this.wordSize),X])),X}writeValue(L){return this._writeData(this._getValue(L))}writeUpdatableValue(){const L=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,X=>{this._data[L]=this._getValue(X)}}},Reader$2=class Pr{constructor(L,X,te,ie){defineReadOnly(this,"_data",arrayify(L)),defineReadOnly(this,"wordSize",X||32),defineReadOnly(this,"_coerceFunc",te),defineReadOnly(this,"allowLoose",ie),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(L,X){let te=L.match("^u?int([0-9]+)$");return te&&parseInt(te[1])<=48&&(X=X.toNumber()),X}coerce(L,X){return this._coerceFunc?this._coerceFunc(L,X):Pr.coerce(L,X)}_peekBytes(L,X,te){let ie=Math.ceil(X/this.wordSize)*this.wordSize;return this._offset+ie>this._data.length&&(this.allowLoose&&te&&this._offset+X<=this._data.length?ie=X:logger$a.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+ie})),this._data.slice(this._offset,this._offset+ie)}subReader(L){return new Pr(this._data.slice(this._offset+L),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(L,X){let te=this._peekBytes(0,L,!!X);return this._offset+=te.length,te.slice(0,L)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}};var sha3Exports={},sha3$1={get exports(){return sha3Exports},set exports(Z){sha3Exports=Z}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(Z){(function(){var L="input is invalid type",X="finalize already called",te=typeof window=="object",ie=te?window:{};ie.JS_SHA3_NO_WINDOW&&(te=!1);var oe=!te&&typeof self=="object",se=!ie.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;se?ie=commonjsGlobal:oe&&(ie=self);var ue=!ie.JS_SHA3_NO_COMMON_JS&&!0&&Z.exports,ce=!ie.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",le="0123456789abcdef".split(""),de=[31,7936,2031616,520093696],pe=[4,1024,262144,67108864],ge=[1,256,65536,16777216],_e=[6,1536,393216,100663296],Te=[0,8,16,24],Ae=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Ie=[224,256,384,512],Pe=[128,256],Ce=["hex","buffer","arrayBuffer","array","digest"],Oe={128:168,256:136};(ie.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(xe){return Object.prototype.toString.call(xe)==="[object Array]"}),ce&&(ie.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(xe){return typeof xe=="object"&&xe.buffer&&xe.buffer.constructor===ArrayBuffer});for(var Ge=function(xe,Ve,Ue){return function(qe){return new ve(xe,Ve,xe).update(qe)[Ue]()}},Ye=function(xe,Ve,Ue){return function(qe,Xe){return new ve(xe,Ve,Xe).update(qe)[Ue]()}},Ke=function(xe,Ve,Ue){return function(qe,Xe,rt,Qe){return he["cshake"+xe].update(qe,Xe,rt,Qe)[Ue]()}},nt=function(xe,Ve,Ue){return function(qe,Xe,rt,Qe){return he["kmac"+xe].update(qe,Xe,rt,Qe)[Ue]()}},tt=function(xe,Ve,Ue,qe){for(var Xe=0;Xe<Ce.length;++Xe){var rt=Ce[Xe];xe[rt]=Ve(Ue,qe,rt)}return xe},at=function(xe,Ve){var Ue=Ge(xe,Ve,"hex");return Ue.create=function(){return new ve(xe,Ve,xe)},Ue.update=function(qe){return Ue.create().update(qe)},tt(Ue,Ge,xe,Ve)},lt=function(xe,Ve){var Ue=Ye(xe,Ve,"hex");return Ue.create=function(qe){return new ve(xe,Ve,qe)},Ue.update=function(qe,Xe){return Ue.create(Xe).update(qe)},tt(Ue,Ye,xe,Ve)},ot=function(xe,Ve){var Ue=Oe[xe],qe=Ke(xe,Ve,"hex");return qe.create=function(Xe,rt,Qe){return!rt&&!Qe?he["shake"+xe].create(Xe):new ve(xe,Ve,Xe).bytepad([rt,Qe],Ue)},qe.update=function(Xe,rt,Qe,Je){return qe.create(rt,Qe,Je).update(Xe)},tt(qe,Ke,xe,Ve)},ft=function(xe,Ve){var Ue=Oe[xe],qe=nt(xe,Ve,"hex");return qe.create=function(Xe,rt,Qe){return new Fe(xe,Ve,rt).bytepad(["KMAC",Qe],Ue).bytepad([Xe],Ue)},qe.update=function(Xe,rt,Qe,Je){return qe.create(Xe,Qe,Je).update(rt)},tt(qe,nt,xe,Ve)},Le=[{name:"keccak",padding:ge,bits:Ie,createMethod:at},{name:"sha3",padding:_e,bits:Ie,createMethod:at},{name:"shake",padding:de,bits:Pe,createMethod:lt},{name:"cshake",padding:pe,bits:Pe,createMethod:ot},{name:"kmac",padding:pe,bits:Pe,createMethod:ft}],he={},we=[],$e=0;$e<Le.length;++$e)for(var Ne=Le[$e],Me=Ne.bits,Ze=0;Ze<Me.length;++Ze){var We=Ne.name+"_"+Me[Ze];if(we.push(We),he[We]=Ne.createMethod(Me[Ze],Ne.padding),Ne.name!=="sha3"){var Be=Ne.name+Me[Ze];we.push(Be),he[Be]=he[We]}}function ve(xe,Ve,Ue){this.blocks=[],this.s=[],this.padding=Ve,this.outputBits=Ue,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(xe<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Ue>>5,this.extraBytes=(Ue&31)>>3;for(var qe=0;qe<50;++qe)this.s[qe]=0}ve.prototype.update=function(xe){if(this.finalized)throw new Error(X);var Ve,Ue=typeof xe;if(Ue!=="string"){if(Ue==="object"){if(xe===null)throw new Error(L);if(ce&&xe.constructor===ArrayBuffer)xe=new Uint8Array(xe);else if(!Array.isArray(xe)&&(!ce||!ArrayBuffer.isView(xe)))throw new Error(L)}else throw new Error(L);Ve=!0}for(var qe=this.blocks,Xe=this.byteCount,rt=xe.length,Qe=this.blockCount,Je=0,dt=this.s,et,st;Je<rt;){if(this.reset)for(this.reset=!1,qe[0]=this.block,et=1;et<Qe+1;++et)qe[et]=0;if(Ve)for(et=this.start;Je<rt&&et<Xe;++Je)qe[et>>2]|=xe[Je]<<Te[et++&3];else for(et=this.start;Je<rt&&et<Xe;++Je)st=xe.charCodeAt(Je),st<128?qe[et>>2]|=st<<Te[et++&3]:st<2048?(qe[et>>2]|=(192|st>>6)<<Te[et++&3],qe[et>>2]|=(128|st&63)<<Te[et++&3]):st<55296||st>=57344?(qe[et>>2]|=(224|st>>12)<<Te[et++&3],qe[et>>2]|=(128|st>>6&63)<<Te[et++&3],qe[et>>2]|=(128|st&63)<<Te[et++&3]):(st=65536+((st&1023)<<10|xe.charCodeAt(++Je)&1023),qe[et>>2]|=(240|st>>18)<<Te[et++&3],qe[et>>2]|=(128|st>>12&63)<<Te[et++&3],qe[et>>2]|=(128|st>>6&63)<<Te[et++&3],qe[et>>2]|=(128|st&63)<<Te[et++&3]);if(this.lastByteIndex=et,et>=Xe){for(this.start=et-Xe,this.block=qe[Qe],et=0;et<Qe;++et)dt[et]^=qe[et];it(dt),this.reset=!0}else this.start=et}return this},ve.prototype.encode=function(xe,Ve){var Ue=xe&255,qe=1,Xe=[Ue];for(xe=xe>>8,Ue=xe&255;Ue>0;)Xe.unshift(Ue),xe=xe>>8,Ue=xe&255,++qe;return Ve?Xe.push(qe):Xe.unshift(qe),this.update(Xe),Xe.length},ve.prototype.encodeString=function(xe){var Ve,Ue=typeof xe;if(Ue!=="string"){if(Ue==="object"){if(xe===null)throw new Error(L);if(ce&&xe.constructor===ArrayBuffer)xe=new Uint8Array(xe);else if(!Array.isArray(xe)&&(!ce||!ArrayBuffer.isView(xe)))throw new Error(L)}else throw new Error(L);Ve=!0}var qe=0,Xe=xe.length;if(Ve)qe=Xe;else for(var rt=0;rt<xe.length;++rt){var Qe=xe.charCodeAt(rt);Qe<128?qe+=1:Qe<2048?qe+=2:Qe<55296||Qe>=57344?qe+=3:(Qe=65536+((Qe&1023)<<10|xe.charCodeAt(++rt)&1023),qe+=4)}return qe+=this.encode(qe*8),this.update(xe),qe},ve.prototype.bytepad=function(xe,Ve){for(var Ue=this.encode(Ve),qe=0;qe<xe.length;++qe)Ue+=this.encodeString(xe[qe]);var Xe=Ve-Ue%Ve,rt=[];return rt.length=Xe,this.update(rt),this},ve.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var xe=this.blocks,Ve=this.lastByteIndex,Ue=this.blockCount,qe=this.s;if(xe[Ve>>2]|=this.padding[Ve&3],this.lastByteIndex===this.byteCount)for(xe[0]=xe[Ue],Ve=1;Ve<Ue+1;++Ve)xe[Ve]=0;for(xe[Ue-1]|=2147483648,Ve=0;Ve<Ue;++Ve)qe[Ve]^=xe[Ve];it(qe)}},ve.prototype.toString=ve.prototype.hex=function(){this.finalize();for(var xe=this.blockCount,Ve=this.s,Ue=this.outputBlocks,qe=this.extraBytes,Xe=0,rt=0,Qe="",Je;rt<Ue;){for(Xe=0;Xe<xe&&rt<Ue;++Xe,++rt)Je=Ve[Xe],Qe+=le[Je>>4&15]+le[Je&15]+le[Je>>12&15]+le[Je>>8&15]+le[Je>>20&15]+le[Je>>16&15]+le[Je>>28&15]+le[Je>>24&15];rt%xe===0&&(it(Ve),Xe=0)}return qe&&(Je=Ve[Xe],Qe+=le[Je>>4&15]+le[Je&15],qe>1&&(Qe+=le[Je>>12&15]+le[Je>>8&15]),qe>2&&(Qe+=le[Je>>20&15]+le[Je>>16&15])),Qe},ve.prototype.arrayBuffer=function(){this.finalize();var xe=this.blockCount,Ve=this.s,Ue=this.outputBlocks,qe=this.extraBytes,Xe=0,rt=0,Qe=this.outputBits>>3,Je;qe?Je=new ArrayBuffer(Ue+1<<2):Je=new ArrayBuffer(Qe);for(var dt=new Uint32Array(Je);rt<Ue;){for(Xe=0;Xe<xe&&rt<Ue;++Xe,++rt)dt[rt]=Ve[Xe];rt%xe===0&&it(Ve)}return qe&&(dt[Xe]=Ve[Xe],Je=Je.slice(0,Qe)),Je},ve.prototype.buffer=ve.prototype.arrayBuffer,ve.prototype.digest=ve.prototype.array=function(){this.finalize();for(var xe=this.blockCount,Ve=this.s,Ue=this.outputBlocks,qe=this.extraBytes,Xe=0,rt=0,Qe=[],Je,dt;rt<Ue;){for(Xe=0;Xe<xe&&rt<Ue;++Xe,++rt)Je=rt<<2,dt=Ve[Xe],Qe[Je]=dt&255,Qe[Je+1]=dt>>8&255,Qe[Je+2]=dt>>16&255,Qe[Je+3]=dt>>24&255;rt%xe===0&&it(Ve)}return qe&&(Je=rt<<2,dt=Ve[Xe],Qe[Je]=dt&255,qe>1&&(Qe[Je+1]=dt>>8&255),qe>2&&(Qe[Je+2]=dt>>16&255)),Qe};function Fe(xe,Ve,Ue){ve.call(this,xe,Ve,Ue)}Fe.prototype=new ve,Fe.prototype.finalize=function(){return this.encode(this.outputBits,!0),ve.prototype.finalize.call(this)};var it=function(xe){var Ve,Ue,qe,Xe,rt,Qe,Je,dt,et,st,qt,ht,pt,Qt,yt,mt,er,gt,bt,tr,vt,wt,rr,Et,_t,nr,Tt,xt,ir,At,St,or,It,$t,sr,Rt,Pt,ar,Nt,Ct,ur,Bt,Ot,cr,Mt,kt,lr,Lt,Ut,dr,Dt,jt,hr,Zt,zt,pr,Ht,Wt,Gt,Vt,Kt,Xt,Jt;for(qe=0;qe<48;qe+=2)Xe=xe[0]^xe[10]^xe[20]^xe[30]^xe[40],rt=xe[1]^xe[11]^xe[21]^xe[31]^xe[41],Qe=xe[2]^xe[12]^xe[22]^xe[32]^xe[42],Je=xe[3]^xe[13]^xe[23]^xe[33]^xe[43],dt=xe[4]^xe[14]^xe[24]^xe[34]^xe[44],et=xe[5]^xe[15]^xe[25]^xe[35]^xe[45],st=xe[6]^xe[16]^xe[26]^xe[36]^xe[46],qt=xe[7]^xe[17]^xe[27]^xe[37]^xe[47],ht=xe[8]^xe[18]^xe[28]^xe[38]^xe[48],pt=xe[9]^xe[19]^xe[29]^xe[39]^xe[49],Ve=ht^(Qe<<1|Je>>>31),Ue=pt^(Je<<1|Qe>>>31),xe[0]^=Ve,xe[1]^=Ue,xe[10]^=Ve,xe[11]^=Ue,xe[20]^=Ve,xe[21]^=Ue,xe[30]^=Ve,xe[31]^=Ue,xe[40]^=Ve,xe[41]^=Ue,Ve=Xe^(dt<<1|et>>>31),Ue=rt^(et<<1|dt>>>31),xe[2]^=Ve,xe[3]^=Ue,xe[12]^=Ve,xe[13]^=Ue,xe[22]^=Ve,xe[23]^=Ue,xe[32]^=Ve,xe[33]^=Ue,xe[42]^=Ve,xe[43]^=Ue,Ve=Qe^(st<<1|qt>>>31),Ue=Je^(qt<<1|st>>>31),xe[4]^=Ve,xe[5]^=Ue,xe[14]^=Ve,xe[15]^=Ue,xe[24]^=Ve,xe[25]^=Ue,xe[34]^=Ve,xe[35]^=Ue,xe[44]^=Ve,xe[45]^=Ue,Ve=dt^(ht<<1|pt>>>31),Ue=et^(pt<<1|ht>>>31),xe[6]^=Ve,xe[7]^=Ue,xe[16]^=Ve,xe[17]^=Ue,xe[26]^=Ve,xe[27]^=Ue,xe[36]^=Ve,xe[37]^=Ue,xe[46]^=Ve,xe[47]^=Ue,Ve=st^(Xe<<1|rt>>>31),Ue=qt^(rt<<1|Xe>>>31),xe[8]^=Ve,xe[9]^=Ue,xe[18]^=Ve,xe[19]^=Ue,xe[28]^=Ve,xe[29]^=Ue,xe[38]^=Ve,xe[39]^=Ue,xe[48]^=Ve,xe[49]^=Ue,Qt=xe[0],yt=xe[1],kt=xe[11]<<4|xe[10]>>>28,lr=xe[10]<<4|xe[11]>>>28,xt=xe[20]<<3|xe[21]>>>29,ir=xe[21]<<3|xe[20]>>>29,Vt=xe[31]<<9|xe[30]>>>23,Kt=xe[30]<<9|xe[31]>>>23,Bt=xe[40]<<18|xe[41]>>>14,Ot=xe[41]<<18|xe[40]>>>14,$t=xe[2]<<1|xe[3]>>>31,sr=xe[3]<<1|xe[2]>>>31,mt=xe[13]<<12|xe[12]>>>20,er=xe[12]<<12|xe[13]>>>20,Lt=xe[22]<<10|xe[23]>>>22,Ut=xe[23]<<10|xe[22]>>>22,At=xe[33]<<13|xe[32]>>>19,St=xe[32]<<13|xe[33]>>>19,Xt=xe[42]<<2|xe[43]>>>30,Jt=xe[43]<<2|xe[42]>>>30,Zt=xe[5]<<30|xe[4]>>>2,zt=xe[4]<<30|xe[5]>>>2,Rt=xe[14]<<6|xe[15]>>>26,Pt=xe[15]<<6|xe[14]>>>26,gt=xe[25]<<11|xe[24]>>>21,bt=xe[24]<<11|xe[25]>>>21,dr=xe[34]<<15|xe[35]>>>17,Dt=xe[35]<<15|xe[34]>>>17,or=xe[45]<<29|xe[44]>>>3,It=xe[44]<<29|xe[45]>>>3,Et=xe[6]<<28|xe[7]>>>4,_t=xe[7]<<28|xe[6]>>>4,pr=xe[17]<<23|xe[16]>>>9,Ht=xe[16]<<23|xe[17]>>>9,ar=xe[26]<<25|xe[27]>>>7,Nt=xe[27]<<25|xe[26]>>>7,tr=xe[36]<<21|xe[37]>>>11,vt=xe[37]<<21|xe[36]>>>11,jt=xe[47]<<24|xe[46]>>>8,hr=xe[46]<<24|xe[47]>>>8,cr=xe[8]<<27|xe[9]>>>5,Mt=xe[9]<<27|xe[8]>>>5,nr=xe[18]<<20|xe[19]>>>12,Tt=xe[19]<<20|xe[18]>>>12,Wt=xe[29]<<7|xe[28]>>>25,Gt=xe[28]<<7|xe[29]>>>25,Ct=xe[38]<<8|xe[39]>>>24,ur=xe[39]<<8|xe[38]>>>24,wt=xe[48]<<14|xe[49]>>>18,rr=xe[49]<<14|xe[48]>>>18,xe[0]=Qt^~mt&gt,xe[1]=yt^~er&bt,xe[10]=Et^~nr&xt,xe[11]=_t^~Tt&ir,xe[20]=$t^~Rt&ar,xe[21]=sr^~Pt&Nt,xe[30]=cr^~kt&Lt,xe[31]=Mt^~lr&Ut,xe[40]=Zt^~pr&Wt,xe[41]=zt^~Ht&Gt,xe[2]=mt^~gt&tr,xe[3]=er^~bt&vt,xe[12]=nr^~xt&At,xe[13]=Tt^~ir&St,xe[22]=Rt^~ar&Ct,xe[23]=Pt^~Nt&ur,xe[32]=kt^~Lt&dr,xe[33]=lr^~Ut&Dt,xe[42]=pr^~Wt&Vt,xe[43]=Ht^~Gt&Kt,xe[4]=gt^~tr&wt,xe[5]=bt^~vt&rr,xe[14]=xt^~At&or,xe[15]=ir^~St&It,xe[24]=ar^~Ct&Bt,xe[25]=Nt^~ur&Ot,xe[34]=Lt^~dr&jt,xe[35]=Ut^~Dt&hr,xe[44]=Wt^~Vt&Xt,xe[45]=Gt^~Kt&Jt,xe[6]=tr^~wt&Qt,xe[7]=vt^~rr&yt,xe[16]=At^~or&Et,xe[17]=St^~It&_t,xe[26]=Ct^~Bt&$t,xe[27]=ur^~Ot&sr,xe[36]=dr^~jt&cr,xe[37]=Dt^~hr&Mt,xe[46]=Vt^~Xt&Zt,xe[47]=Kt^~Jt&zt,xe[8]=wt^~Qt&mt,xe[9]=rr^~yt&er,xe[18]=or^~Et&nr,xe[19]=It^~_t&Tt,xe[28]=Bt^~$t&Rt,xe[29]=Ot^~sr&Pt,xe[38]=jt^~cr&kt,xe[39]=hr^~Mt&lr,xe[48]=Xt^~Zt&pr,xe[49]=Jt^~zt&Ht,xe[0]^=Ae[qe],xe[1]^=Ae[qe+1]};if(ue)Z.exports=he;else for($e=0;$e<we.length;++$e)ie[we[$e]]=he[we[$e]]})()})(sha3$1);const sha3=sha3Exports;function keccak256$1(Z){return"0x"+sha3.keccak_256(arrayify(Z))}const version$8="rlp/5.7.0",logger$9=new Logger(version$8);function arrayifyInteger(Z){const L=[];for(;Z;)L.unshift(Z&255),Z>>=8;return L}function _encode(Z){if(Array.isArray(Z)){let te=[];if(Z.forEach(function(oe){te=te.concat(_encode(oe))}),te.length<=55)return te.unshift(192+te.length),te;const ie=arrayifyInteger(te.length);return ie.unshift(247+ie.length),ie.concat(te)}isBytesLike(Z)||logger$9.throwArgumentError("RLP object must be BytesLike","object",Z);const L=Array.prototype.slice.call(arrayify(Z));if(L.length===1&&L[0]<=127)return L;if(L.length<=55)return L.unshift(128+L.length),L;const X=arrayifyInteger(L.length);return X.unshift(183+X.length),X.concat(L)}function encode(Z){return hexlify(_encode(Z))}const version$7="address/5.7.0",logger$8=new Logger(version$7);function getChecksumAddress(Z){isHexString(Z,20)||logger$8.throwArgumentError("invalid address","address",Z),Z=Z.toLowerCase();const L=Z.substring(2).split(""),X=new Uint8Array(40);for(let ie=0;ie<40;ie++)X[ie]=L[ie].charCodeAt(0);const te=arrayify(keccak256$1(X));for(let ie=0;ie<40;ie+=2)te[ie>>1]>>4>=8&&(L[ie]=L[ie].toUpperCase()),(te[ie>>1]&15)>=8&&(L[ie+1]=L[ie+1].toUpperCase());return"0x"+L.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(Z){return Math.log10?Math.log10(Z):Math.log(Z)/Math.LN10}const ibanLookup={};for(let Z=0;Z<10;Z++)ibanLookup[String(Z)]=String(Z);for(let Z=0;Z<26;Z++)ibanLookup[String.fromCharCode(65+Z)]=String(10+Z);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(Z){Z=Z.toUpperCase(),Z=Z.substring(4)+Z.substring(0,2)+"00";let L=Z.split("").map(te=>ibanLookup[te]).join("");for(;L.length>=safeDigits;){let te=L.substring(0,safeDigits);L=parseInt(te,10)%97+L.substring(te.length)}let X=String(98-parseInt(L,10)%97);for(;X.length<2;)X="0"+X;return X}function getAddress$1(Z){let L=null;if(typeof Z!="string"&&logger$8.throwArgumentError("invalid address","address",Z),Z.match(/^(0x)?[0-9a-fA-F]{40}$/))Z.substring(0,2)!=="0x"&&(Z="0x"+Z),L=getChecksumAddress(Z),Z.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&L!==Z&&logger$8.throwArgumentError("bad address checksum","address",Z);else if(Z.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(Z.substring(2,4)!==ibanChecksum(Z)&&logger$8.throwArgumentError("bad icap checksum","address",Z),L=_base36To16(Z.substring(4));L.length<40;)L="0"+L;L=getChecksumAddress("0x"+L)}else logger$8.throwArgumentError("invalid address","address",Z);return L}function isAddress$1(Z){try{return getAddress$1(Z),!0}catch{}return!1}function getContractAddress$1(Z){let L=null;try{L=getAddress$1(Z.from)}catch{logger$8.throwArgumentError("missing from address","transaction",Z)}const X=stripZeros(arrayify(BigNumber.from(Z.nonce).toHexString()));return getAddress$1(hexDataSlice(keccak256$1(encode([L,X])),12))}class AddressCoder extends Coder{constructor(L){super("address","address",L,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(L,X){try{X=getAddress$1(X)}catch(te){this._throwError(te.message,X)}return L.writeValue(X)}decode(L){return getAddress$1(hexZeroPad(L.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(L){super(L.name,L.type,void 0,L.dynamic),this.coder=L}defaultValue(){return this.coder.defaultValue()}encode(L,X){return this.coder.encode(L,X)}decode(L){return this.coder.decode(L)}}const logger$7=new Logger(version$9);function pack(Z,L,X){let te=null;if(Array.isArray(X))te=X;else if(X&&typeof X=="object"){let ce={};te=L.map(le=>{const de=le.localName;return de||logger$7.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:le,value:X}),ce[de]&&logger$7.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:le,value:X}),ce[de]=!0,X[de]})}else logger$7.throwArgumentError("invalid tuple value","tuple",X);L.length!==te.length&&logger$7.throwArgumentError("types/value length mismatch","tuple",X);let ie=new Writer$2(Z.wordSize),oe=new Writer$2(Z.wordSize),se=[];L.forEach((ce,le)=>{let de=te[le];if(ce.dynamic){let pe=oe.length;ce.encode(oe,de);let ge=ie.writeUpdatableValue();se.push(_e=>{ge(_e+pe)})}else ce.encode(ie,de)}),se.forEach(ce=>{ce(ie.length)});let ue=Z.appendWriter(ie);return ue+=Z.appendWriter(oe),ue}function unpack(Z,L){let X=[],te=Z.subReader(0);L.forEach(oe=>{let se=null;if(oe.dynamic){let ue=Z.readValue(),ce=te.subReader(ue.toNumber());try{se=oe.decode(ce)}catch(le){if(le.code===Logger.errors.BUFFER_OVERRUN)throw le;se=le,se.baseType=oe.name,se.name=oe.localName,se.type=oe.type}}else try{se=oe.decode(Z)}catch(ue){if(ue.code===Logger.errors.BUFFER_OVERRUN)throw ue;se=ue,se.baseType=oe.name,se.name=oe.localName,se.type=oe.type}se!=null&&X.push(se)});const ie=L.reduce((oe,se)=>{const ue=se.localName;return ue&&(oe[ue]||(oe[ue]=0),oe[ue]++),oe},{});L.forEach((oe,se)=>{let ue=oe.localName;if(!ue||ie[ue]!==1||(ue==="length"&&(ue="_length"),X[ue]!=null))return;const ce=X[se];ce instanceof Error?Object.defineProperty(X,ue,{enumerable:!0,get:()=>{throw ce}}):X[ue]=ce});for(let oe=0;oe<X.length;oe++){const se=X[oe];se instanceof Error&&Object.defineProperty(X,oe,{enumerable:!0,get:()=>{throw se}})}return Object.freeze(X)}class ArrayCoder extends Coder{constructor(L,X,te){const ie=L.type+"["+(X>=0?X:"")+"]",oe=X===-1||L.dynamic;super("array",ie,te,oe),this.coder=L,this.length=X}defaultValue(){const L=this.coder.defaultValue(),X=[];for(let te=0;te<this.length;te++)X.push(L);return X}encode(L,X){Array.isArray(X)||this._throwError("expected array value",X);let te=this.length;te===-1&&(te=X.length,L.writeValue(X.length)),logger$7.checkArgumentCount(X.length,te,"coder array"+(this.localName?" "+this.localName:""));let ie=[];for(let oe=0;oe<X.length;oe++)ie.push(this.coder);return pack(L,ie,X)}decode(L){let X=this.length;X===-1&&(X=L.readValue().toNumber(),X*32>L._data.length&&logger$7.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:L._data.length,count:X}));let te=[];for(let ie=0;ie<X;ie++)te.push(new AnonymousCoder(this.coder));return L.coerce(this.name,unpack(L,te))}}class BooleanCoder extends Coder{constructor(L){super("bool","bool",L,!1)}defaultValue(){return!1}encode(L,X){return L.writeValue(X?1:0)}decode(L){return L.coerce(this.type,!L.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(L,X){super(L,L,X,!0)}defaultValue(){return"0x"}encode(L,X){X=arrayify(X);let te=L.writeValue(X.length);return te+=L.writeBytes(X),te}decode(L){return L.readBytes(L.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(L){super("bytes",L)}decode(L){return L.coerce(this.name,hexlify(super.decode(L)))}}class FixedBytesCoder extends Coder{constructor(L,X){let te="bytes"+String(L);super(te,te,X,!1),this.size=L}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(L,X){let te=arrayify(X);return te.length!==this.size&&this._throwError("incorrect data length",X),L.writeBytes(te)}decode(L){return L.coerce(this.name,hexlify(L.readBytes(this.size)))}}class NullCoder extends Coder{constructor(L){super("null","",L,!1)}defaultValue(){return null}encode(L,X){return X!=null&&this._throwError("not null",X),L.writeBytes([])}decode(L){return L.readBytes(0),L.coerce(this.name,null)}}const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(L,X,te){const ie=(X?"int":"uint")+L*8;super(ie,ie,te,!1),this.size=L,this.signed=X}defaultValue(){return 0}encode(L,X){let te=BigNumber.from(X),ie=MaxUint256.mask(L.wordSize*8);if(this.signed){let oe=ie.mask(this.size*8-1);(te.gt(oe)||te.lt(oe.add(One).mul(NegativeOne)))&&this._throwError("value out-of-bounds",X)}else(te.lt(Zero)||te.gt(ie.mask(this.size*8)))&&this._throwError("value out-of-bounds",X);return te=te.toTwos(this.size*8).mask(this.size*8),this.signed&&(te=te.fromTwos(this.size*8).toTwos(8*L.wordSize)),L.writeValue(te)}decode(L){let X=L.readValue().mask(this.size*8);return this.signed&&(X=X.fromTwos(this.size*8)),L.coerce(this.name,X)}}const version$6="strings/5.7.0",logger$6=new Logger(version$6);var UnicodeNormalizationForm;(function(Z){Z.current="",Z.NFC="NFC",Z.NFD="NFD",Z.NFKC="NFKC",Z.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(Z){Z.UNEXPECTED_CONTINUE="unexpected continuation byte",Z.BAD_PREFIX="bad codepoint prefix",Z.OVERRUN="string overrun",Z.MISSING_CONTINUE="missing continuation byte",Z.OUT_OF_RANGE="out of UTF-8 range",Z.UTF16_SURROGATE="UTF-16 surrogate",Z.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(Z,L,X,te,ie){return logger$6.throwArgumentError(`invalid codepoint at offset ${L}; ${Z}`,"bytes",X)}function ignoreFunc(Z,L,X,te,ie){if(Z===Utf8ErrorReason.BAD_PREFIX||Z===Utf8ErrorReason.UNEXPECTED_CONTINUE){let oe=0;for(let se=L+1;se<X.length&&X[se]>>6===2;se++)oe++;return oe}return Z===Utf8ErrorReason.OVERRUN?X.length-L-1:0}function replaceFunc(Z,L,X,te,ie){return Z===Utf8ErrorReason.OVERLONG?(te.push(ie),0):(te.push(65533),ignoreFunc(Z,L,X))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(Z,L){L==null&&(L=Utf8ErrorFuncs.error),Z=arrayify(Z);const X=[];let te=0;for(;te<Z.length;){const ie=Z[te++];if(!(ie>>7)){X.push(ie);continue}let oe=null,se=null;if((ie&224)===192)oe=1,se=127;else if((ie&240)===224)oe=2,se=2047;else if((ie&248)===240)oe=3,se=65535;else{(ie&192)===128?te+=L(Utf8ErrorReason.UNEXPECTED_CONTINUE,te-1,Z,X):te+=L(Utf8ErrorReason.BAD_PREFIX,te-1,Z,X);continue}if(te-1+oe>=Z.length){te+=L(Utf8ErrorReason.OVERRUN,te-1,Z,X);continue}let ue=ie&(1<<8-oe-1)-1;for(let ce=0;ce<oe;ce++){let le=Z[te];if((le&192)!=128){te+=L(Utf8ErrorReason.MISSING_CONTINUE,te,Z,X),ue=null;break}ue=ue<<6|le&63,te++}if(ue!==null){if(ue>1114111){te+=L(Utf8ErrorReason.OUT_OF_RANGE,te-1-oe,Z,X,ue);continue}if(ue>=55296&&ue<=57343){te+=L(Utf8ErrorReason.UTF16_SURROGATE,te-1-oe,Z,X,ue);continue}if(ue<=se){te+=L(Utf8ErrorReason.OVERLONG,te-1-oe,Z,X,ue);continue}X.push(ue)}}return X}function toUtf8Bytes(Z,L=UnicodeNormalizationForm.current){L!=UnicodeNormalizationForm.current&&(logger$6.checkNormalize(),Z=Z.normalize(L));let X=[];for(let te=0;te<Z.length;te++){const ie=Z.charCodeAt(te);if(ie<128)X.push(ie);else if(ie<2048)X.push(ie>>6|192),X.push(ie&63|128);else if((ie&64512)==55296){te++;const oe=Z.charCodeAt(te);if(te>=Z.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);X.push(se>>18|240),X.push(se>>12&63|128),X.push(se>>6&63|128),X.push(se&63|128)}else X.push(ie>>12|224),X.push(ie>>6&63|128),X.push(ie&63|128)}return arrayify(X)}function _toUtf8String(Z){return Z.map(L=>L<=65535?String.fromCharCode(L):(L-=65536,String.fromCharCode((L>>10&1023)+55296,(L&1023)+56320))).join("")}function toUtf8String(Z,L){return _toUtf8String(getUtf8CodePoints(Z,L))}class StringCoder extends DynamicBytesCoder{constructor(L){super("string",L)}defaultValue(){return""}encode(L,X){return super.encode(L,toUtf8Bytes(X))}decode(L){return toUtf8String(super.decode(L))}}class TupleCoder extends Coder{constructor(L,X){let te=!1;const ie=[];L.forEach(se=>{se.dynamic&&(te=!0),ie.push(se.type)});const oe="tuple("+ie.join(",")+")";super("tuple",oe,X,te),this.coders=L}defaultValue(){const L=[];this.coders.forEach(te=>{L.push(te.defaultValue())});const X=this.coders.reduce((te,ie)=>{const oe=ie.localName;return oe&&(te[oe]||(te[oe]=0),te[oe]++),te},{});return this.coders.forEach((te,ie)=>{let oe=te.localName;!oe||X[oe]!==1||(oe==="length"&&(oe="_length"),L[oe]==null&&(L[oe]=L[ie]))}),Object.freeze(L)}encode(L,X){return pack(L,this.coders,X)}decode(L){return L.coerce(this.name,unpack(L,this.coders))}}const logger$5=new Logger(version$9),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(L){defineReadOnly(this,"coerceFunc",L||null)}_getCoder(L){switch(L.baseType){case"address":return new AddressCoder(L.name);case"bool":return new BooleanCoder(L.name);case"string":return new StringCoder(L.name);case"bytes":return new BytesCoder(L.name);case"array":return new ArrayCoder(this._getCoder(L.arrayChildren),L.arrayLength,L.name);case"tuple":return new TupleCoder((L.components||[]).map(te=>this._getCoder(te)),L.name);case"":return new NullCoder(L.name)}let X=L.type.match(paramTypeNumber);if(X){let te=parseInt(X[2]||"256");return(te===0||te>256||te%8!==0)&&logger$5.throwArgumentError("invalid "+X[1]+" bit length","param",L),new NumberCoder(te/8,X[1]==="int",L.name)}if(X=L.type.match(paramTypeBytes),X){let te=parseInt(X[1]);return(te===0||te>32)&&logger$5.throwArgumentError("invalid bytes length","param",L),new FixedBytesCoder(te,L.name)}return logger$5.throwArgumentError("invalid type","type",L.type)}_getWordSize(){return 32}_getReader(L,X){return new Reader$2(L,this._getWordSize(),this.coerceFunc,X)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(L){const X=L.map(ie=>this._getCoder(ParamType.from(ie)));return new TupleCoder(X,"_").defaultValue()}encode(L,X){L.length!==X.length&&logger$5.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:L.length,values:X.length},value:{types:L,values:X}});const te=L.map(se=>this._getCoder(ParamType.from(se))),ie=new TupleCoder(te,"_"),oe=this._getWriter();return ie.encode(oe,X),oe.data}decode(L,X,te){const ie=L.map(se=>this._getCoder(ParamType.from(se)));return new TupleCoder(ie,"_").decode(this._getReader(arrayify(X),te))}}const defaultAbiCoder=new AbiCoder;function id$1(Z){return keccak256$1(toUtf8Bytes(Z))}const logger$4=new Logger(version$9);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(L){return!!(L&&L._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(Z,L){const X=new Error(`deferred error during ABI decoding triggered accessing ${Z}`);return X.error=L,X}class Interface{constructor(L){let X=[];typeof L=="string"?X=JSON.parse(L):X=L,defineReadOnly(this,"fragments",X.map(te=>Fragment.from(te)).filter(te=>te!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(te=>{let ie=null;switch(te.type){case"constructor":if(this.deploy){logger$4.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",te);return;case"function":ie=this.functions;break;case"event":ie=this.events;break;case"error":ie=this.errors;break;default:return}let oe=te.format();if(ie[oe]){logger$4.warn("duplicate definition - "+oe);return}ie[oe]=te}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(L){L||(L=FormatTypes.full),L===FormatTypes.sighash&&logger$4.throwArgumentError("interface does not support formatting sighash","format",L);const X=this.fragments.map(te=>te.format(L));return L===FormatTypes.json?JSON.stringify(X.map(te=>JSON.parse(te))):X}static getAbiCoder(){return defaultAbiCoder}static getAddress(L){return getAddress$1(L)}static getSighash(L){return hexDataSlice(id$1(L.format()),0,4)}static getEventTopic(L){return id$1(L.format())}getFunction(L){if(isHexString(L)){for(const te in this.functions)if(L===this.getSighash(te))return this.functions[te];logger$4.throwArgumentError("no matching function","sighash",L)}if(L.indexOf("(")===-1){const te=L.trim(),ie=Object.keys(this.functions).filter(oe=>oe.split("(")[0]===te);return ie.length===0?logger$4.throwArgumentError("no matching function","name",te):ie.length>1&&logger$4.throwArgumentError("multiple matching functions","name",te),this.functions[ie[0]]}const X=this.functions[FunctionFragment.fromString(L).format()];return X||logger$4.throwArgumentError("no matching function","signature",L),X}getEvent(L){if(isHexString(L)){const te=L.toLowerCase();for(const ie in this.events)if(te===this.getEventTopic(ie))return this.events[ie];logger$4.throwArgumentError("no matching event","topichash",te)}if(L.indexOf("(")===-1){const te=L.trim(),ie=Object.keys(this.events).filter(oe=>oe.split("(")[0]===te);return ie.length===0?logger$4.throwArgumentError("no matching event","name",te):ie.length>1&&logger$4.throwArgumentError("multiple matching events","name",te),this.events[ie[0]]}const X=this.events[EventFragment.fromString(L).format()];return X||logger$4.throwArgumentError("no matching event","signature",L),X}getError(L){if(isHexString(L)){const te=getStatic(this.constructor,"getSighash");for(const ie in this.errors){const oe=this.errors[ie];if(L===te(oe))return this.errors[ie]}logger$4.throwArgumentError("no matching error","sighash",L)}if(L.indexOf("(")===-1){const te=L.trim(),ie=Object.keys(this.errors).filter(oe=>oe.split("(")[0]===te);return ie.length===0?logger$4.throwArgumentError("no matching error","name",te):ie.length>1&&logger$4.throwArgumentError("multiple matching errors","name",te),this.errors[ie[0]]}const X=this.errors[FunctionFragment.fromString(L).format()];return X||logger$4.throwArgumentError("no matching error","signature",L),X}getSighash(L){if(typeof L=="string")try{L=this.getFunction(L)}catch(X){try{L=this.getError(L)}catch{throw X}}return getStatic(this.constructor,"getSighash")(L)}getEventTopic(L){return typeof L=="string"&&(L=this.getEvent(L)),getStatic(this.constructor,"getEventTopic")(L)}_decodeParams(L,X){return this._abiCoder.decode(L,X)}_encodeParams(L,X){return this._abiCoder.encode(L,X)}encodeDeploy(L){return this._encodeParams(this.deploy.inputs,L||[])}decodeErrorResult(L,X){typeof L=="string"&&(L=this.getError(L));const te=arrayify(X);return hexlify(te.slice(0,4))!==this.getSighash(L)&&logger$4.throwArgumentError(`data signature does not match error ${L.name}.`,"data",hexlify(te)),this._decodeParams(L.inputs,te.slice(4))}encodeErrorResult(L,X){return typeof L=="string"&&(L=this.getError(L)),hexlify(concat$1([this.getSighash(L),this._encodeParams(L.inputs,X||[])]))}decodeFunctionData(L,X){typeof L=="string"&&(L=this.getFunction(L));const te=arrayify(X);return hexlify(te.slice(0,4))!==this.getSighash(L)&&logger$4.throwArgumentError(`data signature does not match function ${L.name}.`,"data",hexlify(te)),this._decodeParams(L.inputs,te.slice(4))}encodeFunctionData(L,X){return typeof L=="string"&&(L=this.getFunction(L)),hexlify(concat$1([this.getSighash(L),this._encodeParams(L.inputs,X||[])]))}decodeFunctionResult(L,X){typeof L=="string"&&(L=this.getFunction(L));let te=arrayify(X),ie=null,oe="",se=null,ue=null,ce=null;switch(te.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(L.outputs,te)}catch{}break;case 4:{const le=hexlify(te.slice(0,4)),de=BuiltinErrors[le];if(de)se=this._abiCoder.decode(de.inputs,te.slice(4)),ue=de.name,ce=de.signature,de.reason&&(ie=se[0]),ue==="Error"?oe=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(se[0])}`:ue==="Panic"&&(oe=`; VM Exception while processing transaction: reverted with panic code ${se[0]}`);else try{const pe=this.getError(le);se=this._abiCoder.decode(pe.inputs,te.slice(4)),ue=pe.name,ce=pe.format()}catch{}break}}return logger$4.throwError("call revert exception"+oe,Logger.errors.CALL_EXCEPTION,{method:L.format(),data:hexlify(X),errorArgs:se,errorName:ue,errorSignature:ce,reason:ie})}encodeFunctionResult(L,X){return typeof L=="string"&&(L=this.getFunction(L)),hexlify(this._abiCoder.encode(L.outputs,X||[]))}encodeFilterTopics(L,X){typeof L=="string"&&(L=this.getEvent(L)),X.length>L.inputs.length&&logger$4.throwError("too many arguments for "+L.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:X});let te=[];L.anonymous||te.push(this.getEventTopic(L));const ie=(oe,se)=>oe.type==="string"?id$1(se):oe.type==="bytes"?keccak256$1(hexlify(se)):(oe.type==="bool"&&typeof se=="boolean"&&(se=se?"0x01":"0x00"),oe.type.match(/^u?int/)&&(se=BigNumber.from(se).toHexString()),oe.type==="address"&&this._abiCoder.encode(["address"],[se]),hexZeroPad(hexlify(se),32));for(X.forEach((oe,se)=>{let ue=L.inputs[se];if(!ue.indexed){oe!=null&&logger$4.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ue.name,oe);return}oe==null?te.push(null):ue.baseType==="array"||ue.baseType==="tuple"?logger$4.throwArgumentError("filtering with tuples or arrays not supported","contract."+ue.name,oe):Array.isArray(oe)?te.push(oe.map(ce=>ie(ue,ce))):te.push(ie(ue,oe))});te.length&&te[te.length-1]===null;)te.pop();return te}encodeEventLog(L,X){typeof L=="string"&&(L=this.getEvent(L));const te=[],ie=[],oe=[];return L.anonymous||te.push(this.getEventTopic(L)),X.length!==L.inputs.length&&logger$4.throwArgumentError("event arguments/values mismatch","values",X),L.inputs.forEach((se,ue)=>{const ce=X[ue];if(se.indexed)if(se.type==="string")te.push(id$1(ce));else if(se.type==="bytes")te.push(keccak256$1(ce));else{if(se.baseType==="tuple"||se.baseType==="array")throw new Error("not implemented");te.push(this._abiCoder.encode([se.type],[ce]))}else ie.push(se),oe.push(ce)}),{data:this._abiCoder.encode(ie,oe),topics:te}}decodeEventLog(L,X,te){if(typeof L=="string"&&(L=this.getEvent(L)),te!=null&&!L.anonymous){let ge=this.getEventTopic(L);(!isHexString(te[0],32)||te[0].toLowerCase()!==ge)&&logger$4.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:ge,value:te[0]}),te=te.slice(1)}let ie=[],oe=[],se=[];L.inputs.forEach((ge,_e)=>{ge.indexed?ge.type==="string"||ge.type==="bytes"||ge.baseType==="tuple"||ge.baseType==="array"?(ie.push(ParamType.fromObject({type:"bytes32",name:ge.name})),se.push(!0)):(ie.push(ge),se.push(!1)):(oe.push(ge),se.push(!1))});let ue=te!=null?this._abiCoder.decode(ie,concat$1(te)):null,ce=this._abiCoder.decode(oe,X,!0),le=[],de=0,pe=0;L.inputs.forEach((ge,_e)=>{if(ge.indexed)if(ue==null)le[_e]=new Indexed({_isIndexed:!0,hash:null});else if(se[_e])le[_e]=new Indexed({_isIndexed:!0,hash:ue[pe++]});else try{le[_e]=ue[pe++]}catch(Te){le[_e]=Te}else try{le[_e]=ce[de++]}catch(Te){le[_e]=Te}if(ge.name&&le[ge.name]==null){const Te=le[_e];Te instanceof Error?Object.defineProperty(le,ge.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(ge.name)}`,Te)}}):le[ge.name]=Te}});for(let ge=0;ge<le.length;ge++){const _e=le[ge];_e instanceof Error&&Object.defineProperty(le,ge,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${ge}`,_e)}})}return Object.freeze(le)}parseTransaction(L){let X=this.getFunction(L.data.substring(0,10).toLowerCase());return X?new TransactionDescription({args:this._abiCoder.decode(X.inputs,"0x"+L.data.substring(10)),functionFragment:X,name:X.name,signature:X.format(),sighash:this.getSighash(X),value:BigNumber.from(L.value||"0")}):null}parseLog(L){let X=this.getEvent(L.topics[0]);return!X||X.anonymous?null:new LogDescription({eventFragment:X,name:X.name,signature:X.format(),topic:this.getEventTopic(X),args:this.decodeEventLog(X,L.data,L.topics)})}parseError(L){const X=hexlify(L);let te=this.getError(X.substring(0,10).toLowerCase());return te?new ErrorDescription({args:this._abiCoder.decode(te.inputs,"0x"+X.substring(10)),errorFragment:te,name:te.name,signature:te.format(),sighash:this.getSighash(te)}):null}static isInterface(L){return!!(L&&L._isInterface)}}const version$5="abstract-provider/5.7.0";var __awaiter$2=globalThis&&globalThis.__awaiter||function(Z,L,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(pe){se(pe)}}function ce(de){try{le(te.throw(de))}catch(pe){se(pe)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(Z,L||[])).next())})};const logger$3=new Logger(version$5);class Provider{constructor(){logger$3.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$2(this,void 0,void 0,function*(){const{block:L,gasPrice:X}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(se=>null)});let te=null,ie=null,oe=null;return L&&L.baseFeePerGas&&(te=L.baseFeePerGas,oe=BigNumber.from("1500000000"),ie=L.baseFeePerGas.mul(2).add(oe)),{lastBaseFeePerGas:te,maxFeePerGas:ie,maxPriorityFeePerGas:oe,gasPrice:X}})}addListener(L,X){return this.on(L,X)}removeListener(L,X){return this.off(L,X)}static isProvider(L){return!!(L&&L._isProvider)}}const version$4="abstract-signer/5.7.0";var __awaiter$1=globalThis&&globalThis.__awaiter||function(Z,L,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(pe){se(pe)}}function ce(de){try{le(te.throw(de))}catch(pe){se(pe)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(Z,L||[])).next())})};const logger$2=new Logger(version$4),allowedTransactionKeys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$2.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(L){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),L)})}getTransactionCount(L){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),L)})}estimateGas(L){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const X=yield resolveProperties(this.checkTransaction(L));return yield this.provider.estimateGas(X)})}call(L,X){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("call");const te=yield resolveProperties(this.checkTransaction(L));return yield this.provider.call(te,X)})}sendTransaction(L){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const X=yield this.populateTransaction(L),te=yield this.signTransaction(X);return yield this.provider.sendTransaction(te)})}getChainId(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(L){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(L)})}checkTransaction(L){for(const te in L)allowedTransactionKeys.indexOf(te)===-1&&logger$2.throwArgumentError("invalid transaction key: "+te,"transaction",L);const X=shallowCopy(L);return X.from==null?X.from=this.getAddress():X.from=Promise.all([Promise.resolve(X.from),this.getAddress()]).then(te=>(te[0].toLowerCase()!==te[1].toLowerCase()&&logger$2.throwArgumentError("from address mismatch","transaction",L),te[0])),X}populateTransaction(L){return __awaiter$1(this,void 0,void 0,function*(){const X=yield resolveProperties(this.checkTransaction(L));X.to!=null&&(X.to=Promise.resolve(X.to).then(ie=>__awaiter$1(this,void 0,void 0,function*(){if(ie==null)return null;const oe=yield this.resolveName(ie);return oe==null&&logger$2.throwArgumentError("provided ENS name resolves to null","tx.to",ie),oe})),X.to.catch(ie=>{}));const te=X.maxFeePerGas!=null||X.maxPriorityFeePerGas!=null;if(X.gasPrice!=null&&(X.type===2||te)?logger$2.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",L):(X.type===0||X.type===1)&&te&&logger$2.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",L),(X.type===2||X.type==null)&&X.maxFeePerGas!=null&&X.maxPriorityFeePerGas!=null)X.type=2;else if(X.type===0||X.type===1)X.gasPrice==null&&(X.gasPrice=this.getGasPrice());else{const ie=yield this.getFeeData();if(X.type==null)if(ie.maxFeePerGas!=null&&ie.maxPriorityFeePerGas!=null)if(X.type=2,X.gasPrice!=null){const oe=X.gasPrice;delete X.gasPrice,X.maxFeePerGas=oe,X.maxPriorityFeePerGas=oe}else X.maxFeePerGas==null&&(X.maxFeePerGas=ie.maxFeePerGas),X.maxPriorityFeePerGas==null&&(X.maxPriorityFeePerGas=ie.maxPriorityFeePerGas);else ie.gasPrice!=null?(te&&logger$2.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),X.gasPrice==null&&(X.gasPrice=ie.gasPrice),X.type=0):logger$2.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else X.type===2&&(X.maxFeePerGas==null&&(X.maxFeePerGas=ie.maxFeePerGas),X.maxPriorityFeePerGas==null&&(X.maxPriorityFeePerGas=ie.maxPriorityFeePerGas))}return X.nonce==null&&(X.nonce=this.getTransactionCount("pending")),X.gasLimit==null&&(X.gasLimit=this.estimateGas(X).catch(ie=>{if(forwardErrors.indexOf(ie.code)>=0)throw ie;return logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:ie,tx:X})})),X.chainId==null?X.chainId=this.getChainId():X.chainId=Promise.all([Promise.resolve(X.chainId),this.getChainId()]).then(ie=>(ie[1]!==0&&ie[0]!==ie[1]&&logger$2.throwArgumentError("chainId address mismatch","transaction",L),ie[0])),yield resolveProperties(X)})}_checkProvider(L){this.provider||logger$2.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:L||"_checkProvider"})}static isSigner(L){return!!(L&&L._isSigner)}}class VoidSigner extends Signer{constructor(L,X){super(),defineReadOnly(this,"address",L),defineReadOnly(this,"provider",X||null)}getAddress(){return Promise.resolve(this.address)}_fail(L,X){return Promise.resolve().then(()=>{logger$2.throwError(L,Logger.errors.UNSUPPORTED_OPERATION,{operation:X})})}signMessage(L){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(L){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(L,X,te){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(L){return new VoidSigner(this.address,L)}}const version$3="transactions/5.7.0",logger$1=new Logger(version$3);var TransactionTypes;(function(Z){Z[Z.legacy=0]="legacy",Z[Z.eip2930=1]="eip2930",Z[Z.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function accessSetify(Z,L){return{address:getAddress$1(Z),storageKeys:(L||[]).map((X,te)=>(hexDataLength(X)!==32&&logger$1.throwArgumentError("invalid access list storageKey",`accessList[${Z}:${te}]`,X),X.toLowerCase()))}}function accessListify(Z){if(Array.isArray(Z))return Z.map((X,te)=>Array.isArray(X)?(X.length>2&&logger$1.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${te}]`,X),accessSetify(X[0],X[1])):accessSetify(X.address,X.storageKeys));const L=Object.keys(Z).map(X=>{const te=Z[X].reduce((ie,oe)=>(ie[oe]=!0,ie),{});return accessSetify(X,Object.keys(te).sort())});return L.sort((X,te)=>X.address.localeCompare(te.address)),L}const version$2="contracts/5.7.0";var __awaiter=globalThis&&globalThis.__awaiter||function(Z,L,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(pe){se(pe)}}function ce(de){try{le(te.throw(de))}catch(pe){se(pe)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(Z,L||[])).next())})};const logger=new Logger(version$2);function resolveName(Z,L){return __awaiter(this,void 0,void 0,function*(){const X=yield L;typeof X!="string"&&logger.throwArgumentError("invalid address or ENS name","name",X);try{return getAddress$1(X)}catch{}Z||logger.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const te=yield Z.resolveName(X);return te==null&&logger.throwArgumentError("resolver or addr is not configured for ENS name","name",X),te})}function resolveAddresses(Z,L,X){return __awaiter(this,void 0,void 0,function*(){return Array.isArray(X)?yield Promise.all(X.map((te,ie)=>resolveAddresses(Z,Array.isArray(L)?L[ie]:L[te.name],te))):X.type==="address"?yield resolveName(Z,L):X.type==="tuple"?yield resolveAddresses(Z,L,X.components):X.baseType==="array"?Array.isArray(L)?yield Promise.all(L.map(te=>resolveAddresses(Z,te,X.arrayChildren))):Promise.reject(logger.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:L})):L})}function populateTransaction(Z,L,X){return __awaiter(this,void 0,void 0,function*(){let te={};X.length===L.inputs.length+1&&typeof X[X.length-1]=="object"&&(te=shallowCopy(X.pop())),logger.checkArgumentCount(X.length,L.inputs.length,"passed to contract"),Z.signer?te.from?te.from=resolveProperties({override:resolveName(Z.signer,te.from),signer:Z.signer.getAddress()}).then(le=>__awaiter(this,void 0,void 0,function*(){return getAddress$1(le.signer)!==le.override&&logger.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),le.override})):te.from=Z.signer.getAddress():te.from&&(te.from=resolveName(Z.provider,te.from));const ie=yield resolveProperties({args:resolveAddresses(Z.signer||Z.provider,X,L.inputs),address:Z.resolvedAddress,overrides:resolveProperties(te)||{}}),oe=Z.interface.encodeFunctionData(L,ie.args),se={data:oe,to:ie.address},ue=ie.overrides;if(ue.nonce!=null&&(se.nonce=BigNumber.from(ue.nonce).toNumber()),ue.gasLimit!=null&&(se.gasLimit=BigNumber.from(ue.gasLimit)),ue.gasPrice!=null&&(se.gasPrice=BigNumber.from(ue.gasPrice)),ue.maxFeePerGas!=null&&(se.maxFeePerGas=BigNumber.from(ue.maxFeePerGas)),ue.maxPriorityFeePerGas!=null&&(se.maxPriorityFeePerGas=BigNumber.from(ue.maxPriorityFeePerGas)),ue.from!=null&&(se.from=ue.from),ue.type!=null&&(se.type=ue.type),ue.accessList!=null&&(se.accessList=accessListify(ue.accessList)),se.gasLimit==null&&L.gas!=null){let le=21e3;const de=arrayify(oe);for(let pe=0;pe<de.length;pe++)le+=4,de[pe]&&(le+=64);se.gasLimit=BigNumber.from(L.gas).add(le)}if(ue.value){const le=BigNumber.from(ue.value);!le.isZero()&&!L.payable&&logger.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:te.value}),se.value=le}ue.customData&&(se.customData=shallowCopy(ue.customData)),ue.ccipReadEnabled&&(se.ccipReadEnabled=!!ue.ccipReadEnabled),delete te.nonce,delete te.gasLimit,delete te.gasPrice,delete te.from,delete te.value,delete te.type,delete te.accessList,delete te.maxFeePerGas,delete te.maxPriorityFeePerGas,delete te.customData,delete te.ccipReadEnabled;const ce=Object.keys(te).filter(le=>te[le]!=null);return ce.length&&logger.throwError(`cannot override ${ce.map(le=>JSON.stringify(le)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ce}),se})}function buildPopulate(Z,L){return function(...X){return populateTransaction(Z,L,X)}}function buildEstimate(Z,L){const X=Z.signer||Z.provider;return function(...te){return __awaiter(this,void 0,void 0,function*(){X||logger.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const ie=yield populateTransaction(Z,L,te);return yield X.estimateGas(ie)})}}function addContractWait(Z,L){const X=L.wait.bind(L);L.wait=te=>X(te).then(ie=>(ie.events=ie.logs.map(oe=>{let se=deepCopy(oe),ue=null;try{ue=Z.interface.parseLog(oe)}catch{}return ue&&(se.args=ue.args,se.decode=(ce,le)=>Z.interface.decodeEventLog(ue.eventFragment,ce,le),se.event=ue.name,se.eventSignature=ue.signature),se.removeListener=()=>Z.provider,se.getBlock=()=>Z.provider.getBlock(ie.blockHash),se.getTransaction=()=>Z.provider.getTransaction(ie.transactionHash),se.getTransactionReceipt=()=>Promise.resolve(ie),se}),ie))}function buildCall(Z,L,X){const te=Z.signer||Z.provider;return function(...ie){return __awaiter(this,void 0,void 0,function*(){let oe;if(ie.length===L.inputs.length+1&&typeof ie[ie.length-1]=="object"){const ce=shallowCopy(ie.pop());ce.blockTag!=null&&(oe=yield ce.blockTag),delete ce.blockTag,ie.push(ce)}Z.deployTransaction!=null&&(yield Z._deployed(oe));const se=yield populateTransaction(Z,L,ie),ue=yield te.call(se,oe);try{let ce=Z.interface.decodeFunctionResult(L,ue);return X&&L.outputs.length===1&&(ce=ce[0]),ce}catch(ce){throw ce.code===Logger.errors.CALL_EXCEPTION&&(ce.address=Z.address,ce.args=ie,ce.transaction=se),ce}})}}function buildSend(Z,L){return function(...X){return __awaiter(this,void 0,void 0,function*(){Z.signer||logger.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),Z.deployTransaction!=null&&(yield Z._deployed());const te=yield populateTransaction(Z,L,X),ie=yield Z.signer.sendTransaction(te);return addContractWait(Z,ie),ie})}}function buildDefault(Z,L,X){return L.constant?buildCall(Z,L,X):buildSend(Z,L)}function getEventTag(Z){return Z.address&&(Z.topics==null||Z.topics.length===0)?"*":(Z.address||"*")+"@"+(Z.topics?Z.topics.map(L=>Array.isArray(L)?L.join("|"):L).join(":"):"")}class RunningEvent{constructor(L,X){defineReadOnly(this,"tag",L),defineReadOnly(this,"filter",X),this._listeners=[]}addListener(L,X){this._listeners.push({listener:L,once:X})}removeListener(L){let X=!1;this._listeners=this._listeners.filter(te=>X||te.listener!==L?!0:(X=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(L=>L.listener)}listenerCount(){return this._listeners.length}run(L){const X=this.listenerCount();return this._listeners=this._listeners.filter(te=>{const ie=L.slice();return setTimeout(()=>{te.listener.apply(this,ie)},0),!te.once}),X}prepareEvent(L){}getEmit(L){return[L]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(L,X,te,ie){const oe={address:L};let se=X.getEventTopic(te);ie?(se!==ie[0]&&logger.throwArgumentError("topic mismatch","topics",ie),oe.topics=ie.slice()):oe.topics=[se],super(getEventTag(oe),oe),defineReadOnly(this,"address",L),defineReadOnly(this,"interface",X),defineReadOnly(this,"fragment",te)}prepareEvent(L){super.prepareEvent(L),L.event=this.fragment.name,L.eventSignature=this.fragment.format(),L.decode=(X,te)=>this.interface.decodeEventLog(this.fragment,X,te);try{L.args=this.interface.decodeEventLog(this.fragment,L.data,L.topics)}catch(X){L.args=null,L.decodeError=X}}getEmit(L){const X=checkResultErrors(L.args);if(X.length)throw X[0].error;const te=(L.args||[]).slice();return te.push(L),te}}class WildcardRunningEvent extends RunningEvent{constructor(L,X){super("*",{address:L}),defineReadOnly(this,"address",L),defineReadOnly(this,"interface",X)}prepareEvent(L){super.prepareEvent(L);try{const X=this.interface.parseLog(L);L.event=X.name,L.eventSignature=X.signature,L.decode=(te,ie)=>this.interface.decodeEventLog(X.eventFragment,te,ie),L.args=X.args}catch{}}}class BaseContract{constructor(L,X,te){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(X)),te==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(te)?(defineReadOnly(this,"provider",te.provider||null),defineReadOnly(this,"signer",te)):Provider.isProvider(te)?(defineReadOnly(this,"provider",te),defineReadOnly(this,"signer",null)):logger.throwArgumentError("invalid signer or provider","signerOrProvider",te),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const se={};Object.keys(this.interface.events).forEach(ue=>{const ce=this.interface.events[ue];defineReadOnly(this.filters,ue,(...le)=>({address:this.address,topics:this.interface.encodeFilterTopics(ce,le)})),se[ce.name]||(se[ce.name]=[]),se[ce.name].push(ue)}),Object.keys(se).forEach(ue=>{const ce=se[ue];ce.length===1?defineReadOnly(this.filters,ue,this.filters[ce[0]]):logger.warn(`Duplicate definition of ${ue} (${ce.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),L==null&&logger.throwArgumentError("invalid contract address or ENS name","addressOrName",L),defineReadOnly(this,"address",L),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,L));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress$1(L)))}catch{logger.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(se=>{});const ie={},oe={};Object.keys(this.interface.functions).forEach(se=>{const ue=this.interface.functions[se];if(oe[se]){logger.warn(`Duplicate ABI entry for ${JSON.stringify(se)}`);return}oe[se]=!0;{const ce=ue.name;ie[`%${ce}`]||(ie[`%${ce}`]=[]),ie[`%${ce}`].push(se)}this[se]==null&&defineReadOnly(this,se,buildDefault(this,ue,!0)),this.functions[se]==null&&defineReadOnly(this.functions,se,buildDefault(this,ue,!1)),this.callStatic[se]==null&&defineReadOnly(this.callStatic,se,buildCall(this,ue,!0)),this.populateTransaction[se]==null&&defineReadOnly(this.populateTransaction,se,buildPopulate(this,ue)),this.estimateGas[se]==null&&defineReadOnly(this.estimateGas,se,buildEstimate(this,ue))}),Object.keys(ie).forEach(se=>{const ue=ie[se];if(ue.length>1)return;se=se.substring(1);const ce=ue[0];try{this[se]==null&&defineReadOnly(this,se,this[ce])}catch{}this.functions[se]==null&&defineReadOnly(this.functions,se,this.functions[ce]),this.callStatic[se]==null&&defineReadOnly(this.callStatic,se,this.callStatic[ce]),this.populateTransaction[se]==null&&defineReadOnly(this.populateTransaction,se,this.populateTransaction[ce]),this.estimateGas[se]==null&&defineReadOnly(this.estimateGas,se,this.estimateGas[ce])})}static getContractAddress(L){return getContractAddress$1(L)}static getInterface(L){return Interface.isInterface(L)?L:new Interface(L)}deployed(){return this._deployed()}_deployed(L){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,L).then(X=>(X==="0x"&&logger.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(L){this.signer||logger.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const X=shallowCopy(L||{});return["from","to"].forEach(function(te){X[te]!=null&&logger.throwError("cannot override "+te,Logger.errors.UNSUPPORTED_OPERATION,{operation:te})}),X.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(X))}connect(L){typeof L=="string"&&(L=new VoidSigner(L,this.provider));const X=new this.constructor(this.address,this.interface,L);return this.deployTransaction&&defineReadOnly(X,"deployTransaction",this.deployTransaction),X}attach(L){return new this.constructor(L,this.interface,this.signer||this.provider)}static isIndexed(L){return Indexed.isIndexed(L)}_normalizeRunningEvent(L){return this._runningEvents[L.tag]?this._runningEvents[L.tag]:L}_getRunningEvent(L){if(typeof L=="string"){if(L==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(L==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(L==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const X=this.interface.getEvent(L);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,X))}if(L.topics&&L.topics.length>0){try{const te=L.topics[0];if(typeof te!="string")throw new Error("invalid topic");const ie=this.interface.getEvent(te);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,ie,L.topics))}catch{}const X={address:this.address,topics:L.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(X),X))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(L){if(L.listenerCount()===0){delete this._runningEvents[L.tag];const X=this._wrappedEmits[L.tag];X&&L.filter&&(this.provider.off(L.filter,X),delete this._wrappedEmits[L.tag])}}_wrapEvent(L,X,te){const ie=deepCopy(X);return ie.removeListener=()=>{te&&(L.removeListener(te),this._checkRunningEvents(L))},ie.getBlock=()=>this.provider.getBlock(X.blockHash),ie.getTransaction=()=>this.provider.getTransaction(X.transactionHash),ie.getTransactionReceipt=()=>this.provider.getTransactionReceipt(X.transactionHash),L.prepareEvent(ie),ie}_addEventListener(L,X,te){if(this.provider||logger.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),L.addListener(X,te),this._runningEvents[L.tag]=L,!this._wrappedEmits[L.tag]){const ie=oe=>{let se=this._wrapEvent(L,oe,X);if(se.decodeError==null)try{const ue=L.getEmit(se);this.emit(L.filter,...ue)}catch(ue){se.decodeError=ue.error}L.filter!=null&&this.emit("event",se),se.decodeError!=null&&this.emit("error",se.decodeError,se)};this._wrappedEmits[L.tag]=ie,L.filter!=null&&this.provider.on(L.filter,ie)}}queryFilter(L,X,te){const ie=this._getRunningEvent(L),oe=shallowCopy(ie.filter);return typeof X=="string"&&isHexString(X,32)?(te!=null&&logger.throwArgumentError("cannot specify toBlock with blockhash","toBlock",te),oe.blockHash=X):(oe.fromBlock=X??0,oe.toBlock=te??"latest"),this.provider.getLogs(oe).then(se=>se.map(ue=>this._wrapEvent(ie,ue,null)))}on(L,X){return this._addEventListener(this._getRunningEvent(L),X,!1),this}once(L,X){return this._addEventListener(this._getRunningEvent(L),X,!0),this}emit(L,...X){if(!this.provider)return!1;const te=this._getRunningEvent(L),ie=te.run(X)>0;return this._checkRunningEvents(te),ie}listenerCount(L){return this.provider?L==null?Object.keys(this._runningEvents).reduce((X,te)=>X+this._runningEvents[te].listenerCount(),0):this._getRunningEvent(L).listenerCount():0}listeners(L){if(!this.provider)return[];if(L==null){const X=[];for(let te in this._runningEvents)this._runningEvents[te].listeners().forEach(ie=>{X.push(ie)});return X}return this._getRunningEvent(L).listeners()}removeAllListeners(L){if(!this.provider)return this;if(L==null){for(const te in this._runningEvents){const ie=this._runningEvents[te];ie.removeAllListeners(),this._checkRunningEvents(ie)}return this}const X=this._getRunningEvent(L);return X.removeAllListeners(),this._checkRunningEvents(X),this}off(L,X){if(!this.provider)return this;const te=this._getRunningEvent(L);return te.removeListener(X),this._checkRunningEvents(te),this}removeListener(L,X){return this.off(L,X)}}class Contract extends BaseContract{}function Jr(Z,L){let X={};for(let te in Z)X[te]=L(Z[te],te);return X}var fe$1=function(){let Z=mr,L=fr;return L(Z(32),8)+"-"+L(Z(16),4)+"-"+L(16384|Z(12),4)+"-"+L(32768|Z(14),4)+"-"+L(Z(48),12)},mr=function(Z){if(Z<0||Z>53)return NaN;let L=0|Math.random()*1073741824;return Z>30?L+(0|Math.random()*(1<<Z-30))*1073741824:L>>>30-Z},fr=function(Z,L){let X=Z.toString(16),te=L-X.length,ie="0";for(;te>0;te>>>=1,ie+=ie)te&1&&(X=ie+X);return X};function y$3(Z){return{...Z,[Symbol.iterator](){return this}}}function I$3(Z,L){return y$3({next(){let{done:X,value:te}=Z.next();return{done:X,value:X?te:L(te)}}})}function z$4(Z){return/^(0x)?([\da-f]{2})*$/i.test(Z)}var K$2=Z=>{if(!z$4(Z))throw console.error("Invalid hex string",Z),new Error("Invalid hex string");let L=Z.match(/[\da-f]{2}/gi);return L?new Uint8Array(L.map(X=>parseInt(X,16))):new Uint8Array([])};function Cr(Z){if(Z<2)throw new Error("Minimum size is 2");if(Z>64)throw new Error("Maximum size is 64");let L=2**(Z-1)-1,X=-L-1;return te=>{if(te=te<<0,te>L||te<X)throw console.log("value",te,L,X,te>L,te<X),new Error(`Int${Z} overflow`);return te<0?2**Z+te:te}}Cr(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var W=(Z=>(Z[Z.Boolean=0]="Boolean",Z[Z.Number=1]="Number",Z[Z.OptionalNumber=2]="OptionalNumber",Z[Z.BigInt=3]="BigInt",Z[Z.OptionalBigInt=4]="OptionalBigInt",Z[Z.String=5]="String",Z[Z.OptionalString=6]="OptionalString",Z[Z.NumberArray=7]="NumberArray",Z[Z.OptionalNumberArray=8]="OptionalNumberArray",Z[Z.BigIntArray=9]="BigIntArray",Z[Z.OptionalBigIntArray=10]="OptionalBigIntArray",Z[Z.StringArray=11]="StringArray",Z[Z.OptionalStringArray=12]="OptionalStringArray",Z[Z.Entity=13]="Entity",Z[Z.OptionalEntity=14]="OptionalEntity",Z[Z.EntityArray=15]="EntityArray",Z[Z.OptionalEntityArray=16]="OptionalEntityArray",Z[Z.T=17]="T",Z[Z.OptionalT=18]="OptionalT",Z))(W||{}),Q=(Z=>(Z[Z.Enter=0]="Enter",Z[Z.Exit=1]="Exit",Z[Z.Update=2]="Update",Z[Z.Noop=3]="Noop",Z))(Q||{}),H$1=[14,16,2,8,4,10,6,12,18];function S$2(Z){return Symbol.for(Z)}function C$2(Z){return Symbol.keyFor(Z)}function $$2(Z){let L=new Map;function X(ue){let ce=L.get(te(ue));return ce?new Set([...ce].map(C$2)):new Set}function te(ue){return Object.values(ue).join("/")}function ie(ue,ce){if(!ce)return;let le=te(ce),de=L.get(le);de||(de=new Set,L.set(le,de)),de.add(ue)}function oe(ue,ce){if(!ce)return;let le=te(ce),de=L.get(le);de&&de.delete(ue)}for(let ue of b$4(Z)){let ce=x$6(Z,ue);ie(S$2(ue),ce)}let se=Z.update$.subscribe(({entity:ue,value:ce})=>{oe(S$2(ue),ce[1]),ie(S$2(ue),ce[0])});return Z.world.registerDisposer(()=>se?.unsubscribe()),{...Z,getEntitiesWithValue:X}}function B$3(Z){return"getEntitiesWithValue"in Z}function R$2(Z,L){return Object.keys(Z.schema).every(X=>X in L)}function h$4(Z){return Z.metadata?.componentName??Z.metadata?.tableName??Z.metadata?.tableId??Z.metadata?.contractId??Z.id}function Re(Z,L,X){if(Object.keys(L).length===0)throw new Error("Component schema must have at least one key");let te=X?.id??fe$1(),ie=Jr(L,()=>new Map),oe=new Subject,se=X?.metadata,ue={values:ie,schema:L,id:te,update$:oe,metadata:se,entities:()=>I$3(Object.values(ie)[0].keys(),C$2),world:Z};return X?.indexed&&(ue=$$2(ue)),Z.registerComponent(ue),ue}function T$2(Z,L,X){let te=S$2(L),ie=x$6(Z,L);for(let[oe,se]of Object.entries(X))Z.values[oe]?Z.values[oe].set(te,se):Z.metadata?.tableId&&/^\d+$/.test(oe)||console.warn("Component definition for",h$4(Z),"is missing key",oe,", ignoring value",se,"for entity",L,". Existing keys: ",Object.keys(Z.values));Z.update$.next({entity:L,value:[X,ie],component:Z})}function je(Z,L,X,te){let ie=x$6(Z,L);if(ie===void 0){if(te===void 0)throw new Error(`Can't update component ${h$4(Z)} without a current value or initial value`);T$2(Z,L,{...te,...X})}else T$2(Z,L,{...ie,...X})}function w$2(Z,L){let X=S$2(L),te=x$6(Z,L);for(let ie of Object.keys(Z.values))Z.values[ie].delete(X);Z.update$.next({entity:L,value:[void 0,te],component:Z})}function v$4(Z,L){let X=S$2(L);return Object.values(Z.values)[0].has(X)}function x$6(Z,L){let X={},te=S$2(L),ie=Object.keys(Z.schema);for(let oe of ie){let se=Z.values[oe].get(te);if(se===void 0&&!H$1.includes(Z.schema[oe]))return;X[oe]=se}return X}function De(Z,L){let X=x$6(Z,L);if(!X)throw new Error(`No value for component ${h$4(Z)} on entity ${L}`);return X}function k$2(Z,L){if(!Z&&!L)return!0;if(!Z||!L)return!1;let X=!0;for(let te of Object.keys(Z))if(X=Z[te]===L[te],!X)return!1;return X}function A$3(Z,L){if(B$3(Z)&&R$2(Z,L))return Z.getEntitiesWithValue(L);let X=new Set;for(let te of b$4(Z)){let ie=x$6(Z,te);k$2(L,ie)&&X.add(te)}return X}function b$4(Z){return Z.entities()}var K$1=(Z=>(Z[Z.Has=0]="Has",Z[Z.HasValue=1]="HasValue",Z[Z.Not=2]="Not",Z[Z.NotValue=3]="NotValue",Z[Z.ProxyRead=4]="ProxyRead",Z[Z.ProxyExpand=5]="ProxyExpand",Z))(K$1||{});function Ft(Z){return{type:0,component:Z}}function O$3(Z,L){if(L.type===0)return v$4(L.component,Z);if(L.type===1)return k$2(L.value,x$6(L.component,Z));if(L.type===2)return!v$4(L.component,Z);if(L.type===3)return!k$2(L.value,x$6(L.component,Z));throw new Error("Unknown query fragment")}function fe(Z){return Z.type===0||Z.type==1}function Y$2(Z){return Z.type===2||Z.type==3}function Se(Z){return Z.type===5||Z.type==4}function G$3(Z,L){return Z&&fe(L)||!Z&&Y$2(L)}function J$1(Z,L,X){let te=Z,ie=!1;for(let oe=0;oe<X.depth;oe++){let se=x$6(X.component,te);if(!se)return null;let ue=se.value;if(!ue)return null;if(te=ue,ie=O$3(te,L),G$3(ie,L))return ie}return ie}function P$7(Z,L,X){if(X===0)return new Set;let te=A$3(L,{value:Z});if(X===1)return te;let ie=[...te].map(oe=>[...P$7(oe,L,X-1)]).flat();return new Set([...te,...ie])}function z$3(Z,L){let X=L?new Set([...L]):void 0,te,ie;for(let oe=0;oe<Z.length;oe++){let se=Z[oe];if(Se(se))se.type===4&&(te=se),se.type===5&&(ie=se);else if(X)for(let ue of[...X]){let ce=O$3(ue,se);if(te&&te.depth>0&&!G$3(ce,se)&&(ce=J$1(ue,se,te)??ce),ce||X.delete(ue),ie&&ie.depth>0){let le=P$7(ue,ie.component,ie.depth);for(let de of le)(O$3(de,se)||te&&te.depth>0&&J$1(de,se,te))&&X.add(de)}}else{if(Y$2(se))throw new Error("First EntityQueryFragment must be Has or HasValue");if(X=se.type===0?new Set([...b$4(se.component)]):A$3(se.component,se.value),ie&&ie.depth>0)for(let ue of[...X])for(let ce of P$7(ue,ie.component,ie.depth))X.add(ce)}}return X??new Set}function Yt(){let Z=new Set,L=[],X=[];function te({id:de,idSuffix:pe}={}){let ge=de||Z.size+(pe?"-"+pe:""),_e=S$2(ge);return Z.add(_e),ge}function ie(){return I$3(Z.values(),C$2)}function oe(de){L.push(de)}function se(de){for(let[,pe]of X.filter(ge=>!de||ge[0]===de))pe();X=X.filter(pe=>de&&pe[0]!==de)}function ue(de,pe=""){X.push([pe,de])}function ce(de){let pe=S$2(de);return Z.has(pe)}function le(de){for(let pe of L)v$4(pe,de)&&w$2(pe,de);Z.delete(S$2(de))}return{registerEntity:te,components:L,registerComponent:oe,dispose:se,registerDisposer:ue,hasEntity:ce,getEntities:ie,entitySymbols:Z,deleteEntity:le}}var i$1=/\[\]$/;function r$3(Z){return Z.replace(i$1,"")}var n$1=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],y$2=n$1.slice(98),s$3={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function T$1(Z){return y$2.includes(Z)}var a$3={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},A$2={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20},P$6={...a$3,...s$3};const version$1="0.9.3";let BaseError$1=class Nr extends Error{constructor(L,X={}){const te=X.cause instanceof Nr?X.cause.details:X.cause?.message?X.cause.message:X.details,ie=X.cause instanceof Nr&&X.cause.docsPath||X.docsPath,oe=[L||"An error occurred.","",...X.metaMessages?[...X.metaMessages,""]:[],...ie?[`Docs: https://abitype.dev${ie}`]:[],...te?[`Details: ${te}`]:[],`Version: abitype@${version$1}`].join(`
`);super(oe),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),X.cause&&(this.cause=X.cause),this.details=te,this.docsPath=ie,this.metaMessages=X.metaMessages,this.shortMessage=L}};function execTyped(Z,L){return Z.exec(L)?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(Z){return errorSignatureRegex.test(Z)}function execErrorSignature(Z){return execTyped(errorSignatureRegex,Z)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(Z){return eventSignatureRegex.test(Z)}function execEventSignature(Z){return execTyped(eventSignatureRegex,Z)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(Z){return functionSignatureRegex.test(Z)}function execFunctionSignature(Z){return execTyped(functionSignatureRegex,Z)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(Z){return structSignatureRegex.test(Z)}function execStructSignature(Z){return execTyped(structSignatureRegex,Z)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(Z){return constructorSignatureRegex.test(Z)}function execConstructorSignature(Z){return execTyped(constructorSignatureRegex,Z)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(Z){return fallbackSignatureRegex.test(Z)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(Z){return receiveSignatureRegex.test(Z)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:L}){super("Unknown type.",{metaMessages:[`Type "${L}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:L}){super("Unknown type.",{metaMessages:[`Type "${L}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$1{constructor({params:L}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(L,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$1{constructor({param:L}){super("Invalid ABI parameter.",{details:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:L,name:X}){super("Invalid ABI parameter.",{details:L,metaMessages:[`"${X}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:L,type:X,modifier:te}){super("Invalid ABI parameter.",{details:L,metaMessages:[`Modifier "${te}" not allowed${X?` in "${X}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:L,type:X,modifier:te}){super("Invalid ABI parameter.",{details:L,metaMessages:[`Modifier "${te}" not allowed${X?` in "${X}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${te}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:L}){super("Invalid ABI parameter.",{details:JSON.stringify(L,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:L,type:X}){super(`Invalid ${X} signature.`,{details:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:L}){super("Unknown signature.",{details:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:L}){super("Invalid struct signature.",{details:L,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:L}){super("Circular reference detected.",{metaMessages:[`Struct "${L}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:L,depth:X}){super("Unbalanced parentheses.",{metaMessages:[`"${L.trim()}" has too many ${X>0?"opening":"closing"} parentheses.`],details:`Depth "${X}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(Z,L){return L?`${L}:${Z}`:Z}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(Z,L={}){if(isFunctionSignature(Z)){const X=execFunctionSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"function"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let ue=0;ue<oe;ue++)ie.push(parseAbiParameter(te[ue],{modifiers:functionModifiers,structs:L,type:"function"}));const se=[];if(X.returns){const ue=splitParameters(X.returns),ce=ue.length;for(let le=0;le<ce;le++)se.push(parseAbiParameter(ue[le],{modifiers:functionModifiers,structs:L,type:"function"}))}return{name:X.name,type:"function",stateMutability:X.stateMutability??"nonpayable",inputs:ie,outputs:se}}if(isEventSignature(Z)){const X=execEventSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"event"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let se=0;se<oe;se++)ie.push(parseAbiParameter(te[se],{modifiers:eventModifiers,structs:L,type:"event"}));return{name:X.name,type:"event",inputs:ie}}if(isErrorSignature(Z)){const X=execErrorSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"error"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let se=0;se<oe;se++)ie.push(parseAbiParameter(te[se],{structs:L,type:"error"}));return{name:X.name,type:"error",inputs:ie}}if(isConstructorSignature(Z)){const X=execConstructorSignature(Z);if(!X)throw new InvalidSignatureError({signature:Z,type:"constructor"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let se=0;se<oe;se++)ie.push(parseAbiParameter(te[se],{structs:L,type:"constructor"}));return{type:"constructor",stateMutability:X.stateMutability??"nonpayable",inputs:ie}}if(isFallbackSignature(Z))return{type:"fallback"};if(isReceiveSignature(Z))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:Z})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(Z,L){const X=getParameterCacheKey(Z,L?.type);if(parameterCache.has(X))return parameterCache.get(X);const te=isTupleRegex.test(Z),ie=execTyped(te?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,Z);if(!ie)throw new InvalidParameterError({param:Z});if(ie.name&&isSolidityKeyword(ie.name))throw new SolidityProtectedKeywordError({param:Z,name:ie.name});const oe=ie.name?{name:ie.name}:{},se=ie.modifier==="indexed"?{indexed:!0}:{},ue=L?.structs??{};let ce,le={};if(te){ce="tuple";const pe=splitParameters(ie.type),ge=[],_e=pe.length;for(let Te=0;Te<_e;Te++)ge.push(parseAbiParameter(pe[Te],{structs:ue}));le={components:ge}}else if(ie.type in ue)ce="tuple",le={components:ue[ie.type]};else if(dynamicIntegerRegex.test(ie.type))ce=`${ie.type}256`;else if(ce=ie.type,L?.type!=="struct"&&!isSolidityType(ce))throw new UnknownSolidityTypeError({type:ce});if(ie.modifier){if(!L?.modifiers?.has?.(ie.modifier))throw new InvalidModifierError({param:Z,type:L?.type,modifier:ie.modifier});if(functionModifiers.has(ie.modifier)&&!isValidDataLocation(ce,!!ie.array))throw new InvalidFunctionModifierError({param:Z,type:L?.type,modifier:ie.modifier})}const de={type:`${ce}${ie.array??""}`,...oe,...se,...le};return parameterCache.set(X,de),de}function splitParameters(Z,L=[],X="",te=0){if(Z===""){if(X==="")return L;if(te!==0)throw new InvalidParenthesisError({current:X,depth:te});return L.push(X.trim()),L}const ie=Z.length;for(let oe=0;oe<ie;oe++){const se=Z[oe],ue=Z.slice(oe+1);switch(se){case",":return te===0?splitParameters(ue,[...L,X.trim()]):splitParameters(ue,L,`${X}${se}`,te);case"(":return splitParameters(ue,L,`${X}${se}`,te+1);case")":return splitParameters(ue,L,`${X}${se}`,te-1);default:return splitParameters(ue,L,`${X}${se}`,te)}}return[]}function isSolidityType(Z){return Z==="address"||Z==="bool"||Z==="function"||Z==="string"||bytesRegex$1.test(Z)||integerRegex$1.test(Z)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(Z){return Z==="address"||Z==="bool"||Z==="function"||Z==="string"||Z==="tuple"||bytesRegex$1.test(Z)||integerRegex$1.test(Z)||protectedKeywordsRegex.test(Z)}function isValidDataLocation(Z,L){return L||Z==="bytes"||Z==="string"||Z==="tuple"}function parseStructs(Z){const L={},X=Z.length;for(let se=0;se<X;se++){const ue=Z[se];if(!isStructSignature(ue))continue;const ce=execStructSignature(ue);if(!ce)throw new InvalidSignatureError({signature:ue,type:"struct"});const le=ce.properties.split(";"),de=[],pe=le.length;for(let ge=0;ge<pe;ge++){const Te=le[ge].trim();if(!Te)continue;const Ae=parseAbiParameter(Te,{type:"struct"});de.push(Ae)}if(!de.length)throw new InvalidStructSignatureError({signature:ue});L[ce.name]=de}const te={},ie=Object.entries(L),oe=ie.length;for(let se=0;se<oe;se++){const[ue,ce]=ie[se];te[ue]=resolveStructs(ce,L)}return te}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(Z,L,X=new Set){const te=[],ie=Z.length;for(let oe=0;oe<ie;oe++){const se=Z[oe];if(isTupleRegex.test(se.type))te.push(se);else{const ce=execTyped(typeWithoutTupleRegex,se.type);if(!ce?.type)throw new InvalidAbiTypeParameterError({abiParameter:se});const{array:le,type:de}=ce;if(de in L){if(X.has(de))throw new CircularReferenceError({type:de});te.push({...se,type:`tuple${le??""}`,components:resolveStructs(L[de]??[],L,new Set([...X,de]))})}else if(isSolidityType(de))te.push(se);else throw new UnknownTypeError({type:de})}}return te}function parseAbi(Z){const L=parseStructs(Z),X=[],te=Z.length;for(let ie=0;ie<te;ie++){const oe=Z[ie];isStructSignature(oe)||X.push(parseSignature(oe,L))}return X}function parseAbiParameters(Z){const L=[];if(typeof Z=="string"){const X=splitParameters(Z),te=X.length;for(let ie=0;ie<te;ie++)L.push(parseAbiParameter(X[ie],{modifiers}))}else{const X=parseStructs(Z),te=Z.length;for(let ie=0;ie<te;ie++){const oe=Z[ie];if(isStructSignature(oe))continue;const se=splitParameters(oe),ue=se.length;for(let ce=0;ce<ue;ce++)L.push(parseAbiParameter(se[ce],{modifiers,structs:X}))}}if(L.length===0)throw new InvalidAbiParametersError({params:Z});return L}function formatAbiItem(Z,{includeName:L=!1}={}){if(Z.type!=="function"&&Z.type!=="event"&&Z.type!=="error")throw new InvalidDefinitionTypeError(Z.type);return`${Z.name}(${formatAbiParams(Z.inputs,{includeName:L})})`}function formatAbiParams(Z,{includeName:L=!1}={}){return Z?Z.map(X=>formatAbiParam(X,{includeName:L})).join(L?", ":","):""}function formatAbiParam(Z,{includeName:L}){return Z.type.startsWith("tuple")?`(${formatAbiParams(Z.components,{includeName:L})})${Z.type.slice(5)}`:Z.type+(L&&Z.name?` ${Z.name}`:"")}function isHex(Z,{strict:L=!0}={}){return!Z||typeof Z!="string"?!1:L?/^0x[0-9a-fA-F]*$/.test(Z):Z.startsWith("0x")}function size$1(Z){return isHex(Z,{strict:!1})?Math.ceil((Z.length-2)/2):Z.length}const version="1.5.4",getContractAddress=Z=>Z,getUrl$1=Z=>Z,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(L,X={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const te=X.cause instanceof BaseError?X.cause.details:X.cause?.message?X.cause.message:X.details,ie=X.cause instanceof BaseError&&X.cause.docsPath||X.docsPath;this.message=[L||"An error occurred.","",...X.metaMessages?[...X.metaMessages,""]:[],...ie?[`Docs: https://viem.sh${ie}.html${X.docsSlug?`#${X.docsSlug}`:""}`]:[],...te?[`Details: ${te}`]:[],`Version: ${this.version}`].join(`
`),X.cause&&(this.cause=X.cause),this.details=te,this.docsPath=ie,this.metaMessages=X.metaMessages,this.shortMessage=L}walk(L){return walk(this,L)}}function walk(Z,L){return L?.(Z)?Z:Z&&typeof Z=="object"&&"cause"in Z?walk(Z.cause,L):L?null:Z}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:L}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:L}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:L,params:X,size:te}){super([`Data size of ${te} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(X,{includeName:!0})})`,`Data:   ${L} (${te} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=L,this.params=X,this.size=te}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:L,givenLength:X,type:te}){super([`ABI encoding array length mismatch for type ${te}.`,`Expected length: ${L}`,`Given length: ${X}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:L,value:X}){super(`Size of bytes "${X}" (bytes${size$1(X)}) does not match expected size (bytes${L}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:L,givenLength:X}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${L}`,`Given length (values): ${X}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(L,{docsPath:X}){super([`Encoded error signature "${L}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${L}.`].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=L}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:L}){super("Cannot extract event signature from empty topics.",{docsPath:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(L,{docsPath:X}){super([`Encoded event signature "${L}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${L}.`].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(L,{docsPath:X}={}){super([`Event ${L?`"${L}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(L,{docsPath:X}={}){super([`Function ${L?`"${L}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(L,{docsPath:X}){super([`Function "${L}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:L,givenSize:X}){super(`Expected bytes${L}, got bytes${X}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:L,data:X,params:te,size:ie}){super([`Data size of ${ie} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(te,{includeName:!0})})`,`Data:   ${X} (${ie} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=L,this.data=X,this.params=te,this.size=ie}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:L,param:X}){super([`Expected a topic for indexed event parameter${X.name?` "${X.name}"`:""} on event "${formatAbiItem(L,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=L}}class InvalidAbiEncodingTypeError extends BaseError{constructor(L,{docsPath:X}){super([`Type "${L}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(L,{docsPath:X}){super([`Type "${L}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(L){super([`Value "${L}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(L){super([`"${L}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError{constructor(L){super(`Filter type "${L}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:L,position:X,size:te}){super(`Slice ${X==="start"?"starting":"ending"} at offset "${L}" is out-of-bounds (size: ${te}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:L,targetSize:X,type:te}){super(`${te.charAt(0).toUpperCase()}${te.slice(1).toLowerCase()} size (${L}) exceeds padding size (${X}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(Z,{dir:L,size:X=32}={}){return typeof Z=="string"?padHex(Z,{dir:L,size:X}):padBytes(Z,{dir:L,size:X})}function padHex(Z,{dir:L,size:X=32}={}){if(X===null)return Z;const te=Z.replace("0x","");if(te.length>X*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(te.length/2),targetSize:X,type:"hex"});return`0x${te[L==="right"?"padEnd":"padStart"](X*2,"0")}`}function padBytes(Z,{dir:L,size:X=32}={}){if(X===null)return Z;if(Z.length>X)throw new SizeExceedsPaddingSizeError({size:Z.length,targetSize:X,type:"bytes"});const te=new Uint8Array(X);for(let ie=0;ie<X;ie++){const oe=L==="right";te[oe?ie:X-ie-1]=Z[oe?ie:Z.length-ie-1]}return te}class IntegerOutOfRangeError extends BaseError{constructor({max:L,min:X,signed:te,size:ie,value:oe}){super(`Number "${oe}" is not in safe ${ie?`${ie*8}-bit ${te?"signed":"unsigned"} `:""}integer range ${L?`(${X} to ${L})`:`(above ${X})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(L){super(`Hex value "${L}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:L,maxSize:X}){super(`Size cannot exceed ${X} bytes. Given size: ${L} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(Z,{dir:L="left"}={}){let X=typeof Z=="string"?Z.replace("0x",""):Z,te=0;for(let ie=0;ie<X.length-1&&X[L==="left"?ie:X.length-ie-1].toString()==="0";ie++)te++;return X=L==="left"?X.slice(te):X.slice(0,X.length-te),typeof Z=="string"?(X.length===1&&L==="right"&&(X=`${X}0`),`0x${X.length%2===1?`0${X}`:X}`):X}function assertSize(Z,{size:L}){if(size$1(Z)>L)throw new SizeOverflowError({givenSize:size$1(Z),maxSize:L})}function hexToBigInt(Z,L={}){const{signed:X}=L;L.size&&assertSize(Z,{size:L.size});const te=BigInt(Z);if(!X)return te;const ie=(Z.length-2)/2,oe=(1n<<BigInt(ie)*8n-1n)-1n;return te<=oe?te:te-BigInt(`0x${"f".padStart(ie*2,"f")}`)-1n}function hexToBool(Z,L={}){let X=Z;if(L.size&&(assertSize(X,{size:L.size}),X=trim(X)),trim(X)==="0x00")return!1;if(trim(X)==="0x01")return!0;throw new InvalidHexBooleanError(X)}function hexToNumber$1(Z,L={}){return Number(hexToBigInt(Z,L))}function hexToString(Z,L={}){let X=hexToBytes$1(Z);return L.size&&(assertSize(X,{size:L.size}),X=trim(X,{dir:"right"})),new TextDecoder().decode(X)}const hexes$1=Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function toHex(Z,L={}){return typeof Z=="number"||typeof Z=="bigint"?numberToHex(Z,L):typeof Z=="string"?stringToHex(Z,L):typeof Z=="boolean"?boolToHex(Z,L):bytesToHex$1(Z,L)}function boolToHex(Z,L={}){const X=`0x${Number(Z)}`;return typeof L.size=="number"?(assertSize(X,{size:L.size}),pad(X,{size:L.size})):X}function bytesToHex$1(Z,L={}){let X="";for(let ie=0;ie<Z.length;ie++)X+=hexes$1[Z[ie]];const te=`0x${X}`;return typeof L.size=="number"?(assertSize(te,{size:L.size}),pad(te,{dir:"right",size:L.size})):te}function numberToHex(Z,L={}){const{signed:X,size:te}=L,ie=BigInt(Z);let oe;te?X?oe=(1n<<BigInt(te)*8n-1n)-1n:oe=2n**(BigInt(te)*8n)-1n:typeof Z=="number"&&(oe=BigInt(Number.MAX_SAFE_INTEGER));const se=typeof oe=="bigint"&&X?-oe-1n:0;if(oe&&ie>oe||ie<se){const ce=typeof Z=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:oe?`${oe}${ce}`:void 0,min:`${se}${ce}`,signed:X,size:te,value:`${Z}${ce}`})}const ue=`0x${(X&&ie<0?(1n<<BigInt(te*8))+BigInt(ie):ie).toString(16)}`;return te?pad(ue,{size:te}):ue}const encoder$1=new TextEncoder;function stringToHex(Z,L={}){const X=encoder$1.encode(Z);return bytesToHex$1(X,L)}const encoder=new TextEncoder;function toBytes$2(Z,L={}){return typeof Z=="number"||typeof Z=="bigint"?numberToBytes(Z,L):typeof Z=="boolean"?boolToBytes(Z,L):isHex(Z)?hexToBytes$1(Z,L):stringToBytes(Z,L)}function boolToBytes(Z,L={}){const X=new Uint8Array(1);return X[0]=Number(Z),typeof L.size=="number"?(assertSize(X,{size:L.size}),pad(X,{size:L.size})):X}function hexToBytes$1(Z,L={}){let X=Z;L.size&&(assertSize(X,{size:L.size}),X=pad(X,{dir:"right",size:L.size}));let te=X.slice(2);te.length%2&&(te=`0${te}`);const ie=new Uint8Array(te.length/2);for(let oe=0;oe<ie.length;oe++){const se=oe*2,ue=te.slice(se,se+2),ce=Number.parseInt(ue,16);if(Number.isNaN(ce)||ce<0)throw new BaseError(`Invalid byte sequence ("${ue}" in "${te}").`);ie[oe]=ce}return ie}function numberToBytes(Z,L){const X=numberToHex(Z,L);return hexToBytes$1(X)}function stringToBytes(Z,L={}){const X=encoder.encode(Z);return typeof L.size=="number"?(assertSize(X,{size:L.size}),pad(X,{dir:"right",size:L.size})):X}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(Z){const L=Z.match(paramsRegex),X=L?.[2]||void 0,te=L?.[3],ie=L?.[5]||void 0;return{type:X,name:te,params:ie}}function extractFunctionName(Z){return extractFunctionParts(Z).name}function extractFunctionParams(Z){return extractFunctionParts(Z).params?.split(",").map(te=>te.trim().split(" "))?.map(te=>({type:te[0],name:te[1]==="indexed"?te[2]:te[1],...te[1]==="indexed"?{indexed:!0}:{}}))}function number$1(Z){if(!Number.isSafeInteger(Z)||Z<0)throw new Error(`Wrong positive integer: ${Z}`)}function bool$1(Z){if(typeof Z!="boolean")throw new Error(`Expected boolean, not ${Z}`)}function bytes$1(Z,...L){if(!(Z instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length>0&&!L.includes(Z.length))throw new TypeError(`Expected Uint8Array of length ${L}, not of length=${Z.length}`)}function hash$2(Z){if(typeof Z!="function"||typeof Z.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(Z.outputLen),number$1(Z.blockLen)}function exists$1(Z,L=!0){if(Z.destroyed)throw new Error("Hash instance has been destroyed");if(L&&Z.finished)throw new Error("Hash#digest() has already been called")}function output$1(Z,L){bytes$1(Z);const X=L.outputLen;if(Z.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}const assert$1={number:number$1,bool:bool$1,bytes:bytes$1,hash:hash$2,exists:exists$1,output:output$1},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(Z,L=!1){return L?{h:Number(Z&U32_MASK64),l:Number(Z>>_32n&U32_MASK64)}:{h:Number(Z>>_32n&U32_MASK64)|0,l:Number(Z&U32_MASK64)|0}}function split(Z,L=!1){let X=new Uint32Array(Z.length),te=new Uint32Array(Z.length);for(let ie=0;ie<Z.length;ie++){const{h:oe,l:se}=fromBig(Z[ie],L);[X[ie],te[ie]]=[oe,se]}return[X,te]}const toBig=(Z,L)=>BigInt(Z>>>0)<<_32n|BigInt(L>>>0),shrSH=(Z,L,X)=>Z>>>X,shrSL=(Z,L,X)=>Z<<32-X|L>>>X,rotrSH=(Z,L,X)=>Z>>>X|L<<32-X,rotrSL=(Z,L,X)=>Z<<32-X|L>>>X,rotrBH=(Z,L,X)=>Z<<64-X|L>>>X-32,rotrBL=(Z,L,X)=>Z>>>X-32|L<<64-X,rotr32H=(Z,L)=>L,rotr32L=(Z,L)=>Z,rotlSH=(Z,L,X)=>Z<<X|L>>>32-X,rotlSL=(Z,L,X)=>L<<X|Z>>>32-X,rotlBH=(Z,L,X)=>L<<X-32|Z>>>64-X,rotlBL=(Z,L,X)=>Z<<X-32|L>>>64-X;function add(Z,L,X,te){const ie=(L>>>0)+(te>>>0);return{h:Z+X+(ie/2**32|0)|0,l:ie|0}}const add3L=(Z,L,X)=>(Z>>>0)+(L>>>0)+(X>>>0),add3H=(Z,L,X,te)=>L+X+te+(Z/2**32|0)|0,add4L=(Z,L,X,te)=>(Z>>>0)+(L>>>0)+(X>>>0)+(te>>>0),add4H=(Z,L,X,te,ie)=>L+X+te+ie+(Z/2**32|0)|0,add5L=(Z,L,X,te,ie)=>(Z>>>0)+(L>>>0)+(X>>>0)+(te>>>0)+(ie>>>0),add5H=(Z,L,X,te,ie,oe)=>L+X+te+ie+oe+(Z/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=Z=>new Uint32Array(Z.buffer,Z.byteOffset,Math.floor(Z.byteLength/4)),isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function utf8ToBytes$2(Z){if(typeof Z!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof Z}`);return new TextEncoder().encode(Z)}function toBytes$1(Z){if(typeof Z=="string"&&(Z=utf8ToBytes$2(Z)),!(Z instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof Z})`);return Z}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(Z){const L=te=>Z().update(toBytes$1(te)).digest(),X=Z();return L.outputLen=X.outputLen,L.blockLen=X.blockLen,L.create=()=>Z(),L}function wrapConstructorWithOpts(Z){const L=(te,ie)=>Z(ie).update(toBytes$1(te)).digest(),X=Z({});return L.outputLen=X.outputLen,L.blockLen=X.blockLen,L.create=te=>Z(te),L}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let Z=0,L=_1n$5,X=1,te=0;Z<24;Z++){[X,te]=[te,(2*X+3*te)%5],SHA3_PI.push(2*(5*te+X)),SHA3_ROTL.push((Z+1)*(Z+2)/2%64);let ie=_0n$4;for(let oe=0;oe<7;oe++)L=(L<<_1n$5^(L>>_7n)*_0x71n)%_256n,L&_2n$3&&(ie^=_1n$5<<(_1n$5<<BigInt(oe))-_1n$5);_SHA3_IOTA.push(ie)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64.split(_SHA3_IOTA,!0),rotlH=(Z,L,X)=>X>32?u64.rotlBH(Z,L,X):u64.rotlSH(Z,L,X),rotlL=(Z,L,X)=>X>32?u64.rotlBL(Z,L,X):u64.rotlSL(Z,L,X);function keccakP(Z,L=24){const X=new Uint32Array(10);for(let te=24-L;te<24;te++){for(let se=0;se<10;se++)X[se]=Z[se]^Z[se+10]^Z[se+20]^Z[se+30]^Z[se+40];for(let se=0;se<10;se+=2){const ue=(se+8)%10,ce=(se+2)%10,le=X[ce],de=X[ce+1],pe=rotlH(le,de,1)^X[ue],ge=rotlL(le,de,1)^X[ue+1];for(let _e=0;_e<50;_e+=10)Z[se+_e]^=pe,Z[se+_e+1]^=ge}let ie=Z[2],oe=Z[3];for(let se=0;se<24;se++){const ue=SHA3_ROTL[se],ce=rotlH(ie,oe,ue),le=rotlL(ie,oe,ue),de=SHA3_PI[se];ie=Z[de],oe=Z[de+1],Z[de]=ce,Z[de+1]=le}for(let se=0;se<50;se+=10){for(let ue=0;ue<10;ue++)X[ue]=Z[se+ue];for(let ue=0;ue<10;ue++)Z[se+ue]^=~X[(ue+2)%10]&X[(ue+4)%10]}Z[0]^=SHA3_IOTA_H[te],Z[1]^=SHA3_IOTA_L[te]}X.fill(0)}class Keccak extends Hash$1{constructor(L,X,te,ie=!1,oe=24){if(super(),this.blockLen=L,this.suffix=X,this.outputLen=te,this.enableXOF=ie,this.rounds=oe,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$1.number(te),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(L){assert$1.exists(this);const{blockLen:X,state:te}=this;L=toBytes$1(L);const ie=L.length;for(let oe=0;oe<ie;){const se=Math.min(X-this.pos,ie-oe);for(let ue=0;ue<se;ue++)te[this.pos++]^=L[oe++];this.pos===X&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:L,suffix:X,pos:te,blockLen:ie}=this;L[te]^=X,X&128&&te===ie-1&&this.keccak(),L[ie-1]^=128,this.keccak()}writeInto(L){assert$1.exists(this,!1),assert$1.bytes(L),this.finish();const X=this.state,{blockLen:te}=this;for(let ie=0,oe=L.length;ie<oe;){this.posOut>=te&&this.keccak();const se=Math.min(te-this.posOut,oe-ie);L.set(X.subarray(this.posOut,this.posOut+se),ie),this.posOut+=se,ie+=se}return L}xofInto(L){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(L)}xof(L){return assert$1.number(L),this.xofInto(new Uint8Array(L))}digestInto(L){if(assert$1.output(L,this),this.finished)throw new Error("digest() was already called");return this.writeInto(L),this.destroy(),L}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(L){const{blockLen:X,suffix:te,outputLen:ie,rounds:oe,enableXOF:se}=this;return L||(L=new Keccak(X,te,ie,se,oe)),L.state32.set(this.state32),L.pos=this.pos,L.posOut=this.posOut,L.finished=this.finished,L.rounds=oe,L.suffix=te,L.outputLen=ie,L.enableXOF=se,L.destroyed=this.destroyed,L}}const gen=(Z,L,X)=>wrapConstructor$1(()=>new Keccak(L,Z,X));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(Z,L,X)=>wrapConstructorWithOpts((te={})=>new Keccak(L,Z,te.dkLen===void 0?X:te.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);function keccak256(Z,L){const X=L||"hex",te=keccak_256(isHex(Z,{strict:!1})?toBytes$2(Z):Z);return X==="bytes"?te:toHex(te)}const hash$1=Z=>keccak256(toBytes$2(Z));function hashFunction(Z){const L=extractFunctionName(Z),X=extractFunctionParams(Z)||[];return hash$1(`${L}(${X.map(({type:te})=>te).join(",")})`)}function hashAbiItem(Z){return hash$1(formatAbiItem(Z))}const getEventSelector=Z=>typeof Z=="string"?hashFunction(Z):hashAbiItem(Z);class InvalidAddressError extends BaseError{constructor({address:L}){super(`Address "${L}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(Z){return addressRegex.test(Z)}function concat(Z){return typeof Z[0]=="string"?concatHex(Z):concatBytes$2(Z)}function concatBytes$2(Z){let L=0;for(const ie of Z)L+=ie.length;const X=new Uint8Array(L);let te=0;for(const ie of Z)X.set(ie,te),te+=ie.length;return X}function concatHex(Z){return`0x${Z.reduce((L,X)=>L+X.replace("0x",""),"")}`}function slice(Z,L,X,{strict:te}={}){return isHex(Z,{strict:!1})?sliceHex(Z,L,X,{strict:te}):sliceBytes(Z,L,X,{strict:te})}function assertStartOffset(Z,L){if(typeof L=="number"&&L>0&&L>size$1(Z)-1)throw new SliceOffsetOutOfBoundsError({offset:L,position:"start",size:size$1(Z)})}function assertEndOffset(Z,L,X){if(typeof L=="number"&&typeof X=="number"&&size$1(Z)!==X-L)throw new SliceOffsetOutOfBoundsError({offset:X,position:"end",size:size$1(Z)})}function sliceBytes(Z,L,X,{strict:te}={}){assertStartOffset(Z,L);const ie=Z.slice(L,X);return te&&assertEndOffset(ie,L,X),ie}function sliceHex(Z,L,X,{strict:te}={}){assertStartOffset(Z,L);const ie=`0x${Z.replace("0x","").slice((L??0)*2,(X??Z.length)*2)}`;return te&&assertEndOffset(ie,L,X),ie}function encodeAbiParameters(Z,L){if(Z.length!==L.length)throw new AbiEncodingLengthMismatchError({expectedLength:Z.length,givenLength:L.length});const X=prepareParams({params:Z,values:L}),te=encodeParams(X);return te.length===0?"0x":te}function prepareParams({params:Z,values:L}){const X=[];for(let te=0;te<Z.length;te++)X.push(prepareParam({param:Z[te],value:L[te]}));return X}function prepareParam({param:Z,value:L}){const X=getArrayComponents(Z.type);if(X){const[te,ie]=X;return encodeArray(L,{length:te,param:{...Z,type:ie}})}if(Z.type==="tuple")return encodeTuple(L,{param:Z});if(Z.type==="address")return encodeAddress(L);if(Z.type==="bool")return encodeBool(L);if(Z.type.startsWith("uint")||Z.type.startsWith("int")){const te=Z.type.startsWith("int");return encodeNumber(L,{signed:te})}if(Z.type.startsWith("bytes"))return encodeBytes(L,{param:Z});if(Z.type==="string")return encodeString(L);throw new InvalidAbiEncodingTypeError(Z.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(Z){let L=0;for(let oe=0;oe<Z.length;oe++){const{dynamic:se,encoded:ue}=Z[oe];se?L+=32:L+=size$1(ue)}const X=[],te=[];let ie=0;for(let oe=0;oe<Z.length;oe++){const{dynamic:se,encoded:ue}=Z[oe];se?(X.push(numberToHex(L+ie,{size:32})),te.push(ue),ie+=size$1(ue)):X.push(ue)}return concat([...X,...te])}function encodeAddress(Z){if(!isAddress(Z))throw new InvalidAddressError({address:Z});return{dynamic:!1,encoded:padHex(Z.toLowerCase())}}function encodeArray(Z,{length:L,param:X}){const te=L===null;if(!Array.isArray(Z))throw new InvalidArrayError(Z);if(!te&&Z.length!==L)throw new AbiEncodingArrayLengthMismatchError({expectedLength:L,givenLength:Z.length,type:`${X.type}[${L}]`});let ie=!1;const oe=[];for(let se=0;se<Z.length;se++){const ue=prepareParam({param:X,value:Z[se]});ue.dynamic&&(ie=!0),oe.push(ue)}if(te||ie){const se=encodeParams(oe);if(te){const ue=numberToHex(oe.length,{size:32});return{dynamic:!0,encoded:oe.length>0?concat([ue,se]):ue}}if(ie)return{dynamic:!0,encoded:se}}return{dynamic:!1,encoded:concat(oe.map(({encoded:se})=>se))}}function encodeBytes(Z,{param:L}){const[,X]=L.type.split("bytes"),te=size$1(Z);if(!X){let ie=Z;return te%32!==0&&(ie=padHex(ie,{dir:"right",size:Math.ceil((Z.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(te,{size:32})),ie])}}if(te!==parseInt(X))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(X),value:Z});return{dynamic:!1,encoded:padHex(Z,{dir:"right"})}}function encodeBool(Z){return{dynamic:!1,encoded:padHex(boolToHex(Z))}}function encodeNumber(Z,{signed:L}){return{dynamic:!1,encoded:numberToHex(Z,{size:32,signed:L})}}function encodeString(Z){const L=stringToHex(Z),X=Math.ceil(size$1(L)/32),te=[];for(let ie=0;ie<X;ie++)te.push(padHex(slice(L,ie*32,(ie+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(L),{size:32})),...te])}}function encodeTuple(Z,{param:L}){let X=!1;const te=[];for(let ie=0;ie<L.components.length;ie++){const oe=L.components[ie],se=Array.isArray(Z)?ie:oe.name,ue=prepareParam({param:oe,value:Z[se]});te.push(ue),ue.dynamic&&(X=!0)}return{dynamic:X,encoded:X?encodeParams(te):concat(te.map(({encoded:ie})=>ie))}}function getArrayComponents(Z){const L=Z.match(/^(.*)\[(\d+)?\]$/);return L?[L[2]?Number(L[2]):null,L[1]]:void 0}function getAbiItem({abi:Z,args:L=[],name:X}){const te=Z.filter(ie=>"name"in ie&&ie.name===X);if(te.length!==0){if(te.length===1)return te[0];for(const ie of te){if(!("inputs"in ie))continue;if(!L||L.length===0){if(!ie.inputs||ie.inputs.length===0)return ie;continue}if(!ie.inputs||ie.inputs.length===0||ie.inputs.length!==L.length)continue;if(L.every((se,ue)=>{const ce="inputs"in ie&&ie.inputs[ue];return ce?isArgOfType(se,ce):!1}))return ie}return te[0]}}function isArgOfType(Z,L){const X=typeof Z,te=L.type;switch(te){case"address":return isAddress(Z);case"bool":return X==="boolean";case"function":return X==="string";case"string":return X==="string";default:return te==="tuple"&&"components"in L?Object.values(L.components).every((ie,oe)=>isArgOfType(Object.values(Z)[oe],ie)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(te)?X==="number"||X==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(te)?X==="string"||Z instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(te)?Array.isArray(Z)&&Z.every(ie=>isArgOfType(ie,{...L,type:te.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:Z,eventName:L,args:X}){let te=Z[0];if(L&&(te=getAbiItem({abi:Z,args:X,name:L}),!te))throw new AbiEventNotFoundError(L,{docsPath:"/docs/contract/encodeEventTopics"});if(te.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const ie=formatAbiItem(te),oe=getEventSelector(ie);let se=[];if(X&&"inputs"in te){const ue=te.inputs?.filter(le=>"indexed"in le&&le.indexed),ce=Array.isArray(X)?X:Object.values(X).length>0?ue?.map(le=>X[le.name])??[]:[];ce.length>0&&(se=ue?.map((le,de)=>Array.isArray(ce[de])?ce[de].map((pe,ge)=>encodeArg({param:le,value:ce[de][ge]})):ce[de]?encodeArg({param:le,value:ce[de]}):null)??[])}return[oe,...se]}function encodeArg({param:Z,value:L}){if(Z.type==="string"||Z.type==="bytes")return keccak256(toBytes$2(L));if(Z.type==="tuple"||Z.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(Z.type);return encodeAbiParameters([Z],[L])}function createFilterRequestScope(Z,{method:L}){const X={};return Z.transport.type==="fallback"&&Z.transport.onResponse?.(({method:te,response:ie,status:oe,transport:se})=>{oe==="success"&&L===te&&(X[ie]=se.request)}),te=>X[te]||Z.request}async function createContractEventFilter(Z,{address:L,abi:X,args:te,eventName:ie,fromBlock:oe,strict:se,toBlock:ue}){const ce=createFilterRequestScope(Z,{method:"eth_newFilter"}),le=ie?encodeEventTopics({abi:X,args:te,eventName:ie}):void 0,de=await Z.request({method:"eth_newFilter",params:[{address:L,fromBlock:typeof oe=="bigint"?numberToHex(oe):oe,toBlock:typeof ue=="bigint"?numberToHex(ue):ue,topics:le}]});return{abi:X,args:te,eventName:ie,id:de,request:ce(de),strict:se,type:"event"}}function parseAccount(Z){return typeof Z=="string"?{address:Z,type:"json-rpc"}:Z}const getFunctionSelector=Z=>slice(typeof Z=="string"?hashFunction(Z):hashAbiItem(Z),0,4);function encodeFunctionData({abi:Z,args:L,functionName:X}){let te=Z[0];if(X&&(te=getAbiItem({abi:Z,args:L,name:X}),!te))throw new AbiFunctionNotFoundError(X,{docsPath:"/docs/contract/encodeFunctionData"});if(te.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const ie=formatAbiItem(te),oe=getFunctionSelector(ie),se="inputs"in te&&te.inputs?encodeAbiParameters(te.inputs,L??[]):void 0;return concatHex([oe,se??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(Z,L){const X=L?`${L}${Z.toLowerCase()}`:Z.substring(2).toLowerCase(),te=keccak256(stringToBytes(X),"bytes"),ie=(L?X.substring(`${L}0x`.length):X).split("");for(let oe=0;oe<40;oe+=2)te[oe>>1]>>4>=8&&ie[oe]&&(ie[oe]=ie[oe].toUpperCase()),(te[oe>>1]&15)>=8&&ie[oe+1]&&(ie[oe+1]=ie[oe+1].toUpperCase());return`0x${ie.join("")}`}function getAddress(Z,L){if(!isAddress(Z))throw new InvalidAddressError({address:Z});return checksumAddress(Z,L)}function decodeAbiParameters(Z,L){if(L==="0x"&&Z.length>0)throw new AbiDecodingZeroDataError;if(size$1(L)&&size$1(L)<32)throw new AbiDecodingDataSizeTooSmallError({data:L,params:Z,size:size$1(L)});return decodeParams({data:L,params:Z})}function decodeParams({data:Z,params:L}){const X=[];let te=0;for(let ie=0;ie<L.length;ie++){if(te>=size$1(Z))throw new AbiDecodingDataSizeTooSmallError({data:Z,params:L,size:size$1(Z)});const oe=L[ie],{consumed:se,value:ue}=decodeParam({data:Z,param:oe,position:te});X.push(ue),te+=se}return X}function decodeParam({data:Z,param:L,position:X}){const te=getArrayComponents(L.type);if(te){const[oe,se]=te;return decodeArray(Z,{length:oe,param:{...L,type:se},position:X})}if(L.type==="tuple")return decodeTuple(Z,{param:L,position:X});if(L.type==="string")return decodeString(Z,{position:X});if(L.type.startsWith("bytes"))return decodeBytes(Z,{param:L,position:X});const ie=slice(Z,X,X+32,{strict:!0});if(L.type.startsWith("uint")||L.type.startsWith("int"))return decodeNumber(ie,{param:L});if(L.type==="address")return decodeAddress(ie);if(L.type==="bool")return decodeBool(ie);throw new InvalidAbiDecodingTypeError(L.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(Z){return{consumed:32,value:checksumAddress(slice(Z,-20))}}function decodeArray(Z,{param:L,length:X,position:te}){if(!X){const se=hexToNumber$1(slice(Z,te,te+32,{strict:!0})),ue=hexToNumber$1(slice(Z,se,se+32,{strict:!0}));let ce=0;const le=[];for(let de=0;de<ue;++de){const pe=decodeParam({data:slice(Z,se+32),param:L,position:ce});ce+=pe.consumed,le.push(pe.value)}return{value:le,consumed:32}}if(hasDynamicChild(L)){const ue=!getArrayComponents(L.type)?.[0];let ce=0;const le=[];for(let de=0;de<X;++de){const pe=hexToNumber$1(slice(Z,te,te+32,{strict:!0})),ge=decodeParam({data:slice(Z,pe),param:L,position:ue?ce:de*32});ce+=ge.consumed,le.push(ge.value)}return{value:le,consumed:32}}let ie=0;const oe=[];for(let se=0;se<X;++se){const ue=decodeParam({data:Z,param:L,position:te+ie});ie+=ue.consumed,oe.push(ue.value)}return{value:oe,consumed:ie}}function decodeBool(Z){return{consumed:32,value:hexToBool(Z)}}function decodeBytes(Z,{param:L,position:X}){const[te,ie]=L.type.split("bytes");if(!ie){const se=hexToNumber$1(slice(Z,X,X+32,{strict:!0})),ue=hexToNumber$1(slice(Z,se,se+32,{strict:!0}));return ue===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(Z,se+32,se+32+ue,{strict:!0})}}return{consumed:32,value:slice(Z,X,X+parseInt(ie),{strict:!0})}}function decodeNumber(Z,{param:L}){const X=L.type.startsWith("int");return{consumed:32,value:parseInt(L.type.split("int")[1]||"256")>48?hexToBigInt(Z,{signed:X}):hexToNumber$1(Z,{signed:X})}}function decodeString(Z,{position:L}){const X=hexToNumber$1(slice(Z,L,L+32,{strict:!0})),te=hexToNumber$1(slice(Z,X,X+32,{strict:!0}));return te===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(Z,X+32,X+32+te,{strict:!0})))}}function decodeTuple(Z,{param:L,position:X}){const te=L.components.length===0||L.components.some(({name:se})=>!se),ie=te?[]:{};let oe=0;if(hasDynamicChild(L)){const se=hexToNumber$1(slice(Z,X,X+32,{strict:!0}));for(let ue=0;ue<L.components.length;++ue){const ce=L.components[ue],le=decodeParam({data:slice(Z,se),param:ce,position:oe});oe+=le.consumed,ie[te?ue:ce?.name]=le.value}return{consumed:32,value:ie}}for(let se=0;se<L.components.length;++se){const ue=L.components[se],ce=decodeParam({data:Z,param:ue,position:X+oe});oe+=ce.consumed,ie[te?se:ue?.name]=ce.value}return{consumed:oe,value:ie}}function hasDynamicChild(Z){const{type:L}=Z;if(L==="string"||L==="bytes"||L.endsWith("[]"))return!0;if(L==="tuple")return Z.components?.some(hasDynamicChild);const X=getArrayComponents(Z.type);return!!(X&&hasDynamicChild({...Z,type:X[1]}))}function decodeErrorResult({abi:Z,data:L}){const X=slice(L,0,4);if(X==="0x")throw new AbiDecodingZeroDataError;const ie=[...Z||[],solidityError,solidityPanic].find(oe=>oe.type==="error"&&X===getFunctionSelector(formatAbiItem(oe)));if(!ie)throw new AbiErrorSignatureNotFoundError(X,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:ie,args:"inputs"in ie&&ie.inputs&&ie.inputs.length>0?decodeAbiParameters(ie.inputs,slice(L,4)):void 0,errorName:ie.name}}const stringify=(Z,L,X)=>JSON.stringify(Z,(te,ie)=>{const oe=typeof ie=="bigint"?ie.toString():ie;return typeof L=="function"?L(te,oe):oe},X);function formatAbiItemWithArgs({abiItem:Z,args:L,includeFunctionName:X=!0,includeName:te=!1}){if("name"in Z&&"inputs"in Z&&Z.inputs)return`${X?Z.name:""}(${Z.inputs.map((ie,oe)=>`${te&&ie.name?`${ie.name}: `:""}${typeof L[oe]=="object"?stringify(L[oe]):L[oe]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(Z,L){let X=Z.toString();const te=X.startsWith("-");te&&(X=X.slice(1)),X=X.padStart(L,"0");let[ie,oe]=[X.slice(0,X.length-L),X.slice(X.length-L)];return oe=oe.replace(/(0+)$/,""),`${te?"-":""}${ie||"0"}${oe?`.${oe}`:""}`}function formatEther(Z,L="wei"){return formatUnits(Z,etherUnits[L])}function formatGwei(Z,L="wei"){return formatUnits(Z,gweiUnits[L])}function prettyPrint(Z){const L=Object.entries(Z).map(([te,ie])=>ie===void 0||ie===!1?null:[te,ie]).filter(Boolean),X=L.reduce((te,[ie])=>Math.max(te,ie.length),0);return L.map(([te,ie])=>`  ${`${te}:`.padEnd(X+1)}  ${ie}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:L}){super(`Invalid \`v\` value "${L}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:L}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(L),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:L}){super(`Size for storage key "${L}" is invalid. Expected 32 bytes. Got ${Math.floor((L.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(L,{account:X,docsPath:te,chain:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:pe,value:ge}){const _e=prettyPrint({chain:ie&&`${ie?.name} (id: ${ie?.id})`,from:X?.address,to:pe,value:typeof ge<"u"&&`${formatEther(ge)} ${ie?.nativeCurrency.symbol||"ETH"}`,data:oe,gas:se,gasPrice:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,maxPriorityFeePerGas:typeof le<"u"&&`${formatGwei(le)} gwei`,nonce:de});super(L.shortMessage,{cause:L,docsPath:te,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Request Arguments:",_e].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=L}}class TransactionNotFoundError extends BaseError{constructor({blockHash:L,blockNumber:X,blockTag:te,hash:ie,index:oe}){let se="Transaction";te&&oe!==void 0&&(se=`Transaction at block time "${te}" at index "${oe}"`),L&&oe!==void 0&&(se=`Transaction at block hash "${L}" at index "${oe}"`),X&&oe!==void 0&&(se=`Transaction at block number "${X}" at index "${oe}"`),ie&&(se=`Transaction with hash "${ie}"`),super(`${se} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:L}){super(`Transaction receipt with hash "${L}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:L}){super(`Timed out while waiting for transaction with hash "${L}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(L,{account:X,docsPath:te,chain:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:pe,value:ge}){const _e=X?parseAccount(X):void 0,Te=prettyPrint({from:_e?.address,to:pe,value:typeof ge<"u"&&`${formatEther(ge)} ${ie?.nativeCurrency.symbol||"ETH"}`,data:oe,gas:se,gasPrice:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,maxPriorityFeePerGas:typeof le<"u"&&`${formatGwei(le)} gwei`,nonce:de});super(L.shortMessage,{cause:L,docsPath:te,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Raw Call Arguments:",Te].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=L}}class ContractFunctionExecutionError extends BaseError{constructor(L,{abi:X,args:te,contractAddress:ie,docsPath:oe,functionName:se,sender:ue}){const ce=getAbiItem({abi:X,args:te,name:se}),le=ce?formatAbiItemWithArgs({abiItem:ce,args:te,includeFunctionName:!1,includeName:!1}):void 0,de=ce?formatAbiItem(ce,{includeName:!0}):void 0,pe=prettyPrint({address:ie&&getContractAddress(ie),function:de,args:le&&le!=="()"&&`${[...Array(se?.length??0).keys()].map(()=>" ").join("")}${le}`,sender:ue});super(L.shortMessage||`An unknown error occurred while executing the contract function "${se}".`,{cause:L,docsPath:oe,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Contract Call:",pe].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=X,this.args=te,this.cause=L,this.contractAddress=ie,this.functionName=se,this.sender=ue}}class ContractFunctionRevertedError extends BaseError{constructor({abi:L,data:X,functionName:te,message:ie}){let oe,se,ue,ce;if(X&&X!=="0x")try{se=decodeErrorResult({abi:L,data:X});const{abiItem:de,errorName:pe,args:ge}=se;if(pe==="Error")ce=ge[0];else if(pe==="Panic"){const[_e]=ge;ce=panicReasons[_e]}else{const _e=de?formatAbiItem(de,{includeName:!0}):void 0,Te=de&&ge?formatAbiItemWithArgs({abiItem:de,args:ge,includeFunctionName:!1,includeName:!1}):void 0;ue=[_e?`Error: ${_e}`:"",Te&&Te!=="()"?`       ${[...Array(pe?.length??0).keys()].map(()=>" ").join("")}${Te}`:""]}}catch(de){oe=de}else ie&&(ce=ie);let le;oe instanceof AbiErrorSignatureNotFoundError&&(le=oe.signature,ue=[`Unable to decode signature "${le}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${le}.`]),super(ce&&ce!=="execution reverted"||le?[`The contract function "${te}" reverted with the following ${le?"signature":"reason"}:`,ce||le].join(`
`):`The contract function "${te}" reverted.`,{cause:oe,metaMessages:ue}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=se,this.reason=ce,this.signature=le}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:L}){super(`The contract function "${L}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${L}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:L,message:X}){super(X||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=L}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(Z,{abi:L,address:X,args:te,docsPath:ie,functionName:oe,sender:se}){const{code:ue,data:ce,message:le,shortMessage:de}=Z instanceof RawContractError?Z:Z instanceof BaseError?Z.walk(ge=>"data"in ge)||Z.walk():{};let pe=Z;return Z instanceof AbiDecodingZeroDataError?pe=new ContractFunctionZeroDataError({functionName:oe}):ue===EXECUTION_REVERTED_ERROR_CODE&&(ce||le||de)&&(pe=new ContractFunctionRevertedError({abi:L,data:typeof ce=="object"?ce.data:ce,functionName:oe,message:de??le})),new ContractFunctionExecutionError(pe,{abi:L,args:te,contractAddress:X,docsPath:ie,functionName:oe,sender:se})}class AccountNotFoundError extends BaseError{constructor({docsPath:L}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:L,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(L,{account:X,docsPath:te,chain:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:pe,value:ge}){const _e=prettyPrint({from:X?.address,to:pe,value:typeof ge<"u"&&`${formatEther(ge)} ${ie?.nativeCurrency.symbol||"ETH"}`,data:oe,gas:se,gasPrice:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,maxPriorityFeePerGas:typeof le<"u"&&`${formatGwei(le)} gwei`,nonce:de});super(L.shortMessage,{cause:L,docsPath:te,metaMessages:[...L.metaMessages?[...L.metaMessages," "]:[],"Estimate Gas Arguments:",_e].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=L}}class ExecutionRevertedError extends BaseError{constructor({cause:L,message:X}={}){const te=X?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${te?`with reason: ${te}`:"for an unknown reason"}.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:L,maxFeePerGas:X}={}){super(`The fee cap (\`maxFeePerGas\`${X?` = ${formatGwei(X)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:L,maxFeePerGas:X}={}){super(`The fee cap (\`maxFeePerGas\`${X?` = ${formatGwei(X)}`:""} gwei) cannot be lower than the block base fee.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:L,nonce:X}={}){super(`Nonce provided for the transaction ${X?`(${X}) `:""}is higher than the next one expected.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:L,nonce:X}={}){super([`Nonce provided for the transaction ${X?`(${X}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:L,nonce:X}={}){super(`Nonce provided for the transaction ${X?`(${X}) `:""}exceeds the maximum allowed nonce.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:L}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:L,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:L,gas:X}={}){super(`The amount of gas ${X?`(${X}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:L,gas:X}={}){super(`The amount of gas ${X?`(${X}) `:""}provided for the transaction is too low.`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:L}){super("The transaction type is not supported for this chain.",{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:L,maxPriorityFeePerGas:X,maxFeePerGas:te}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${X?` = ${formatGwei(X)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${te?` = ${formatGwei(te)} gwei`:""}).`].join(`
`),{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:L}){super(`An error occurred while executing: ${L?.message}`,{cause:L}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class HttpRequestError extends BaseError{constructor({body:L,details:X,headers:te,status:ie,url:oe}){super("HTTP request failed.",{details:X,metaMessages:[ie&&`Status: ${ie}`,`URL: ${getUrl$1(oe)}`,L&&`Request body: ${stringify(L)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=L,this.headers=te,this.status=ie,this.url=oe}}class WebSocketRequestError extends BaseError{constructor({body:L,details:X,url:te}){super("WebSocket request failed.",{details:X,metaMessages:[`URL: ${getUrl$1(te)}`,`Request body: ${stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:L,error:X,url:te}){super("RPC Request failed.",{cause:X,details:X.message,metaMessages:[`URL: ${getUrl$1(te)}`,`Request body: ${stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=X.code}}class TimeoutError extends BaseError{constructor({body:L,url:X}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl$1(X)}`,`Request body: ${stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(L,{code:X,docsPath:te,metaMessages:ie,shortMessage:oe}){super(oe,{cause:L,docsPath:te,metaMessages:ie||L?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=L.name,this.code=L instanceof RpcRequestError?L.code:X??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(L,X){super(L,X),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=X.data}}class ParseRpcError extends RpcError{constructor(L){super(L,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(L){super(L,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(L){super(L,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(L){super(L,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(L){super(L,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(L){super(L,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(L){super(L,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(L){super(L,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(L){super(L,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(L){super(L,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(L){super(L,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(L){super(L,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(L){super(L,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(L){super(L,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(L){super(L,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(L){super(L,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(L){super(L,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(L){super(L,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(L){super(L,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function containsNodeError(Z){return Z instanceof TransactionRejectedRpcError||Z instanceof InvalidInputRpcError||Z instanceof RpcRequestError&&Z.code===ExecutionRevertedError.code}function getNodeError(Z,L){const X=Z.details.toLowerCase();return FeeCapTooHighError.nodeMessage.test(X)?new FeeCapTooHighError({cause:Z,maxFeePerGas:L?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(X)?new FeeCapTooLowError({cause:Z,maxFeePerGas:L?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(X)?new NonceTooHighError({cause:Z,nonce:L?.nonce}):NonceTooLowError.nodeMessage.test(X)?new NonceTooLowError({cause:Z,nonce:L?.nonce}):NonceMaxValueError.nodeMessage.test(X)?new NonceMaxValueError({cause:Z,nonce:L?.nonce}):InsufficientFundsError.nodeMessage.test(X)?new InsufficientFundsError({cause:Z}):IntrinsicGasTooHighError.nodeMessage.test(X)?new IntrinsicGasTooHighError({cause:Z,gas:L?.gas}):IntrinsicGasTooLowError.nodeMessage.test(X)?new IntrinsicGasTooLowError({cause:Z,gas:L?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(X)?new TransactionTypeNotSupportedError({cause:Z}):TipAboveFeeCapError.nodeMessage.test(X)?new TipAboveFeeCapError({cause:Z,maxFeePerGas:L?.maxFeePerGas,maxPriorityFeePerGas:L?.maxPriorityFeePerGas}):X.match(ExecutionRevertedError.nodeMessage)||"code"in Z.cause&&Z.cause?.code===ExecutionRevertedError.code?new ExecutionRevertedError({cause:Z,message:Z.cause.details||Z.details}):new UnknownNodeError({cause:Z.cause.cause})}function getEstimateGasError(Z,{docsPath:L,...X}){let te=Z;return containsNodeError(Z)&&(te=getNodeError(Z,X)),new EstimateGasExecutionError(te,{docsPath:L,...X})}function extract(Z,{format:L}){return L?Object.keys(L({})).reduce((te,ie)=>(Z?.hasOwnProperty(ie)&&(te[ie]=Z[ie]),te),{}):{}}function formatTransactionRequest(Z){return{...Z,gas:typeof Z.gas<"u"?numberToHex(Z.gas):void 0,gasPrice:typeof Z.gasPrice<"u"?numberToHex(Z.gasPrice):void 0,maxFeePerGas:typeof Z.maxFeePerGas<"u"?numberToHex(Z.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof Z.maxPriorityFeePerGas<"u"?numberToHex(Z.maxPriorityFeePerGas):void 0,nonce:typeof Z.nonce<"u"?numberToHex(Z.nonce):void 0,value:typeof Z.value<"u"?numberToHex(Z.value):void 0}}function assertRequest(Z){const{account:L,gasPrice:X,maxFeePerGas:te,maxPriorityFeePerGas:ie,to:oe}=Z,se=L?parseAccount(L):void 0;if(se&&!isAddress(se.address))throw new InvalidAddressError({address:se.address});if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(typeof X<"u"&&(typeof te<"u"||typeof ie<"u"))throw new FeeConflictError;if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te});if(ie&&te&&ie>te)throw new TipAboveFeeCapError({maxFeePerGas:te,maxPriorityFeePerGas:ie})}class BlockNotFoundError extends BaseError{constructor({blockHash:L,blockNumber:X}){let te="Block";L&&(te=`Block at hash "${L}"`),X&&(te=`Block at number "${X}"`),super(`${te} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(Z){const L={...Z,blockHash:Z.blockHash?Z.blockHash:null,blockNumber:Z.blockNumber?BigInt(Z.blockNumber):null,chainId:Z.chainId?hexToNumber$1(Z.chainId):void 0,gas:Z.gas?BigInt(Z.gas):void 0,gasPrice:Z.gasPrice?BigInt(Z.gasPrice):void 0,maxFeePerGas:Z.maxFeePerGas?BigInt(Z.maxFeePerGas):void 0,maxPriorityFeePerGas:Z.maxPriorityFeePerGas?BigInt(Z.maxPriorityFeePerGas):void 0,nonce:Z.nonce?hexToNumber$1(Z.nonce):void 0,to:Z.to?Z.to:null,transactionIndex:Z.transactionIndex?Number(Z.transactionIndex):null,type:Z.type?transactionType[Z.type]:void 0,typeHex:Z.type?Z.type:void 0,value:Z.value?BigInt(Z.value):void 0,v:Z.v?BigInt(Z.v):void 0};return L.type==="legacy"&&(delete L.accessList,delete L.maxFeePerGas,delete L.maxPriorityFeePerGas),L.type==="eip2930"&&(delete L.maxFeePerGas,delete L.maxPriorityFeePerGas),L}function formatBlock(Z){const L=Z.transactions?.map(X=>typeof X=="string"?X:formatTransaction(X));return{...Z,baseFeePerGas:Z.baseFeePerGas?BigInt(Z.baseFeePerGas):null,difficulty:Z.difficulty?BigInt(Z.difficulty):void 0,gasLimit:Z.gasLimit?BigInt(Z.gasLimit):void 0,gasUsed:Z.gasUsed?BigInt(Z.gasUsed):void 0,hash:Z.hash?Z.hash:null,logsBloom:Z.logsBloom?Z.logsBloom:null,nonce:Z.nonce?Z.nonce:null,number:Z.number?BigInt(Z.number):null,size:Z.size?BigInt(Z.size):void 0,timestamp:Z.timestamp?BigInt(Z.timestamp):void 0,transactions:L,totalDifficulty:Z.totalDifficulty?BigInt(Z.totalDifficulty):null}}async function getBlock(Z,{blockHash:L,blockNumber:X,blockTag:te,includeTransactions:ie}={}){const oe=te??"latest",se=ie??!1,ue=X!==void 0?numberToHex(X):void 0;let ce=null;if(L?ce=await Z.request({method:"eth_getBlockByHash",params:[L,se]}):ce=await Z.request({method:"eth_getBlockByNumber",params:[ue||oe,se]}),!ce)throw new BlockNotFoundError({blockHash:L,blockNumber:X});return(Z.chain?.formatters?.block?.format||formatBlock)(ce)}async function getGasPrice(Z){const L=await Z.request({method:"eth_gasPrice"});return BigInt(L)}async function getTransactionCount(Z,{address:L,blockTag:X="latest",blockNumber:te}){const ie=await Z.request({method:"eth_getTransactionCount",params:[L,te?numberToHex(te):X]});return hexToNumber$1(ie)}async function prepareRequest(Z,L){const{account:X,chain:te=Z.chain,gas:ie,gasPrice:oe,maxFeePerGas:se,maxPriorityFeePerGas:ue,nonce:ce}=L;if(!X)throw new AccountNotFoundError;const le=parseAccount(X),de=await getBlock(Z,{blockTag:"latest"}),pe={...L,from:le.address};if(typeof ce>"u"&&(pe.nonce=await getTransactionCount(Z,{address:le.address,blockTag:"pending"})),typeof de.baseFeePerGas=="bigint"&&typeof oe>"u"){let ge=1500000000n;if(typeof te?.fees?.defaultPriorityFee<"u"&&(ge=typeof te.fees.defaultPriorityFee=="bigint"?te.fees.defaultPriorityFee:await te.fees.defaultPriorityFee({block:de,request:pe})),typeof se>"u")pe.maxPriorityFeePerGas=ue??ge,pe.maxFeePerGas=de.baseFeePerGas*120n/100n+pe.maxPriorityFeePerGas;else{if(typeof ue>"u"&&se<ge)throw new BaseError("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");pe.maxFeePerGas=se,pe.maxPriorityFeePerGas=ue??ge}}else if(typeof oe>"u"){if(typeof se<"u"||typeof ue<"u")throw new BaseError("Chain does not support EIP-1559 fees.");pe.gasPrice=await getGasPrice(Z)*120n/100n}return typeof ie>"u"&&(pe.gas=await estimateGas(Z,{...pe,account:{address:le.address,type:"json-rpc"}})),assertRequest(pe),pe}async function estimateGas(Z,L){const X=L.account??Z.account;if(!X)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const te=parseAccount(X);try{const{accessList:ie,blockNumber:oe,blockTag:se,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:pe,nonce:ge,to:_e,value:Te,...Ae}=te.type==="local"?await prepareRequest(Z,L):L,Pe=(oe?numberToHex(oe):void 0)||se;assertRequest(L);const Ce=Z.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Oe=Ce({...extract(Ae,{format:Ce}),from:te.address,accessList:ie,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:pe,nonce:ge,to:_e,value:Te}),Ge=await Z.request({method:"eth_estimateGas",params:Pe?[Oe,Pe]:[Oe]});return BigInt(Ge)}catch(ie){throw getEstimateGasError(ie,{...L,account:te,chain:Z.chain})}}async function estimateContractGas(Z,{abi:L,address:X,args:te,functionName:ie,...oe}){const se=encodeFunctionData({abi:L,args:te,functionName:ie});try{return await estimateGas(Z,{data:se,to:X,...oe})}catch(ue){const ce=oe.account?parseAccount(oe.account):void 0;throw getContractError(ue,{abi:L,address:X,args:te,docsPath:"/docs/contract/estimateContractGas",functionName:ie,sender:ce?.address})}}const docsPath$2="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:Z,args:L,functionName:X,data:te}){let ie=Z[0];if(X&&(ie=getAbiItem({abi:Z,args:L,name:X}),!ie))throw new AbiFunctionNotFoundError(X,{docsPath:docsPath$2});if(ie.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$2});if(!ie.outputs)throw new AbiFunctionOutputsNotFoundError(ie.name,{docsPath:docsPath$2});const oe=decodeAbiParameters(ie.outputs,te);if(oe&&oe.length>1)return oe;if(oe&&oe.length===1)return oe[0]}const multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:L,chain:X,contract:te}){super(`Chain "${X.name}" does not support contract "${te.name}".`,{metaMessages:["This could be due to any of the following:",...L&&te.blockCreated&&te.blockCreated>L?[`- The contract "${te.name}" was not deployed until block ${te.blockCreated} (current block ${L}).`]:[`- The chain does not have the contract "${te.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:L,currentChainId:X}){super(`The current chain of the wallet (id: ${X}) does not match the target chain for the transaction (id: ${L.id} – ${L.name}).`,{metaMessages:[`Current Chain ID:  ${X}`,`Expected Chain ID: ${L.id} – ${L.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:L}){super(`Chain ID "${L}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain({chain:Z,currentChainId:L}){if(!Z)throw new ChainNotFoundError;if(L!==Z.id)throw new ChainMismatchError({chain:Z,currentChainId:L})}function defineChain(Z,L={}){const{fees:X=Z.fees,formatters:te=Z.formatters,serializers:ie=Z.serializers}=L;return{...Z,fees:X,formatters:te,serializers:ie}}function getChainContractAddress({blockNumber:Z,chain:L,contract:X}){const te=L?.contracts?.[X];if(!te)throw new ChainDoesNotSupportContract({chain:L,contract:{name:X}});if(Z&&te.blockCreated&&te.blockCreated>Z)throw new ChainDoesNotSupportContract({blockNumber:Z,chain:L,contract:{name:X,blockCreated:te.blockCreated}});return te.address}function getCallError(Z,{docsPath:L,...X}){let te=Z;return containsNodeError(Z)&&(te=getNodeError(Z,X)),new CallExecutionError(te,{docsPath:L,...X})}const schedulerCache=new Map;function createBatchScheduler({fn:Z,id:L,shouldSplitBatch:X,wait:te=0}){const ie=async()=>{const le=ue();oe();const de=le.map(({args:pe})=>pe);de.length!==0&&Z(de).then(pe=>{le.forEach(({pendingPromise:ge},_e)=>ge.resolve?.([pe[_e],pe]))}).catch(pe=>{le.forEach(({pendingPromise:ge})=>ge.reject?.(pe))})},oe=()=>schedulerCache.delete(L),se=()=>ue().map(({args:le})=>le),ue=()=>schedulerCache.get(L)||[],ce=le=>schedulerCache.set(L,[...ue(),le]);return{flush:oe,async schedule(le){const de={},pe=new Promise((Te,Ae)=>{de.resolve=Te,de.reject=Ae});return X?.([...se(),le])&&ie(),ue().length>0?(ce({args:le,pendingPromise:de}),pe):(ce({args:le,pendingPromise:de}),setTimeout(ie,te),pe)}}}async function call(Z,L){const{account:X,batch:te=!!Z.batch?.multicall,blockNumber:ie,blockTag:oe="latest",accessList:se,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:pe,nonce:ge,to:_e,value:Te,...Ae}=L,Ie=X?parseAccount(X):void 0;try{assertRequest(L);const Ce=(ie?numberToHex(ie):void 0)||oe,Oe=Z.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Ge=Oe({...extract(Ae,{format:Oe}),from:Ie?.address,accessList:se,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:pe,nonce:ge,to:_e,value:Te});if(te&&shouldPerformMulticall({request:Ge}))try{return await scheduleMulticall(Z,{...Ge,blockNumber:ie,blockTag:oe})}catch(Ke){if(!(Ke instanceof ClientChainNotConfiguredError)&&!(Ke instanceof ChainDoesNotSupportContract))throw Ke}const Ye=await Z.request({method:"eth_call",params:Ce?[Ge,Ce]:[Ge]});return Ye==="0x"?{data:void 0}:{data:Ye}}catch(Pe){const Ce=getRevertErrorData(Pe),{offchainLookup:Oe,offchainLookupSignature:Ge}=await __vitePreload(()=>import("./ccip-c2ad1738.js"),[]);if(Ce?.slice(0,10)===Ge&&_e)return{data:await Oe(Z,{data:Ce,to:_e})};throw getCallError(Pe,{...L,account:Ie,chain:Z.chain})}}function shouldPerformMulticall({request:Z}){const{data:L,to:X,...te}=Z;return!(!L||L.startsWith(aggregate3Signature)||!X||Object.values(te).filter(ie=>typeof ie<"u").length>0)}async function scheduleMulticall(Z,L){const{batchSize:X=1024,wait:te=0}=typeof Z.batch?.multicall=="object"?Z.batch.multicall:{},{blockNumber:ie,blockTag:oe="latest",data:se,multicallAddress:ue,to:ce}=L;let le=ue;if(!le){if(!Z.chain)throw new ClientChainNotConfiguredError;le=getChainContractAddress({blockNumber:ie,chain:Z.chain,contract:"multicall3"})}const pe=(ie?numberToHex(ie):void 0)||oe,{schedule:ge}=createBatchScheduler({id:`${Z.uid}.${pe}`,wait:te,shouldSplitBatch(Ae){return Ae.reduce((Pe,{data:Ce})=>Pe+(Ce.length-2),0)>X*2},fn:async Ae=>{const Ie=Ae.map(Oe=>({allowFailure:!0,callData:Oe.data,target:Oe.to})),Pe=encodeFunctionData({abi:multicall3Abi,args:[Ie],functionName:"aggregate3"}),Ce=await Z.request({method:"eth_call",params:[{data:Pe,to:le},pe]});return decodeFunctionResult({abi:multicall3Abi,args:[Ie],functionName:"aggregate3",data:Ce||"0x"})}}),[{returnData:_e,success:Te}]=await ge({data:se,to:ce});if(!Te)throw new RawContractError({data:_e});return _e==="0x"?{data:void 0}:{data:_e}}function getRevertErrorData(Z){if(!(Z instanceof BaseError))return;const L=Z.walk();return typeof L.data=="object"?L.data.data:L.data}async function readContract(Z,{abi:L,address:X,args:te,functionName:ie,...oe}){const se=encodeFunctionData({abi:L,args:te,functionName:ie});try{const{data:ue}=await call(Z,{data:se,to:X,...oe});return decodeFunctionResult({abi:L,args:te,functionName:ie,data:ue||"0x"})}catch(ue){throw getContractError(ue,{abi:L,address:X,args:te,docsPath:"/docs/contract/readContract",functionName:ie})}}async function simulateContract(Z,{abi:L,address:X,args:te,dataSuffix:ie,functionName:oe,...se}){const ue=se.account?parseAccount(se.account):void 0,ce=encodeFunctionData({abi:L,args:te,functionName:oe});try{const{data:le}=await call(Z,{batch:!1,data:`${ce}${ie?ie.replace("0x",""):""}`,to:X,...se});return{result:decodeFunctionResult({abi:L,args:te,functionName:oe,data:le||"0x"}),request:{abi:L,address:X,args:te,dataSuffix:ie,functionName:oe,...se}}}catch(le){throw getContractError(le,{abi:L,address:X,args:te,docsPath:"/docs/contract/simulateContract",functionName:oe,sender:ue?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(Z,L,X){const te=++callbackCount,ie=()=>listenersCache.get(Z)||[],oe=()=>{const de=ie();listenersCache.set(Z,de.filter(pe=>pe.id!==te))},se=()=>{const de=cleanupCache.get(Z);ie().length===1&&de&&de(),oe()},ue=ie();if(listenersCache.set(Z,[...ue,{id:te,fns:L}]),ue&&ue.length>0)return se;const ce={};for(const de in L)ce[de]=(...pe)=>{const ge=ie();ge.length!==0&&ge.forEach(_e=>_e.fns[de]?.(...pe))};const le=X(ce);return typeof le=="function"&&cleanupCache.set(Z,le),se}async function wait(Z){return new Promise(L=>setTimeout(L,Z))}function poll(Z,{emitOnBegin:L,initialWaitTime:X,interval:te}){let ie=!0;const oe=()=>ie=!1;return(async()=>{let ue;L&&(ue=await Z({unpoll:oe}));const ce=await X?.(ue)??te;await wait(ce);const le=async()=>{ie&&(await Z({unpoll:oe}),await wait(te),le())};le()})(),oe}const promiseCache=new Map,responseCache=new Map;function getCache(Z){const L=(ie,oe)=>({clear:()=>oe.delete(ie),get:()=>oe.get(ie),set:se=>oe.set(ie,se)}),X=L(Z,promiseCache),te=L(Z,responseCache);return{clear:()=>{X.clear(),te.clear()},promise:X,response:te}}async function withCache(Z,{cacheKey:L,cacheTime:X=1/0}){const te=getCache(L),ie=te.response.get();if(ie&&X>0&&new Date().getTime()-ie.created.getTime()<X)return ie.data;let oe=te.promise.get();oe||(oe=Z(),te.promise.set(oe));try{const se=await oe;return te.response.set({created:new Date,data:se}),se}finally{te.promise.clear()}}const cacheKey=Z=>`blockNumber.${Z}`;async function getBlockNumber(Z,{cacheTime:L=Z.cacheTime,maxAge:X}={}){const te=await withCache(()=>Z.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(Z.uid),cacheTime:X??L});return BigInt(te)}const docsPath$1="/docs/contract/decodeEventLog";function decodeEventLog({abi:Z,data:L,strict:X,topics:te}){const ie=X??!0,[oe,...se]=te;if(!oe)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$1});const ue=Z.find(Te=>Te.type==="event"&&oe===getEventSelector(formatAbiItem(Te)));if(!(ue&&"name"in ue)||ue.type!=="event")throw new AbiEventSignatureNotFoundError(oe,{docsPath:docsPath$1});const{name:ce,inputs:le}=ue,de=le?.some(Te=>!("name"in Te&&Te.name));let pe=de?[]:{};const ge=le.filter(Te=>"indexed"in Te&&Te.indexed);if(se.length>0)for(let Te=0;Te<ge.length;Te++){const Ae=ge[Te],Ie=se[Te];if(!Ie)throw new DecodeLogTopicsMismatch({abiItem:ue,param:Ae});pe[Ae.name||Te]=decodeTopic({param:Ae,value:Ie})}const _e=le.filter(Te=>!("indexed"in Te&&Te.indexed));if(_e.length>0){if(L&&L!=="0x")try{const Te=decodeAbiParameters(_e,L);if(Te)if(de)pe=[...pe,...Te];else for(let Ae=0;Ae<_e.length;Ae++)pe[_e[Ae].name]=Te[Ae]}catch(Te){if(ie)throw Te instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:ue,data:Te.data,params:Te.params,size:Te.size}):Te}else if(ie)throw new DecodeLogDataMismatch({abiItem:ue,data:"0x",params:_e,size:0})}return{eventName:ce,args:Object.values(pe).length>0?pe:void 0}}function decodeTopic({param:Z,value:L}){return Z.type==="string"||Z.type==="bytes"||Z.type==="tuple"||Z.type.match(/^(.*)\[(\d+)?\]$/)?L:(decodeAbiParameters([Z],L)||[])[0]}function formatLog(Z,{args:L,eventName:X}={}){return{...Z,blockHash:Z.blockHash?Z.blockHash:null,blockNumber:Z.blockNumber?BigInt(Z.blockNumber):null,logIndex:Z.logIndex?Number(Z.logIndex):null,transactionHash:Z.transactionHash?Z.transactionHash:null,transactionIndex:Z.transactionIndex?Number(Z.transactionIndex):null,...X?{args:L,eventName:X}:{}}}async function getFilterChanges(Z,{filter:L}){const X="strict"in L&&L.strict;return(await L.request({method:"eth_getFilterChanges",params:[L.id]})).map(ie=>{if(typeof ie=="string")return ie;try{const{eventName:oe,args:se}="abi"in L&&L.abi?decodeEventLog({abi:L.abi,data:ie.data,topics:ie.topics,strict:X}):{eventName:void 0,args:void 0};return formatLog(ie,{args:se,eventName:oe})}catch(oe){let se,ue;if(oe instanceof DecodeLogDataMismatch||oe instanceof DecodeLogTopicsMismatch){if("strict"in L&&L.strict)return;se=oe.abiItem.name,ue=oe.abiItem.inputs?.some(ce=>!("name"in ce&&ce.name))}return formatLog(ie,{args:ue?[]:{},eventName:se})}}).filter(Boolean)}async function getLogs(Z,{address:L,blockHash:X,fromBlock:te,toBlock:ie,event:oe,events:se,args:ue,strict:ce}={}){const le=ce??!1,de=se??(oe?[oe]:void 0);let pe=[];de&&(pe=[de.flatMap(_e=>encodeEventTopics({abi:[_e],eventName:_e.name,args:ue}))],oe&&(pe=pe[0]));let ge;return X?ge=await Z.request({method:"eth_getLogs",params:[{address:L,topics:pe,blockHash:X}]}):ge=await Z.request({method:"eth_getLogs",params:[{address:L,topics:pe,fromBlock:typeof te=="bigint"?numberToHex(te):te,toBlock:typeof ie=="bigint"?numberToHex(ie):ie}]}),ge.map(_e=>{try{const{eventName:Te,args:Ae}=de?decodeEventLog({abi:de,data:_e.data,topics:_e.topics,strict:le}):{eventName:void 0,args:void 0};return formatLog(_e,{args:Ae,eventName:Te})}catch(Te){let Ae,Ie;if(Te instanceof DecodeLogDataMismatch||Te instanceof DecodeLogTopicsMismatch){if(le)return;Ae=Te.abiItem.name,Ie=Te.abiItem.inputs?.some(Pe=>!("name"in Pe&&Pe.name))}return formatLog(_e,{args:Ie?[]:{},eventName:Ae})}}).filter(Boolean)}async function uninstallFilter(Z,{filter:L}){return L.request({method:"eth_uninstallFilter",params:[L.id]})}function watchContractEvent(Z,{abi:L,address:X,args:te,batch:ie=!0,eventName:oe,onError:se,onLogs:ue,poll:ce,pollingInterval:le=Z.pollingInterval,strict:de}){return(typeof ce<"u"?ce:Z.transport.type!=="webSocket")?(()=>{const Te=stringify(["watchContractEvent",X,te,ie,Z.uid,oe,le]),Ae=de??!1;return observe(Te,{onLogs:ue,onError:se},Ie=>{let Pe,Ce,Oe=!1;const Ge=poll(async()=>{if(!Oe){try{Ce=await createContractEventFilter(Z,{abi:L,address:X,args:te,eventName:oe,strict:Ae})}catch{}Oe=!0;return}try{let Ye;if(Ce)Ye=await getFilterChanges(Z,{filter:Ce});else{const Ke=await getBlockNumber(Z);Pe&&Pe!==Ke?Ye=await getLogs(Z,{address:X,args:te,fromBlock:Pe+1n,toBlock:Ke,event:getAbiItem({abi:L,name:oe})}):Ye=[],Pe=Ke}if(Ye.length===0)return;ie?Ie.onLogs(Ye):Ye.forEach(Ke=>Ie.onLogs([Ke]))}catch(Ye){Ce&&Ye instanceof InvalidInputRpcError&&(Oe=!1),Ie.onError?.(Ye)}},{emitOnBegin:!0,interval:le});return async()=>{Ce&&await uninstallFilter(Z,{filter:Ce}),Ge()}})})():(()=>{let Te=!0,Ae=()=>Te=!1;return(async()=>{try{const Ie=oe?encodeEventTopics({abi:L,eventName:oe,args:te}):[],{unsubscribe:Pe}=await Z.transport.subscribe({params:["logs",{address:X,topics:Ie}],onData(Ce){if(!Te)return;const Oe=Ce.result;try{const{eventName:Ge,args:Ye}=decodeEventLog({abi:L,data:Oe.data,topics:Oe.topics,strict:de}),Ke=formatLog(Oe,{args:Ye,eventName:Ge});ue([Ke])}catch(Ge){let Ye,Ke;if(Ge instanceof DecodeLogDataMismatch||Ge instanceof DecodeLogTopicsMismatch){if(de)return;Ye=Ge.abiItem.name,Ke=Ge.abiItem.inputs?.some(tt=>!("name"in tt&&tt.name))}const nt=formatLog(Oe,{args:Ke?[]:{},eventName:Ye});ue([nt])}},onError(Ce){se?.(Ce)}});Ae=Pe,Te||Ae()}catch(Ie){se?.(Ie)}})(),Ae})()}function getTransactionError(Z,{docsPath:L,...X}){let te=Z;return containsNodeError(Z)&&(te=getNodeError(Z,X)),new TransactionExecutionError(te,{docsPath:L,...X})}async function getChainId(Z){const L=await Z.request({method:"eth_chainId"});return hexToNumber$1(L)}async function sendTransaction(Z,L){const{account:X=Z.account,chain:te=Z.chain,accessList:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:pe,value:ge,..._e}=L;if(!X)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const Te=parseAccount(X);try{assertRequest(L);let Ae;if(te!==null&&(Ae=await getChainId(Z),assertCurrentChain({currentChainId:Ae,chain:te})),Te.type==="local"){const Ce=await prepareRequest(Z,{account:Te,accessList:ie,chain:te,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:pe,value:ge,..._e});Ae||(Ae=await getChainId(Z));const Oe=te?.serializers?.transaction,Ge=await Te.signTransaction({...Ce,chainId:Ae},{serializer:Oe});return await Z.request({method:"eth_sendRawTransaction",params:[Ge]})}const Ie=te?.formatters?.transactionRequest?.format||formatTransactionRequest,Pe=Ie({...extract(_e,{format:Ie}),accessList:ie,data:oe,from:Te.address,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:pe,value:ge});return await Z.request({method:"eth_sendTransaction",params:[Pe]})}catch(Ae){throw getTransactionError(Ae,{...L,account:Te,chain:L.chain||void 0})}}async function writeContract(Z,{abi:L,address:X,args:te,dataSuffix:ie,functionName:oe,...se}){const ue=encodeFunctionData({abi:L,args:te,functionName:oe});return await sendTransaction(Z,{data:`${ue}${ie?ie.replace("0x",""):""}`,to:X,...se})}function getContract({abi:Z,address:L,publicClient:X,walletClient:te}){const ie=X!=null,oe=te!=null,se={};let ue=!1,ce=!1,le=!1;for(const de of Z)if(de.type==="function"?de.stateMutability==="view"||de.stateMutability==="pure"?ue=!0:ce=!0:de.type==="event"&&(le=!0),ue&&ce&&le)break;return ie&&(ue&&(se.read=new Proxy({},{get(de,pe){return(...ge)=>{const{args:_e,options:Te}=getFunctionParameters(ge);return readContract(X,{abi:Z,address:L,functionName:pe,args:_e,...Te})}}})),ce&&(se.simulate=new Proxy({},{get(de,pe){return(...ge)=>{const{args:_e,options:Te}=getFunctionParameters(ge);return simulateContract(X,{abi:Z,address:L,functionName:pe,args:_e,...Te})}}})),le&&(se.createEventFilter=new Proxy({},{get(de,pe){return(...ge)=>{const _e=Z.find(Ie=>Ie.type==="event"&&Ie.name===pe),{args:Te,options:Ae}=getEventParameters(ge,_e);return createContractEventFilter(X,{abi:Z,address:L,eventName:pe,args:Te,...Ae})}}}),se.watchEvent=new Proxy({},{get(de,pe){return(...ge)=>{const _e=Z.find(Ie=>Ie.type==="event"&&Ie.name===pe),{args:Te,options:Ae}=getEventParameters(ge,_e);return watchContractEvent(X,{abi:Z,address:L,eventName:pe,args:Te,...Ae})}}}))),oe&&ce&&(se.write=new Proxy({},{get(de,pe){return(...ge)=>{const{args:_e,options:Te}=getFunctionParameters(ge);return writeContract(te,{abi:Z,address:L,functionName:pe,args:_e,...Te})}}})),(ie||oe)&&ce&&(se.estimateGas=new Proxy({},{get(de,pe){return(...ge)=>{const{args:_e,options:Te}=getFunctionParameters(ge);return estimateContractGas(X??te,{abi:Z,address:L,functionName:pe,args:_e,...Te,account:Te.account??te.account})}}})),se.address=L,se.abi=Z,se}function getFunctionParameters(Z){const L=Z.length&&Array.isArray(Z[0]),X=L?Z[0]:[],te=(L?Z[1]:Z[0])??{};return{args:X,options:te}}function getEventParameters(Z,L){let X=!1;Array.isArray(Z[0])?X=!0:Z.length===1?X=L.inputs.some(oe=>oe.indexed):Z.length===2&&(X=!0);const te=X?Z[0]:void 0,ie=(X?Z[1]:Z[0])??{};return{args:te,options:ie}}async function addChain(Z,{chain:L}){const{id:X,name:te,nativeCurrency:ie,rpcUrls:oe,blockExplorers:se}=L;await Z.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(X),chainName:te,nativeCurrency:ie,rpcUrls:oe.default.http,blockExplorerUrls:se?Object.values(se).map(({url:ue})=>ue):void 0}]})}function publicKeyToAddress(Z){const L=keccak256(`0x${Z.substring(4)}`).substring(26);return checksumAddress(`0x${L}`)}const size=256;let index=size,buffer;function uid(Z=11){if(!buffer||index+Z>size*2){buffer="",index=0;for(let L=0;L<size;L++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++Z)}function createClient$1(Z){const{batch:L,cacheTime:X=Z.pollingInterval??4e3,key:te="base",name:ie="Base Client",pollingInterval:oe=4e3,type:se="base"}=Z,ue=Z.chain,ce=Z.account?parseAccount(Z.account):void 0,{config:le,request:de,value:pe}=Z.transport({chain:ue,pollingInterval:oe}),ge={...le,...pe},_e={account:ce,batch:L,cacheTime:X,chain:ue,key:te,name:ie,pollingInterval:oe,request:de,transport:ge,type:se,uid:uid()};function Te(Ae){return Ie=>{const Pe=Ie(Ae);for(const Oe in _e)delete Pe[Oe];const Ce={...Ae,...Pe};return Object.assign(Ce,{extend:Te(Ce)})}}return Object.assign(_e,{extend:Te(_e)})}function withRetry(Z,{delay:L=100,retryCount:X=2,shouldRetry:te=()=>!0}={}){return new Promise((ie,oe)=>{const se=async({count:ue=0}={})=>{const ce=async({error:le})=>{const de=typeof L=="function"?L({count:ue,error:le}):L;de&&await wait(de),se({count:ue+1})};try{const le=await Z();ie(le)}catch(le){if(ue<X&&await te({count:ue,error:le}))return ce({error:le});oe(le)}};se()})}const isDeterministicError=Z=>"code"in Z?Z.code!==-1&&Z.code!==-32004&&Z.code!==-32005&&Z.code!==-32042&&Z.code!==-32603:Z instanceof HttpRequestError&&Z.status?Z.status!==403&&Z.status!==408&&Z.status!==413&&Z.status!==429&&Z.status!==500&&Z.status!==502&&Z.status!==503&&Z.status!==504:!1;function buildRequest(Z,{retryDelay:L=150,retryCount:X=3}={}){return async te=>withRetry(async()=>{try{return await Z(te)}catch(ie){const oe=ie;switch(oe.code){case ParseRpcError.code:throw new ParseRpcError(oe);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(oe);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(oe);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(oe);case InternalRpcError.code:throw new InternalRpcError(oe);case InvalidInputRpcError.code:throw new InvalidInputRpcError(oe);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(oe);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(oe);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(oe);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(oe);case LimitExceededRpcError.code:throw new LimitExceededRpcError(oe);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(oe);case UserRejectedRequestError.code:throw new UserRejectedRequestError(oe);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(oe);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(oe);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(oe);case ChainDisconnectedError.code:throw new ChainDisconnectedError(oe);case SwitchChainError.code:throw new SwitchChainError(oe);default:throw ie instanceof BaseError?ie:new UnknownRpcError(oe)}}},{delay:({count:ie,error:oe})=>{if(oe&&oe instanceof HttpRequestError){const se=oe?.headers?.get("Retry-After");if(se?.match(/\d/))return parseInt(se)*1e3}return~~(1<<ie)*L},retryCount:X,shouldRetry:({error:ie})=>!isDeterministicError(ie)})}function createTransport({key:Z,name:L,request:X,retryCount:te=3,retryDelay:ie=150,timeout:oe,type:se},ue){return{config:{key:Z,name:L,request:X,retryCount:te,retryDelay:ie,timeout:oe,type:se},request:buildRequest(X,{retryCount:te,retryDelay:ie}),value:ue}}function fallback(Z,L={}){const{key:X="fallback",name:te="Fallback",rank:ie=!1,retryCount:oe,retryDelay:se}=L;return({chain:ue,pollingInterval:ce=4e3,timeout:le})=>{let de=Z,pe=()=>{};const ge=createTransport({key:X,name:te,async request({method:_e,params:Te}){const Ae=async(Ie=0)=>{const Pe=de[Ie]({chain:ue,retryCount:0,timeout:le});try{const Ce=await Pe.request({method:_e,params:Te});return pe({method:_e,params:Te,response:Ce,transport:Pe,status:"success"}),Ce}catch(Ce){if(pe({error:Ce,method:_e,params:Te,transport:Pe,status:"error"}),isDeterministicError(Ce)||Ie===de.length-1)throw Ce;return Ae(Ie+1)}};return Ae()},retryCount:oe,retryDelay:se,type:"fallback"},{onResponse:_e=>pe=_e,transports:de.map(_e=>_e({chain:ue,retryCount:0}))});if(ie){const _e=typeof ie=="object"?ie:{};rankTransports({chain:ue,interval:_e.interval??ce,onTransports:Te=>de=Te,sampleCount:_e.sampleCount,timeout:_e.timeout,transports:de,weights:_e.weights})}return ge}}function rankTransports({chain:Z,interval:L=4e3,onTransports:X,sampleCount:te=10,timeout:ie=1e3,transports:oe,weights:se={}}){const{stability:ue=.7,latency:ce=.3}=se,le=[],de=async()=>{const pe=await Promise.all(oe.map(async Te=>{const Ae=Te({chain:Z,retryCount:0,timeout:ie}),Ie=Date.now();let Pe,Ce;try{await Ae.request({method:"net_listening"}),Ce=1}catch{Ce=0}finally{Pe=Date.now()}return{latency:Pe-Ie,success:Ce}}));le.push(pe),le.length>te&&le.shift();const ge=Math.max(...le.map(Te=>Math.max(...Te.map(({latency:Ae})=>Ae)))),_e=oe.map((Te,Ae)=>{const Ie=le.map(Ye=>Ye[Ae].latency),Ce=1-Ie.reduce((Ye,Ke)=>Ye+Ke,0)/Ie.length/ge,Oe=le.map(Ye=>Ye[Ae].success),Ge=Oe.reduce((Ye,Ke)=>Ye+Ke,0)/Oe.length;return Ge===0?[0,Ae]:[ce*Ce+ue*Ge,Ae]}).sort((Te,Ae)=>Ae[0]-Te[0]);X(_e.map(([,Te])=>oe[Te])),await wait(L),de()};de()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function withTimeout(Z,{errorInstance:L,timeout:X,signal:te}){return new Promise((ie,oe)=>{(async()=>{let se;try{const ue=new AbortController;X>0&&(se=setTimeout(()=>{te?ue.abort():oe(L)},X)),ie(await Z({signal:ue?.signal}))}catch(ue){ue.name==="AbortError"&&oe(L),oe(ue)}finally{clearTimeout(se)}})()})}let id=0;async function http$1(Z,{body:L,fetchOptions:X={},timeout:te=1e4}){const{headers:ie,method:oe,signal:se}=X;try{const ue=await withTimeout(async({signal:le})=>await fetch(Z,{...X,body:Array.isArray(L)?stringify(L.map(pe=>({jsonrpc:"2.0",id:id++,...pe}))):stringify({jsonrpc:"2.0",id:id++,...L}),headers:{...ie,"Content-Type":"application/json"},method:oe||"POST",signal:se||(te>0?le:void 0)}),{errorInstance:new TimeoutError({body:L,url:Z}),timeout:te,signal:!0});let ce;if(ue.headers.get("Content-Type")?.startsWith("application/json")?ce=await ue.json():ce=await ue.text(),!ue.ok)throw new HttpRequestError({body:L,details:stringify(ce.error)||ue.statusText,headers:ue.headers,status:ue.status,url:Z});return ce}catch(ue){throw ue instanceof HttpRequestError||ue instanceof TimeoutError?ue:new HttpRequestError({body:L,details:ue.message,url:Z})}}const sockets=new Map;async function getSocket(Z){const L=new URL(Z),X=L.toString();let te=sockets.get(X);if(te)return te;const{schedule:ie}=createBatchScheduler({id:X,fn:async()=>{let ue=await __vitePreload(()=>import("./browser-3852a342.js"),[]);ue.default?.constructor?ue=ue.default:ue=ue.WebSocket;const ce=new ue(L),le=new Map,de=new Map,pe=({data:_e})=>{const Te=JSON.parse(_e),Ae=Te.method==="eth_subscription",Ie=Ae?Te.params.subscription:Te.id,Pe=Ae?de:le,Ce=Pe.get(Ie);Ce&&Ce({data:_e}),Ae||Pe.delete(Ie)},ge=()=>{sockets.delete(X),ce.removeEventListener("close",ge),ce.removeEventListener("message",pe)};return ce.addEventListener("close",ge),ce.addEventListener("message",pe),ce.readyState===ue.CONNECTING&&await new Promise((_e,Te)=>{ce&&(ce.onopen=_e,ce.onerror=Te)}),te=Object.assign(ce,{requests:le,subscriptions:de}),sockets.set(X,te),[te]}}),[oe,[se]]=await ie();return se}function webSocket$1(Z,{body:L,onResponse:X}){if(Z.readyState===Z.CLOSED||Z.readyState===Z.CLOSING)throw new WebSocketRequestError({body:L,url:Z.url,details:"Socket is closed."});const te=id++,ie=({data:oe})=>{const se=JSON.parse(oe);typeof se.id=="number"&&te!==se.id||(X?.(se),L.method==="eth_subscribe"&&typeof se.result=="string"&&Z.subscriptions.set(se.result,ie),L.method==="eth_unsubscribe"&&Z.subscriptions.delete(L.params?.[0]))};return Z.requests.set(te,ie),Z.send(JSON.stringify({jsonrpc:"2.0",...L,id:te})),Z}async function webSocketAsync(Z,{body:L,timeout:X=1e4}){return withTimeout(()=>new Promise(te=>rpc$1.webSocket(Z,{body:L,onResponse:te})),{errorInstance:new TimeoutError({body:L,url:Z.url}),timeout:X})}const rpc$1={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(Z,L={}){const{batch:X,fetchOptions:te,key:ie="http",name:oe="HTTP JSON-RPC",retryDelay:se}=L;return({chain:ue,retryCount:ce,timeout:le})=>{const{batchSize:de=1e3,wait:pe=0}=typeof X=="object"?X:{},ge=L.retryCount??ce,_e=le??L.timeout??1e4,Te=Z||ue?.rpcUrls.default.http[0];if(!Te)throw new UrlRequiredError;return createTransport({key:ie,name:oe,async request({method:Ae,params:Ie}){const Pe={method:Ae,params:Ie},{schedule:Ce}=createBatchScheduler({id:`${Z}`,wait:pe,shouldSplitBatch(Ke){return Ke.length>de},fn:Ke=>rpc$1.http(Te,{body:Ke,fetchOptions:te,timeout:_e})}),Oe=async Ke=>X?Ce(Ke):[await rpc$1.http(Te,{body:Ke,fetchOptions:te,timeout:_e})],[{error:Ge,result:Ye}]=await Oe(Pe);if(Ge)throw new RpcRequestError({body:Pe,error:Ge,url:Te});return Ye},retryCount:ge,retryDelay:se,timeout:_e,type:"http"},{url:Z})}}function isNullUniversalResolverError(Z,L){if(!(Z instanceof BaseError))return!1;const X=Z.walk(te=>te instanceof ContractFunctionRevertedError);return X instanceof ContractFunctionRevertedError?!!(X.data?.errorName==="ResolverNotFound"||X.data?.errorName==="ResolverWildcardNotSupported"||X.reason?.includes("Wildcard on non-extended resolvers is not supported")||L==="reverse"&&X.reason===panicReasons[50]):!1}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function validateTypedData({domain:Z,message:L,primaryType:X,types:te}){const ie=te,oe=(se,ue)=>{for(const ce of se){const{name:le,type:de}=ce,pe=de,ge=ue[le],_e=pe.match(integerRegex);if(_e&&(typeof ge=="number"||typeof ge=="bigint")){const[Ie,Pe,Ce]=_e;numberToHex(ge,{signed:Pe==="int",size:parseInt(Ce)/8})}if(pe==="address"&&typeof ge=="string"&&!isAddress(ge))throw new InvalidAddressError({address:ge});const Te=pe.match(bytesRegex);if(Te){const[Ie,Pe]=Te;if(Pe&&size$1(ge)!==parseInt(Pe))throw new BytesSizeMismatchError({expectedSize:parseInt(Pe),givenSize:size$1(ge)})}const Ae=ie[pe];Ae&&oe(Ae,ge)}};if(ie.EIP712Domain&&Z&&oe(ie.EIP712Domain,Z),X!=="EIP712Domain"){const se=ie[X];oe(se,L)}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:Z,args:L,bytecode:X}){if(!L||L.length===0)return X;const te=Z.find(oe=>"type"in oe&&oe.type==="constructor");if(!te)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in te))throw new AbiConstructorParamsNotFoundError({docsPath});if(!te.inputs||te.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const ie=encodeAbiParameters(te.inputs,L);return concatHex([X,ie])}function toRlp(Z,L){const X=L||"hex";return format(bytesToRlp(parse(Z)),X)}function parse(Z){return Array.isArray(Z)?Z.map(parse):typeof Z=="string"?toBytes$2(Z):Z}function format(Z,L="bytes"){return L==="hex"?bytesToHex$1(Z):Z}function bytesToRlp(Z){if(Array.isArray(Z)){const L=concat(Z.map(bytesToRlp));return new Uint8Array([...encodeLength(L.length,192),...L])}return Z.length===1&&Z[0]<128?Z:new Uint8Array([...encodeLength(Z.length,128),...Z])}function encodeLength(Z,L){return Z<56?[L+Z]:[toBytes$2(Z).length+L+55,...toBytes$2(Z)]}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(Z){return{...Z,blockNumber:Z.blockNumber?BigInt(Z.blockNumber):null,contractAddress:Z.contractAddress?Z.contractAddress:null,cumulativeGasUsed:Z.cumulativeGasUsed?BigInt(Z.cumulativeGasUsed):null,effectiveGasPrice:Z.effectiveGasPrice?BigInt(Z.effectiveGasPrice):null,gasUsed:Z.gasUsed?BigInt(Z.gasUsed):null,logs:Z.logs?Z.logs.map(L=>formatLog(L)):null,to:Z.to?Z.to:null,transactionIndex:Z.transactionIndex?hexToNumber$1(Z.transactionIndex):null,status:Z.status?statuses[Z.status]:null,type:Z.type?transactionType[Z.type]||Z.type:null}}function hashTypedData({domain:Z,message:L,primaryType:X,types:te}){const ie=typeof Z>"u"?{}:Z,oe={EIP712Domain:[typeof ie?.name=="string"&&{name:"name",type:"string"},ie?.version&&{name:"version",type:"string"},typeof ie?.chainId=="number"&&{name:"chainId",type:"uint256"},ie?.verifyingContract&&{name:"verifyingContract",type:"address"},ie?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...te};validateTypedData({domain:ie,message:L,primaryType:X,types:oe});const se=["0x1901"];return ie&&se.push(hashDomain({domain:ie,types:oe})),X!=="EIP712Domain"&&se.push(hashStruct({data:L,primaryType:X,types:oe})),keccak256(concat(se))}function hashDomain({domain:Z,types:L}){return hashStruct({data:Z,primaryType:"EIP712Domain",types:L})}function hashStruct({data:Z,primaryType:L,types:X}){const te=encodeData({data:Z,primaryType:L,types:X});return keccak256(te)}function encodeData({data:Z,primaryType:L,types:X}){const te=[{type:"bytes32"}],ie=[hashType({primaryType:L,types:X})];for(const oe of X[L]){const[se,ue]=encodeField({types:X,name:oe.name,type:oe.type,value:Z[oe.name]});te.push(se),ie.push(ue)}return encodeAbiParameters(te,ie)}function hashType({primaryType:Z,types:L}){const X=toHex(encodeType({primaryType:Z,types:L}));return keccak256(X)}function encodeType({primaryType:Z,types:L}){let X="";const te=findTypeDependencies({primaryType:Z,types:L});te.delete(Z);const ie=[Z,...Array.from(te).sort()];for(const oe of ie)X+=`${oe}(${L[oe].map(({name:se,type:ue})=>`${ue} ${se}`).join(",")})`;return X}function findTypeDependencies({primaryType:Z,types:L},X=new Set){const ie=Z.match(/^\w*/u)?.[0];if(X.has(ie)||L[ie]===void 0)return X;X.add(ie);for(const oe of L[ie])findTypeDependencies({primaryType:oe.type,types:L},X);return X}function encodeField({types:Z,name:L,type:X,value:te}){if(Z[X]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:te,primaryType:X,types:Z}))];if(X==="bytes")return te=`0x${(te.length%2?"0":"")+te.slice(2)}`,[{type:"bytes32"},keccak256(te)];if(X==="string")return[{type:"bytes32"},keccak256(toHex(te))];if(X.lastIndexOf("]")===X.length-1){const ie=X.slice(0,X.lastIndexOf("[")),oe=te.map(se=>encodeField({name:L,type:ie,types:Z,value:se}));return[{type:"bytes32"},keccak256(encodeAbiParameters(oe.map(([se])=>se),oe.map(([,se])=>se)))]}return[{type:X},te]}function hashMessage(Z,L){const X=(()=>typeof Z=="string"?stringToBytes(Z):Z.raw instanceof Uint8Array?Z.raw:toBytes$2(Z.raw))(),te=stringToBytes(`Ethereum Signed Message:
${X.length}`);return keccak256(concat([te,X]),L)}function getTransactionType(Z){if(Z.type)return Z.type;if(typeof Z.maxFeePerGas<"u"||typeof Z.maxPriorityFeePerGas<"u")return"eip1559";if(typeof Z.gasPrice<"u")return typeof Z.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:Z})}function assertTransactionEIP1559(Z){const{chainId:L,maxPriorityFeePerGas:X,gasPrice:te,maxFeePerGas:ie,to:oe}=Z;if(L<=0)throw new InvalidChainIdError({chainId:L});if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(te)throw new BaseError("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(ie&&ie>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ie});if(X&&ie&&X>ie)throw new TipAboveFeeCapError({maxFeePerGas:ie,maxPriorityFeePerGas:X})}function assertTransactionEIP2930(Z){const{chainId:L,maxPriorityFeePerGas:X,gasPrice:te,maxFeePerGas:ie,to:oe}=Z;if(L<=0)throw new InvalidChainIdError({chainId:L});if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(X||ie)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te})}function assertTransactionLegacy(Z){const{chainId:L,maxPriorityFeePerGas:X,gasPrice:te,maxFeePerGas:ie,to:oe,accessList:se}=Z;if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(typeof L<"u"&&L<=0)throw new InvalidChainIdError({chainId:L});if(X||ie)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te});if(se)throw new BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(Z){if(!Z||Z.length===0)return[];const L=[];for(let X=0;X<Z.length;X++){const{address:te,storageKeys:ie}=Z[X];for(let oe=0;oe<ie.length;oe++)if(ie[oe].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:ie[oe]});if(!isAddress(te))throw new InvalidAddressError({address:te});L.push([te,ie])}return L}function serializeTransaction(Z,L){const X=getTransactionType(Z);return X==="eip1559"?serializeTransactionEIP1559(Z,L):X==="eip2930"?serializeTransactionEIP2930(Z,L):serializeTransactionLegacy(Z,L)}function serializeTransactionEIP1559(Z,L){const{chainId:X,gas:te,nonce:ie,to:oe,value:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,accessList:le,data:de}=Z;assertTransactionEIP1559(Z);const pe=serializeAccessList(le),ge=[toHex(X),ie?toHex(ie):"0x",ce?toHex(ce):"0x",ue?toHex(ue):"0x",te?toHex(te):"0x",oe??"0x",se?toHex(se):"0x",de??"0x",pe];return L&&ge.push(L.v===27n?"0x":toHex(1),trim(L.r),trim(L.s)),concatHex(["0x02",toRlp(ge)])}function serializeTransactionEIP2930(Z,L){const{chainId:X,gas:te,data:ie,nonce:oe,to:se,value:ue,accessList:ce,gasPrice:le}=Z;assertTransactionEIP2930(Z);const de=serializeAccessList(ce),pe=[toHex(X),oe?toHex(oe):"0x",le?toHex(le):"0x",te?toHex(te):"0x",se??"0x",ue?toHex(ue):"0x",ie??"0x",de];return L&&pe.push(L.v===27n?"0x":toHex(1),L.r,L.s),concatHex(["0x01",toRlp(pe)])}function serializeTransactionLegacy(Z,L){const{chainId:X=0,gas:te,data:ie,nonce:oe,to:se,value:ue,gasPrice:ce}=Z;assertTransactionLegacy(Z);let le=[oe?toHex(oe):"0x",ce?toHex(ce):"0x",te?toHex(te):"0x",se??"0x",ue?toHex(ue):"0x",ie??"0x"];if(L){let de=27n+(L.v===27n?0n:1n);if(X>0)de=BigInt(X*2)+BigInt(35n+L.v-27n);else if(L.v!==de)throw new InvalidLegacyVError({v:L.v});le=[...le,toHex(de),L.r,L.s]}else X>0&&(le=[...le,toHex(X),"0x","0x"]);return toRlp(le)}function parseUnits(Z,L){let[X,te="0"]=Z.split(".");const ie=X.startsWith("-");if(ie&&(X=X.slice(1)),te=te.replace(/(0+)$/,""),L===0)Math.round(+`.${te}`)===1&&(X=`${BigInt(X)+1n}`),te="";else if(te.length>L){const[oe,se,ue]=[te.slice(0,L-1),te.slice(L-1,L),te.slice(L)],ce=Math.round(+`${se}.${ue}`);ce>9?te=`${BigInt(oe)+BigInt(1)}0`.padStart(oe.length+1,"0"):te=`${oe}${ce}`,te.length>L&&(te=te.slice(1),X=`${BigInt(X)+1n}`),te=te.slice(0,L)}else te=te.padEnd(L,"0");return BigInt(`${ie?"-":""}${X}${te}`)}function parseEther(Z,L="wei"){return parseUnits(Z,etherUnits[L])}function encodedLabelToLabelhash(Z){if(Z.length!==66||Z.indexOf("[")!==0||Z.indexOf("]")!==65)return null;const L=`0x${Z.slice(1,65)}`;return isHex(L)?L:null}function namehash(Z){let L=new Uint8Array(32).fill(0);if(!Z)return bytesToHex$1(L);const X=Z.split(".");for(let te=X.length-1;te>=0;te-=1){const ie=encodedLabelToLabelhash(X[te]),oe=ie?toBytes$2(ie):keccak256(stringToBytes(X[te]),"bytes");L=keccak256(concat([L,oe]),"bytes")}return bytesToHex$1(L)}function encodeLabelhash(Z){return`[${Z.slice(2)}]`}function labelhash(Z){const L=new Uint8Array(32).fill(0);return Z?encodedLabelToLabelhash(Z)||keccak256(stringToBytes(Z)):bytesToHex$1(L)}function packetToBytes(Z){const L=Z.replace(/^\.|\.$/gm,"");if(L.length===0)return new Uint8Array(1);const X=new Uint8Array(stringToBytes(L).byteLength+2);let te=0;const ie=L.split(".");for(let oe=0;oe<ie.length;oe++){let se=stringToBytes(ie[oe]);se.byteLength>255&&(se=stringToBytes(encodeLabelhash(labelhash(ie[oe])))),X[te]=se.length,X.set(se,te+1),te+=se.length+1}return X.byteLength!==te+1?X.slice(0,te+1):X}async function getEnsAddress(Z,{blockNumber:L,blockTag:X,coinType:te,name:ie,universalResolverAddress:oe}){let se=oe;if(!se){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");se=getChainContractAddress({blockNumber:L,chain:Z.chain,contract:"ensUniversalResolver"})}try{const ue=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...te!=null?{args:[namehash(ie),BigInt(te)]}:{args:[namehash(ie)]}}),ce=await readContract(Z,{address:se,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ie)),ue],blockNumber:L,blockTag:X});if(ce[0]==="0x")return null;const le=trim(decodeFunctionResult({abi:addressResolverAbi,args:te!=null?[namehash(ie),BigInt(te)]:void 0,functionName:"addr",data:ce[0]}));return le==="0x"||trim(le)==="0x00"?null:le}catch(ue){if(isNullUniversalResolverError(ue,"resolve"))return null;throw ue}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:L}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(L)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:L}){super(`ENS NFT avatar URI is invalid. ${L}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:L}){super(`Unable to resolve ENS avatar URI "${L}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:L}){super(`ENS NFT avatar namespace "${L}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(Z){try{const L=await fetch(Z,{method:"HEAD"});return L.status===200?L.headers.get("content-type")?.startsWith("image/"):!1}catch(L){return typeof L=="object"&&typeof L.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(X=>{const te=new Image;te.onload=()=>{X(!0)},te.onerror=()=>{X(!1)},te.src=Z})}}function getGateway(Z,L){return Z?Z.endsWith("/")?Z.slice(0,-1):Z:L}function resolveAvatarUri({uri:Z,gatewayUrls:L}){const X=base64Regex.test(Z);if(X)return{uri:Z,isOnChain:!0,isEncoded:X};const te=getGateway(L?.ipfs,"https://ipfs.io"),ie=getGateway(L?.arweave,"https://arweave.net"),oe=Z.match(networkRegex),{protocol:se,subpath:ue,target:ce,subtarget:le=""}=oe?.groups||{},de=se==="ipns:/"||ue==="ipns/",pe=se==="ipfs:/"||ue==="ipfs/"||ipfsHashRegex.test(Z);if(Z.startsWith("http")&&!de&&!pe){let _e=Z;return L?.arweave&&(_e=Z.replace(/https:\/\/arweave.net/g,L?.arweave)),{uri:_e,isOnChain:!1,isEncoded:!1}}if((de||pe)&&ce)return{uri:`${te}/${de?"ipns":"ipfs"}/${ce}${le}`,isOnChain:!1,isEncoded:!1};if(se==="ar:/"&&ce)return{uri:`${ie}/${ce}${le||""}`,isOnChain:!1,isEncoded:!1};let ge=Z.replace(dataURIRegex,"");if(ge.startsWith("<svg")&&(ge=`data:image/svg+xml;base64,${btoa(ge)}`),ge.startsWith("data:")||ge.startsWith("{"))return{uri:ge,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:Z})}function getJsonImage(Z){if(typeof Z!="object"||!("image"in Z)&&!("image_url"in Z)&&!("image_data"in Z))throw new EnsAvatarInvalidMetadataError({data:Z});return Z.image||Z.image_url||Z.image_data}async function getMetadataAvatarUri({gatewayUrls:Z,uri:L}){try{const X=await fetch(L).then(ie=>ie.json());return await parseAvatarUri({gatewayUrls:Z,uri:getJsonImage(X)})}catch{throw new EnsAvatarUriResolutionError({uri:L})}}async function parseAvatarUri({gatewayUrls:Z,uri:L}){const{uri:X,isOnChain:te}=resolveAvatarUri({uri:L,gatewayUrls:Z});if(te||await isImageUri(X))return X;throw new EnsAvatarUriResolutionError({uri:L})}function parseNftUri(Z){let L=Z;L.startsWith("did:nft:")&&(L=L.replace("did:nft:","").replace(/_/g,"/"));const[X,te,ie]=L.split("/"),[oe,se]=X.split(":"),[ue,ce]=te.split(":");if(!oe||oe.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!se)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!ce)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!ie)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!ue)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(se),namespace:ue.toLowerCase(),contractAddress:ce,tokenID:ie}}async function getNftTokenUri(Z,{nft:L}){if(L.namespace==="erc721")return readContract(Z,{address:L.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(L.tokenID)]});if(L.namespace==="erc1155")return readContract(Z,{address:L.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(L.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:L.namespace})}async function parseAvatarRecord(Z,{gatewayUrls:L,record:X}){return/eip155:/i.test(X)?parseNftAvatarUri(Z,{gatewayUrls:L,record:X}):parseAvatarUri({uri:X,gatewayUrls:L})}async function parseNftAvatarUri(Z,{gatewayUrls:L,record:X}){const te=parseNftUri(X),ie=await getNftTokenUri(Z,{nft:te}),{uri:oe,isOnChain:se,isEncoded:ue}=resolveAvatarUri({uri:ie,gatewayUrls:L});if(se&&(oe.includes("data:application/json;base64,")||oe.startsWith("{"))){const le=ue?atob(oe.replace("data:application/json;base64,","")):oe,de=JSON.parse(le);return parseAvatarUri({uri:getJsonImage(de),gatewayUrls:L})}let ce=te.tokenID;return te.namespace==="erc1155"&&(ce=ce.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:L,uri:oe.replace(/(?:0x)?{id}/,ce)})}async function getEnsText(Z,{blockNumber:L,blockTag:X,name:te,key:ie,universalResolverAddress:oe}){let se=oe;if(!se){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");se=getChainContractAddress({blockNumber:L,chain:Z.chain,contract:"ensUniversalResolver"})}try{const ue=await readContract(Z,{address:se,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(te)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(te),ie]})],blockNumber:L,blockTag:X});if(ue[0]==="0x")return null;const ce=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:ue[0]});return ce===""?null:ce}catch(ue){if(isNullUniversalResolverError(ue,"resolve"))return null;throw ue}}async function getEnsAvatar(Z,{blockNumber:L,blockTag:X,gatewayUrls:te,name:ie,universalResolverAddress:oe}){const se=await getEnsText(Z,{blockNumber:L,blockTag:X,key:"avatar",name:ie,universalResolverAddress:oe});if(!se)return null;try{return await parseAvatarRecord(Z,{record:se,gatewayUrls:te})}catch{return null}}async function getEnsName(Z,{address:L,blockNumber:X,blockTag:te,universalResolverAddress:ie}){let oe=ie;if(!oe){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");oe=getChainContractAddress({blockNumber:X,chain:Z.chain,contract:"ensUniversalResolver"})}const se=`${L.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(Z,{address:oe,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(se))],blockNumber:X,blockTag:te}))[0]}catch(ue){if(isNullUniversalResolverError(ue,"reverse"))return null;throw ue}}async function getEnsResolver(Z,{blockNumber:L,blockTag:X,name:te,universalResolverAddress:ie}){let oe=ie;if(!oe){if(!Z.chain)throw new Error("client chain not configured. universalResolverAddress is required.");oe=getChainContractAddress({blockNumber:L,chain:Z.chain,contract:"ensUniversalResolver"})}const[se]=await readContract(Z,{address:oe,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(te))],blockNumber:L,blockTag:X});return se}async function createBlockFilter(Z){const L=createFilterRequestScope(Z,{method:"eth_newBlockFilter"}),X=await Z.request({method:"eth_newBlockFilter"});return{id:X,request:L(X),type:"block"}}async function createEventFilter(Z,{address:L,args:X,event:te,events:ie,fromBlock:oe,strict:se,toBlock:ue}={}){const ce=ie??(te?[te]:void 0),le=createFilterRequestScope(Z,{method:"eth_newFilter"});let de=[];ce&&(de=[ce.flatMap(ge=>encodeEventTopics({abi:[ge],eventName:ge.name,args:X}))],te&&(de=de[0]));const pe=await Z.request({method:"eth_newFilter",params:[{address:L,fromBlock:typeof oe=="bigint"?numberToHex(oe):oe,toBlock:typeof ue=="bigint"?numberToHex(ue):ue,...de.length?{topics:de}:{}}]});return{abi:ce,args:X,eventName:te?te.name:void 0,fromBlock:oe,id:pe,request:le(pe),strict:se,toBlock:ue,type:"event"}}async function createPendingTransactionFilter(Z){const L=createFilterRequestScope(Z,{method:"eth_newPendingTransactionFilter"}),X=await Z.request({method:"eth_newPendingTransactionFilter"});return{id:X,request:L(X),type:"transaction"}}async function getBalance(Z,{address:L,blockNumber:X,blockTag:te="latest"}){const ie=X?numberToHex(X):void 0,oe=await Z.request({method:"eth_getBalance",params:[L,ie||te]});return BigInt(oe)}async function getBlockTransactionCount(Z,{blockHash:L,blockNumber:X,blockTag:te="latest"}={}){const ie=X!==void 0?numberToHex(X):void 0;let oe;return L?oe=await Z.request({method:"eth_getBlockTransactionCountByHash",params:[L]}):oe=await Z.request({method:"eth_getBlockTransactionCountByNumber",params:[ie||te]}),hexToNumber$1(oe)}async function getBytecode(Z,{address:L,blockNumber:X,blockTag:te="latest"}){const ie=X!==void 0?numberToHex(X):void 0,oe=await Z.request({method:"eth_getCode",params:[L,ie||te]});if(oe!=="0x")return oe}function formatFeeHistory(Z){return{baseFeePerGas:Z.baseFeePerGas.map(L=>BigInt(L)),gasUsedRatio:Z.gasUsedRatio,oldestBlock:BigInt(Z.oldestBlock),reward:Z.reward?.map(L=>L.map(X=>BigInt(X)))}}async function getFeeHistory(Z,{blockCount:L,blockNumber:X,blockTag:te="latest",rewardPercentiles:ie}){const oe=X?numberToHex(X):void 0,se=await Z.request({method:"eth_feeHistory",params:[numberToHex(L),oe||te,ie]});return formatFeeHistory(se)}async function getFilterLogs(Z,{filter:L}){const X=L.strict??!1;return(await L.request({method:"eth_getFilterLogs",params:[L.id]})).map(ie=>{try{const{eventName:oe,args:se}="abi"in L&&L.abi?decodeEventLog({abi:L.abi,data:ie.data,topics:ie.topics,strict:X}):{eventName:void 0,args:void 0};return formatLog(ie,{args:se,eventName:oe})}catch(oe){let se,ue;if(oe instanceof DecodeLogDataMismatch||oe instanceof DecodeLogTopicsMismatch){if("strict"in L&&L.strict)return;se=oe.abiItem.name,ue=oe.abiItem.inputs?.some(ce=>!("name"in ce&&ce.name))}return formatLog(ie,{args:ue?[]:{},eventName:se})}}).filter(Boolean)}async function getStorageAt(Z,{address:L,blockNumber:X,blockTag:te="latest",slot:ie}){const oe=X!==void 0?numberToHex(X):void 0;return await Z.request({method:"eth_getStorageAt",params:[L,ie,oe||te]})}async function getTransaction(Z,{blockHash:L,blockNumber:X,blockTag:te,hash:ie,index:oe}){const se=te||"latest",ue=X!==void 0?numberToHex(X):void 0;let ce=null;if(ie?ce=await Z.request({method:"eth_getTransactionByHash",params:[ie]}):L?ce=await Z.request({method:"eth_getTransactionByBlockHashAndIndex",params:[L,numberToHex(oe)]}):(ue||se)&&(ce=await Z.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[ue||se,numberToHex(oe)]})),!ce)throw new TransactionNotFoundError({blockHash:L,blockNumber:X,blockTag:se,hash:ie,index:oe});return(Z.chain?.formatters?.transaction?.format||formatTransaction)(ce)}async function getTransactionConfirmations(Z,{hash:L,transactionReceipt:X}){const[te,ie]=await Promise.all([getBlockNumber(Z),L?getTransaction(Z,{hash:L}):void 0]),oe=X?.blockNumber||ie?.blockNumber;return oe?te-oe+1n:0n}async function getTransactionReceipt(Z,{hash:L}){const X=await Z.request({method:"eth_getTransactionReceipt",params:[L]});if(!X)throw new TransactionReceiptNotFoundError({hash:L});return(Z.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(X)}async function multicall(Z,L){const{allowFailure:X=!0,batchSize:te,blockNumber:ie,blockTag:oe,contracts:se,multicallAddress:ue}=L,ce=te??(typeof Z.batch?.multicall=="object"&&Z.batch.multicall.batchSize||1024),le=se;let de=ue;if(!de){if(!Z.chain)throw new Error("client chain not configured. multicallAddress is required.");de=getChainContractAddress({blockNumber:ie,chain:Z.chain,contract:"multicall3"})}const pe=[[]];let ge=0,_e=0;for(let Ae=0;Ae<le.length;Ae++){const{abi:Ie,address:Pe,args:Ce,functionName:Oe}=le[Ae];try{const Ge=encodeFunctionData({abi:Ie,args:Ce,functionName:Oe});_e+=Ge.length,ce>0&&_e>ce&&(ge++,_e=(Ge.length-2)/2,pe[ge]=[]),pe[ge]=[...pe[ge],{allowFailure:!0,callData:Ge,target:Pe}]}catch(Ge){const Ye=getContractError(Ge,{abi:Ie,address:Pe,args:Ce,docsPath:"/docs/contract/multicall",functionName:Oe});if(!X)throw Ye;pe[ge]=[...pe[ge],{allowFailure:!0,callData:"0x",target:Pe}]}}return(await Promise.all(pe.map(Ae=>readContract(Z,{abi:multicall3Abi,address:de,args:[Ae],blockNumber:ie,blockTag:oe,functionName:"aggregate3"})))).flat().map(({returnData:Ae,success:Ie},Pe)=>{const Ce=pe.flat(),{callData:Oe}=Ce[Pe],{abi:Ge,address:Ye,functionName:Ke,args:nt}=le[Pe];try{if(Oe==="0x")throw new AbiDecodingZeroDataError;if(!Ie)throw new RawContractError({data:Ae});const tt=decodeFunctionResult({abi:Ge,args:nt,data:Ae,functionName:Ke});return X?{result:tt,status:"success"}:tt}catch(tt){const at=getContractError(tt,{abi:Ge,address:Ye,args:nt,docsPath:"/docs/contract/multicall",functionName:Ke});if(!X)throw at;return{error:at,result:void 0,status:"failure"}}})}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a$1=Z=>Z instanceof Uint8Array,hexes=Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function bytesToHex(Z){if(!u8a$1(Z))throw new Error("Uint8Array expected");let L="";for(let X=0;X<Z.length;X++)L+=hexes[Z[X]];return L}function numberToHexUnpadded(Z){const L=Z.toString(16);return L.length&1?`0${L}`:L}function hexToNumber(Z){if(typeof Z!="string")throw new Error("hex string expected, got "+typeof Z);return BigInt(Z===""?"0":`0x${Z}`)}function hexToBytes(Z){if(typeof Z!="string")throw new Error("hex string expected, got "+typeof Z);const L=Z.length;if(L%2)throw new Error("padded hex string expected, got unpadded hex of length "+L);const X=new Uint8Array(L/2);for(let te=0;te<X.length;te++){const ie=te*2,oe=Z.slice(ie,ie+2),se=Number.parseInt(oe,16);if(Number.isNaN(se)||se<0)throw new Error("Invalid byte sequence");X[te]=se}return X}function bytesToNumberBE(Z){return hexToNumber(bytesToHex(Z))}function bytesToNumberLE(Z){if(!u8a$1(Z))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(Z).reverse()))}function numberToBytesBE(Z,L){return hexToBytes(Z.toString(16).padStart(L*2,"0"))}function numberToBytesLE(Z,L){return numberToBytesBE(Z,L).reverse()}function numberToVarBytesBE(Z){return hexToBytes(numberToHexUnpadded(Z))}function ensureBytes(Z,L,X){let te;if(typeof L=="string")try{te=hexToBytes(L)}catch(oe){throw new Error(`${Z} must be valid hex string, got "${L}". Cause: ${oe}`)}else if(u8a$1(L))te=Uint8Array.from(L);else throw new Error(`${Z} must be hex string or Uint8Array`);const ie=te.length;if(typeof X=="number"&&ie!==X)throw new Error(`${Z} expected ${X} bytes, got ${ie}`);return te}function concatBytes$1(...Z){const L=new Uint8Array(Z.reduce((te,ie)=>te+ie.length,0));let X=0;return Z.forEach(te=>{if(!u8a$1(te))throw new Error("Uint8Array expected");L.set(te,X),X+=te.length}),L}function equalBytes(Z,L){if(Z.length!==L.length)return!1;for(let X=0;X<Z.length;X++)if(Z[X]!==L[X])return!1;return!0}function utf8ToBytes$1(Z){if(typeof Z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Z}`);return new Uint8Array(new TextEncoder().encode(Z))}function bitLen(Z){let L;for(L=0;Z>_0n$3;Z>>=_1n$4,L+=1);return L}function bitGet(Z,L){return Z>>BigInt(L)&_1n$4}const bitSet=(Z,L,X)=>Z|(X?_1n$4:_0n$3)<<BigInt(L),bitMask=Z=>(_2n$2<<BigInt(Z-1))-_1n$4,u8n=Z=>new Uint8Array(Z),u8fr=Z=>Uint8Array.from(Z);function createHmacDrbg(Z,L,X){if(typeof Z!="number"||Z<2)throw new Error("hashLen must be a number");if(typeof L!="number"||L<2)throw new Error("qByteLen must be a number");if(typeof X!="function")throw new Error("hmacFn must be a function");let te=u8n(Z),ie=u8n(Z),oe=0;const se=()=>{te.fill(1),ie.fill(0),oe=0},ue=(...pe)=>X(ie,te,...pe),ce=(pe=u8n())=>{ie=ue(u8fr([0]),pe),te=ue(),pe.length!==0&&(ie=ue(u8fr([1]),pe),te=ue())},le=()=>{if(oe++>=1e3)throw new Error("drbg: tried 1000 values");let pe=0;const ge=[];for(;pe<L;){te=ue();const _e=te.slice();ge.push(_e),pe+=te.length}return concatBytes$1(...ge)};return(pe,ge)=>{se(),ce(pe);let _e;for(;!(_e=ge(le()));)ce();return se(),_e}}const validatorFns={bigint:Z=>typeof Z=="bigint",function:Z=>typeof Z=="function",boolean:Z=>typeof Z=="boolean",string:Z=>typeof Z=="string",isSafeInteger:Z=>Number.isSafeInteger(Z),array:Z=>Array.isArray(Z),field:(Z,L)=>L.Fp.isValid(Z),hash:Z=>typeof Z=="function"&&Number.isSafeInteger(Z.outputLen)};function validateObject(Z,L,X={}){const te=(ie,oe,se)=>{const ue=validatorFns[oe];if(typeof ue!="function")throw new Error(`Invalid validator "${oe}", expected function`);const ce=Z[ie];if(!(se&&ce===void 0)&&!ue(ce,Z))throw new Error(`Invalid param ${String(ie)}=${ce} (${typeof ce}), expected ${oe}`)};for(const[ie,oe]of Object.entries(L))te(ie,oe,!1);for(const[ie,oe]of Object.entries(X))te(ie,oe,!0);return Z}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));function isBytesEqual(Z,L){const X=isHex(Z)?toBytes$2(Z):Z,te=isHex(L)?toBytes$2(L):L;return equalBytes(X,te)}async function verifyHash(Z,{address:L,hash:X,signature:te,...ie}){const oe=isHex(te)?te:toHex(te);try{const{data:se}=await call(Z,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[L,X,oe],bytecode:universalSignatureValidatorByteCode}),...ie});return isBytesEqual(se??"0x0","0x1")}catch(se){if(se instanceof CallExecutionError)return!1;throw se}}async function verifyMessage(Z,{address:L,message:X,signature:te,...ie}){const oe=hashMessage(X);return verifyHash(Z,{address:L,hash:oe,signature:te,...ie})}async function verifyTypedData(Z,{address:L,signature:X,message:te,primaryType:ie,types:oe,domain:se,...ue}){const ce=hashTypedData({message:te,primaryType:ie,types:oe,domain:se});return verifyHash(Z,{address:L,hash:ce,signature:X,...ue})}function watchBlockNumber(Z,{emitOnBegin:L=!1,emitMissed:X=!1,onBlockNumber:te,onError:ie,poll:oe,pollingInterval:se=Z.pollingInterval}){const ue=typeof oe<"u"?oe:Z.transport.type!=="webSocket";let ce;return ue?(()=>{const pe=stringify(["watchBlockNumber",Z.uid,L,X,se]);return observe(pe,{onBlockNumber:te,onError:ie},ge=>poll(async()=>{try{const _e=await getBlockNumber(Z,{cacheTime:0});if(ce){if(_e===ce)return;if(_e-ce>1&&X)for(let Te=ce+1n;Te<_e;Te++)ge.onBlockNumber(Te,ce),ce=Te}(!ce||_e>ce)&&(ge.onBlockNumber(_e,ce),ce=_e)}catch(_e){ge.onError?.(_e)}},{emitOnBegin:L,interval:se}))})():(()=>{let pe=!0,ge=()=>pe=!1;return(async()=>{try{const{unsubscribe:_e}=await Z.transport.subscribe({params:["newHeads"],onData(Te){if(!pe)return;const Ae=hexToBigInt(Te.result?.number);te(Ae,ce),ce=Ae},onError(Te){ie?.(Te)}});ge=_e,pe||ge()}catch(_e){ie?.(_e)}})(),ge})()}async function waitForTransactionReceipt(Z,{confirmations:L=1,hash:X,onReplaced:te,pollingInterval:ie=Z.pollingInterval,timeout:oe}){const se=stringify(["waitForTransactionReceipt",Z.uid,X]);let ue,ce,le,de=!1;return new Promise((pe,ge)=>{oe&&setTimeout(()=>ge(new WaitForTransactionReceiptTimeoutError({hash:X})),oe);const _e=observe(se,{onReplaced:te,resolve:pe,reject:ge},Te=>{const Ae=watchBlockNumber(Z,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:ie,async onBlockNumber(Ie){if(de)return;let Pe=Ie;const Ce=Oe=>{Ae(),Oe(),_e()};try{if(le){if(Pe-le.blockNumber+1n<L)return;Ce(()=>Te.resolve(le));return}if(ue||(de=!0,await withRetry(async()=>{ue=await getTransaction(Z,{hash:X}),ue.blockNumber&&(Pe=ue.blockNumber)},{delay:({count:Oe})=>~~(1<<Oe)*200,retryCount:6}),de=!1),le=await getTransactionReceipt(Z,{hash:X}),L>0&&Pe-le.blockNumber+1n<L)return;Ce(()=>Te.resolve(le))}catch(Oe){if(ue&&(Oe instanceof TransactionNotFoundError||Oe instanceof TransactionReceiptNotFoundError)){ce=ue;const Ye=(await getBlock(Z,{blockNumber:Pe,includeTransactions:!0})).transactions.find(({from:nt,nonce:tt})=>nt===ce.from&&tt===ce.nonce);if(!Ye||(le=await getTransactionReceipt(Z,{hash:Ye.hash}),Pe-le.blockNumber+1n<L))return;let Ke="replaced";Ye.to===ce.to&&Ye.value===ce.value?Ke="repriced":Ye.from===Ye.to&&Ye.value===0n&&(Ke="cancelled"),Ce(()=>{Te.onReplaced?.({reason:Ke,replacedTransaction:ce,transaction:Ye,transactionReceipt:le}),Te.resolve(le)})}else Ce(()=>Te.reject(Oe))}}})})})}function watchBlocks(Z,{blockTag:L="latest",emitMissed:X=!1,emitOnBegin:te=!1,onBlock:ie,onError:oe,includeTransactions:se,poll:ue,pollingInterval:ce=Z.pollingInterval}){const le=typeof ue<"u"?ue:Z.transport.type!=="webSocket",de=se??!1;let pe;return le?(()=>{const Te=stringify(["watchBlocks",Z.uid,X,te,de,ce]);return observe(Te,{onBlock:ie,onError:oe},Ae=>poll(async()=>{try{const Ie=await getBlock(Z,{blockTag:L,includeTransactions:de});if(Ie.number&&pe?.number){if(Ie.number===pe.number)return;if(Ie.number-pe.number>1&&X)for(let Pe=pe?.number+1n;Pe<Ie.number;Pe++){const Ce=await getBlock(Z,{blockNumber:Pe,includeTransactions:de});Ae.onBlock(Ce,pe),pe=Ce}}(!pe?.number||L==="pending"&&!Ie?.number||Ie.number&&Ie.number>pe.number)&&(Ae.onBlock(Ie,pe),pe=Ie)}catch(Ie){Ae.onError?.(Ie)}},{emitOnBegin:te,interval:ce}))})():(()=>{let Te=!0,Ae=()=>Te=!1;return(async()=>{try{const{unsubscribe:Ie}=await Z.transport.subscribe({params:["newHeads"],onData(Pe){if(!Te)return;const Oe=(Z.chain?.formatters?.block?.format||formatBlock)(Pe.result);ie(Oe,pe),pe=Oe},onError(Pe){oe?.(Pe)}});Ae=Ie,Te||Ae()}catch(Ie){oe?.(Ie)}})(),Ae})()}function watchEvent(Z,{address:L,args:X,batch:te=!0,event:ie,events:oe,onError:se,onLogs:ue,poll:ce,pollingInterval:le=Z.pollingInterval,strict:de}){const pe=typeof ce<"u"?ce:Z.transport.type!=="webSocket",ge=de??!1;return pe?(()=>{const Ae=stringify(["watchEvent",L,X,te,Z.uid,ie,le]);return observe(Ae,{onLogs:ue,onError:se},Ie=>{let Pe,Ce,Oe=!1;const Ge=poll(async()=>{if(!Oe){try{Ce=await createEventFilter(Z,{address:L,args:X,event:ie,events:oe,strict:ge})}catch{}Oe=!0;return}try{let Ye;if(Ce)Ye=await getFilterChanges(Z,{filter:Ce});else{const Ke=await getBlockNumber(Z);Pe&&Pe!==Ke?Ye=await getLogs(Z,{address:L,args:X,event:ie,events:oe,fromBlock:Pe+1n,toBlock:Ke}):Ye=[],Pe=Ke}if(Ye.length===0)return;te?Ie.onLogs(Ye):Ye.forEach(Ke=>Ie.onLogs([Ke]))}catch(Ye){Ce&&Ye instanceof InvalidInputRpcError&&(Oe=!1),Ie.onError?.(Ye)}},{emitOnBegin:!0,interval:le});return async()=>{Ce&&await uninstallFilter(Z,{filter:Ce}),Ge()}})})():(()=>{let Ae=!0,Ie=()=>Ae=!1;return(async()=>{try{const Pe=oe??(ie?[ie]:void 0);let Ce=[];Pe&&(Ce=[Pe.flatMap(Ge=>encodeEventTopics({abi:[Ge],eventName:Ge.name,args:X}))],ie&&(Ce=Ce[0]));const{unsubscribe:Oe}=await Z.transport.subscribe({params:["logs",{address:L,topics:Ce}],onData(Ge){if(!Ae)return;const Ye=Ge.result;try{const{eventName:Ke,args:nt}=decodeEventLog({abi:Pe,data:Ye.data,topics:Ye.topics,strict:ge}),tt=formatLog(Ye,{args:nt,eventName:Ke});ue([tt])}catch(Ke){let nt,tt;if(Ke instanceof DecodeLogDataMismatch||Ke instanceof DecodeLogTopicsMismatch){if(de)return;nt=Ke.abiItem.name,tt=Ke.abiItem.inputs?.some(lt=>!("name"in lt&&lt.name))}const at=formatLog(Ye,{args:tt?[]:{},eventName:nt});ue([at])}},onError(Ge){se?.(Ge)}});Ie=Oe,Ae||Ie()}catch(Pe){se?.(Pe)}})(),Ie})()}function watchPendingTransactions(Z,{batch:L=!0,onError:X,onTransactions:te,poll:ie,pollingInterval:oe=Z.pollingInterval}){return(typeof ie<"u"?ie:Z.transport.type!=="webSocket")?(()=>{const le=stringify(["watchPendingTransactions",Z.uid,L,oe]);return observe(le,{onTransactions:te,onError:X},de=>{let pe;const ge=poll(async()=>{try{if(!pe)try{pe=await createPendingTransactionFilter(Z);return}catch(Te){throw ge(),Te}const _e=await getFilterChanges(Z,{filter:pe});if(_e.length===0)return;L?de.onTransactions(_e):_e.forEach(Te=>de.onTransactions([Te]))}catch(_e){de.onError?.(_e)}},{emitOnBegin:!0,interval:oe});return async()=>{pe&&await uninstallFilter(Z,{filter:pe}),ge()}})})():(()=>{let le=!0,de=()=>le=!1;return(async()=>{try{const{unsubscribe:pe}=await Z.transport.subscribe({params:["newPendingTransactions"],onData(ge){if(!le)return;const _e=ge.result;te([_e])},onError(ge){X?.(ge)}});de=pe,le||de()}catch(pe){X?.(pe)}})(),de})()}function publicActions(Z){return{call:L=>call(Z,L),createBlockFilter:()=>createBlockFilter(Z),createContractEventFilter:L=>createContractEventFilter(Z,L),createEventFilter:L=>createEventFilter(Z,L),createPendingTransactionFilter:()=>createPendingTransactionFilter(Z),estimateContractGas:L=>estimateContractGas(Z,L),estimateGas:L=>estimateGas(Z,L),getBalance:L=>getBalance(Z,L),getBlock:L=>getBlock(Z,L),getBlockNumber:L=>getBlockNumber(Z,L),getBlockTransactionCount:L=>getBlockTransactionCount(Z,L),getBytecode:L=>getBytecode(Z,L),getChainId:()=>getChainId(Z),getEnsAddress:L=>getEnsAddress(Z,L),getEnsAvatar:L=>getEnsAvatar(Z,L),getEnsName:L=>getEnsName(Z,L),getEnsResolver:L=>getEnsResolver(Z,L),getEnsText:L=>getEnsText(Z,L),getFeeHistory:L=>getFeeHistory(Z,L),getFilterChanges:L=>getFilterChanges(Z,L),getFilterLogs:L=>getFilterLogs(Z,L),getGasPrice:()=>getGasPrice(Z),getLogs:L=>getLogs(Z,L),getStorageAt:L=>getStorageAt(Z,L),getTransaction:L=>getTransaction(Z,L),getTransactionConfirmations:L=>getTransactionConfirmations(Z,L),getTransactionCount:L=>getTransactionCount(Z,L),getTransactionReceipt:L=>getTransactionReceipt(Z,L),multicall:L=>multicall(Z,L),readContract:L=>readContract(Z,L),simulateContract:L=>simulateContract(Z,L),verifyMessage:L=>verifyMessage(Z,L),verifyTypedData:L=>verifyTypedData(Z,L),uninstallFilter:L=>uninstallFilter(Z,L),waitForTransactionReceipt:L=>waitForTransactionReceipt(Z,L),watchBlocks:L=>watchBlocks(Z,L),watchBlockNumber:L=>watchBlockNumber(Z,L),watchContractEvent:L=>watchContractEvent(Z,L),watchEvent:L=>watchEvent(Z,L),watchPendingTransactions:L=>watchPendingTransactions(Z,L)}}function createPublicClient(Z){const{key:L="public",name:X="Public Client"}=Z;return createClient$1({...Z,key:L,name:X,type:"publicClient"}).extend(publicActions)}function deployContract(Z,{abi:L,args:X,bytecode:te,...ie}){const oe=encodeDeployData({abi:L,args:X,bytecode:te});return sendTransaction(Z,{...ie,data:oe})}async function getAddresses(Z){return(await Z.request({method:"eth_accounts"})).map(X=>checksumAddress(X))}async function getPermissions(Z){return await Z.request({method:"wallet_getPermissions"})}async function requestAddresses(Z){return(await Z.request({method:"eth_requestAccounts"})).map(X=>getAddress(X))}async function requestPermissions(Z,L){return Z.request({method:"wallet_requestPermissions",params:[L]})}async function signMessage$1(Z,{account:L=Z.account,message:X}){if(!L)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const te=parseAccount(L);if(te.type==="local")return te.signMessage({message:X});const ie=(()=>typeof X=="string"?stringToHex(X):X.raw instanceof Uint8Array?toHex(X.raw):X.raw)();return Z.request({method:"personal_sign",params:[ie,te.address]})}async function signTypedData$1(Z,{account:L=Z.account,domain:X,message:te,primaryType:ie,types:oe}){if(!L)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const se=parseAccount(L),ue={EIP712Domain:[typeof X?.name=="string"&&{name:"name",type:"string"},X?.version&&{name:"version",type:"string"},typeof X?.chainId=="number"&&{name:"chainId",type:"uint256"},X?.verifyingContract&&{name:"verifyingContract",type:"address"},X?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...oe};if(validateTypedData({domain:X,message:te,primaryType:ie,types:ue}),se.type==="local")return se.signTypedData({domain:X,primaryType:ie,types:ue,message:te});const ce=stringify({domain:X??{},primaryType:ie,types:ue,message:te},(le,de)=>isHex(de)?de.toLowerCase():de);return Z.request({method:"eth_signTypedData_v4",params:[se.address,ce]})}async function switchChain(Z,{id:L}){await Z.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(L)}]})}async function watchAsset(Z,L){return await Z.request({method:"wallet_watchAsset",params:L})}function walletActions(Z){return{addChain:L=>addChain(Z,L),deployContract:L=>deployContract(Z,L),getAddresses:()=>getAddresses(Z),getChainId:()=>getChainId(Z),getPermissions:()=>getPermissions(Z),requestAddresses:()=>requestAddresses(Z),requestPermissions:L=>requestPermissions(Z,L),sendTransaction:L=>sendTransaction(Z,L),signMessage:L=>signMessage$1(Z,L),signTypedData:L=>signTypedData$1(Z,L),switchChain:L=>switchChain(Z,L),watchAsset:L=>watchAsset(Z,L),writeContract:L=>writeContract(Z,L)}}function createWalletClient(Z){const{key:L="wallet",name:X="Wallet Client",transport:te}=Z;return createClient$1({...Z,key:L,name:X,transport:oe=>te({...oe,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(Z,L={}){const{key:X="webSocket",name:te="WebSocket JSON-RPC",retryDelay:ie}=L;return({chain:oe,retryCount:se,timeout:ue})=>{const ce=L.retryCount??se,le=ue??L.timeout??1e4,de=Z||oe?.rpcUrls.default.webSocket?.[0];if(!de)throw new UrlRequiredError;return createTransport({key:X,name:te,async request({method:pe,params:ge}){const _e={method:pe,params:ge},Te=await getSocket(de),{error:Ae,result:Ie}=await rpc$1.webSocketAsync(Te,{body:_e,timeout:le});if(Ae)throw new RpcRequestError({body:_e,error:Ae,url:de});return Ie},retryCount:ce,retryDelay:ie,timeout:le,type:"webSocket"},{getSocket(){return getSocket(de)},async subscribe({params:pe,onData:ge,onError:_e}){const Te=await getSocket(de),{result:Ae}=await new Promise((Ie,Pe)=>rpc$1.webSocket(Te,{body:{method:"eth_subscribe",params:pe},onResponse(Ce){if(Ce.error){Pe(Ce.error),_e?.(Ce.error);return}if(typeof Ce.id=="number"){Ie(Ce);return}Ce.method==="eth_subscription"&&ge(Ce.params)}}));return{subscriptionId:Ae,async unsubscribe(){return new Promise(Ie=>rpc$1.webSocket(Te,{body:{method:"eth_unsubscribe",params:[Ae]},onResponse:Ie}))}}}})}}function number(Z){if(!Number.isSafeInteger(Z)||Z<0)throw new Error(`Wrong positive integer: ${Z}`)}function bool(Z){if(typeof Z!="boolean")throw new Error(`Expected boolean, not ${Z}`)}function bytes(Z,...L){if(!(Z instanceof Uint8Array))throw new Error("Expected Uint8Array");if(L.length>0&&!L.includes(Z.length))throw new Error(`Expected Uint8Array of length ${L}, not of length=${Z.length}`)}function hash(Z){if(typeof Z!="function"||typeof Z.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(Z.outputLen),number(Z.blockLen)}function exists(Z,L=!0){if(Z.destroyed)throw new Error("Hash instance has been destroyed");if(L&&Z.finished)throw new Error("Hash#digest() has already been called")}function output(Z,L){bytes(Z);const X=L.outputLen;if(Z.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}const assert={number,bool,bytes,hash,exists,output},crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=Z=>Z instanceof Uint8Array,createView=Z=>new DataView(Z.buffer,Z.byteOffset,Z.byteLength),rotr=(Z,L)=>Z<<32-L|Z>>>L,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(Z,L)=>L.toString(16).padStart(2,"0"));function utf8ToBytes(Z){if(typeof Z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Z}`);return new Uint8Array(new TextEncoder().encode(Z))}function toBytes(Z){if(typeof Z=="string"&&(Z=utf8ToBytes(Z)),!u8a(Z))throw new Error(`expected Uint8Array, got ${typeof Z}`);return Z}function concatBytes(...Z){const L=new Uint8Array(Z.reduce((te,ie)=>te+ie.length,0));let X=0;return Z.forEach(te=>{if(!u8a(te))throw new Error("Uint8Array expected");L.set(te,X),X+=te.length}),L}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(Z){const L=te=>Z().update(toBytes(te)).digest(),X=Z();return L.outputLen=X.outputLen,L.blockLen=X.blockLen,L.create=()=>Z(),L}function randomBytes(Z=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(Z));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(Z,L,X,te){if(typeof Z.setBigUint64=="function")return Z.setBigUint64(L,X,te);const ie=BigInt(32),oe=BigInt(4294967295),se=Number(X>>ie&oe),ue=Number(X&oe),ce=te?4:0,le=te?0:4;Z.setUint32(L+ce,se,te),Z.setUint32(L+le,ue,te)}class SHA2 extends Hash{constructor(L,X,te,ie){super(),this.blockLen=L,this.outputLen=X,this.padOffset=te,this.isLE=ie,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(L),this.view=createView(this.buffer)}update(L){assert.exists(this);const{view:X,buffer:te,blockLen:ie}=this;L=toBytes(L);const oe=L.length;for(let se=0;se<oe;){const ue=Math.min(ie-this.pos,oe-se);if(ue===ie){const ce=createView(L);for(;ie<=oe-se;se+=ie)this.process(ce,se);continue}te.set(L.subarray(se,se+ue),this.pos),this.pos+=ue,se+=ue,this.pos===ie&&(this.process(X,0),this.pos=0)}return this.length+=L.length,this.roundClean(),this}digestInto(L){assert.exists(this),assert.output(L,this),this.finished=!0;const{buffer:X,view:te,blockLen:ie,isLE:oe}=this;let{pos:se}=this;X[se++]=128,this.buffer.subarray(se).fill(0),this.padOffset>ie-se&&(this.process(te,0),se=0);for(let pe=se;pe<ie;pe++)X[pe]=0;setBigUint64(te,ie-8,BigInt(this.length*8),oe),this.process(te,0);const ue=createView(L),ce=this.outputLen;if(ce%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const le=ce/4,de=this.get();if(le>de.length)throw new Error("_sha2: outputLen bigger than state");for(let pe=0;pe<le;pe++)ue.setUint32(4*pe,de[pe],oe)}digest(){const{buffer:L,outputLen:X}=this;this.digestInto(L);const te=L.slice(0,X);return this.destroy(),te}_cloneInto(L){L||(L=new this.constructor),L.set(...this.get());const{blockLen:X,buffer:te,length:ie,finished:oe,destroyed:se,pos:ue}=this;return L.length=ie,L.pos=ue,L.finished=oe,L.destroyed=se,ie%X&&L.buffer.set(te),L}}const Chi=(Z,L,X)=>Z&L^~Z&X,Maj=(Z,L,X)=>Z&L^Z&X^L&X,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:L,B:X,C:te,D:ie,E:oe,F:se,G:ue,H:ce}=this;return[L,X,te,ie,oe,se,ue,ce]}set(L,X,te,ie,oe,se,ue,ce){this.A=L|0,this.B=X|0,this.C=te|0,this.D=ie|0,this.E=oe|0,this.F=se|0,this.G=ue|0,this.H=ce|0}process(L,X){for(let pe=0;pe<16;pe++,X+=4)SHA256_W[pe]=L.getUint32(X,!1);for(let pe=16;pe<64;pe++){const ge=SHA256_W[pe-15],_e=SHA256_W[pe-2],Te=rotr(ge,7)^rotr(ge,18)^ge>>>3,Ae=rotr(_e,17)^rotr(_e,19)^_e>>>10;SHA256_W[pe]=Ae+SHA256_W[pe-7]+Te+SHA256_W[pe-16]|0}let{A:te,B:ie,C:oe,D:se,E:ue,F:ce,G:le,H:de}=this;for(let pe=0;pe<64;pe++){const ge=rotr(ue,6)^rotr(ue,11)^rotr(ue,25),_e=de+ge+Chi(ue,ce,le)+SHA256_K[pe]+SHA256_W[pe]|0,Ae=(rotr(te,2)^rotr(te,13)^rotr(te,22))+Maj(te,ie,oe)|0;de=le,le=ce,ce=ue,ue=se+_e|0,se=oe,oe=ie,ie=te,te=_e+Ae|0}te=te+this.A|0,ie=ie+this.B|0,oe=oe+this.C|0,se=se+this.D|0,ue=ue+this.E|0,ce=ce+this.F|0,le=le+this.G|0,de=de+this.H|0,this.set(te,ie,oe,se,ue,ce,le,de)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=wrapConstructor(()=>new SHA256);wrapConstructor(()=>new SHA224);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(Z,L){const X=Z%L;return X>=_0n$2?X:L+X}function pow(Z,L,X){if(X<=_0n$2||L<_0n$2)throw new Error("Expected power/modulo > 0");if(X===_1n$3)return _0n$2;let te=_1n$3;for(;L>_0n$2;)L&_1n$3&&(te=te*Z%X),Z=Z*Z%X,L>>=_1n$3;return te}function pow2(Z,L,X){let te=Z;for(;L-- >_0n$2;)te*=te,te%=X;return te}function invert$1(Z,L){if(Z===_0n$2||L<=_0n$2)throw new Error(`invert: expected positive integers, got n=${Z} mod=${L}`);let X=mod(Z,L),te=L,ie=_0n$2,oe=_1n$3;for(;X!==_0n$2;){const ue=te/X,ce=te%X,le=ie-oe*ue;te=X,X=ce,ie=oe,oe=le}if(te!==_1n$3)throw new Error("invert: does not exist");return mod(ie,L)}function tonelliShanks(Z){const L=(Z-_1n$3)/_2n$1;let X,te,ie;for(X=Z-_1n$3,te=0;X%_2n$1===_0n$2;X/=_2n$1,te++);for(ie=_2n$1;ie<Z&&pow(ie,L,Z)!==Z-_1n$3;ie++);if(te===1){const se=(Z+_1n$3)/_4n;return function(ce,le){const de=ce.pow(le,se);if(!ce.eql(ce.sqr(de),le))throw new Error("Cannot find square root");return de}}const oe=(X+_1n$3)/_2n$1;return function(ue,ce){if(ue.pow(ce,L)===ue.neg(ue.ONE))throw new Error("Cannot find square root");let le=te,de=ue.pow(ue.mul(ue.ONE,ie),X),pe=ue.pow(ce,oe),ge=ue.pow(ce,X);for(;!ue.eql(ge,ue.ONE);){if(ue.eql(ge,ue.ZERO))return ue.ZERO;let _e=1;for(let Ae=ue.sqr(ge);_e<le&&!ue.eql(Ae,ue.ONE);_e++)Ae=ue.sqr(Ae);const Te=ue.pow(de,_1n$3<<BigInt(le-_e-1));de=ue.sqr(Te),pe=ue.mul(pe,Te),ge=ue.mul(ge,de),le=_e}return pe}}function FpSqrt(Z){if(Z%_4n===_3n$1){const L=(Z+_1n$3)/_4n;return function(te,ie){const oe=te.pow(ie,L);if(!te.eql(te.sqr(oe),ie))throw new Error("Cannot find square root");return oe}}if(Z%_8n===_5n){const L=(Z-_5n)/_8n;return function(te,ie){const oe=te.mul(ie,_2n$1),se=te.pow(oe,L),ue=te.mul(ie,se),ce=te.mul(te.mul(ue,_2n$1),se),le=te.mul(ue,te.sub(ce,te.ONE));if(!te.eql(te.sqr(le),ie))throw new Error("Cannot find square root");return le}}return tonelliShanks(Z)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(Z){const L={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},X=FIELD_FIELDS.reduce((te,ie)=>(te[ie]="function",te),L);return validateObject(Z,X)}function FpPow(Z,L,X){if(X<_0n$2)throw new Error("Expected power > 0");if(X===_0n$2)return Z.ONE;if(X===_1n$3)return L;let te=Z.ONE,ie=L;for(;X>_0n$2;)X&_1n$3&&(te=Z.mul(te,ie)),ie=Z.sqr(ie),X>>=_1n$3;return te}function FpInvertBatch(Z,L){const X=new Array(L.length),te=L.reduce((oe,se,ue)=>Z.is0(se)?oe:(X[ue]=oe,Z.mul(oe,se)),Z.ONE),ie=Z.inv(te);return L.reduceRight((oe,se,ue)=>Z.is0(se)?oe:(X[ue]=Z.mul(oe,X[ue]),Z.mul(oe,se)),ie),X}function nLength(Z,L){const X=L!==void 0?L:Z.toString(2).length,te=Math.ceil(X/8);return{nBitLength:X,nByteLength:te}}function Field(Z,L,X=!1,te={}){if(Z<=_0n$2)throw new Error(`Expected Fp ORDER > 0, got ${Z}`);const{nBitLength:ie,nByteLength:oe}=nLength(Z,L);if(oe>2048)throw new Error("Field lengths over 2048 bytes are not supported");const se=FpSqrt(Z),ue=Object.freeze({ORDER:Z,BITS:ie,BYTES:oe,MASK:bitMask(ie),ZERO:_0n$2,ONE:_1n$3,create:ce=>mod(ce,Z),isValid:ce=>{if(typeof ce!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ce}`);return _0n$2<=ce&&ce<Z},is0:ce=>ce===_0n$2,isOdd:ce=>(ce&_1n$3)===_1n$3,neg:ce=>mod(-ce,Z),eql:(ce,le)=>ce===le,sqr:ce=>mod(ce*ce,Z),add:(ce,le)=>mod(ce+le,Z),sub:(ce,le)=>mod(ce-le,Z),mul:(ce,le)=>mod(ce*le,Z),pow:(ce,le)=>FpPow(ue,ce,le),div:(ce,le)=>mod(ce*invert$1(le,Z),Z),sqrN:ce=>ce*ce,addN:(ce,le)=>ce+le,subN:(ce,le)=>ce-le,mulN:(ce,le)=>ce*le,inv:ce=>invert$1(ce,Z),sqrt:te.sqrt||(ce=>se(ue,ce)),invertBatch:ce=>FpInvertBatch(ue,ce),cmov:(ce,le,de)=>de?le:ce,toBytes:ce=>X?numberToBytesLE(ce,oe):numberToBytesBE(ce,oe),fromBytes:ce=>{if(ce.length!==oe)throw new Error(`Fp.fromBytes: expected ${oe}, got ${ce.length}`);return X?bytesToNumberLE(ce):bytesToNumberBE(ce)}});return Object.freeze(ue)}function hashToPrivateScalar(Z,L,X=!1){Z=ensureBytes("privateHash",Z);const te=Z.length,ie=nLength(L).nByteLength+8;if(ie<24||te<ie||te>1024)throw new Error(`hashToPrivateScalar: expected ${ie}-1024 bytes of input, got ${te}`);const oe=X?bytesToNumberLE(Z):bytesToNumberBE(Z);return mod(oe,L-_1n$3)+_1n$3}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(Z,L){const X=(ie,oe)=>{const se=oe.negate();return ie?se:oe},te=ie=>{const oe=Math.ceil(L/ie)+1,se=2**(ie-1);return{windows:oe,windowSize:se}};return{constTimeNegate:X,unsafeLadder(ie,oe){let se=Z.ZERO,ue=ie;for(;oe>_0n$1;)oe&_1n$2&&(se=se.add(ue)),ue=ue.double(),oe>>=_1n$2;return se},precomputeWindow(ie,oe){const{windows:se,windowSize:ue}=te(oe),ce=[];let le=ie,de=le;for(let pe=0;pe<se;pe++){de=le,ce.push(de);for(let ge=1;ge<ue;ge++)de=de.add(le),ce.push(de);le=de.double()}return ce},wNAF(ie,oe,se){const{windows:ue,windowSize:ce}=te(ie);let le=Z.ZERO,de=Z.BASE;const pe=BigInt(2**ie-1),ge=2**ie,_e=BigInt(ie);for(let Te=0;Te<ue;Te++){const Ae=Te*ce;let Ie=Number(se&pe);se>>=_e,Ie>ce&&(Ie-=ge,se+=_1n$2);const Pe=Ae,Ce=Ae+Math.abs(Ie)-1,Oe=Te%2!==0,Ge=Ie<0;Ie===0?de=de.add(X(Oe,oe[Pe])):le=le.add(X(Ge,oe[Ce]))}return{p:le,f:de}},wNAFCached(ie,oe,se,ue){const ce=ie._WINDOW_SIZE||1;let le=oe.get(ie);return le||(le=this.precomputeWindow(ie,ce),ce!==1&&oe.set(ie,ue(le))),this.wNAF(ce,le,se)}}}function validateBasic(Z){return validateField(Z.Fp),validateObject(Z,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(Z.n,Z.nBitLength),...Z,p:Z.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(Z){const L=validateBasic(Z);validateObject(L,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:X,Fp:te,a:ie}=L;if(X){if(!te.eql(ie,te.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof X!="object"||typeof X.beta!="bigint"||typeof X.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...L})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(L=""){super(L)}},_parseInt(Z){const{Err:L}=DER;if(Z.length<2||Z[0]!==2)throw new L("Invalid signature integer tag");const X=Z[1],te=Z.subarray(2,X+2);if(!X||te.length!==X)throw new L("Invalid signature integer: wrong length");if(te[0]&128)throw new L("Invalid signature integer: negative");if(te[0]===0&&!(te[1]&128))throw new L("Invalid signature integer: unnecessary leading zero");return{d:b2n(te),l:Z.subarray(X+2)}},toSig(Z){const{Err:L}=DER,X=typeof Z=="string"?h2b(Z):Z;if(!(X instanceof Uint8Array))throw new Error("ui8a expected");let te=X.length;if(te<2||X[0]!=48)throw new L("Invalid signature tag");if(X[1]!==te-2)throw new L("Invalid signature: incorrect length");const{d:ie,l:oe}=DER._parseInt(X.subarray(2)),{d:se,l:ue}=DER._parseInt(oe);if(ue.length)throw new L("Invalid signature: left bytes after parsing");return{r:ie,s:se}},hexFromSig(Z){const L=le=>Number.parseInt(le[0],16)&8?"00"+le:le,X=le=>{const de=le.toString(16);return de.length&1?`0${de}`:de},te=L(X(Z.s)),ie=L(X(Z.r)),oe=te.length/2,se=ie.length/2,ue=X(oe),ce=X(se);return`30${X(se+oe+4)}02${ce}${ie}02${ue}${te}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(Z){const L=validatePointOpts(Z),{Fp:X}=L,te=L.toBytes||((Te,Ae,Ie)=>{const Pe=Ae.toAffine();return concatBytes$1(Uint8Array.from([4]),X.toBytes(Pe.x),X.toBytes(Pe.y))}),ie=L.fromBytes||(Te=>{const Ae=Te.subarray(1),Ie=X.fromBytes(Ae.subarray(0,X.BYTES)),Pe=X.fromBytes(Ae.subarray(X.BYTES,2*X.BYTES));return{x:Ie,y:Pe}});function oe(Te){const{a:Ae,b:Ie}=L,Pe=X.sqr(Te),Ce=X.mul(Pe,Te);return X.add(X.add(Ce,X.mul(Te,Ae)),Ie)}if(!X.eql(X.sqr(L.Gy),oe(L.Gx)))throw new Error("bad generator point: equation left != right");function se(Te){return typeof Te=="bigint"&&_0n<Te&&Te<L.n}function ue(Te){if(!se(Te))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ce(Te){const{allowedPrivateKeyLengths:Ae,nByteLength:Ie,wrapPrivateKey:Pe,n:Ce}=L;if(Ae&&typeof Te!="bigint"){if(Te instanceof Uint8Array&&(Te=bytesToHex(Te)),typeof Te!="string"||!Ae.includes(Te.length))throw new Error("Invalid key");Te=Te.padStart(Ie*2,"0")}let Oe;try{Oe=typeof Te=="bigint"?Te:bytesToNumberBE(ensureBytes("private key",Te,Ie))}catch{throw new Error(`private key must be ${Ie} bytes, hex or bigint, not ${typeof Te}`)}return Pe&&(Oe=mod(Oe,Ce)),ue(Oe),Oe}const le=new Map;function de(Te){if(!(Te instanceof pe))throw new Error("ProjectivePoint expected")}class pe{constructor(Ae,Ie,Pe){if(this.px=Ae,this.py=Ie,this.pz=Pe,Ae==null||!X.isValid(Ae))throw new Error("x required");if(Ie==null||!X.isValid(Ie))throw new Error("y required");if(Pe==null||!X.isValid(Pe))throw new Error("z required")}static fromAffine(Ae){const{x:Ie,y:Pe}=Ae||{};if(!Ae||!X.isValid(Ie)||!X.isValid(Pe))throw new Error("invalid affine point");if(Ae instanceof pe)throw new Error("projective point not allowed");const Ce=Oe=>X.eql(Oe,X.ZERO);return Ce(Ie)&&Ce(Pe)?pe.ZERO:new pe(Ie,Pe,X.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ae){const Ie=X.invertBatch(Ae.map(Pe=>Pe.pz));return Ae.map((Pe,Ce)=>Pe.toAffine(Ie[Ce])).map(pe.fromAffine)}static fromHex(Ae){const Ie=pe.fromAffine(ie(ensureBytes("pointHex",Ae)));return Ie.assertValidity(),Ie}static fromPrivateKey(Ae){return pe.BASE.multiply(ce(Ae))}_setWindowSize(Ae){this._WINDOW_SIZE=Ae,le.delete(this)}assertValidity(){if(this.is0()){if(L.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:Ae,y:Ie}=this.toAffine();if(!X.isValid(Ae)||!X.isValid(Ie))throw new Error("bad point: x or y not FE");const Pe=X.sqr(Ie),Ce=oe(Ae);if(!X.eql(Pe,Ce))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ae}=this.toAffine();if(X.isOdd)return!X.isOdd(Ae);throw new Error("Field doesn't support isOdd")}equals(Ae){de(Ae);const{px:Ie,py:Pe,pz:Ce}=this,{px:Oe,py:Ge,pz:Ye}=Ae,Ke=X.eql(X.mul(Ie,Ye),X.mul(Oe,Ce)),nt=X.eql(X.mul(Pe,Ye),X.mul(Ge,Ce));return Ke&&nt}negate(){return new pe(this.px,X.neg(this.py),this.pz)}double(){const{a:Ae,b:Ie}=L,Pe=X.mul(Ie,_3n),{px:Ce,py:Oe,pz:Ge}=this;let Ye=X.ZERO,Ke=X.ZERO,nt=X.ZERO,tt=X.mul(Ce,Ce),at=X.mul(Oe,Oe),lt=X.mul(Ge,Ge),ot=X.mul(Ce,Oe);return ot=X.add(ot,ot),nt=X.mul(Ce,Ge),nt=X.add(nt,nt),Ye=X.mul(Ae,nt),Ke=X.mul(Pe,lt),Ke=X.add(Ye,Ke),Ye=X.sub(at,Ke),Ke=X.add(at,Ke),Ke=X.mul(Ye,Ke),Ye=X.mul(ot,Ye),nt=X.mul(Pe,nt),lt=X.mul(Ae,lt),ot=X.sub(tt,lt),ot=X.mul(Ae,ot),ot=X.add(ot,nt),nt=X.add(tt,tt),tt=X.add(nt,tt),tt=X.add(tt,lt),tt=X.mul(tt,ot),Ke=X.add(Ke,tt),lt=X.mul(Oe,Ge),lt=X.add(lt,lt),tt=X.mul(lt,ot),Ye=X.sub(Ye,tt),nt=X.mul(lt,at),nt=X.add(nt,nt),nt=X.add(nt,nt),new pe(Ye,Ke,nt)}add(Ae){de(Ae);const{px:Ie,py:Pe,pz:Ce}=this,{px:Oe,py:Ge,pz:Ye}=Ae;let Ke=X.ZERO,nt=X.ZERO,tt=X.ZERO;const at=L.a,lt=X.mul(L.b,_3n);let ot=X.mul(Ie,Oe),ft=X.mul(Pe,Ge),Le=X.mul(Ce,Ye),he=X.add(Ie,Pe),we=X.add(Oe,Ge);he=X.mul(he,we),we=X.add(ot,ft),he=X.sub(he,we),we=X.add(Ie,Ce);let $e=X.add(Oe,Ye);return we=X.mul(we,$e),$e=X.add(ot,Le),we=X.sub(we,$e),$e=X.add(Pe,Ce),Ke=X.add(Ge,Ye),$e=X.mul($e,Ke),Ke=X.add(ft,Le),$e=X.sub($e,Ke),tt=X.mul(at,we),Ke=X.mul(lt,Le),tt=X.add(Ke,tt),Ke=X.sub(ft,tt),tt=X.add(ft,tt),nt=X.mul(Ke,tt),ft=X.add(ot,ot),ft=X.add(ft,ot),Le=X.mul(at,Le),we=X.mul(lt,we),ft=X.add(ft,Le),Le=X.sub(ot,Le),Le=X.mul(at,Le),we=X.add(we,Le),ot=X.mul(ft,we),nt=X.add(nt,ot),ot=X.mul($e,we),Ke=X.mul(he,Ke),Ke=X.sub(Ke,ot),ot=X.mul(he,ft),tt=X.mul($e,tt),tt=X.add(tt,ot),new pe(Ke,nt,tt)}subtract(Ae){return this.add(Ae.negate())}is0(){return this.equals(pe.ZERO)}wNAF(Ae){return _e.wNAFCached(this,le,Ae,Ie=>{const Pe=X.invertBatch(Ie.map(Ce=>Ce.pz));return Ie.map((Ce,Oe)=>Ce.toAffine(Pe[Oe])).map(pe.fromAffine)})}multiplyUnsafe(Ae){const Ie=pe.ZERO;if(Ae===_0n)return Ie;if(ue(Ae),Ae===_1n$1)return this;const{endo:Pe}=L;if(!Pe)return _e.unsafeLadder(this,Ae);let{k1neg:Ce,k1:Oe,k2neg:Ge,k2:Ye}=Pe.splitScalar(Ae),Ke=Ie,nt=Ie,tt=this;for(;Oe>_0n||Ye>_0n;)Oe&_1n$1&&(Ke=Ke.add(tt)),Ye&_1n$1&&(nt=nt.add(tt)),tt=tt.double(),Oe>>=_1n$1,Ye>>=_1n$1;return Ce&&(Ke=Ke.negate()),Ge&&(nt=nt.negate()),nt=new pe(X.mul(nt.px,Pe.beta),nt.py,nt.pz),Ke.add(nt)}multiply(Ae){ue(Ae);let Ie=Ae,Pe,Ce;const{endo:Oe}=L;if(Oe){const{k1neg:Ge,k1:Ye,k2neg:Ke,k2:nt}=Oe.splitScalar(Ie);let{p:tt,f:at}=this.wNAF(Ye),{p:lt,f:ot}=this.wNAF(nt);tt=_e.constTimeNegate(Ge,tt),lt=_e.constTimeNegate(Ke,lt),lt=new pe(X.mul(lt.px,Oe.beta),lt.py,lt.pz),Pe=tt.add(lt),Ce=at.add(ot)}else{const{p:Ge,f:Ye}=this.wNAF(Ie);Pe=Ge,Ce=Ye}return pe.normalizeZ([Pe,Ce])[0]}multiplyAndAddUnsafe(Ae,Ie,Pe){const Ce=pe.BASE,Oe=(Ye,Ke)=>Ke===_0n||Ke===_1n$1||!Ye.equals(Ce)?Ye.multiplyUnsafe(Ke):Ye.multiply(Ke),Ge=Oe(this,Ie).add(Oe(Ae,Pe));return Ge.is0()?void 0:Ge}toAffine(Ae){const{px:Ie,py:Pe,pz:Ce}=this,Oe=this.is0();Ae==null&&(Ae=Oe?X.ONE:X.inv(Ce));const Ge=X.mul(Ie,Ae),Ye=X.mul(Pe,Ae),Ke=X.mul(Ce,Ae);if(Oe)return{x:X.ZERO,y:X.ZERO};if(!X.eql(Ke,X.ONE))throw new Error("invZ was invalid");return{x:Ge,y:Ye}}isTorsionFree(){const{h:Ae,isTorsionFree:Ie}=L;if(Ae===_1n$1)return!0;if(Ie)return Ie(pe,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ae,clearCofactor:Ie}=L;return Ae===_1n$1?this:Ie?Ie(pe,this):this.multiplyUnsafe(L.h)}toRawBytes(Ae=!0){return this.assertValidity(),te(pe,this,Ae)}toHex(Ae=!0){return bytesToHex(this.toRawBytes(Ae))}}pe.BASE=new pe(L.Gx,L.Gy,X.ONE),pe.ZERO=new pe(X.ZERO,X.ONE,X.ZERO);const ge=L.nBitLength,_e=wNAF(pe,L.endo?Math.ceil(ge/2):ge);return{CURVE:L,ProjectivePoint:pe,normPrivateKeyToScalar:ce,weierstrassEquation:oe,isWithinCurveOrder:se}}function validateOpts(Z){const L=validateBasic(Z);return validateObject(L,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...L})}function weierstrass(Z){const L=validateOpts(Z),{Fp:X,n:te}=L,ie=X.BYTES+1,oe=2*X.BYTES+1;function se(we){return _0n<we&&we<X.ORDER}function ue(we){return mod(we,te)}function ce(we){return invert$1(we,te)}const{ProjectivePoint:le,normPrivateKeyToScalar:de,weierstrassEquation:pe,isWithinCurveOrder:ge}=weierstrassPoints({...L,toBytes(we,$e,Ne){const Me=$e.toAffine(),Ze=X.toBytes(Me.x),We=concatBytes$1;return Ne?We(Uint8Array.from([$e.hasEvenY()?2:3]),Ze):We(Uint8Array.from([4]),Ze,X.toBytes(Me.y))},fromBytes(we){const $e=we.length,Ne=we[0],Me=we.subarray(1);if($e===ie&&(Ne===2||Ne===3)){const Ze=bytesToNumberBE(Me);if(!se(Ze))throw new Error("Point is not on curve");const We=pe(Ze);let Be=X.sqrt(We);const ve=(Be&_1n$1)===_1n$1;return(Ne&1)===1!==ve&&(Be=X.neg(Be)),{x:Ze,y:Be}}else if($e===oe&&Ne===4){const Ze=X.fromBytes(Me.subarray(0,X.BYTES)),We=X.fromBytes(Me.subarray(X.BYTES,2*X.BYTES));return{x:Ze,y:We}}else throw new Error(`Point of length ${$e} was invalid. Expected ${ie} compressed bytes or ${oe} uncompressed bytes`)}}),_e=we=>bytesToHex(numberToBytesBE(we,L.nByteLength));function Te(we){const $e=te>>_1n$1;return we>$e}function Ae(we){return Te(we)?ue(-we):we}const Ie=(we,$e,Ne)=>bytesToNumberBE(we.slice($e,Ne));class Pe{constructor($e,Ne,Me){this.r=$e,this.s=Ne,this.recovery=Me,this.assertValidity()}static fromCompact($e){const Ne=L.nByteLength;return $e=ensureBytes("compactSignature",$e,Ne*2),new Pe(Ie($e,0,Ne),Ie($e,Ne,2*Ne))}static fromDER($e){const{r:Ne,s:Me}=DER.toSig(ensureBytes("DER",$e));return new Pe(Ne,Me)}assertValidity(){if(!ge(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ge(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($e){return new Pe(this.r,this.s,$e)}recoverPublicKey($e){const{r:Ne,s:Me,recovery:Ze}=this,We=nt(ensureBytes("msgHash",$e));if(Ze==null||![0,1,2,3].includes(Ze))throw new Error("recovery id invalid");const Be=Ze===2||Ze===3?Ne+L.n:Ne;if(Be>=X.ORDER)throw new Error("recovery id 2 or 3 invalid");const ve=Ze&1?"03":"02",Fe=le.fromHex(ve+_e(Be)),it=ce(Be),xe=ue(-We*it),Ve=ue(Me*it),Ue=le.BASE.multiplyAndAddUnsafe(Fe,xe,Ve);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return Te(this.s)}normalizeS(){return this.hasHighS()?new Pe(this.r,ue(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return _e(this.r)+_e(this.s)}}const Ce={isValidPrivateKey(we){try{return de(we),!0}catch{return!1}},normPrivateKeyToScalar:de,randomPrivateKey:()=>{const we=L.randomBytes(X.BYTES+8),$e=hashToPrivateScalar(we,te);return numberToBytesBE($e,L.nByteLength)},precompute(we=8,$e=le.BASE){return $e._setWindowSize(we),$e.multiply(BigInt(3)),$e}};function Oe(we,$e=!0){return le.fromPrivateKey(we).toRawBytes($e)}function Ge(we){const $e=we instanceof Uint8Array,Ne=typeof we=="string",Me=($e||Ne)&&we.length;return $e?Me===ie||Me===oe:Ne?Me===2*ie||Me===2*oe:we instanceof le}function Ye(we,$e,Ne=!0){if(Ge(we))throw new Error("first arg must be private key");if(!Ge($e))throw new Error("second arg must be public key");return le.fromHex($e).multiply(de(we)).toRawBytes(Ne)}const Ke=L.bits2int||function(we){const $e=bytesToNumberBE(we),Ne=we.length*8-L.nBitLength;return Ne>0?$e>>BigInt(Ne):$e},nt=L.bits2int_modN||function(we){return ue(Ke(we))},tt=bitMask(L.nBitLength);function at(we){if(typeof we!="bigint")throw new Error("bigint expected");if(!(_0n<=we&&we<tt))throw new Error(`bigint expected < 2^${L.nBitLength}`);return numberToBytesBE(we,L.nByteLength)}function lt(we,$e,Ne=ot){if(["recovered","canonical"].some(Xe=>Xe in Ne))throw new Error("sign() legacy options not supported");const{hash:Me,randomBytes:Ze}=L;let{lowS:We,prehash:Be,extraEntropy:ve}=Ne;We==null&&(We=!0),we=ensureBytes("msgHash",we),Be&&(we=ensureBytes("prehashed msgHash",Me(we)));const Fe=nt(we),it=de($e),xe=[at(it),at(Fe)];if(ve!=null){const Xe=ve===!0?Ze(X.BYTES):ve;xe.push(ensureBytes("extraEntropy",Xe,X.BYTES))}const Ve=concatBytes$1(...xe),Ue=Fe;function qe(Xe){const rt=Ke(Xe);if(!ge(rt))return;const Qe=ce(rt),Je=le.BASE.multiply(rt).toAffine(),dt=ue(Je.x);if(dt===_0n)return;const et=ue(Qe*ue(Ue+dt*it));if(et===_0n)return;let st=(Je.x===dt?0:2)|Number(Je.y&_1n$1),qt=et;return We&&Te(et)&&(qt=Ae(et),st^=1),new Pe(dt,qt,st)}return{seed:Ve,k2sig:qe}}const ot={lowS:L.lowS,prehash:!1},ft={lowS:L.lowS,prehash:!1};function Le(we,$e,Ne=ot){const{seed:Me,k2sig:Ze}=lt(we,$e,Ne),We=L;return createHmacDrbg(We.hash.outputLen,We.nByteLength,We.hmac)(Me,Ze)}le.BASE._setWindowSize(8);function he(we,$e,Ne,Me=ft){const Ze=we;if($e=ensureBytes("msgHash",$e),Ne=ensureBytes("publicKey",Ne),"strict"in Me)throw new Error("options.strict was renamed to lowS");const{lowS:We,prehash:Be}=Me;let ve,Fe;try{if(typeof Ze=="string"||Ze instanceof Uint8Array)try{ve=Pe.fromDER(Ze)}catch(Je){if(!(Je instanceof DER.Err))throw Je;ve=Pe.fromCompact(Ze)}else if(typeof Ze=="object"&&typeof Ze.r=="bigint"&&typeof Ze.s=="bigint"){const{r:Je,s:dt}=Ze;ve=new Pe(Je,dt)}else throw new Error("PARSE");Fe=le.fromHex(Ne)}catch(Je){if(Je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(We&&ve.hasHighS())return!1;Be&&($e=L.hash($e));const{r:it,s:xe}=ve,Ve=nt($e),Ue=ce(xe),qe=ue(Ve*Ue),Xe=ue(it*Ue),rt=le.BASE.multiplyAndAddUnsafe(Fe,qe,Xe)?.toAffine();return rt?ue(rt.x)===it:!1}return{CURVE:L,getPublicKey:Oe,getSharedSecret:Ye,sign:Le,verify:he,ProjectivePoint:le,Signature:Pe,utils:Ce}}class HMAC extends Hash{constructor(L,X){super(),this.finished=!1,this.destroyed=!1,assert.hash(L);const te=toBytes(X);if(this.iHash=L.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ie=this.blockLen,oe=new Uint8Array(ie);oe.set(te.length>ie?L.create().update(te).digest():te);for(let se=0;se<oe.length;se++)oe[se]^=54;this.iHash.update(oe),this.oHash=L.create();for(let se=0;se<oe.length;se++)oe[se]^=106;this.oHash.update(oe),oe.fill(0)}update(L){return assert.exists(this),this.iHash.update(L),this}digestInto(L){assert.exists(this),assert.bytes(L,this.outputLen),this.finished=!0,this.iHash.digestInto(L),this.oHash.update(L),this.oHash.digestInto(L),this.destroy()}digest(){const L=new Uint8Array(this.oHash.outputLen);return this.digestInto(L),L}_cloneInto(L){L||(L=Object.create(Object.getPrototypeOf(this),{}));const{oHash:X,iHash:te,finished:ie,destroyed:oe,blockLen:se,outputLen:ue}=this;return L=L,L.finished=ie,L.destroyed=oe,L.blockLen=se,L.outputLen=ue,L.oHash=X._cloneInto(L.oHash),L.iHash=te._cloneInto(L.iHash),L}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(Z,L,X)=>new HMAC(Z,L).update(X).digest();hmac.create=(Z,L)=>new HMAC(Z,L);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(Z){return{hash:Z,hmac:(L,...X)=>hmac(Z,L,concatBytes(...X)),randomBytes}}function createCurve(Z,L){const X=te=>weierstrass({...Z,...getHash(te)});return Object.freeze({...X(L),create:X})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(Z,L)=>(Z+L/_2n)/L;function sqrtMod(Z){const L=secp256k1P,X=BigInt(3),te=BigInt(6),ie=BigInt(11),oe=BigInt(22),se=BigInt(23),ue=BigInt(44),ce=BigInt(88),le=Z*Z*Z%L,de=le*le*Z%L,pe=pow2(de,X,L)*de%L,ge=pow2(pe,X,L)*de%L,_e=pow2(ge,_2n,L)*le%L,Te=pow2(_e,ie,L)*_e%L,Ae=pow2(Te,oe,L)*Te%L,Ie=pow2(Ae,ue,L)*Ae%L,Pe=pow2(Ie,ce,L)*Ie%L,Ce=pow2(Pe,ue,L)*Ae%L,Oe=pow2(Ce,X,L)*de%L,Ge=pow2(Oe,se,L)*Te%L,Ye=pow2(Ge,te,L)*le%L,Ke=pow2(Ye,_2n,L);if(!Fp.eql(Fp.sqr(Ke),Z))throw new Error("Cannot find square root");return Ke}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:Z=>{const L=secp256k1N,X=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),te=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ie=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),oe=X,se=BigInt("0x100000000000000000000000000000000"),ue=divNearest(oe*Z,L),ce=divNearest(-te*Z,L);let le=mod(Z-ue*X-ce*ie,L),de=mod(-ue*te-ce*oe,L);const pe=le>se,ge=de>se;if(pe&&(le=L-le),ge&&(de=L-de),le>se||de>se)throw new Error("splitScalar: Endomorphism failed, k="+Z);return{k1neg:pe,k1:le,k2neg:ge,k2:de}}}},sha256);BigInt(0);secp256k1.ProjectivePoint;function signatureToHex({r:Z,s:L,v:X}){return`0x${new secp256k1.Signature(hexToBigInt(Z),hexToBigInt(L)).toCompactHex()}${toHex(X).slice(2)}`}function t$3(Z,L){throw new Error(L??`Unexpected value: ${Z}`)}function u$2(...Z){return Z.reduce((L,X)=>X<L?X:L)}function m$3(Z,L){return Z<L?-1:Z>L?1:0}function*f$3(Z,L){for(let X=0;X<Z.length;X+=L)yield Z.slice(X,X+L)}function P$5(Z){return Z!==void 0}function b$3(Z){return new Promise(L=>setTimeout(()=>L(),Z))}var r$2=class extends Error{name="MUDError"};function ne(Z){let L=[],X=[];for(let te of Z)T$1(te)?X.push(te):L.push(te);return{staticFields:L,dynamicFields:X}}var d$4=class extends r$2{name="InvalidHexValueError";constructor(L){super(`Hex value "${L}" is an odd length (${L.length-2}). It must be an even length.`)}},f$2=class extends r$2{name="InvalidHexLengthForSchemaError";constructor(L){super(`Hex value "${L}" has length of ${L.length-2}, but expected length of 64 for a schema.`)}},x$5=class extends r$2{name="InvalidHexLengthForPackedCounterError";constructor(L){super(`Hex value "${L}" has length of ${L.length-2}, but expected length of 64 for a packed counter.`)}},g$5=class extends r$2{name="InvalidHexLengthForStaticFieldError";constructor(L,X){super(`Hex value "${X}" has length of ${X.length-2}, but expected length of ${A$2[L]*2} for ${L} type.`)}},S$1=class extends r$2{name="InvalidHexLengthForArrayFieldError";constructor(L,X){super(`Hex value "${X}" has length of ${X.length-2}, but expected a multiple of ${A$2[L]*2} for ${L}[] type.`)}},A$1=class extends r$2{name="SchemaStaticLengthMismatchError";constructor(L,X,te){super(`Schema "${L}" static data length (${X}) did not match the summed length of all static fields (${te}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},v$3=class extends r$2{name="PackedCounterLengthMismatchError";constructor(L,X,te){super(`PackedCounter "${L}" total bytes length (${X}) did not match the summed length of all field byte lengths (${te}).`)}};function p$1(Z,L){if(L.length>3&&L.length%2!==0)throw new d$4(L);if((L.length-2)/2!==A$2[Z])throw new g$5(Z,L);switch(Z){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let X=hexToBigInt(L,{signed:Z.startsWith("int")}),te=typeof a$3[Z];if(te==="number")return Number(X);if(te==="bigint")return X;throw new Error(`Unexpected default value type (${te}) for ABI type (${Z})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return L;case"bool":return hexToBool(L);case"address":return getAddress(L)}return t$3(Z,`Unsupported static ABI type: ${Z}`)}function h$3(Z,L){if(Z==="bytes")return L;if(Z==="string")return hexToString(L);if(L.length>3&&L.length%2!==0)throw new d$4(L);let X=(L.length-2)/2;switch(Z){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let te=r$3(Z),ie=A$2[te];if(X%ie!==0)throw new S$1(te,L);return new Array(X/ie).fill(void 0).map((oe,se)=>{let ue=sliceHex(L,se*ie,(se+1)*ie);return p$1(te,ue)})}}return t$3(Z,`Unsupported dynamic ABI type: ${Z}`)}function ke(Z,L){return T$1(Z)?h$3(Z,L):p$1(Z,L)}function ze(Z,L){if(Z.staticFields.length!==L.length)throw new Error(`key tuple length ${L.length} does not match key schema length ${Z.staticFields.length}`);return L.map((X,te)=>decodeAbiParameters([{type:Z.staticFields[te]}],X)[0])}function B$2(Z){if(Z.length!==66)throw new x$5(Z);let L=p$1("uint56",sliceHex(Z,32-7,32)),X=h$3("uint40[]",sliceHex(Z,0,32-7)),te=Object.freeze([...X].reverse()),ie=BigInt(te.reduce((oe,se)=>oe+se,0));if(ie!==L)throw new v$3(Z,L,ie);return{totalByteLength:L,fieldByteLengths:te}}function P$4(Z){return Z.reduce((L,X)=>L+A$2[X],0)}function ct(Z,L){let X=[],te=0;Z.staticFields.forEach(se=>{let ue=A$2[se],ce=p$1(se,sliceHex(L,te,te+ue));te+=ue,X.push(ce)});let ie=P$4(Z.staticFields),oe=te;if(oe!==ie&&console.warn("Decoded static data length does not match schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:ie,actualLength:oe,bytesOffset:te}),Z.dynamicFields.length>0){let se=B$2(sliceHex(L,te,te+32));te+=32,Z.dynamicFields.forEach((ce,le)=>{let de=se.fieldByteLengths[le];if(de>0){let pe=h$3(ce,sliceHex(L,te,te+de));te+=de,X.push(pe)}else X.push(s$3[ce])});let ue=te-32-oe;BigInt(ue)!==se.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:se.totalByteLength,actualLength:ue,bytesOffset:te})}return X}function D$1(Z){if(Z.length!==66)throw new f$2(Z);let L=hexToNumber$1(sliceHex(Z,0,2)),X=hexToNumber$1(sliceHex(Z,2,3)),te=hexToNumber$1(sliceHex(Z,3,4)),ie=[],oe=[];for(let ue=4;ue<4+X;ue++){let ce=hexToNumber$1(sliceHex(Z,ue,ue+1));ie.push(n$1[ce])}for(let ue=4+X;ue<4+X+te;ue++){let ce=hexToNumber$1(sliceHex(Z,ue,ue+1));oe.push(n$1[ce])}let se=ie.reduce((ue,ce)=>ue+A$2[ce],0);if(se!==L)throw console.warn(`Schema "${Z}" static data length (${L}) did not match the summed length of all static fields (${se}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new A$1(Z,L,se);return{staticFields:ie,dynamicFields:oe}}var browserExports={},browser={get exports(){return browserExports},set exports(Z){browserExports=Z}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var Z=1e3,L=Z*60,X=L*60,te=X*24,ie=te*7,oe=te*365.25;ms=function(de,pe){pe=pe||{};var ge=typeof de;if(ge==="string"&&de.length>0)return se(de);if(ge==="number"&&isFinite(de))return pe.long?ce(de):ue(de);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(de))};function se(de){if(de=String(de),!(de.length>100)){var pe=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(de);if(pe){var ge=parseFloat(pe[1]),_e=(pe[2]||"ms").toLowerCase();switch(_e){case"years":case"year":case"yrs":case"yr":case"y":return ge*oe;case"weeks":case"week":case"w":return ge*ie;case"days":case"day":case"d":return ge*te;case"hours":case"hour":case"hrs":case"hr":case"h":return ge*X;case"minutes":case"minute":case"mins":case"min":case"m":return ge*L;case"seconds":case"second":case"secs":case"sec":case"s":return ge*Z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return ge;default:return}}}}function ue(de){var pe=Math.abs(de);return pe>=te?Math.round(de/te)+"d":pe>=X?Math.round(de/X)+"h":pe>=L?Math.round(de/L)+"m":pe>=Z?Math.round(de/Z)+"s":de+"ms"}function ce(de){var pe=Math.abs(de);return pe>=te?le(de,pe,te,"day"):pe>=X?le(de,pe,X,"hour"):pe>=L?le(de,pe,L,"minute"):pe>=Z?le(de,pe,Z,"second"):de+" ms"}function le(de,pe,ge,_e){var Te=pe>=ge*1.5;return Math.round(de/ge)+" "+_e+(Te?"s":"")}return ms}function setup$1(Z){X.debug=X,X.default=X,X.coerce=ce,X.disable=oe,X.enable=ie,X.enabled=se,X.humanize=requireMs(),X.destroy=le,Object.keys(Z).forEach(de=>{X[de]=Z[de]}),X.names=[],X.skips=[],X.formatters={};function L(de){let pe=0;for(let ge=0;ge<de.length;ge++)pe=(pe<<5)-pe+de.charCodeAt(ge),pe|=0;return X.colors[Math.abs(pe)%X.colors.length]}X.selectColor=L;function X(de){let pe,ge=null,_e,Te;function Ae(...Ie){if(!Ae.enabled)return;const Pe=Ae,Ce=Number(new Date),Oe=Ce-(pe||Ce);Pe.diff=Oe,Pe.prev=pe,Pe.curr=Ce,pe=Ce,Ie[0]=X.coerce(Ie[0]),typeof Ie[0]!="string"&&Ie.unshift("%O");let Ge=0;Ie[0]=Ie[0].replace(/%([a-zA-Z%])/g,(Ke,nt)=>{if(Ke==="%%")return"%";Ge++;const tt=X.formatters[nt];if(typeof tt=="function"){const at=Ie[Ge];Ke=tt.call(Pe,at),Ie.splice(Ge,1),Ge--}return Ke}),X.formatArgs.call(Pe,Ie),(Pe.log||X.log).apply(Pe,Ie)}return Ae.namespace=de,Ae.useColors=X.useColors(),Ae.color=X.selectColor(de),Ae.extend=te,Ae.destroy=X.destroy,Object.defineProperty(Ae,"enabled",{enumerable:!0,configurable:!1,get:()=>ge!==null?ge:(_e!==X.namespaces&&(_e=X.namespaces,Te=X.enabled(de)),Te),set:Ie=>{ge=Ie}}),typeof X.init=="function"&&X.init(Ae),Ae}function te(de,pe){const ge=X(this.namespace+(typeof pe>"u"?":":pe)+de);return ge.log=this.log,ge}function ie(de){X.save(de),X.namespaces=de,X.names=[],X.skips=[];let pe;const ge=(typeof de=="string"?de:"").split(/[\s,]+/),_e=ge.length;for(pe=0;pe<_e;pe++)ge[pe]&&(de=ge[pe].replace(/\*/g,".*?"),de[0]==="-"?X.skips.push(new RegExp("^"+de.slice(1)+"$")):X.names.push(new RegExp("^"+de+"$")))}function oe(){const de=[...X.names.map(ue),...X.skips.map(ue).map(pe=>"-"+pe)].join(",");return X.enable(""),de}function se(de){if(de[de.length-1]==="*")return!0;let pe,ge;for(pe=0,ge=X.skips.length;pe<ge;pe++)if(X.skips[pe].test(de))return!1;for(pe=0,ge=X.names.length;pe<ge;pe++)if(X.names[pe].test(de))return!0;return!1}function ue(de){return de.toString().substring(2,de.toString().length-2).replace(/\.\*\?$/,"*")}function ce(de){return de instanceof Error?de.stack||de.message:de}function le(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}var common=setup$1;(function(Z,L){L.formatArgs=te,L.save=ie,L.load=oe,L.useColors=X,L.storage=se(),L.destroy=(()=>{let ce=!1;return()=>{ce||(ce=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),L.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function X(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function te(ce){if(ce[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ce[0]+(this.useColors?"%c ":" ")+"+"+Z.exports.humanize(this.diff),!this.useColors)return;const le="color: "+this.color;ce.splice(1,0,le,"color: inherit");let de=0,pe=0;ce[0].replace(/%[a-zA-Z%]/g,ge=>{ge!=="%%"&&(de++,ge==="%c"&&(pe=de))}),ce.splice(pe,0,le)}L.log=console.debug||console.log||(()=>{});function ie(ce){try{ce?L.storage.setItem("debug",ce):L.storage.removeItem("debug")}catch{}}function oe(){let ce;try{ce=L.storage.getItem("debug")}catch{}return!ce&&typeof process<"u"&&"env"in process&&(ce={}.DEBUG),ce}function se(){try{return localStorage}catch{}}Z.exports=common(L);const{formatters:ue}=Z.exports;ue.j=function(ce){try{return JSON.stringify(ce)}catch(le){return"[UnexpectedJSONParseError]: "+le.message}}})(browser,browserExports);const g$4=browserExports;function generatePrivateKey(){return toHex(secp256k1.utils.randomPrivateKey())}function toAccount(Z){if(typeof Z=="string"){if(!isAddress(Z))throw new InvalidAddressError({address:Z});return{address:Z,type:"json-rpc"}}if(!isAddress(Z.address))throw new InvalidAddressError({address:Z.address});return{address:Z.address,signMessage:Z.signMessage,signTransaction:Z.signTransaction,signTypedData:Z.signTypedData,source:"custom",type:"local"}}async function sign({hash:Z,privateKey:L}){const{r:X,s:te,recovery:ie}=secp256k1.sign(Z.slice(2),L.slice(2));return{r:toHex(X),s:toHex(te),v:ie?28n:27n}}async function signMessage({message:Z,privateKey:L}){const X=await sign({hash:hashMessage(Z),privateKey:L});return signatureToHex(X)}async function signTransaction({privateKey:Z,transaction:L,serializer:X=serializeTransaction}){const te=await sign({hash:keccak256(X(L)),privateKey:Z});return X(L,te)}async function signTypedData({privateKey:Z,...L}){const X=await sign({hash:hashTypedData(L),privateKey:Z});return signatureToHex(X)}function privateKeyToAccount(Z){const L=toHex(secp256k1.getPublicKey(Z.slice(2),!1)),X=publicKeyToAddress(L);return{...toAccount({address:X,async signMessage({message:ie}){return signMessage({message:ie,privateKey:Z})},async signTransaction(ie,{serializer:oe}={}){return signTransaction({privateKey:Z,transaction:ie,serializer:oe})},async signTypedData(ie){return signTypedData({...ie,privateKey:Z})}}),publicKey:L,source:"privateKey"}}var retryExports={},retry$3={get exports(){return retryExports},set exports(Z){retryExports=Z}},retry$2={};function RetryOperation(Z,L){typeof L=="boolean"&&(L={forever:L}),this._originalTimeouts=JSON.parse(JSON.stringify(Z)),this._timeouts=Z,this._options=L||{},this._maxRetryTime=L&&L.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(Z){if(this._timeout&&clearTimeout(this._timeout),!Z)return!1;var L=new Date().getTime();if(Z&&L-this._operationStart>=this._maxRetryTime)return this._errors.push(Z),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(Z);var X=this._timeouts.shift();if(X===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),X=this._cachedTimeouts.slice(-1);else return!1;var te=this;return this._timer=setTimeout(function(){te._attempts++,te._operationTimeoutCb&&(te._timeout=setTimeout(function(){te._operationTimeoutCb(te._attempts)},te._operationTimeout),te._options.unref&&te._timeout.unref()),te._fn(te._attempts)},X),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(Z,L){this._fn=Z,L&&(L.timeout&&(this._operationTimeout=L.timeout),L.cb&&(this._operationTimeoutCb=L.cb));var X=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){X._operationTimeoutCb()},X._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(Z){console.log("Using RetryOperation.try() is deprecated"),this.attempt(Z)};RetryOperation.prototype.start=function(Z){console.log("Using RetryOperation.start() is deprecated"),this.attempt(Z)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var Z={},L=null,X=0,te=0;te<this._errors.length;te++){var ie=this._errors[te],oe=ie.message,se=(Z[oe]||0)+1;Z[oe]=se,se>=X&&(L=ie,X=se)}return L};(function(Z){var L=retry_operation;Z.operation=function(X){var te=Z.timeouts(X);return new L(te,{forever:X&&(X.forever||X.retries===1/0),unref:X&&X.unref,maxRetryTime:X&&X.maxRetryTime})},Z.timeouts=function(X){if(X instanceof Array)return[].concat(X);var te={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var ie in X)te[ie]=X[ie];if(te.minTimeout>te.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var oe=[],se=0;se<te.retries;se++)oe.push(this.createTimeout(se,te));return X&&X.forever&&!oe.length&&oe.push(this.createTimeout(se,te)),oe.sort(function(ue,ce){return ue-ce}),oe},Z.createTimeout=function(X,te){var ie=te.randomize?Math.random()+1:1,oe=Math.round(ie*Math.max(te.minTimeout,1)*Math.pow(te.factor,X));return oe=Math.min(oe,te.maxTimeout),oe},Z.wrap=function(X,te,ie){if(te instanceof Array&&(ie=te,te=null),!ie){ie=[];for(var oe in X)typeof X[oe]=="function"&&ie.push(oe)}for(var se=0;se<ie.length;se++){var ue=ie[se],ce=X[ue];X[ue]=function(de){var pe=Z.operation(te),ge=Array.prototype.slice.call(arguments,1),_e=ge.pop();ge.push(function(Te){pe.retry(Te)||(Te&&(arguments[0]=pe.mainError()),_e.apply(this,arguments))}),pe.attempt(function(){de.apply(X,ge)})}.bind(X,ce),X[ue].options=te}}})(retry$2);(function(Z){Z.exports=retry$2})(retry$3);const retry$1=getDefaultExportFromCjs(retryExports),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);let AbortError$1=class extends Error{constructor(L){super(),L instanceof Error?(this.originalError=L,{message:L}=L):(this.originalError=new Error(L),this.originalError.stack=this.stack),this.name="AbortError",this.message=L}};const decorateErrorWithCounts=(Z,L,X)=>{const te=X.retries-(L-1);return Z.attemptNumber=L,Z.retriesLeft=te,Z},isNetworkError=Z=>networkErrorMsgs.has(Z),getDOMException=Z=>globalThis.DOMException===void 0?new Error(Z):new DOMException(Z);async function pRetry(Z,L){return new Promise((X,te)=>{L={onFailedAttempt(){},retries:10,...L};const ie=retry$1.operation(L);ie.attempt(async oe=>{try{X(await Z(oe))}catch(se){if(!(se instanceof Error)){te(new TypeError(`Non-error was thrown: "${se}". You should only throw errors.`));return}if(se instanceof AbortError$1)ie.stop(),te(se.originalError);else if(se instanceof TypeError&&!isNetworkError(se.message))ie.stop(),te(se);else{decorateErrorWithCounts(se,oe,L);try{await L.onFailedAttempt(se)}catch(ue){te(ue);return}ie.retry(se)||te(ie.mainError())}}}),L.signal&&!L.signal.aborted&&L.signal.addEventListener("abort",()=>{ie.stop();const oe=L.signal.reason===void 0?getDOMException("The operation was aborted."):L.signal.reason;te(oe instanceof Error?oe:getDOMException(oe))},{once:!0})})}function J(Z){return{...privateKeyToAccount(Z)}}var p=g$4("mud:common"),x$4=p.extend("createNonceManager");function b$2({publicClient:Z,address:L,blockTag:X}){let te={current:-1},ie=typeof BroadcastChannel<"u"?new BroadcastChannel(`mud:createNonceManager:${Z.chain?.id}:${L}`):null;ie&&ie.addEventListener("message",le=>{let de=JSON.parse(le.data);x$4("got nonce from broadcast channel",de),te.current=de});function oe(){return te.current>=0}function se(){if(!oe())throw new Error("call resetNonce before using nextNonce");let le=te.current++;return ie?.postMessage(JSON.stringify(te.current)),le}async function ue(){let le=await Z.getTransactionCount({address:L,blockTag:X});te.current=le,ie?.postMessage(JSON.stringify(te.current)),x$4("reset nonce to",te.current)}function ce(le){return le instanceof BaseError&&le.walk(de=>de instanceof NonceTooLowError||de instanceof NonceTooHighError)!=null}return{hasNonce:oe,nextNonce:se,resetNonce:ue,shouldResetNonce:ce}}var m$2=p.extend("createContract");function E$1(Z){let L=Z.length&&Array.isArray(Z[0]),X=L?Z[0]:[],te=(L?Z[1]:Z[0])??{};return{args:X,options:te}}function me({abi:Z,address:L,publicClient:X,walletClient:te,onWrite:ie}){let oe=getContract({abi:Z,address:L,publicClient:X,walletClient:te});if(oe.write){let se=0,ue=b$2({publicClient:X,address:te.account.address});oe.write=new Proxy({},{get(ce,le){async function de(ge){if(ge.gas)return m$2("gas provided, skipping simulate",le,ge),ge;m$2("simulating write",le,ge);let{request:_e}=await X.simulateContract({...ge,account:ge.account??te.account});return _e}async function pe(ge){let _e=await de(ge);return await pRetry(async()=>{ue.hasNonce()||await ue.resetNonce();let Te=ue.nextNonce();return m$2("calling write function with nonce",Te,_e),await te.writeContract({nonce:Te,..._e})},{retries:3,onFailedAttempt:async Te=>{if(ue.shouldResetNonce(Te)){m$2("got nonce error, retrying",Te),await ue.resetNonce();return}throw Te}})}return(...ge)=>{let _e=`${te.chain.id}:${te.account.address}:${se++}`,{args:Te,options:Ae}=E$1(ge),Ie={address:L,abi:Z,functionName:le,args:Te,...Ae},Pe=pe(Ie);return ie?.({id:_e,request:Ie,result:Pe}),Pe}}})}return oe}function B$1(Z,L){if(!isHex(Z))throw console.error("Private key found in cache is not valid hex",{privateKey:Z,cacheKey:L}),new Error(`Private key found in cache (${L}) is not valid hex`);privateKeyToAccount(Z)}function be$1(Z="mud:burnerWallet"){let L=localStorage.getItem(Z);if(L!=null)return B$1(L,Z),L;let X=generatePrivateKey();return console.log("New burner wallet created:",privateKeyToAccount(X)),localStorage.setItem(Z,X),X}function ye(Z){let L=hexToString(sliceHex(Z,0,16)).replace(/\0+$/,""),X=hexToString(sliceHex(Z,16,32)).replace(/\0+$/,"");return{namespace:L,name:X}}function He(Z,L){return concatHex([stringToHex(Z.substring(0,16),{size:16}),stringToHex(L.substring(0,16),{size:16})])}var I$2=p.extend("transportObserver");function Ee(Z){return L=>{let X=Z(L);return{...X,request:async te=>{if(te.method==="eth_sendRawTransaction"&&te.params instanceof Array){let ie=te.params.map(oe=>keccak256(oe));I$2("saw txs",ie)}return X.request(te)}}}}var I$1=(Z=>(Z[Z.UINT8=0]="UINT8",Z[Z.UINT16=1]="UINT16",Z[Z.UINT24=2]="UINT24",Z[Z.UINT32=3]="UINT32",Z[Z.UINT40=4]="UINT40",Z[Z.UINT48=5]="UINT48",Z[Z.UINT56=6]="UINT56",Z[Z.UINT64=7]="UINT64",Z[Z.UINT72=8]="UINT72",Z[Z.UINT80=9]="UINT80",Z[Z.UINT88=10]="UINT88",Z[Z.UINT96=11]="UINT96",Z[Z.UINT104=12]="UINT104",Z[Z.UINT112=13]="UINT112",Z[Z.UINT120=14]="UINT120",Z[Z.UINT128=15]="UINT128",Z[Z.UINT136=16]="UINT136",Z[Z.UINT144=17]="UINT144",Z[Z.UINT152=18]="UINT152",Z[Z.UINT160=19]="UINT160",Z[Z.UINT168=20]="UINT168",Z[Z.UINT176=21]="UINT176",Z[Z.UINT184=22]="UINT184",Z[Z.UINT192=23]="UINT192",Z[Z.UINT200=24]="UINT200",Z[Z.UINT208=25]="UINT208",Z[Z.UINT216=26]="UINT216",Z[Z.UINT224=27]="UINT224",Z[Z.UINT232=28]="UINT232",Z[Z.UINT240=29]="UINT240",Z[Z.UINT248=30]="UINT248",Z[Z.UINT256=31]="UINT256",Z[Z.INT8=32]="INT8",Z[Z.INT16=33]="INT16",Z[Z.INT24=34]="INT24",Z[Z.INT32=35]="INT32",Z[Z.INT40=36]="INT40",Z[Z.INT48=37]="INT48",Z[Z.INT56=38]="INT56",Z[Z.INT64=39]="INT64",Z[Z.INT72=40]="INT72",Z[Z.INT80=41]="INT80",Z[Z.INT88=42]="INT88",Z[Z.INT96=43]="INT96",Z[Z.INT104=44]="INT104",Z[Z.INT112=45]="INT112",Z[Z.INT120=46]="INT120",Z[Z.INT128=47]="INT128",Z[Z.INT136=48]="INT136",Z[Z.INT144=49]="INT144",Z[Z.INT152=50]="INT152",Z[Z.INT160=51]="INT160",Z[Z.INT168=52]="INT168",Z[Z.INT176=53]="INT176",Z[Z.INT184=54]="INT184",Z[Z.INT192=55]="INT192",Z[Z.INT200=56]="INT200",Z[Z.INT208=57]="INT208",Z[Z.INT216=58]="INT216",Z[Z.INT224=59]="INT224",Z[Z.INT232=60]="INT232",Z[Z.INT240=61]="INT240",Z[Z.INT248=62]="INT248",Z[Z.INT256=63]="INT256",Z[Z.BYTES1=64]="BYTES1",Z[Z.BYTES2=65]="BYTES2",Z[Z.BYTES3=66]="BYTES3",Z[Z.BYTES4=67]="BYTES4",Z[Z.BYTES5=68]="BYTES5",Z[Z.BYTES6=69]="BYTES6",Z[Z.BYTES7=70]="BYTES7",Z[Z.BYTES8=71]="BYTES8",Z[Z.BYTES9=72]="BYTES9",Z[Z.BYTES10=73]="BYTES10",Z[Z.BYTES11=74]="BYTES11",Z[Z.BYTES12=75]="BYTES12",Z[Z.BYTES13=76]="BYTES13",Z[Z.BYTES14=77]="BYTES14",Z[Z.BYTES15=78]="BYTES15",Z[Z.BYTES16=79]="BYTES16",Z[Z.BYTES17=80]="BYTES17",Z[Z.BYTES18=81]="BYTES18",Z[Z.BYTES19=82]="BYTES19",Z[Z.BYTES20=83]="BYTES20",Z[Z.BYTES21=84]="BYTES21",Z[Z.BYTES22=85]="BYTES22",Z[Z.BYTES23=86]="BYTES23",Z[Z.BYTES24=87]="BYTES24",Z[Z.BYTES25=88]="BYTES25",Z[Z.BYTES26=89]="BYTES26",Z[Z.BYTES27=90]="BYTES27",Z[Z.BYTES28=91]="BYTES28",Z[Z.BYTES29=92]="BYTES29",Z[Z.BYTES30=93]="BYTES30",Z[Z.BYTES31=94]="BYTES31",Z[Z.BYTES32=95]="BYTES32",Z[Z.BOOL=96]="BOOL",Z[Z.ADDRESS=97]="ADDRESS",Z[Z.UINT8_ARRAY=98]="UINT8_ARRAY",Z[Z.UINT16_ARRAY=99]="UINT16_ARRAY",Z[Z.UINT24_ARRAY=100]="UINT24_ARRAY",Z[Z.UINT32_ARRAY=101]="UINT32_ARRAY",Z[Z.UINT40_ARRAY=102]="UINT40_ARRAY",Z[Z.UINT48_ARRAY=103]="UINT48_ARRAY",Z[Z.UINT56_ARRAY=104]="UINT56_ARRAY",Z[Z.UINT64_ARRAY=105]="UINT64_ARRAY",Z[Z.UINT72_ARRAY=106]="UINT72_ARRAY",Z[Z.UINT80_ARRAY=107]="UINT80_ARRAY",Z[Z.UINT88_ARRAY=108]="UINT88_ARRAY",Z[Z.UINT96_ARRAY=109]="UINT96_ARRAY",Z[Z.UINT104_ARRAY=110]="UINT104_ARRAY",Z[Z.UINT112_ARRAY=111]="UINT112_ARRAY",Z[Z.UINT120_ARRAY=112]="UINT120_ARRAY",Z[Z.UINT128_ARRAY=113]="UINT128_ARRAY",Z[Z.UINT136_ARRAY=114]="UINT136_ARRAY",Z[Z.UINT144_ARRAY=115]="UINT144_ARRAY",Z[Z.UINT152_ARRAY=116]="UINT152_ARRAY",Z[Z.UINT160_ARRAY=117]="UINT160_ARRAY",Z[Z.UINT168_ARRAY=118]="UINT168_ARRAY",Z[Z.UINT176_ARRAY=119]="UINT176_ARRAY",Z[Z.UINT184_ARRAY=120]="UINT184_ARRAY",Z[Z.UINT192_ARRAY=121]="UINT192_ARRAY",Z[Z.UINT200_ARRAY=122]="UINT200_ARRAY",Z[Z.UINT208_ARRAY=123]="UINT208_ARRAY",Z[Z.UINT216_ARRAY=124]="UINT216_ARRAY",Z[Z.UINT224_ARRAY=125]="UINT224_ARRAY",Z[Z.UINT232_ARRAY=126]="UINT232_ARRAY",Z[Z.UINT240_ARRAY=127]="UINT240_ARRAY",Z[Z.UINT248_ARRAY=128]="UINT248_ARRAY",Z[Z.UINT256_ARRAY=129]="UINT256_ARRAY",Z[Z.INT8_ARRAY=130]="INT8_ARRAY",Z[Z.INT16_ARRAY=131]="INT16_ARRAY",Z[Z.INT24_ARRAY=132]="INT24_ARRAY",Z[Z.INT32_ARRAY=133]="INT32_ARRAY",Z[Z.INT40_ARRAY=134]="INT40_ARRAY",Z[Z.INT48_ARRAY=135]="INT48_ARRAY",Z[Z.INT56_ARRAY=136]="INT56_ARRAY",Z[Z.INT64_ARRAY=137]="INT64_ARRAY",Z[Z.INT72_ARRAY=138]="INT72_ARRAY",Z[Z.INT80_ARRAY=139]="INT80_ARRAY",Z[Z.INT88_ARRAY=140]="INT88_ARRAY",Z[Z.INT96_ARRAY=141]="INT96_ARRAY",Z[Z.INT104_ARRAY=142]="INT104_ARRAY",Z[Z.INT112_ARRAY=143]="INT112_ARRAY",Z[Z.INT120_ARRAY=144]="INT120_ARRAY",Z[Z.INT128_ARRAY=145]="INT128_ARRAY",Z[Z.INT136_ARRAY=146]="INT136_ARRAY",Z[Z.INT144_ARRAY=147]="INT144_ARRAY",Z[Z.INT152_ARRAY=148]="INT152_ARRAY",Z[Z.INT160_ARRAY=149]="INT160_ARRAY",Z[Z.INT168_ARRAY=150]="INT168_ARRAY",Z[Z.INT176_ARRAY=151]="INT176_ARRAY",Z[Z.INT184_ARRAY=152]="INT184_ARRAY",Z[Z.INT192_ARRAY=153]="INT192_ARRAY",Z[Z.INT200_ARRAY=154]="INT200_ARRAY",Z[Z.INT208_ARRAY=155]="INT208_ARRAY",Z[Z.INT216_ARRAY=156]="INT216_ARRAY",Z[Z.INT224_ARRAY=157]="INT224_ARRAY",Z[Z.INT232_ARRAY=158]="INT232_ARRAY",Z[Z.INT240_ARRAY=159]="INT240_ARRAY",Z[Z.INT248_ARRAY=160]="INT248_ARRAY",Z[Z.INT256_ARRAY=161]="INT256_ARRAY",Z[Z.BYTES1_ARRAY=162]="BYTES1_ARRAY",Z[Z.BYTES2_ARRAY=163]="BYTES2_ARRAY",Z[Z.BYTES3_ARRAY=164]="BYTES3_ARRAY",Z[Z.BYTES4_ARRAY=165]="BYTES4_ARRAY",Z[Z.BYTES5_ARRAY=166]="BYTES5_ARRAY",Z[Z.BYTES6_ARRAY=167]="BYTES6_ARRAY",Z[Z.BYTES7_ARRAY=168]="BYTES7_ARRAY",Z[Z.BYTES8_ARRAY=169]="BYTES8_ARRAY",Z[Z.BYTES9_ARRAY=170]="BYTES9_ARRAY",Z[Z.BYTES10_ARRAY=171]="BYTES10_ARRAY",Z[Z.BYTES11_ARRAY=172]="BYTES11_ARRAY",Z[Z.BYTES12_ARRAY=173]="BYTES12_ARRAY",Z[Z.BYTES13_ARRAY=174]="BYTES13_ARRAY",Z[Z.BYTES14_ARRAY=175]="BYTES14_ARRAY",Z[Z.BYTES15_ARRAY=176]="BYTES15_ARRAY",Z[Z.BYTES16_ARRAY=177]="BYTES16_ARRAY",Z[Z.BYTES17_ARRAY=178]="BYTES17_ARRAY",Z[Z.BYTES18_ARRAY=179]="BYTES18_ARRAY",Z[Z.BYTES19_ARRAY=180]="BYTES19_ARRAY",Z[Z.BYTES20_ARRAY=181]="BYTES20_ARRAY",Z[Z.BYTES21_ARRAY=182]="BYTES21_ARRAY",Z[Z.BYTES22_ARRAY=183]="BYTES22_ARRAY",Z[Z.BYTES23_ARRAY=184]="BYTES23_ARRAY",Z[Z.BYTES24_ARRAY=185]="BYTES24_ARRAY",Z[Z.BYTES25_ARRAY=186]="BYTES25_ARRAY",Z[Z.BYTES26_ARRAY=187]="BYTES26_ARRAY",Z[Z.BYTES27_ARRAY=188]="BYTES27_ARRAY",Z[Z.BYTES28_ARRAY=189]="BYTES28_ARRAY",Z[Z.BYTES29_ARRAY=190]="BYTES29_ARRAY",Z[Z.BYTES30_ARRAY=191]="BYTES30_ARRAY",Z[Z.BYTES31_ARRAY=192]="BYTES31_ARRAY",Z[Z.BYTES32_ARRAY=193]="BYTES32_ARRAY",Z[Z.BOOL_ARRAY=194]="BOOL_ARRAY",Z[Z.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",Z[Z.BYTES=196]="BYTES",Z[Z.STRING=197]="STRING",Z))(I$1||{}),Y$1={[0]:"uint8",[1]:"uint16",[2]:"uint24",[3]:"uint32",[4]:"uint40",[5]:"uint48",[6]:"uint56",[7]:"uint64",[8]:"uint72",[9]:"uint80",[10]:"uint88",[11]:"uint96",[12]:"uint104",[13]:"uint112",[14]:"uint120",[15]:"uint128",[16]:"uint136",[17]:"uint144",[18]:"uint152",[19]:"uint160",[20]:"uint168",[21]:"uint176",[22]:"uint184",[23]:"uint192",[24]:"uint200",[25]:"uint208",[26]:"uint216",[27]:"uint224",[28]:"uint232",[29]:"uint240",[30]:"uint248",[31]:"uint256",[32]:"int8",[33]:"int16",[34]:"int24",[35]:"int32",[36]:"int40",[37]:"int48",[38]:"int56",[39]:"int64",[40]:"int72",[41]:"int80",[42]:"int88",[43]:"int96",[44]:"int104",[45]:"int112",[46]:"int120",[47]:"int128",[48]:"int136",[49]:"int144",[50]:"int152",[51]:"int160",[52]:"int168",[53]:"int176",[54]:"int184",[55]:"int192",[56]:"int200",[57]:"int208",[58]:"int216",[59]:"int224",[60]:"int232",[61]:"int240",[62]:"int248",[63]:"int256",[64]:"bytes1",[65]:"bytes2",[66]:"bytes3",[67]:"bytes4",[68]:"bytes5",[69]:"bytes6",[70]:"bytes7",[71]:"bytes8",[72]:"bytes9",[73]:"bytes10",[74]:"bytes11",[75]:"bytes12",[76]:"bytes13",[77]:"bytes14",[78]:"bytes15",[79]:"bytes16",[80]:"bytes17",[81]:"bytes18",[82]:"bytes19",[83]:"bytes20",[84]:"bytes21",[85]:"bytes22",[86]:"bytes23",[87]:"bytes24",[88]:"bytes25",[89]:"bytes26",[90]:"bytes27",[91]:"bytes28",[92]:"bytes29",[93]:"bytes30",[94]:"bytes31",[95]:"bytes32",[96]:"bool",[97]:"address",[98]:"uint8[]",[99]:"uint16[]",[100]:"uint24[]",[101]:"uint32[]",[102]:"uint40[]",[103]:"uint48[]",[104]:"uint56[]",[105]:"uint64[]",[106]:"uint72[]",[107]:"uint80[]",[108]:"uint88[]",[109]:"uint96[]",[110]:"uint104[]",[111]:"uint112[]",[112]:"uint120[]",[113]:"uint128[]",[114]:"uint136[]",[115]:"uint144[]",[116]:"uint152[]",[117]:"uint160[]",[118]:"uint168[]",[119]:"uint176[]",[120]:"uint184[]",[121]:"uint192[]",[122]:"uint200[]",[123]:"uint208[]",[124]:"uint216[]",[125]:"uint224[]",[126]:"uint232[]",[127]:"uint240[]",[128]:"uint248[]",[129]:"uint256[]",[130]:"int8[]",[131]:"int16[]",[132]:"int24[]",[133]:"int32[]",[134]:"int40[]",[135]:"int48[]",[136]:"int56[]",[137]:"int64[]",[138]:"int72[]",[139]:"int80[]",[140]:"int88[]",[141]:"int96[]",[142]:"int104[]",[143]:"int112[]",[144]:"int120[]",[145]:"int128[]",[146]:"int136[]",[147]:"int144[]",[148]:"int152[]",[149]:"int160[]",[150]:"int168[]",[151]:"int176[]",[152]:"int184[]",[153]:"int192[]",[154]:"int200[]",[155]:"int208[]",[156]:"int216[]",[157]:"int224[]",[158]:"int232[]",[159]:"int240[]",[160]:"int248[]",[161]:"int256[]",[162]:"bytes1[]",[163]:"bytes2[]",[164]:"bytes3[]",[165]:"bytes4[]",[166]:"bytes5[]",[167]:"bytes6[]",[168]:"bytes7[]",[169]:"bytes8[]",[170]:"bytes9[]",[171]:"bytes10[]",[172]:"bytes11[]",[173]:"bytes12[]",[174]:"bytes13[]",[175]:"bytes14[]",[176]:"bytes15[]",[177]:"bytes16[]",[178]:"bytes17[]",[179]:"bytes18[]",[180]:"bytes19[]",[181]:"bytes20[]",[182]:"bytes21[]",[183]:"bytes22[]",[184]:"bytes23[]",[185]:"bytes24[]",[186]:"bytes25[]",[187]:"bytes26[]",[188]:"bytes27[]",[189]:"bytes28[]",[190]:"bytes29[]",[191]:"bytes30[]",[192]:"bytes31[]",[193]:"bytes32[]",[194]:"bool[]",[195]:"address[]",[196]:"bytes",[197]:"string"},s$2=Object.values(Y$1),_$1=Object.fromEntries(Object.entries(Y$1).map(([Z,L])=>[L,parseInt(Z)]));function n(Z){let L=Z.valueOf();return L<32?L+1:L<64?L+1-32:L<96?L+1-64:Z==96?1:Z==97?20:0}var U$3=s$2.filter(Z=>n(_$1[Z])>0),util$5;(function(Z){Z.assertEqual=ie=>ie;function L(ie){}Z.assertIs=L;function X(ie){throw new Error}Z.assertNever=X,Z.arrayToEnum=ie=>{const oe={};for(const se of ie)oe[se]=se;return oe},Z.getValidEnumValues=ie=>{const oe=Z.objectKeys(ie).filter(ue=>typeof ie[ie[ue]]!="number"),se={};for(const ue of oe)se[ue]=ie[ue];return Z.objectValues(se)},Z.objectValues=ie=>Z.objectKeys(ie).map(function(oe){return ie[oe]}),Z.objectKeys=typeof Object.keys=="function"?ie=>Object.keys(ie):ie=>{const oe=[];for(const se in ie)Object.prototype.hasOwnProperty.call(ie,se)&&oe.push(se);return oe},Z.find=(ie,oe)=>{for(const se of ie)if(oe(se))return se},Z.isInteger=typeof Number.isInteger=="function"?ie=>Number.isInteger(ie):ie=>typeof ie=="number"&&isFinite(ie)&&Math.floor(ie)===ie;function te(ie,oe=" | "){return ie.map(se=>typeof se=="string"?`'${se}'`:se).join(oe)}Z.joinValues=te,Z.jsonStringifyReplacer=(ie,oe)=>typeof oe=="bigint"?oe.toString():oe})(util$5||(util$5={}));var objectUtil;(function(Z){Z.mergeShapes=(L,X)=>({...L,...X})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=Z=>{switch(typeof Z){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(Z)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(Z)?ZodParsedType.array:Z===null?ZodParsedType.null:Z.then&&typeof Z.then=="function"&&Z.catch&&typeof Z.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&Z instanceof Map?ZodParsedType.map:typeof Set<"u"&&Z instanceof Set?ZodParsedType.set:typeof Date<"u"&&Z instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=Z=>JSON.stringify(Z,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(L){super(),this.issues=[],this.addIssue=te=>{this.issues=[...this.issues,te]},this.addIssues=(te=[])=>{this.issues=[...this.issues,...te]};const X=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,X):this.__proto__=X,this.name="ZodError",this.issues=L}get errors(){return this.issues}format(L){const X=L||function(oe){return oe.message},te={_errors:[]},ie=oe=>{for(const se of oe.issues)if(se.code==="invalid_union")se.unionErrors.map(ie);else if(se.code==="invalid_return_type")ie(se.returnTypeError);else if(se.code==="invalid_arguments")ie(se.argumentsError);else if(se.path.length===0)te._errors.push(X(se));else{let ue=te,ce=0;for(;ce<se.path.length;){const le=se.path[ce];ce===se.path.length-1?(ue[le]=ue[le]||{_errors:[]},ue[le]._errors.push(X(se))):ue[le]=ue[le]||{_errors:[]},ue=ue[le],ce++}}};return ie(this),te}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(L=X=>X.message){const X={},te=[];for(const ie of this.issues)ie.path.length>0?(X[ie.path[0]]=X[ie.path[0]]||[],X[ie.path[0]].push(L(ie))):te.push(L(ie));return{formErrors:te,fieldErrors:X}}get formErrors(){return this.flatten()}}ZodError.create=Z=>new ZodError(Z);const errorMap=(Z,L)=>{let X;switch(Z.code){case ZodIssueCode.invalid_type:Z.received===ZodParsedType.undefined?X="Required":X=`Expected ${Z.expected}, received ${Z.received}`;break;case ZodIssueCode.invalid_literal:X=`Invalid literal value, expected ${JSON.stringify(Z.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:X=`Unrecognized key(s) in object: ${util$5.joinValues(Z.keys,", ")}`;break;case ZodIssueCode.invalid_union:X="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:X=`Invalid discriminator value. Expected ${util$5.joinValues(Z.options)}`;break;case ZodIssueCode.invalid_enum_value:X=`Invalid enum value. Expected ${util$5.joinValues(Z.options)}, received '${Z.received}'`;break;case ZodIssueCode.invalid_arguments:X="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:X="Invalid function return type";break;case ZodIssueCode.invalid_date:X="Invalid date";break;case ZodIssueCode.invalid_string:typeof Z.validation=="object"?"includes"in Z.validation?(X=`Invalid input: must include "${Z.validation.includes}"`,typeof Z.validation.position=="number"&&(X=`${X} at one or more positions greater than or equal to ${Z.validation.position}`)):"startsWith"in Z.validation?X=`Invalid input: must start with "${Z.validation.startsWith}"`:"endsWith"in Z.validation?X=`Invalid input: must end with "${Z.validation.endsWith}"`:util$5.assertNever(Z.validation):Z.validation!=="regex"?X=`Invalid ${Z.validation}`:X="Invalid";break;case ZodIssueCode.too_small:Z.type==="array"?X=`Array must contain ${Z.exact?"exactly":Z.inclusive?"at least":"more than"} ${Z.minimum} element(s)`:Z.type==="string"?X=`String must contain ${Z.exact?"exactly":Z.inclusive?"at least":"over"} ${Z.minimum} character(s)`:Z.type==="number"?X=`Number must be ${Z.exact?"exactly equal to ":Z.inclusive?"greater than or equal to ":"greater than "}${Z.minimum}`:Z.type==="date"?X=`Date must be ${Z.exact?"exactly equal to ":Z.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(Z.minimum))}`:X="Invalid input";break;case ZodIssueCode.too_big:Z.type==="array"?X=`Array must contain ${Z.exact?"exactly":Z.inclusive?"at most":"less than"} ${Z.maximum} element(s)`:Z.type==="string"?X=`String must contain ${Z.exact?"exactly":Z.inclusive?"at most":"under"} ${Z.maximum} character(s)`:Z.type==="number"?X=`Number must be ${Z.exact?"exactly":Z.inclusive?"less than or equal to":"less than"} ${Z.maximum}`:Z.type==="bigint"?X=`BigInt must be ${Z.exact?"exactly":Z.inclusive?"less than or equal to":"less than"} ${Z.maximum}`:Z.type==="date"?X=`Date must be ${Z.exact?"exactly":Z.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(Z.maximum))}`:X="Invalid input";break;case ZodIssueCode.custom:X="Invalid input";break;case ZodIssueCode.invalid_intersection_types:X="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:X=`Number must be a multiple of ${Z.multipleOf}`;break;case ZodIssueCode.not_finite:X="Number must be finite";break;default:X=L.defaultError,util$5.assertNever(Z)}return{message:X}};let overrideErrorMap=errorMap;function setErrorMap(Z){overrideErrorMap=Z}function getErrorMap(){return overrideErrorMap}const makeIssue=Z=>{const{data:L,path:X,errorMaps:te,issueData:ie}=Z,oe=[...X,...ie.path||[]],se={...ie,path:oe};let ue="";const ce=te.filter(le=>!!le).slice().reverse();for(const le of ce)ue=le(se,{data:L,defaultError:ue}).message;return{...ie,path:oe,message:ie.message||ue}},EMPTY_PATH=[];function addIssueToContext(Z,L){const X=makeIssue({issueData:L,data:Z.data,path:Z.path,errorMaps:[Z.common.contextualErrorMap,Z.schemaErrorMap,getErrorMap(),errorMap].filter(te=>!!te)});Z.common.issues.push(X)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(L,X){const te=[];for(const ie of X){if(ie.status==="aborted")return INVALID;ie.status==="dirty"&&L.dirty(),te.push(ie.value)}return{status:L.value,value:te}}static async mergeObjectAsync(L,X){const te=[];for(const ie of X)te.push({key:await ie.key,value:await ie.value});return ParseStatus.mergeObjectSync(L,te)}static mergeObjectSync(L,X){const te={};for(const ie of X){const{key:oe,value:se}=ie;if(oe.status==="aborted"||se.status==="aborted")return INVALID;oe.status==="dirty"&&L.dirty(),se.status==="dirty"&&L.dirty(),oe.value!=="__proto__"&&(typeof se.value<"u"||ie.alwaysSet)&&(te[oe.value]=se.value)}return{status:L.value,value:te}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=Z=>({status:"dirty",value:Z}),OK=Z=>({status:"valid",value:Z}),isAborted=Z=>Z.status==="aborted",isDirty=Z=>Z.status==="dirty",isValid=Z=>Z.status==="valid",isAsync=Z=>typeof Promise<"u"&&Z instanceof Promise;var errorUtil;(function(Z){Z.errToObj=L=>typeof L=="string"?{message:L}:L||{},Z.toString=L=>typeof L=="string"?L:L?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(L,X,te,ie){this._cachedPath=[],this.parent=L,this.data=X,this._path=te,this._key=ie}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(Z,L)=>{if(isValid(L))return{success:!0,data:L.value};if(!Z.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const X=new ZodError(Z.common.issues);return this._error=X,this._error}}};function processCreateParams(Z){if(!Z)return{};const{errorMap:L,invalid_type_error:X,required_error:te,description:ie}=Z;if(L&&(X||te))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return L?{errorMap:L,description:ie}:{errorMap:(se,ue)=>se.code!=="invalid_type"?{message:ue.defaultError}:typeof ue.data>"u"?{message:te??ue.defaultError}:{message:X??ue.defaultError},description:ie}}class ZodType{constructor(L){this.spa=this.safeParseAsync,this._def=L,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(L){return getParsedType(L.data)}_getOrReturnCtx(L,X){return X||{common:L.parent.common,data:L.data,parsedType:getParsedType(L.data),schemaErrorMap:this._def.errorMap,path:L.path,parent:L.parent}}_processInputParams(L){return{status:new ParseStatus,ctx:{common:L.parent.common,data:L.data,parsedType:getParsedType(L.data),schemaErrorMap:this._def.errorMap,path:L.path,parent:L.parent}}}_parseSync(L){const X=this._parse(L);if(isAsync(X))throw new Error("Synchronous parse encountered promise.");return X}_parseAsync(L){const X=this._parse(L);return Promise.resolve(X)}parse(L,X){const te=this.safeParse(L,X);if(te.success)return te.data;throw te.error}safeParse(L,X){var te;const ie={common:{issues:[],async:(te=X?.async)!==null&&te!==void 0?te:!1,contextualErrorMap:X?.errorMap},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:L,parsedType:getParsedType(L)},oe=this._parseSync({data:L,path:ie.path,parent:ie});return handleResult(ie,oe)}async parseAsync(L,X){const te=await this.safeParseAsync(L,X);if(te.success)return te.data;throw te.error}async safeParseAsync(L,X){const te={common:{issues:[],contextualErrorMap:X?.errorMap,async:!0},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:L,parsedType:getParsedType(L)},ie=this._parse({data:L,path:te.path,parent:te}),oe=await(isAsync(ie)?ie:Promise.resolve(ie));return handleResult(te,oe)}refine(L,X){const te=ie=>typeof X=="string"||typeof X>"u"?{message:X}:typeof X=="function"?X(ie):X;return this._refinement((ie,oe)=>{const se=L(ie),ue=()=>oe.addIssue({code:ZodIssueCode.custom,...te(ie)});return typeof Promise<"u"&&se instanceof Promise?se.then(ce=>ce?!0:(ue(),!1)):se?!0:(ue(),!1)})}refinement(L,X){return this._refinement((te,ie)=>L(te)?!0:(ie.addIssue(typeof X=="function"?X(te,ie):X),!1))}_refinement(L){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:L}})}superRefine(L){return this._refinement(L)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(L){return ZodUnion.create([this,L],this._def)}and(L){return ZodIntersection.create(this,L,this._def)}transform(L){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:L}})}default(L){const X=typeof L=="function"?L:()=>L;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:X,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(L){const X=typeof L=="function"?L:()=>L;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:X,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(L){const X=this.constructor;return new X({...this._def,description:L})}pipe(L){return ZodPipeline.create(this,L)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=Z=>Z.precision?Z.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}Z$`):Z.precision===0?Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(Z,L){return!!((L==="v4"||!L)&&ipv4Regex.test(Z)||(L==="v6"||!L)&&ipv6Regex.test(Z))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(L,X,te)=>this.refinement(ie=>L.test(ie),{validation:X,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(te)}),this.nonempty=L=>this.min(1,errorUtil.errToObj(L)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(L){if(this._def.coerce&&(L.data=String(L.data)),this._getType(L)!==ZodParsedType.string){const oe=this._getOrReturnCtx(L);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:oe.parsedType}),INVALID}const te=new ParseStatus;let ie;for(const oe of this._def.checks)if(oe.kind==="min")L.data.length<oe.value&&(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.too_small,minimum:oe.value,type:"string",inclusive:!0,exact:!1,message:oe.message}),te.dirty());else if(oe.kind==="max")L.data.length>oe.value&&(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.too_big,maximum:oe.value,type:"string",inclusive:!0,exact:!1,message:oe.message}),te.dirty());else if(oe.kind==="length"){const se=L.data.length>oe.value,ue=L.data.length<oe.value;(se||ue)&&(ie=this._getOrReturnCtx(L,ie),se?addIssueToContext(ie,{code:ZodIssueCode.too_big,maximum:oe.value,type:"string",inclusive:!0,exact:!0,message:oe.message}):ue&&addIssueToContext(ie,{code:ZodIssueCode.too_small,minimum:oe.value,type:"string",inclusive:!0,exact:!0,message:oe.message}),te.dirty())}else if(oe.kind==="email")emailRegex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"email",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="emoji")emojiRegex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"emoji",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="uuid")uuidRegex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"uuid",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="cuid")cuidRegex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"cuid",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="cuid2")cuid2Regex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="ulid")ulidRegex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"ulid",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="url")try{new URL(L.data)}catch{ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"url",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty()}else oe.kind==="regex"?(oe.regex.lastIndex=0,oe.regex.test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"regex",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty())):oe.kind==="trim"?L.data=L.data.trim():oe.kind==="includes"?L.data.includes(oe.value,oe.position)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:{includes:oe.value,position:oe.position},message:oe.message}),te.dirty()):oe.kind==="toLowerCase"?L.data=L.data.toLowerCase():oe.kind==="toUpperCase"?L.data=L.data.toUpperCase():oe.kind==="startsWith"?L.data.startsWith(oe.value)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:{startsWith:oe.value},message:oe.message}),te.dirty()):oe.kind==="endsWith"?L.data.endsWith(oe.value)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:{endsWith:oe.value},message:oe.message}),te.dirty()):oe.kind==="datetime"?datetimeRegex(oe).test(L.data)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:"datetime",message:oe.message}),te.dirty()):oe.kind==="ip"?isValidIP(L.data,oe.version)||(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{validation:"ip",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty()):util$5.assertNever(oe);return{status:te.value,value:L.data}}_addCheck(L){return new ZodString({...this._def,checks:[...this._def.checks,L]})}email(L){return this._addCheck({kind:"email",...errorUtil.errToObj(L)})}url(L){return this._addCheck({kind:"url",...errorUtil.errToObj(L)})}emoji(L){return this._addCheck({kind:"emoji",...errorUtil.errToObj(L)})}uuid(L){return this._addCheck({kind:"uuid",...errorUtil.errToObj(L)})}cuid(L){return this._addCheck({kind:"cuid",...errorUtil.errToObj(L)})}cuid2(L){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(L)})}ulid(L){return this._addCheck({kind:"ulid",...errorUtil.errToObj(L)})}ip(L){return this._addCheck({kind:"ip",...errorUtil.errToObj(L)})}datetime(L){var X;return typeof L=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:L}):this._addCheck({kind:"datetime",precision:typeof L?.precision>"u"?null:L?.precision,offset:(X=L?.offset)!==null&&X!==void 0?X:!1,...errorUtil.errToObj(L?.message)})}regex(L,X){return this._addCheck({kind:"regex",regex:L,...errorUtil.errToObj(X)})}includes(L,X){return this._addCheck({kind:"includes",value:L,position:X?.position,...errorUtil.errToObj(X?.message)})}startsWith(L,X){return this._addCheck({kind:"startsWith",value:L,...errorUtil.errToObj(X)})}endsWith(L,X){return this._addCheck({kind:"endsWith",value:L,...errorUtil.errToObj(X)})}min(L,X){return this._addCheck({kind:"min",value:L,...errorUtil.errToObj(X)})}max(L,X){return this._addCheck({kind:"max",value:L,...errorUtil.errToObj(X)})}length(L,X){return this._addCheck({kind:"length",value:L,...errorUtil.errToObj(X)})}get isDatetime(){return!!this._def.checks.find(L=>L.kind==="datetime")}get isEmail(){return!!this._def.checks.find(L=>L.kind==="email")}get isURL(){return!!this._def.checks.find(L=>L.kind==="url")}get isEmoji(){return!!this._def.checks.find(L=>L.kind==="emoji")}get isUUID(){return!!this._def.checks.find(L=>L.kind==="uuid")}get isCUID(){return!!this._def.checks.find(L=>L.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(L=>L.kind==="cuid2")}get isULID(){return!!this._def.checks.find(L=>L.kind==="ulid")}get isIP(){return!!this._def.checks.find(L=>L.kind==="ip")}get minLength(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L}get maxLength(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L}}ZodString.create=Z=>{var L;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(L=Z?.coerce)!==null&&L!==void 0?L:!1,...processCreateParams(Z)})};function floatSafeRemainder(Z,L){const X=(Z.toString().split(".")[1]||"").length,te=(L.toString().split(".")[1]||"").length,ie=X>te?X:te,oe=parseInt(Z.toFixed(ie).replace(".","")),se=parseInt(L.toFixed(ie).replace(".",""));return oe%se/Math.pow(10,ie)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(L){if(this._def.coerce&&(L.data=Number(L.data)),this._getType(L)!==ZodParsedType.number){const oe=this._getOrReturnCtx(L);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:oe.parsedType}),INVALID}let te;const ie=new ParseStatus;for(const oe of this._def.checks)oe.kind==="int"?util$5.isInteger(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:oe.message}),ie.dirty()):oe.kind==="min"?(oe.inclusive?L.data<oe.value:L.data<=oe.value)&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:oe.value,type:"number",inclusive:oe.inclusive,exact:!1,message:oe.message}),ie.dirty()):oe.kind==="max"?(oe.inclusive?L.data>oe.value:L.data>=oe.value)&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:oe.value,type:"number",inclusive:oe.inclusive,exact:!1,message:oe.message}),ie.dirty()):oe.kind==="multipleOf"?floatSafeRemainder(L.data,oe.value)!==0&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.not_multiple_of,multipleOf:oe.value,message:oe.message}),ie.dirty()):oe.kind==="finite"?Number.isFinite(L.data)||(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.not_finite,message:oe.message}),ie.dirty()):util$5.assertNever(oe);return{status:ie.value,value:L.data}}gte(L,X){return this.setLimit("min",L,!0,errorUtil.toString(X))}gt(L,X){return this.setLimit("min",L,!1,errorUtil.toString(X))}lte(L,X){return this.setLimit("max",L,!0,errorUtil.toString(X))}lt(L,X){return this.setLimit("max",L,!1,errorUtil.toString(X))}setLimit(L,X,te,ie){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:L,value:X,inclusive:te,message:errorUtil.toString(ie)}]})}_addCheck(L){return new ZodNumber({...this._def,checks:[...this._def.checks,L]})}int(L){return this._addCheck({kind:"int",message:errorUtil.toString(L)})}positive(L){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(L)})}negative(L){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(L)})}nonpositive(L){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(L)})}nonnegative(L){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(L)})}multipleOf(L,X){return this._addCheck({kind:"multipleOf",value:L,message:errorUtil.toString(X)})}finite(L){return this._addCheck({kind:"finite",message:errorUtil.toString(L)})}safe(L){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(L)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(L)})}get minValue(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L}get maxValue(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L}get isInt(){return!!this._def.checks.find(L=>L.kind==="int"||L.kind==="multipleOf"&&util$5.isInteger(L.value))}get isFinite(){let L=null,X=null;for(const te of this._def.checks){if(te.kind==="finite"||te.kind==="int"||te.kind==="multipleOf")return!0;te.kind==="min"?(X===null||te.value>X)&&(X=te.value):te.kind==="max"&&(L===null||te.value<L)&&(L=te.value)}return Number.isFinite(X)&&Number.isFinite(L)}}ZodNumber.create=Z=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:Z?.coerce||!1,...processCreateParams(Z)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(L){if(this._def.coerce&&(L.data=BigInt(L.data)),this._getType(L)!==ZodParsedType.bigint){const oe=this._getOrReturnCtx(L);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:oe.parsedType}),INVALID}let te;const ie=new ParseStatus;for(const oe of this._def.checks)oe.kind==="min"?(oe.inclusive?L.data<oe.value:L.data<=oe.value)&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_small,type:"bigint",minimum:oe.value,inclusive:oe.inclusive,message:oe.message}),ie.dirty()):oe.kind==="max"?(oe.inclusive?L.data>oe.value:L.data>=oe.value)&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.too_big,type:"bigint",maximum:oe.value,inclusive:oe.inclusive,message:oe.message}),ie.dirty()):oe.kind==="multipleOf"?L.data%oe.value!==BigInt(0)&&(te=this._getOrReturnCtx(L,te),addIssueToContext(te,{code:ZodIssueCode.not_multiple_of,multipleOf:oe.value,message:oe.message}),ie.dirty()):util$5.assertNever(oe);return{status:ie.value,value:L.data}}gte(L,X){return this.setLimit("min",L,!0,errorUtil.toString(X))}gt(L,X){return this.setLimit("min",L,!1,errorUtil.toString(X))}lte(L,X){return this.setLimit("max",L,!0,errorUtil.toString(X))}lt(L,X){return this.setLimit("max",L,!1,errorUtil.toString(X))}setLimit(L,X,te,ie){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:L,value:X,inclusive:te,message:errorUtil.toString(ie)}]})}_addCheck(L){return new ZodBigInt({...this._def,checks:[...this._def.checks,L]})}positive(L){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(L)})}negative(L){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(L)})}nonpositive(L){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(L)})}nonnegative(L){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(L)})}multipleOf(L,X){return this._addCheck({kind:"multipleOf",value:L,message:errorUtil.toString(X)})}get minValue(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L}get maxValue(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L}}ZodBigInt.create=Z=>{var L;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(L=Z?.coerce)!==null&&L!==void 0?L:!1,...processCreateParams(Z)})};class ZodBoolean extends ZodType{_parse(L){if(this._def.coerce&&(L.data=!!L.data),this._getType(L)!==ZodParsedType.boolean){const te=this._getOrReturnCtx(L);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:te.parsedType}),INVALID}return OK(L.data)}}ZodBoolean.create=Z=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:Z?.coerce||!1,...processCreateParams(Z)});class ZodDate extends ZodType{_parse(L){if(this._def.coerce&&(L.data=new Date(L.data)),this._getType(L)!==ZodParsedType.date){const oe=this._getOrReturnCtx(L);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:oe.parsedType}),INVALID}if(isNaN(L.data.getTime())){const oe=this._getOrReturnCtx(L);return addIssueToContext(oe,{code:ZodIssueCode.invalid_date}),INVALID}const te=new ParseStatus;let ie;for(const oe of this._def.checks)oe.kind==="min"?L.data.getTime()<oe.value&&(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.too_small,message:oe.message,inclusive:!0,exact:!1,minimum:oe.value,type:"date"}),te.dirty()):oe.kind==="max"?L.data.getTime()>oe.value&&(ie=this._getOrReturnCtx(L,ie),addIssueToContext(ie,{code:ZodIssueCode.too_big,message:oe.message,inclusive:!0,exact:!1,maximum:oe.value,type:"date"}),te.dirty()):util$5.assertNever(oe);return{status:te.value,value:new Date(L.data.getTime())}}_addCheck(L){return new ZodDate({...this._def,checks:[...this._def.checks,L]})}min(L,X){return this._addCheck({kind:"min",value:L.getTime(),message:errorUtil.toString(X)})}max(L,X){return this._addCheck({kind:"max",value:L.getTime(),message:errorUtil.toString(X)})}get minDate(){let L=null;for(const X of this._def.checks)X.kind==="min"&&(L===null||X.value>L)&&(L=X.value);return L!=null?new Date(L):null}get maxDate(){let L=null;for(const X of this._def.checks)X.kind==="max"&&(L===null||X.value<L)&&(L=X.value);return L!=null?new Date(L):null}}ZodDate.create=Z=>new ZodDate({checks:[],coerce:Z?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(Z)});class ZodSymbol extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.symbol){const te=this._getOrReturnCtx(L);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:te.parsedType}),INVALID}return OK(L.data)}}ZodSymbol.create=Z=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(Z)});class ZodUndefined extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.undefined){const te=this._getOrReturnCtx(L);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:te.parsedType}),INVALID}return OK(L.data)}}ZodUndefined.create=Z=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(Z)});class ZodNull extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.null){const te=this._getOrReturnCtx(L);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:te.parsedType}),INVALID}return OK(L.data)}}ZodNull.create=Z=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(Z)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(L){return OK(L.data)}}ZodAny.create=Z=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(Z)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(L){return OK(L.data)}}ZodUnknown.create=Z=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(Z)});class ZodNever extends ZodType{_parse(L){const X=this._getOrReturnCtx(L);return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:X.parsedType}),INVALID}}ZodNever.create=Z=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(Z)});class ZodVoid extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.undefined){const te=this._getOrReturnCtx(L);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:te.parsedType}),INVALID}return OK(L.data)}}ZodVoid.create=Z=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(Z)});class ZodArray extends ZodType{_parse(L){const{ctx:X,status:te}=this._processInputParams(L),ie=this._def;if(X.parsedType!==ZodParsedType.array)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:X.parsedType}),INVALID;if(ie.exactLength!==null){const se=X.data.length>ie.exactLength.value,ue=X.data.length<ie.exactLength.value;(se||ue)&&(addIssueToContext(X,{code:se?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:ue?ie.exactLength.value:void 0,maximum:se?ie.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ie.exactLength.message}),te.dirty())}if(ie.minLength!==null&&X.data.length<ie.minLength.value&&(addIssueToContext(X,{code:ZodIssueCode.too_small,minimum:ie.minLength.value,type:"array",inclusive:!0,exact:!1,message:ie.minLength.message}),te.dirty()),ie.maxLength!==null&&X.data.length>ie.maxLength.value&&(addIssueToContext(X,{code:ZodIssueCode.too_big,maximum:ie.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ie.maxLength.message}),te.dirty()),X.common.async)return Promise.all([...X.data].map((se,ue)=>ie.type._parseAsync(new ParseInputLazyPath(X,se,X.path,ue)))).then(se=>ParseStatus.mergeArray(te,se));const oe=[...X.data].map((se,ue)=>ie.type._parseSync(new ParseInputLazyPath(X,se,X.path,ue)));return ParseStatus.mergeArray(te,oe)}get element(){return this._def.type}min(L,X){return new ZodArray({...this._def,minLength:{value:L,message:errorUtil.toString(X)}})}max(L,X){return new ZodArray({...this._def,maxLength:{value:L,message:errorUtil.toString(X)}})}length(L,X){return new ZodArray({...this._def,exactLength:{value:L,message:errorUtil.toString(X)}})}nonempty(L){return this.min(1,L)}}ZodArray.create=(Z,L)=>new ZodArray({type:Z,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(L)});function deepPartialify(Z){if(Z instanceof ZodObject){const L={};for(const X in Z.shape){const te=Z.shape[X];L[X]=ZodOptional.create(deepPartialify(te))}return new ZodObject({...Z._def,shape:()=>L})}else return Z instanceof ZodArray?new ZodArray({...Z._def,type:deepPartialify(Z.element)}):Z instanceof ZodOptional?ZodOptional.create(deepPartialify(Z.unwrap())):Z instanceof ZodNullable?ZodNullable.create(deepPartialify(Z.unwrap())):Z instanceof ZodTuple?ZodTuple.create(Z.items.map(L=>deepPartialify(L))):Z}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const L=this._def.shape(),X=util$5.objectKeys(L);return this._cached={shape:L,keys:X}}_parse(L){if(this._getType(L)!==ZodParsedType.object){const le=this._getOrReturnCtx(L);return addIssueToContext(le,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:le.parsedType}),INVALID}const{status:te,ctx:ie}=this._processInputParams(L),{shape:oe,keys:se}=this._getCached(),ue=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const le in ie.data)se.includes(le)||ue.push(le);const ce=[];for(const le of se){const de=oe[le],pe=ie.data[le];ce.push({key:{status:"valid",value:le},value:de._parse(new ParseInputLazyPath(ie,pe,ie.path,le)),alwaysSet:le in ie.data})}if(this._def.catchall instanceof ZodNever){const le=this._def.unknownKeys;if(le==="passthrough")for(const de of ue)ce.push({key:{status:"valid",value:de},value:{status:"valid",value:ie.data[de]}});else if(le==="strict")ue.length>0&&(addIssueToContext(ie,{code:ZodIssueCode.unrecognized_keys,keys:ue}),te.dirty());else if(le!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const le=this._def.catchall;for(const de of ue){const pe=ie.data[de];ce.push({key:{status:"valid",value:de},value:le._parse(new ParseInputLazyPath(ie,pe,ie.path,de)),alwaysSet:de in ie.data})}}return ie.common.async?Promise.resolve().then(async()=>{const le=[];for(const de of ce){const pe=await de.key;le.push({key:pe,value:await de.value,alwaysSet:de.alwaysSet})}return le}).then(le=>ParseStatus.mergeObjectSync(te,le)):ParseStatus.mergeObjectSync(te,ce)}get shape(){return this._def.shape()}strict(L){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...L!==void 0?{errorMap:(X,te)=>{var ie,oe,se,ue;const ce=(se=(oe=(ie=this._def).errorMap)===null||oe===void 0?void 0:oe.call(ie,X,te).message)!==null&&se!==void 0?se:te.defaultError;return X.code==="unrecognized_keys"?{message:(ue=errorUtil.errToObj(L).message)!==null&&ue!==void 0?ue:ce}:{message:ce}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(L){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...L})})}merge(L){return new ZodObject({unknownKeys:L._def.unknownKeys,catchall:L._def.catchall,shape:()=>({...this._def.shape(),...L._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(L,X){return this.augment({[L]:X})}catchall(L){return new ZodObject({...this._def,catchall:L})}pick(L){const X={};return util$5.objectKeys(L).forEach(te=>{L[te]&&this.shape[te]&&(X[te]=this.shape[te])}),new ZodObject({...this._def,shape:()=>X})}omit(L){const X={};return util$5.objectKeys(this.shape).forEach(te=>{L[te]||(X[te]=this.shape[te])}),new ZodObject({...this._def,shape:()=>X})}deepPartial(){return deepPartialify(this)}partial(L){const X={};return util$5.objectKeys(this.shape).forEach(te=>{const ie=this.shape[te];L&&!L[te]?X[te]=ie:X[te]=ie.optional()}),new ZodObject({...this._def,shape:()=>X})}required(L){const X={};return util$5.objectKeys(this.shape).forEach(te=>{if(L&&!L[te])X[te]=this.shape[te];else{let oe=this.shape[te];for(;oe instanceof ZodOptional;)oe=oe._def.innerType;X[te]=oe}}),new ZodObject({...this._def,shape:()=>X})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(Z,L)=>new ZodObject({shape:()=>Z,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(L)});ZodObject.strictCreate=(Z,L)=>new ZodObject({shape:()=>Z,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(L)});ZodObject.lazycreate=(Z,L)=>new ZodObject({shape:Z,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(L)});class ZodUnion extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L),te=this._def.options;function ie(oe){for(const ue of oe)if(ue.result.status==="valid")return ue.result;for(const ue of oe)if(ue.result.status==="dirty")return X.common.issues.push(...ue.ctx.common.issues),ue.result;const se=oe.map(ue=>new ZodError(ue.ctx.common.issues));return addIssueToContext(X,{code:ZodIssueCode.invalid_union,unionErrors:se}),INVALID}if(X.common.async)return Promise.all(te.map(async oe=>{const se={...X,common:{...X.common,issues:[]},parent:null};return{result:await oe._parseAsync({data:X.data,path:X.path,parent:se}),ctx:se}})).then(ie);{let oe;const se=[];for(const ce of te){const le={...X,common:{...X.common,issues:[]},parent:null},de=ce._parseSync({data:X.data,path:X.path,parent:le});if(de.status==="valid")return de;de.status==="dirty"&&!oe&&(oe={result:de,ctx:le}),le.common.issues.length&&se.push(le.common.issues)}if(oe)return X.common.issues.push(...oe.ctx.common.issues),oe.result;const ue=se.map(ce=>new ZodError(ce));return addIssueToContext(X,{code:ZodIssueCode.invalid_union,unionErrors:ue}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(Z,L)=>new ZodUnion({options:Z,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(L)});const getDiscriminator=Z=>Z instanceof ZodLazy?getDiscriminator(Z.schema):Z instanceof ZodEffects?getDiscriminator(Z.innerType()):Z instanceof ZodLiteral?[Z.value]:Z instanceof ZodEnum?Z.options:Z instanceof ZodNativeEnum?Object.keys(Z.enum):Z instanceof ZodDefault?getDiscriminator(Z._def.innerType):Z instanceof ZodUndefined?[void 0]:Z instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L);if(X.parsedType!==ZodParsedType.object)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:X.parsedType}),INVALID;const te=this.discriminator,ie=X.data[te],oe=this.optionsMap.get(ie);return oe?X.common.async?oe._parseAsync({data:X.data,path:X.path,parent:X}):oe._parseSync({data:X.data,path:X.path,parent:X}):(addIssueToContext(X,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[te]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(L,X,te){const ie=new Map;for(const oe of X){const se=getDiscriminator(oe.shape[L]);if(!se)throw new Error(`A discriminator value for key \`${L}\` could not be extracted from all schema options`);for(const ue of se){if(ie.has(ue))throw new Error(`Discriminator property ${String(L)} has duplicate value ${String(ue)}`);ie.set(ue,oe)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:L,options:X,optionsMap:ie,...processCreateParams(te)})}}function mergeValues(Z,L){const X=getParsedType(Z),te=getParsedType(L);if(Z===L)return{valid:!0,data:Z};if(X===ZodParsedType.object&&te===ZodParsedType.object){const ie=util$5.objectKeys(L),oe=util$5.objectKeys(Z).filter(ue=>ie.indexOf(ue)!==-1),se={...Z,...L};for(const ue of oe){const ce=mergeValues(Z[ue],L[ue]);if(!ce.valid)return{valid:!1};se[ue]=ce.data}return{valid:!0,data:se}}else if(X===ZodParsedType.array&&te===ZodParsedType.array){if(Z.length!==L.length)return{valid:!1};const ie=[];for(let oe=0;oe<Z.length;oe++){const se=Z[oe],ue=L[oe],ce=mergeValues(se,ue);if(!ce.valid)return{valid:!1};ie.push(ce.data)}return{valid:!0,data:ie}}else return X===ZodParsedType.date&&te===ZodParsedType.date&&+Z==+L?{valid:!0,data:Z}:{valid:!1}}class ZodIntersection extends ZodType{_parse(L){const{status:X,ctx:te}=this._processInputParams(L),ie=(oe,se)=>{if(isAborted(oe)||isAborted(se))return INVALID;const ue=mergeValues(oe.value,se.value);return ue.valid?((isDirty(oe)||isDirty(se))&&X.dirty(),{status:X.value,value:ue.data}):(addIssueToContext(te,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return te.common.async?Promise.all([this._def.left._parseAsync({data:te.data,path:te.path,parent:te}),this._def.right._parseAsync({data:te.data,path:te.path,parent:te})]).then(([oe,se])=>ie(oe,se)):ie(this._def.left._parseSync({data:te.data,path:te.path,parent:te}),this._def.right._parseSync({data:te.data,path:te.path,parent:te}))}}ZodIntersection.create=(Z,L,X)=>new ZodIntersection({left:Z,right:L,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(X)});class ZodTuple extends ZodType{_parse(L){const{status:X,ctx:te}=this._processInputParams(L);if(te.parsedType!==ZodParsedType.array)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:te.parsedType}),INVALID;if(te.data.length<this._def.items.length)return addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&te.data.length>this._def.items.length&&(addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X.dirty());const oe=[...te.data].map((se,ue)=>{const ce=this._def.items[ue]||this._def.rest;return ce?ce._parse(new ParseInputLazyPath(te,se,te.path,ue)):null}).filter(se=>!!se);return te.common.async?Promise.all(oe).then(se=>ParseStatus.mergeArray(X,se)):ParseStatus.mergeArray(X,oe)}get items(){return this._def.items}rest(L){return new ZodTuple({...this._def,rest:L})}}ZodTuple.create=(Z,L)=>{if(!Array.isArray(Z))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:Z,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(L)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(L){const{status:X,ctx:te}=this._processInputParams(L);if(te.parsedType!==ZodParsedType.object)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:te.parsedType}),INVALID;const ie=[],oe=this._def.keyType,se=this._def.valueType;for(const ue in te.data)ie.push({key:oe._parse(new ParseInputLazyPath(te,ue,te.path,ue)),value:se._parse(new ParseInputLazyPath(te,te.data[ue],te.path,ue))});return te.common.async?ParseStatus.mergeObjectAsync(X,ie):ParseStatus.mergeObjectSync(X,ie)}get element(){return this._def.valueType}static create(L,X,te){return X instanceof ZodType?new ZodRecord({keyType:L,valueType:X,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(te)}):new ZodRecord({keyType:ZodString.create(),valueType:L,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(X)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(L){const{status:X,ctx:te}=this._processInputParams(L);if(te.parsedType!==ZodParsedType.map)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:te.parsedType}),INVALID;const ie=this._def.keyType,oe=this._def.valueType,se=[...te.data.entries()].map(([ue,ce],le)=>({key:ie._parse(new ParseInputLazyPath(te,ue,te.path,[le,"key"])),value:oe._parse(new ParseInputLazyPath(te,ce,te.path,[le,"value"]))}));if(te.common.async){const ue=new Map;return Promise.resolve().then(async()=>{for(const ce of se){const le=await ce.key,de=await ce.value;if(le.status==="aborted"||de.status==="aborted")return INVALID;(le.status==="dirty"||de.status==="dirty")&&X.dirty(),ue.set(le.value,de.value)}return{status:X.value,value:ue}})}else{const ue=new Map;for(const ce of se){const le=ce.key,de=ce.value;if(le.status==="aborted"||de.status==="aborted")return INVALID;(le.status==="dirty"||de.status==="dirty")&&X.dirty(),ue.set(le.value,de.value)}return{status:X.value,value:ue}}}}ZodMap.create=(Z,L,X)=>new ZodMap({valueType:L,keyType:Z,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(X)});class ZodSet extends ZodType{_parse(L){const{status:X,ctx:te}=this._processInputParams(L);if(te.parsedType!==ZodParsedType.set)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:te.parsedType}),INVALID;const ie=this._def;ie.minSize!==null&&te.data.size<ie.minSize.value&&(addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:ie.minSize.value,type:"set",inclusive:!0,exact:!1,message:ie.minSize.message}),X.dirty()),ie.maxSize!==null&&te.data.size>ie.maxSize.value&&(addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:ie.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ie.maxSize.message}),X.dirty());const oe=this._def.valueType;function se(ce){const le=new Set;for(const de of ce){if(de.status==="aborted")return INVALID;de.status==="dirty"&&X.dirty(),le.add(de.value)}return{status:X.value,value:le}}const ue=[...te.data.values()].map((ce,le)=>oe._parse(new ParseInputLazyPath(te,ce,te.path,le)));return te.common.async?Promise.all(ue).then(ce=>se(ce)):se(ue)}min(L,X){return new ZodSet({...this._def,minSize:{value:L,message:errorUtil.toString(X)}})}max(L,X){return new ZodSet({...this._def,maxSize:{value:L,message:errorUtil.toString(X)}})}size(L,X){return this.min(L,X).max(L,X)}nonempty(L){return this.min(1,L)}}ZodSet.create=(Z,L)=>new ZodSet({valueType:Z,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(L)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(L){const{ctx:X}=this._processInputParams(L);if(X.parsedType!==ZodParsedType.function)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:X.parsedType}),INVALID;function te(ue,ce){return makeIssue({data:ue,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,getErrorMap(),errorMap].filter(le=>!!le),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ce}})}function ie(ue,ce){return makeIssue({data:ue,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,getErrorMap(),errorMap].filter(le=>!!le),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ce}})}const oe={errorMap:X.common.contextualErrorMap},se=X.data;if(this._def.returns instanceof ZodPromise){const ue=this;return OK(async function(...ce){const le=new ZodError([]),de=await ue._def.args.parseAsync(ce,oe).catch(_e=>{throw le.addIssue(te(ce,_e)),le}),pe=await Reflect.apply(se,this,de);return await ue._def.returns._def.type.parseAsync(pe,oe).catch(_e=>{throw le.addIssue(ie(pe,_e)),le})})}else{const ue=this;return OK(function(...ce){const le=ue._def.args.safeParse(ce,oe);if(!le.success)throw new ZodError([te(ce,le.error)]);const de=Reflect.apply(se,this,le.data),pe=ue._def.returns.safeParse(de,oe);if(!pe.success)throw new ZodError([ie(de,pe.error)]);return pe.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...L){return new ZodFunction({...this._def,args:ZodTuple.create(L).rest(ZodUnknown.create())})}returns(L){return new ZodFunction({...this._def,returns:L})}implement(L){return this.parse(L)}strictImplement(L){return this.parse(L)}static create(L,X,te){return new ZodFunction({args:L||ZodTuple.create([]).rest(ZodUnknown.create()),returns:X||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(te)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(L){const{ctx:X}=this._processInputParams(L);return this._def.getter()._parse({data:X.data,path:X.path,parent:X})}}ZodLazy.create=(Z,L)=>new ZodLazy({getter:Z,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(L)});class ZodLiteral extends ZodType{_parse(L){if(L.data!==this._def.value){const X=this._getOrReturnCtx(L);return addIssueToContext(X,{received:X.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:L.data}}get value(){return this._def.value}}ZodLiteral.create=(Z,L)=>new ZodLiteral({value:Z,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(L)});function createZodEnum(Z,L){return new ZodEnum({values:Z,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(L)})}class ZodEnum extends ZodType{_parse(L){if(typeof L.data!="string"){const X=this._getOrReturnCtx(L),te=this._def.values;return addIssueToContext(X,{expected:util$5.joinValues(te),received:X.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(L.data)===-1){const X=this._getOrReturnCtx(L),te=this._def.values;return addIssueToContext(X,{received:X.data,code:ZodIssueCode.invalid_enum_value,options:te}),INVALID}return OK(L.data)}get options(){return this._def.values}get enum(){const L={};for(const X of this._def.values)L[X]=X;return L}get Values(){const L={};for(const X of this._def.values)L[X]=X;return L}get Enum(){const L={};for(const X of this._def.values)L[X]=X;return L}extract(L){return ZodEnum.create(L)}exclude(L){return ZodEnum.create(this.options.filter(X=>!L.includes(X)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(L){const X=util$5.getValidEnumValues(this._def.values),te=this._getOrReturnCtx(L);if(te.parsedType!==ZodParsedType.string&&te.parsedType!==ZodParsedType.number){const ie=util$5.objectValues(X);return addIssueToContext(te,{expected:util$5.joinValues(ie),received:te.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(X.indexOf(L.data)===-1){const ie=util$5.objectValues(X);return addIssueToContext(te,{received:te.data,code:ZodIssueCode.invalid_enum_value,options:ie}),INVALID}return OK(L.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(Z,L)=>new ZodNativeEnum({values:Z,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(L)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(L){const{ctx:X}=this._processInputParams(L);if(X.parsedType!==ZodParsedType.promise&&X.common.async===!1)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:X.parsedType}),INVALID;const te=X.parsedType===ZodParsedType.promise?X.data:Promise.resolve(X.data);return OK(te.then(ie=>this._def.type.parseAsync(ie,{path:X.path,errorMap:X.common.contextualErrorMap})))}}ZodPromise.create=(Z,L)=>new ZodPromise({type:Z,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(L)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(L){const{status:X,ctx:te}=this._processInputParams(L),ie=this._def.effect||null,oe={addIssue:se=>{addIssueToContext(te,se),se.fatal?X.abort():X.dirty()},get path(){return te.path}};if(oe.addIssue=oe.addIssue.bind(oe),ie.type==="preprocess"){const se=ie.transform(te.data,oe);return te.common.issues.length?{status:"dirty",value:te.data}:te.common.async?Promise.resolve(se).then(ue=>this._def.schema._parseAsync({data:ue,path:te.path,parent:te})):this._def.schema._parseSync({data:se,path:te.path,parent:te})}if(ie.type==="refinement"){const se=ue=>{const ce=ie.refinement(ue,oe);if(te.common.async)return Promise.resolve(ce);if(ce instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ue};if(te.common.async===!1){const ue=this._def.schema._parseSync({data:te.data,path:te.path,parent:te});return ue.status==="aborted"?INVALID:(ue.status==="dirty"&&X.dirty(),se(ue.value),{status:X.value,value:ue.value})}else return this._def.schema._parseAsync({data:te.data,path:te.path,parent:te}).then(ue=>ue.status==="aborted"?INVALID:(ue.status==="dirty"&&X.dirty(),se(ue.value).then(()=>({status:X.value,value:ue.value}))))}if(ie.type==="transform")if(te.common.async===!1){const se=this._def.schema._parseSync({data:te.data,path:te.path,parent:te});if(!isValid(se))return se;const ue=ie.transform(se.value,oe);if(ue instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:X.value,value:ue}}else return this._def.schema._parseAsync({data:te.data,path:te.path,parent:te}).then(se=>isValid(se)?Promise.resolve(ie.transform(se.value,oe)).then(ue=>({status:X.value,value:ue})):se);util$5.assertNever(ie)}}ZodEffects.create=(Z,L,X)=>new ZodEffects({schema:Z,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:L,...processCreateParams(X)});ZodEffects.createWithPreprocess=(Z,L,X)=>new ZodEffects({schema:L,effect:{type:"preprocess",transform:Z},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(X)});class ZodOptional extends ZodType{_parse(L){return this._getType(L)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(L)}unwrap(){return this._def.innerType}}ZodOptional.create=(Z,L)=>new ZodOptional({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(L)});class ZodNullable extends ZodType{_parse(L){return this._getType(L)===ZodParsedType.null?OK(null):this._def.innerType._parse(L)}unwrap(){return this._def.innerType}}ZodNullable.create=(Z,L)=>new ZodNullable({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(L)});class ZodDefault extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L);let te=X.data;return X.parsedType===ZodParsedType.undefined&&(te=this._def.defaultValue()),this._def.innerType._parse({data:te,path:X.path,parent:X})}removeDefault(){return this._def.innerType}}ZodDefault.create=(Z,L)=>new ZodDefault({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof L.default=="function"?L.default:()=>L.default,...processCreateParams(L)});class ZodCatch extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L),te={...X,common:{...X.common,issues:[]}},ie=this._def.innerType._parse({data:te.data,path:te.path,parent:{...te}});return isAsync(ie)?ie.then(oe=>({status:"valid",value:oe.status==="valid"?oe.value:this._def.catchValue({get error(){return new ZodError(te.common.issues)},input:te.data})})):{status:"valid",value:ie.status==="valid"?ie.value:this._def.catchValue({get error(){return new ZodError(te.common.issues)},input:te.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(Z,L)=>new ZodCatch({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof L.catch=="function"?L.catch:()=>L.catch,...processCreateParams(L)});class ZodNaN extends ZodType{_parse(L){if(this._getType(L)!==ZodParsedType.nan){const te=this._getOrReturnCtx(L);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:te.parsedType}),INVALID}return{status:"valid",value:L.data}}}ZodNaN.create=Z=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(Z)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(L){const{ctx:X}=this._processInputParams(L),te=X.data;return this._def.type._parse({data:te,path:X.path,parent:X})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(L){const{status:X,ctx:te}=this._processInputParams(L);if(te.common.async)return(async()=>{const oe=await this._def.in._parseAsync({data:te.data,path:te.path,parent:te});return oe.status==="aborted"?INVALID:oe.status==="dirty"?(X.dirty(),DIRTY(oe.value)):this._def.out._parseAsync({data:oe.value,path:te.path,parent:te})})();{const ie=this._def.in._parseSync({data:te.data,path:te.path,parent:te});return ie.status==="aborted"?INVALID:ie.status==="dirty"?(X.dirty(),{status:"dirty",value:ie.value}):this._def.out._parseSync({data:ie.value,path:te.path,parent:te})}}static create(L,X){return new ZodPipeline({in:L,out:X,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(L){const X=this._def.innerType._parse(L);return isValid(X)&&(X.value=Object.freeze(X.value)),X}}ZodReadonly.create=(Z,L)=>new ZodReadonly({innerType:Z,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(L)});const custom=(Z,L={},X)=>Z?ZodAny.create().superRefine((te,ie)=>{var oe,se;if(!Z(te)){const ue=typeof L=="function"?L(te):typeof L=="string"?{message:L}:L,ce=(se=(oe=ue.fatal)!==null&&oe!==void 0?oe:X)!==null&&se!==void 0?se:!0,le=typeof ue=="string"?{message:ue}:ue;ie.addIssue({code:"custom",...le,fatal:ce})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(Z){Z.ZodString="ZodString",Z.ZodNumber="ZodNumber",Z.ZodNaN="ZodNaN",Z.ZodBigInt="ZodBigInt",Z.ZodBoolean="ZodBoolean",Z.ZodDate="ZodDate",Z.ZodSymbol="ZodSymbol",Z.ZodUndefined="ZodUndefined",Z.ZodNull="ZodNull",Z.ZodAny="ZodAny",Z.ZodUnknown="ZodUnknown",Z.ZodNever="ZodNever",Z.ZodVoid="ZodVoid",Z.ZodArray="ZodArray",Z.ZodObject="ZodObject",Z.ZodUnion="ZodUnion",Z.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Z.ZodIntersection="ZodIntersection",Z.ZodTuple="ZodTuple",Z.ZodRecord="ZodRecord",Z.ZodMap="ZodMap",Z.ZodSet="ZodSet",Z.ZodFunction="ZodFunction",Z.ZodLazy="ZodLazy",Z.ZodLiteral="ZodLiteral",Z.ZodEnum="ZodEnum",Z.ZodEffects="ZodEffects",Z.ZodNativeEnum="ZodNativeEnum",Z.ZodOptional="ZodOptional",Z.ZodNullable="ZodNullable",Z.ZodDefault="ZodDefault",Z.ZodCatch="ZodCatch",Z.ZodPromise="ZodPromise",Z.ZodBranded="ZodBranded",Z.ZodPipeline="ZodPipeline",Z.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(Z,L={message:`Input not instance of ${Z.name}`})=>custom(X=>X instanceof Z,L),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:Z=>ZodString.create({...Z,coerce:!0}),number:Z=>ZodNumber.create({...Z,coerce:!0}),boolean:Z=>ZodBoolean.create({...Z,coerce:!0}),bigint:Z=>ZodBigInt.create({...Z,coerce:!0}),date:Z=>ZodDate.create({...Z,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const ANSI_BACKGROUND_OFFSET=10,wrapAnsi16=(Z=0)=>L=>`\x1B[${L+Z}m`,wrapAnsi256=(Z=0)=>L=>`\x1B[${38+Z};5;${L}m`,wrapAnsi16m=(Z=0)=>(L,X,te)=>`\x1B[${38+Z};2;${L};${X};${te}m`,styles$1={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(styles$1.modifier);const foregroundColorNames=Object.keys(styles$1.color),backgroundColorNames=Object.keys(styles$1.bgColor);[...foregroundColorNames,...backgroundColorNames];function assembleStyles(){const Z=new Map;for(const[L,X]of Object.entries(styles$1)){for(const[te,ie]of Object.entries(X))styles$1[te]={open:`\x1B[${ie[0]}m`,close:`\x1B[${ie[1]}m`},X[te]=styles$1[te],Z.set(ie[0],ie[1]);Object.defineProperty(styles$1,L,{value:X,enumerable:!1})}return Object.defineProperty(styles$1,"codes",{value:Z,enumerable:!1}),styles$1.color.close="\x1B[39m",styles$1.bgColor.close="\x1B[49m",styles$1.color.ansi=wrapAnsi16(),styles$1.color.ansi256=wrapAnsi256(),styles$1.color.ansi16m=wrapAnsi16m(),styles$1.bgColor.ansi=wrapAnsi16(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi256=wrapAnsi256(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi16m=wrapAnsi16m(ANSI_BACKGROUND_OFFSET),Object.defineProperties(styles$1,{rgbToAnsi256:{value(L,X,te){return L===X&&X===te?L<8?16:L>248?231:Math.round((L-8)/247*24)+232:16+36*Math.round(L/255*5)+6*Math.round(X/255*5)+Math.round(te/255*5)},enumerable:!1},hexToRgb:{value(L){const X=/[a-f\d]{6}|[a-f\d]{3}/i.exec(L.toString(16));if(!X)return[0,0,0];let[te]=X;te.length===3&&(te=[...te].map(oe=>oe+oe).join(""));const ie=Number.parseInt(te,16);return[ie>>16&255,ie>>8&255,ie&255]},enumerable:!1},hexToAnsi256:{value:L=>styles$1.rgbToAnsi256(...styles$1.hexToRgb(L)),enumerable:!1},ansi256ToAnsi:{value(L){if(L<8)return 30+L;if(L<16)return 90+(L-8);let X,te,ie;if(L>=232)X=((L-232)*10+8)/255,te=X,ie=X;else{L-=16;const ue=L%36;X=Math.floor(L/36)/5,te=Math.floor(ue/6)/5,ie=ue%6/5}const oe=Math.max(X,te,ie)*2;if(oe===0)return 30;let se=30+(Math.round(ie)<<2|Math.round(te)<<1|Math.round(X));return oe===2&&(se+=60),se},enumerable:!1},rgbToAnsi:{value:(L,X,te)=>styles$1.ansi256ToAnsi(styles$1.rgbToAnsi256(L,X,te)),enumerable:!1},hexToAnsi:{value:L=>styles$1.ansi256ToAnsi(styles$1.hexToAnsi256(L)),enumerable:!1}}),styles$1}const ansiStyles=assembleStyles(),ansiStyles$1=ansiStyles,level=(()=>{if(navigator.userAgentData){const Z=navigator.userAgentData.brands.find(({brand:L})=>L==="Chromium");if(Z&&Z.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),colorSupport=level!==0&&{level,hasBasic:!0,has256:level>=2,has16m:level>=3},supportsColor={stdout:colorSupport,stderr:colorSupport},supportsColor$1=supportsColor;function stringReplaceAll(Z,L,X){let te=Z.indexOf(L);if(te===-1)return Z;const ie=L.length;let oe=0,se="";do se+=Z.slice(oe,te)+L+X,oe=te+ie,te=Z.indexOf(L,oe);while(te!==-1);return se+=Z.slice(oe),se}function stringEncaseCRLFWithFirstIndex(Z,L,X,te){let ie=0,oe="";do{const se=Z[te-1]==="\r";oe+=Z.slice(ie,se?te-1:te)+L+(se?`\r
`:`
`)+X,ie=te+1,te=Z.indexOf(`
`,ie)}while(te!==-1);return oe+=Z.slice(ie),oe}const{stdout:stdoutColor,stderr:stderrColor}=supportsColor$1,GENERATOR=Symbol("GENERATOR"),STYLER=Symbol("STYLER"),IS_EMPTY=Symbol("IS_EMPTY"),levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(Z,L={})=>{if(L.level&&!(Number.isInteger(L.level)&&L.level>=0&&L.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const X=stdoutColor?stdoutColor.level:0;Z.level=L.level===void 0?X:L.level},chalkFactory=Z=>{const L=(...X)=>X.join(" ");return applyOptions(L,Z),Object.setPrototypeOf(L,createChalk.prototype),L};function createChalk(Z){return chalkFactory(Z)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[Z,L]of Object.entries(ansiStyles$1))styles[Z]={get(){const X=createBuilder(this,createStyler(L.open,L.close,this[STYLER]),this[IS_EMPTY]);return Object.defineProperty(this,Z,{value:X}),X}};styles.visible={get(){const Z=createBuilder(this,this[STYLER],!0);return Object.defineProperty(this,"visible",{value:Z}),Z}};const getModelAnsi=(Z,L,X,...te)=>Z==="rgb"?L==="ansi16m"?ansiStyles$1[X].ansi16m(...te):L==="ansi256"?ansiStyles$1[X].ansi256(ansiStyles$1.rgbToAnsi256(...te)):ansiStyles$1[X].ansi(ansiStyles$1.rgbToAnsi(...te)):Z==="hex"?getModelAnsi("rgb",L,X,...ansiStyles$1.hexToRgb(...te)):ansiStyles$1[X][Z](...te),usedModels=["rgb","hex","ansi256"];for(const Z of usedModels){styles[Z]={get(){const{level:X}=this;return function(...te){const ie=createStyler(getModelAnsi(Z,levelMapping[X],"color",...te),ansiStyles$1.color.close,this[STYLER]);return createBuilder(this,ie,this[IS_EMPTY])}}};const L="bg"+Z[0].toUpperCase()+Z.slice(1);styles[L]={get(){const{level:X}=this;return function(...te){const ie=createStyler(getModelAnsi(Z,levelMapping[X],"bgColor",...te),ansiStyles$1.bgColor.close,this[STYLER]);return createBuilder(this,ie,this[IS_EMPTY])}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this[GENERATOR].level},set(Z){this[GENERATOR].level=Z}}}),createStyler=(Z,L,X)=>{let te,ie;return X===void 0?(te=Z,ie=L):(te=X.openAll+Z,ie=L+X.closeAll),{open:Z,close:L,openAll:te,closeAll:ie,parent:X}},createBuilder=(Z,L,X)=>{const te=(...ie)=>applyStyle(te,ie.length===1?""+ie[0]:ie.join(" "));return Object.setPrototypeOf(te,proto),te[GENERATOR]=Z,te[STYLER]=L,te[IS_EMPTY]=X,te},applyStyle=(Z,L)=>{if(Z.level<=0||!L)return Z[IS_EMPTY]?"":L;let X=Z[STYLER];if(X===void 0)return L;const{openAll:te,closeAll:ie}=X;if(L.includes("\x1B"))for(;X!==void 0;)L=stringReplaceAll(L,X.close,X.open),X=X.parent;const oe=L.indexOf(`
`);return oe!==-1&&(L=stringEncaseCRLFWithFirstIndex(L,ie,te,oe)),te+L+ie};Object.defineProperties(createChalk.prototype,styles);const chalk=createChalk();createChalk({level:stderrColor?stderrColor.level:0});const d$3=chalk,identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(Z){return Z.length===1?Z[0].toString():Z.reduce((L,X)=>{if(typeof X=="number")return L+"["+X.toString()+"]";if(X.includes('"'))return L+'["'+escapeQuotes(X)+'"]';if(!identifierRegex.test(X))return L+'["'+X+'"]';const te=L.length===0?"":".";return L+te+X},"")}function escapeQuotes(Z){return Z.replace(/"/g,'\\"')}function isNonEmptyArray(Z){return Z.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(L,X=[]){super(L),this.details=X,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(Z,L,X){if(Z.code==="invalid_union")return Z.unionErrors.reduce((te,ie)=>{const oe=ie.issues.map(se=>getMessageFromZodIssue(se,L,X)).join(L);return te.includes(oe)||te.push(oe),te},[]).join(X);if(isNonEmptyArray(Z.path)){if(Z.path.length===1){const te=Z.path[0];if(typeof te=="number")return`${Z.message} at index ${te}`}return`${Z.message} at "${joinPath(Z.path)}"`}return Z.message}function conditionallyPrefixMessage(Z,L,X){return L!==null?Z.length>0?[L,Z].join(X):L:Z.length>0?Z:PREFIX}function fromZodError(Z,L={}){const{maxIssuesInMessage:X=MAX_ISSUES_IN_MESSAGE,issueSeparator:te=ISSUE_SEPARATOR,unionSeparator:ie=UNION_SEPARATOR,prefixSeparator:oe=PREFIX_SEPARATOR,prefix:se=PREFIX}=L,ue=Z.errors.slice(0,X).map(le=>getMessageFromZodIssue(le,te,ie)).join(te),ce=conditionallyPrefixMessage(ue,se,oe);return new ValidationError(ce,Z.errors)}var a$2=Object.defineProperty,m$1=(Z,L,X)=>L in Z?a$2(Z,L,{enumerable:!0,configurable:!0,writable:!0,value:X}):Z[L]=X,x$3=(Z,L,X)=>(m$1(Z,typeof L!="symbol"?L+"":L,X),X),t$2=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$1=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function l$2(Z,L){return fromZodError(Z,{prefix:d$3.red(L),prefixSeparator:`
- `,issueSeparator:`
- `})}var g$3=16;function d$2(Z,L){/^\w+$/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$2(Z,L){d$2(Z,L),/^[A-Z]/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(Z,L){d$2(Z,L),/^[a-z]/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$2(Z,L){Z.length===0&&L.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),Z.length>=256&&L.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let X=M$3(Z);X.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${X.join(", ")}`})}function c$1(Z,L){return(X,te)=>{if(X===""){Z&&te.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}X[0]!=="/"&&te.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),X[X.length-1]==="/"&&te.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let ie=X.split("/");L&&ie.length>2&&te.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let oe=1;oe<ie.length;oe++)ie[oe]===""&&te.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(ie[oe])||te.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var y$1=c$1(!0,!1),R$1=c$1(!1,!1),b$1=c$1(!0,!0);function D(Z,L){isAddress$1(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$3(Z){let L=new Set,X=new Set;for(let te of Z)L.has(te)&&X.add(te),L.add(te);return[...X]}function U$2(Z,L){Z.length>g$3&&L.addIssue({code:ZodIssueCode.custom,message:`Selector must be <= ${g$3} characters`}),/^\w*$/.test(Z)||L.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function z$1(Z){let L=Z.match(/^(\w+)\[(\d+)\]$/);return L?{elementType:L[1],staticLength:Number.parseInt(L[2])}:null}var v$2=z$2.string().superRefine(x$2),$$1=z$2.string().superRefine(C$1);z$2.string().superRefine(d$2);var G$2=z$2.array(v$2).superRefine(h$2);z$2.string().superRefine(y$1);z$2.string().superRefine(b$1);z$2.string().superRefine(R$1);var k$1=z$2.string().superRefine(D),P$3=z$2.string().superRefine(U$2),l$1=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$2;let L=this._global,X=new l$1;return L.__mudCoreContext=X,X}static getContext(){let L=this._global.__mudCoreContext;if(L===void 0)throw new s$1;return L}configExtenders=[]},i=l$1;x$3(i,"_global",typeof global>"u"?window.global??{}:global);function Y(Z){let L=Z,X=i.getContext();for(let te of X.configExtenders)L=te(L);return L}function q$1(Z){i.getContext().configExtenders.push(Z)}var w$1=(Z=>(Z[Z.TABLE_ID=0]="TABLE_ID",Z[Z.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",Z))(w$1||{});function ee(Z){return{type:0,input:Z}}var l={storeImportPath:"@latticexyz/store/src/",userTypesPath:"Types",codegenDirectory:"codegen"},g$2={namespace:"",enums:{}},m={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!0,ephemeral:!1},j=v$2,O$2=$$1,v$1=$$1,I=v$2,d$1=z$2.string(),_=z$2.string(),P$2=z$2.record(O$2,_).default(m.keySchema),U$1=z$2.record(v$1,d$1).refine(Z=>Object.keys(Z).length>0,"Table schema may not be empty"),K=d$1.transform(Z=>U$1.parse({value:Z})),q=U$1.or(K),h$1=z$2.object({directory:z$2.string().default(m.directory),name:P$3.optional(),tableIdArgument:z$2.boolean().default(m.tableIdArgument),storeArgument:z$2.boolean().default(m.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:P$2,schema:q,ephemeral:z$2.boolean().default(m.ephemeral)}).transform(Z=>(Object.keys(Z.schema).length===1?Z.dataStruct??=!1:Z.dataStruct??=!0,Z)),B=d$1.transform(Z=>h$1.parse({schema:{value:Z}})),M$2=h$1.or(B),$=z$2.record(j,M$2).transform(Z=>{for(let L of Object.keys(Z)){let X=Z[L];X.name=L.slice(0,g$3),Z[L]=X}return Z}),H=z$2.object({enums:z$2.record(I,G$2).default(g$2.enums)}),x$1=z$2.object({namespace:P$3.default(g$2.namespace),storeImportPath:z$2.string().default(l.storeImportPath),tables:$,userTypesPath:z$2.string().default(l.userTypesPath),codegenDirectory:z$2.string().default(l.codegenDirectory)}).merge(H);x$1.superRefine(C);var re=x$1.catchall(z$2.any()).superRefine(C);function C(Z,L){for(let le of Object.values(Z.tables)){let de=Object.keys(le.keySchema),pe=Object.keys(le.schema),ge=M$3([...de,...pe]);ge.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${ge.join(", ")}`})}let X=Object.keys(Z.tables),te=Object.keys(Z.enums),ie=te,oe=[...X,...ie],se=M$3(oe);se.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names must be globally unique: ${se.join(", ")}`});let ue=Object.values(Z.tables).map(({name:le})=>le),ce=M$3(ue);ce.length>0&&L.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${ce.join(", ")}`});for(let le of Object.values(Z.tables)){for(let de of Object.values(le.keySchema))F(te,de,L);for(let de of Object.values(le.schema))G$1(ie,te,de,L)}}function G$1(Z,L,X,te){if(!s$2.includes(X)&&!Z.includes(X)){let ie=z$1(X);ie?V(L,ie.elementType,ie.staticLength,te):te.addIssue({code:ZodIssueCode.custom,message:`${X} is not a valid abi type, and is not defined in userTypes`})}}function F(Z,L,X){!U$3.includes(L)&&!Z.includes(L)&&X.addIssue({code:ZodIssueCode.custom,message:`${L} is not a static type`})}function V(Z,L,X,te){F(Z,L,te),X===0?te.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):X>=2**16&&te.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}i.isCreated()||i.createContext();q$1(Z=>{try{return re.parse(Z)}catch(L){throw L instanceof ZodError?l$2(L,"StoreConfig Validation Error"):L}});function s(Z){return Y(Z)}var a$1=s({storeImportPath:"../../",namespace:"mudstore",enums:{ExampleEnum:["None","First","Second","Third"]},tables:{Hooks:"address[]",Callbacks:"bytes24[]",Tables:{keySchema:{tableId:"bytes32"},schema:{keySchema:"bytes32",valueSchema:"bytes32",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},Mixed:{schema:{u32:"uint32",u128:"uint128",a32:"uint32[]",s:"string"}},Vector2:{schema:{x:"uint32",y:"uint32"}},KeyEncoding:{keySchema:{k1:"uint256",k2:"int32",k3:"bytes16",k4:"address",k5:"bool",k6:"ExampleEnum"},schema:"bool"}}}),g$1=g$4("mud:store-sync"),k=a$1.tables.Tables,A=He(a$1.namespace,k.name);function G({registerTables:Z,getTables:L,storeOperations:X}){return async te=>{let ie=te.logs.map(ce=>{if(ce.eventName!=="StoreSetRecord"||ce.args.table!==A)return;let[le,...de]=ce.args.key;de.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",ce);let pe=ye(le),ge=ct(ne(Object.values(k.schema)),ce.args.data),_e=Object.fromEntries(Object.keys(k.schema).map((Oe,Ge)=>[Oe,ge[Ge]])),Te=D$1(_e.keySchema),Ae=D$1(_e.valueSchema),Ie=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedKeyNames)[0],Pe=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedFieldNames)[0],Ce=[...Ae.staticFields,...Ae.dynamicFields];return{address:ce.address,tableId:le,namespace:pe.namespace,name:pe.name,keySchema:Object.fromEntries(Te.staticFields.map((Oe,Ge)=>[Ie[Ge],Oe])),valueSchema:Object.fromEntries(Ce.map((Oe,Ge)=>[Pe[Ge],Oe]))}}).filter(P$5);ie.length>0&&await Z({blockNumber:te.blockNumber,tables:ie});let oe=Array.from(new Set(te.logs.map(ce=>JSON.stringify({address:getAddress(ce.address),tableId:ce.args.table,...ye(ce.args.table)})))).map(ce=>JSON.parse(ce)),se=Object.fromEntries((await L({blockNumber:te.blockNumber,tables:oe})).map(ce=>[`${getAddress(ce.address)}:${ce.tableId}`,ce])),ue=te.logs.map(ce=>{let le=se[`${getAddress(ce.address)}:${ce.args.table}`];if(!le){g$1("no table found for event, skipping",ye(ce.args.table),ce);return}let de=Object.keys(le.keySchema),pe=ze({staticFields:Object.values(le.keySchema),dynamicFields:[]},ce.args.key),ge=Object.fromEntries(pe.map((Ie,Pe)=>[de[Pe],Ie])),_e=Object.values(le.valueSchema),Te=ne(_e),Ae=Object.keys(le.valueSchema);if(ce.eventName==="StoreSetRecord"||ce.eventName==="StoreEphemeralRecord"){let Ie=ct(Te,ce.args.data),Pe=Object.fromEntries(Ae.map((Ce,Oe)=>[Ce,Ie[Oe]]));return{log:ce,address:getAddress(ce.address),namespace:le.namespace,name:le.name,type:"SetRecord",key:ge,value:Pe}}if(ce.eventName==="StoreSetField"){let Ie=Ae[ce.args.schemaIndex],Pe=ke(_e[ce.args.schemaIndex],ce.args.data);return{log:ce,address:getAddress(ce.address),namespace:le.namespace,name:le.name,type:"SetField",key:ge,fieldName:Ie,fieldValue:Pe}}if(ce.eventName==="StoreDeleteRecord")return{log:ce,address:getAddress(ce.address),namespace:le.namespace,name:le.name,type:"DeleteRecord",key:ge};g$1("unknown store event or log, skipping",ce)}).filter(P$5);return await X({blockNumber:te.blockNumber,operations:ue}),{blockNumber:te.blockNumber,operations:ue}}}var w=(Z=>(Z.INITIALIZE="initialize",Z.SNAPSHOT="snapshot",Z.RPC="rpc",Z.LIVE="live",Z))(w||{});function invert(Z){const L=Object.create(null);for(const X in Z){const te=Z[X];L[te]=X}return L}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop$1=()=>{};function createInnerProxy(Z,L){return new Proxy(noop$1,{get(te,ie){if(!(typeof ie!="string"||ie==="then"))return createInnerProxy(Z,[...L,ie])},apply(te,ie,oe){const se=L[L.length-1]==="apply";return Z({args:se?oe.length>=2?oe[1]:[]:oe,path:se?L.slice(0,-1):L})}})}const createRecursiveProxy=Z=>createInnerProxy(Z,[]),createFlatProxy=Z=>new Proxy(noop$1,{get(L,X){if(!(typeof X!="string"||X==="then"))return Z(X)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function Z(){this.keyToValue=new Map,this.valueToKey=new Map}return Z.prototype.set=function(L,X){this.keyToValue.set(L,X),this.valueToKey.set(X,L)},Z.prototype.getByKey=function(L){return this.keyToValue.get(L)},Z.prototype.getByValue=function(L){return this.valueToKey.get(L)},Z.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},Z}(),Registry=function(){function Z(L){this.generateIdentifier=L,this.kv=new DoubleIndexedKV}return Z.prototype.register=function(L,X){this.kv.getByValue(L)||(X||(X=this.generateIdentifier(L)),this.kv.set(X,L))},Z.prototype.clear=function(){this.kv.clear()},Z.prototype.getIdentifier=function(L){return this.kv.getByValue(L)},Z.prototype.getValue=function(L){return this.kv.getByKey(L)},Z}(),__extends=globalThis&&globalThis.__extends||function(){var Z=function(L,X){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,ie){te.__proto__=ie}||function(te,ie){for(var oe in ie)Object.prototype.hasOwnProperty.call(ie,oe)&&(te[oe]=ie[oe])},Z(L,X)};return function(L,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");Z(L,X);function te(){this.constructor=L}L.prototype=X===null?Object.create(X):(te.prototype=X.prototype,new te)}}(),ClassRegistry=function(Z){__extends(L,Z);function L(){var X=Z.call(this,function(te){return te.name})||this;return X.classToAllowedProps=new Map,X}return L.prototype.register=function(X,te){typeof te=="object"?(te.allowProps&&this.classToAllowedProps.set(X,te.allowProps),Z.prototype.register.call(this,X,te.identifier)):Z.prototype.register.call(this,X,te)},L.prototype.getAllowedProps=function(X){return this.classToAllowedProps.get(X)},L}(Registry),__read$3=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var te=X.call(Z),ie,oe=[],se;try{for(;(L===void 0||L-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe};function valuesOfObj(Z){if("values"in Object)return Object.values(Z);var L=[];for(var X in Z)Z.hasOwnProperty(X)&&L.push(Z[X]);return L}function find(Z,L){var X=valuesOfObj(Z);if("find"in X)return X.find(L);for(var te=X,ie=0;ie<te.length;ie++){var oe=te[ie];if(L(oe))return oe}}function forEach(Z,L){Object.entries(Z).forEach(function(X){var te=__read$3(X,2),ie=te[0],oe=te[1];return L(oe,ie)})}function includes(Z,L){return Z.indexOf(L)!==-1}function findArr(Z,L){for(var X=0;X<Z.length;X++){var te=Z[X];if(L(te))return te}}var CustomTransformerRegistry=function(){function Z(){this.transfomers={}}return Z.prototype.register=function(L){this.transfomers[L.name]=L},Z.prototype.findApplicable=function(L){return find(this.transfomers,function(X){return X.isApplicable(L)})},Z.prototype.findByName=function(L){return this.transfomers[L]},Z}(),getType$1=function(Z){return Object.prototype.toString.call(Z).slice(8,-1)},isUndefined=function(Z){return typeof Z>"u"},isNull=function(Z){return Z===null},isPlainObject$1=function(Z){return typeof Z!="object"||Z===null||Z===Object.prototype?!1:Object.getPrototypeOf(Z)===null?!0:Object.getPrototypeOf(Z)===Object.prototype},isEmptyObject=function(Z){return isPlainObject$1(Z)&&Object.keys(Z).length===0},isArray$1=function(Z){return Array.isArray(Z)},isString=function(Z){return typeof Z=="string"},isNumber=function(Z){return typeof Z=="number"&&!isNaN(Z)},isBoolean=function(Z){return typeof Z=="boolean"},isRegExp=function(Z){return Z instanceof RegExp},isMap=function(Z){return Z instanceof Map},isSet=function(Z){return Z instanceof Set},isSymbol=function(Z){return getType$1(Z)==="Symbol"},isDate=function(Z){return Z instanceof Date&&!isNaN(Z.valueOf())},isError=function(Z){return Z instanceof Error},isNaNValue=function(Z){return typeof Z=="number"&&isNaN(Z)},isPrimitive=function(Z){return isBoolean(Z)||isNull(Z)||isUndefined(Z)||isNumber(Z)||isString(Z)||isSymbol(Z)},isBigint=function(Z){return typeof Z=="bigint"},isInfinite=function(Z){return Z===1/0||Z===-1/0},isTypedArray=function(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)},isURL=function(Z){return Z instanceof URL},escapeKey=function(Z){return Z.replace(/\./g,"\\.")},stringifyPath=function(Z){return Z.map(String).map(escapeKey).join(".")},parsePath=function(Z){for(var L=[],X="",te=0;te<Z.length;te++){var ie=Z.charAt(te),oe=ie==="\\"&&Z.charAt(te+1)===".";if(oe){X+=".",te++;continue}var se=ie===".";if(se){L.push(X),X="";continue}X+=ie}var ue=X;return L.push(ue),L},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(Z){for(var L,X=1,te=arguments.length;X<te;X++){L=arguments[X];for(var ie in L)Object.prototype.hasOwnProperty.call(L,ie)&&(Z[ie]=L[ie])}return Z},__assign$1.apply(this,arguments)},__read$2=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var te=X.call(Z),ie,oe=[],se;try{for(;(L===void 0||L-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(Z,L){for(var X=0,te=L.length,ie=Z.length;X<te;X++,ie++)Z[ie]=L[X];return Z};function simpleTransformation(Z,L,X,te){return{isApplicable:Z,annotation:L,transform:X,untransform:te}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(Z){return Z.toString()},function(Z){return typeof BigInt<"u"?BigInt(Z):(console.error("Please add a BigInt polyfill."),Z)}),simpleTransformation(isDate,"Date",function(Z){return Z.toISOString()},function(Z){return new Date(Z)}),simpleTransformation(isError,"Error",function(Z,L){var X={name:Z.name,message:Z.message};return L.allowedErrorProps.forEach(function(te){X[te]=Z[te]}),X},function(Z,L){var X=new Error(Z.message);return X.name=Z.name,X.stack=Z.stack,L.allowedErrorProps.forEach(function(te){X[te]=Z[te]}),X}),simpleTransformation(isRegExp,"regexp",function(Z){return""+Z},function(Z){var L=Z.slice(1,Z.lastIndexOf("/")),X=Z.slice(Z.lastIndexOf("/")+1);return new RegExp(L,X)}),simpleTransformation(isSet,"set",function(Z){return __spreadArray$2([],__read$2(Z.values()))},function(Z){return new Set(Z)}),simpleTransformation(isMap,"map",function(Z){return __spreadArray$2([],__read$2(Z.entries()))},function(Z){return new Map(Z)}),simpleTransformation(function(Z){return isNaNValue(Z)||isInfinite(Z)},"number",function(Z){return isNaNValue(Z)?"NaN":Z>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(Z){return Z===0&&1/Z===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(Z){return Z.toString()},function(Z){return new URL(Z)})];function compositeTransformation(Z,L,X,te){return{isApplicable:Z,annotation:L,transform:X,untransform:te}}var symbolRule=compositeTransformation(function(Z,L){if(isSymbol(Z)){var X=!!L.symbolRegistry.getIdentifier(Z);return X}return!1},function(Z,L){var X=L.symbolRegistry.getIdentifier(Z);return["symbol",X]},function(Z){return Z.description},function(Z,L,X){var te=X.symbolRegistry.getValue(L[1]);if(!te)throw new Error("Trying to deserialize unknown symbol");return te}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(Z,L){return Z[L.name]=L,Z},{}),typedArrayRule=compositeTransformation(isTypedArray,function(Z){return["typed-array",Z.constructor.name]},function(Z){return __spreadArray$2([],__read$2(Z))},function(Z,L){var X=constructorToName[L[1]];if(!X)throw new Error("Trying to deserialize unknown typed array");return new X(Z)});function isInstanceOfRegisteredClass(Z,L){if(Z?.constructor){var X=!!L.classRegistry.getIdentifier(Z.constructor);return X}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(Z,L){var X=L.classRegistry.getIdentifier(Z.constructor);return["class",X]},function(Z,L){var X=L.classRegistry.getAllowedProps(Z.constructor);if(!X)return __assign$1({},Z);var te={};return X.forEach(function(ie){te[ie]=Z[ie]}),te},function(Z,L,X){var te=X.classRegistry.getValue(L[1]);if(!te)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(te.prototype),Z)}),customRule=compositeTransformation(function(Z,L){return!!L.customTransformerRegistry.findApplicable(Z)},function(Z,L){var X=L.customTransformerRegistry.findApplicable(Z);return["custom",X.name]},function(Z,L){var X=L.customTransformerRegistry.findApplicable(Z);return X.serialize(Z)},function(Z,L,X){var te=X.customTransformerRegistry.findByName(L[1]);if(!te)throw new Error("Trying to deserialize unknown custom value");return te.deserialize(Z)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(Z,L){var X=findArr(compositeRules,function(ie){return ie.isApplicable(Z,L)});if(X)return{value:X.transform(Z,L),type:X.annotation(Z,L)};var te=findArr(simpleRules,function(ie){return ie.isApplicable(Z,L)});if(te)return{value:te.transform(Z,L),type:te.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(Z){simpleRulesByAnnotation[Z.annotation]=Z});var untransformValue=function(Z,L,X){if(isArray$1(L))switch(L[0]){case"symbol":return symbolRule.untransform(Z,L,X);case"class":return classRule.untransform(Z,L,X);case"custom":return customRule.untransform(Z,L,X);case"typed-array":return typedArrayRule.untransform(Z,L,X);default:throw new Error("Unknown transformation: "+L)}else{var te=simpleRulesByAnnotation[L];if(!te)throw new Error("Unknown transformation: "+L);return te.untransform(Z,X)}},getNthKey=function(Z,L){for(var X=Z.keys();L>0;)X.next(),L--;return X.next().value};function validatePath(Z){if(includes(Z,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(Z,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(Z,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(Z,L){validatePath(L);for(var X=0;X<L.length;X++){var te=L[X];if(isSet(Z))Z=getNthKey(Z,+te);else if(isMap(Z)){var ie=+te,oe=+L[++X]==0?"key":"value",se=getNthKey(Z,ie);switch(oe){case"key":Z=se;break;case"value":Z=Z.get(se);break}}else Z=Z[te]}return Z},setDeep=function(Z,L,X){if(validatePath(L),L.length===0)return X(Z);for(var te=Z,ie=0;ie<L.length-1;ie++){var oe=L[ie];if(isArray$1(te)){var se=+oe;te=te[se]}else if(isPlainObject$1(te))te=te[oe];else if(isSet(te)){var ue=+oe;te=getNthKey(te,ue)}else if(isMap(te)){var ce=ie===L.length-2;if(ce)break;var ue=+oe,le=+L[++ie]==0?"key":"value",de=getNthKey(te,ue);switch(le){case"key":te=de;break;case"value":te=te.get(de);break}}}var pe=L[L.length-1];if(isArray$1(te)?te[+pe]=X(te[+pe]):isPlainObject$1(te)&&(te[pe]=X(te[pe])),isSet(te)){var ge=getNthKey(te,+pe),_e=X(ge);ge!==_e&&(te.delete(ge),te.add(_e))}if(isMap(te)){var ue=+L[L.length-2],Te=getNthKey(te,ue),le=+pe==0?"key":"value";switch(le){case"key":{var Ae=X(Te);te.set(Ae,te.get(Te)),Ae!==Te&&te.delete(Te);break}case"value":{te.set(Te,X(te.get(Te)));break}}}return Z},__read$1=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var te=X.call(Z),ie,oe=[],se;try{for(;(L===void 0||L-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(Z,L){for(var X=0,te=L.length,ie=Z.length;X<te;X++,ie++)Z[ie]=L[X];return Z};function traverse(Z,L,X){if(X===void 0&&(X=[]),!!Z){if(!isArray$1(Z)){forEach(Z,function(se,ue){return traverse(se,L,__spreadArray$1(__spreadArray$1([],__read$1(X)),__read$1(parsePath(ue))))});return}var te=__read$1(Z,2),ie=te[0],oe=te[1];oe&&forEach(oe,function(se,ue){traverse(se,L,__spreadArray$1(__spreadArray$1([],__read$1(X)),__read$1(parsePath(ue))))}),L(ie,X)}}function applyValueAnnotations(Z,L,X){return traverse(L,function(te,ie){Z=setDeep(Z,ie,function(oe){return untransformValue(oe,te,X)})}),Z}function applyReferentialEqualityAnnotations(Z,L){function X(se,ue){var ce=getDeep(Z,parsePath(ue));se.map(parsePath).forEach(function(le){Z=setDeep(Z,le,function(){return ce})})}if(isArray$1(L)){var te=__read$1(L,2),ie=te[0],oe=te[1];ie.forEach(function(se){Z=setDeep(Z,parsePath(se),function(){return Z})}),oe&&forEach(oe,X)}else forEach(L,X);return Z}var isDeep=function(Z,L){return isPlainObject$1(Z)||isArray$1(Z)||isMap(Z)||isSet(Z)||isInstanceOfRegisteredClass(Z,L)};function addIdentity(Z,L,X){var te=X.get(Z);te?te.push(L):X.set(Z,[L])}function generateReferentialEqualityAnnotations(Z){var L={},X=void 0;return Z.forEach(function(te){if(!(te.length<=1)){var ie=__read$1(te.map(function(ue){return ue.map(String)}).sort(function(ue,ce){return ue.length-ce.length})),oe=ie[0],se=ie.slice(1);oe.length===0?X=se.map(stringifyPath):L[stringifyPath(oe)]=se.map(stringifyPath)}}),X?isEmptyObject(L)?[X]:[X,L]:isEmptyObject(L)?void 0:L}var walker=function(Z,L,X,te,ie,oe,se){var ue;ie===void 0&&(ie=[]),oe===void 0&&(oe=[]),se===void 0&&(se=new Map);var ce=isPrimitive(Z);if(!ce){addIdentity(Z,ie,L);var le=se.get(Z);if(le)return te?{transformedValue:null}:le}if(!isDeep(Z,X)){var de=transformValue(Z,X),pe=de?{transformedValue:de.value,annotations:[de.type]}:{transformedValue:Z};return ce||se.set(Z,pe),pe}if(includes(oe,Z))return{transformedValue:null};var ge=transformValue(Z,X),_e=(ue=ge?.value)!==null&&ue!==void 0?ue:Z,Te=isArray$1(_e)?[]:{},Ae={};forEach(_e,function(Pe,Ce){var Oe=walker(Pe,L,X,te,__spreadArray$1(__spreadArray$1([],__read$1(ie)),[Ce]),__spreadArray$1(__spreadArray$1([],__read$1(oe)),[Z]),se);Te[Ce]=Oe.transformedValue,isArray$1(Oe.annotations)?Ae[Ce]=Oe.annotations:isPlainObject$1(Oe.annotations)&&forEach(Oe.annotations,function(Ge,Ye){Ae[escapeKey(Ce)+"."+Ye]=Ge})});var Ie=isEmptyObject(Ae)?{transformedValue:Te,annotations:ge?[ge.type]:void 0}:{transformedValue:Te,annotations:ge?[ge.type,Ae]:Ae};return ce||se.set(Z,Ie),Ie};function getType(Z){return Object.prototype.toString.call(Z).slice(8,-1)}function isPlainObject(Z){if(getType(Z)!=="Object")return!1;const L=Object.getPrototypeOf(Z);return!!L&&L.constructor===Object&&L===Object.prototype}function isArray(Z){return getType(Z)==="Array"}function assignProp(Z,L,X,te,ie){const oe={}.propertyIsEnumerable.call(te,L)?"enumerable":"nonenumerable";oe==="enumerable"&&(Z[L]=X),ie&&oe==="nonenumerable"&&Object.defineProperty(Z,L,{value:X,enumerable:!1,writable:!0,configurable:!0})}function copy(Z,L={}){if(isArray(Z))return Z.map(ie=>copy(ie,L));if(!isPlainObject(Z))return Z;const X=Object.getOwnPropertyNames(Z),te=Object.getOwnPropertySymbols(Z);return[...X,...te].reduce((ie,oe)=>{if(isArray(L.props)&&!L.props.includes(oe))return ie;const se=Z[oe],ue=copy(se,L);return assignProp(ie,oe,ue,Z,L.nonenumerable),ie},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(Z){for(var L,X=1,te=arguments.length;X<te;X++){L=arguments[X];for(var ie in L)Object.prototype.hasOwnProperty.call(L,ie)&&(Z[ie]=L[ie])}return Z},__assign.apply(this,arguments)},__read=globalThis&&globalThis.__read||function(Z,L){var X=typeof Symbol=="function"&&Z[Symbol.iterator];if(!X)return Z;var te=X.call(Z),ie,oe=[],se;try{for(;(L===void 0||L-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe},__spreadArray=globalThis&&globalThis.__spreadArray||function(Z,L){for(var X=0,te=L.length,ie=Z.length;X<te;X++,ie++)Z[ie]=L[X];return Z},SuperJSON=function(){function Z(L){var X=L===void 0?{}:L,te=X.dedupe,ie=te===void 0?!1:te;this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(oe){var se;return(se=oe.description)!==null&&se!==void 0?se:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[],this.dedupe=ie}return Z.prototype.serialize=function(L){var X=new Map,te=walker(L,X,this,this.dedupe),ie={json:te.transformedValue};te.annotations&&(ie.meta=__assign(__assign({},ie.meta),{values:te.annotations}));var oe=generateReferentialEqualityAnnotations(X);return oe&&(ie.meta=__assign(__assign({},ie.meta),{referentialEqualities:oe})),ie},Z.prototype.deserialize=function(L){var X=L.json,te=L.meta,ie=copy(X);return te?.values&&(ie=applyValueAnnotations(ie,te.values,this)),te?.referentialEqualities&&(ie=applyReferentialEqualityAnnotations(ie,te.referentialEqualities)),ie},Z.prototype.stringify=function(L){return JSON.stringify(this.serialize(L))},Z.prototype.parse=function(L){return this.deserialize(JSON.parse(L))},Z.prototype.registerClass=function(L,X){this.classRegistry.register(L,X)},Z.prototype.registerSymbol=function(L,X){this.symbolRegistry.register(L,X)},Z.prototype.registerCustom=function(L,X){this.customTransformerRegistry.register(__assign({name:X},L))},Z.prototype.allowErrorProps=function(){for(var L,X=[],te=0;te<arguments.length;te++)X[te]=arguments[te];(L=this.allowedErrorProps).push.apply(L,__spreadArray([],__read(X)))},Z.defaultInstance=new Z,Z.serialize=Z.defaultInstance.serialize.bind(Z.defaultInstance),Z.deserialize=Z.defaultInstance.deserialize.bind(Z.defaultInstance),Z.stringify=Z.defaultInstance.stringify.bind(Z.defaultInstance),Z.parse=Z.defaultInstance.parse.bind(Z.defaultInstance),Z.registerClass=Z.defaultInstance.registerClass.bind(Z.defaultInstance),Z.registerSymbol=Z.defaultInstance.registerSymbol.bind(Z.defaultInstance),Z.registerCustom=Z.defaultInstance.registerCustom.bind(Z.defaultInstance),Z.allowErrorProps=Z.defaultInstance.allowErrorProps.bind(Z.defaultInstance),Z}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity(Z){return Z}function pipeFromArray(Z){return Z.length===0?identity:Z.length===1?Z[0]:function(X){return Z.reduce((te,ie)=>ie(te),X)}}function observable(Z){const L={subscribe(X){let te=null,ie=!1,oe=!1,se=!1;function ue(){if(te===null){se=!0;return}oe||(oe=!0,typeof te=="function"?te():te&&te.unsubscribe())}return te=Z({next(ce){ie||X.next?.(ce)},error(ce){ie||(ie=!0,X.error?.(ce),ue())},complete(){ie||(ie=!0,X.complete?.(),ue())}}),se&&ue(),{unsubscribe:ue}},pipe(...X){return pipeFromArray(X)(L)}};return L}function share(Z){return L=>{let X=0,te=null;const ie=[];function oe(){te||(te=L.subscribe({next(ue){for(const ce of ie)ce.next?.(ue)},error(ue){for(const ce of ie)ce.error?.(ue)},complete(){for(const ue of ie)ue.complete?.()}}))}function se(){if(X===0&&te){const ue=te;te=null,ue.unsubscribe()}}return{subscribe(ue){return X++,ie.push(ue),oe(),{unsubscribe(){X--,se();const ce=ie.findIndex(le=>le===ue);ce>-1&&ie.splice(ce,1)}}}}}}class ObservableAbortError extends Error{constructor(L){super(L),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(Z){let L;return{promise:new Promise((te,ie)=>{let oe=!1;function se(){oe||(oe=!0,ie(new ObservableAbortError("This operation was aborted.")),ue.unsubscribe())}const ue=Z.subscribe({next(ce){oe=!0,te(ce),se()},error(ce){oe=!0,ie(ce),se()},complete(){oe=!0,se()}});L=se}),abort:L}}function createChain(Z){return observable(L=>{function X(ie=0,oe=Z.op){const se=Z.links[ie];if(!se)throw new Error("No more links to execute - did you forget to add an ending link?");return se({op:oe,next(ce){return X(ie+1,ce)}})}return X().subscribe(L)})}function isTRPCClientError(Z){return Z instanceof TRPCClientError||Z.name==="TRPCClientError"}class TRPCClientError extends Error{static from(L,X={}){return L instanceof Error?isTRPCClientError(L)?(X.meta&&(L.meta={...L.meta,...X.meta}),L):new TRPCClientError(L.message,{...X,cause:L,result:null}):new TRPCClientError(L.error.message??"",{...X,cause:void 0,result:L})}constructor(L,X){const te=X?.cause;super(L,{cause:te}),this.meta=X?.meta,this.cause=te,this.shape=X?.result?.error,this.data=X?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$1=Z=>typeof Z=="function";function getFetch(Z){if(Z)return Z;if(typeof window<"u"&&isFunction$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(Z){return Z||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(Z){return{url:Z.url,fetch:Z.fetch,AbortController:getAbortController(Z.AbortController)}}function arrayToDict(Z){const L={};for(let X=0;X<Z.length;X++){const te=Z[X];L[X]=te}return L}const METHOD={query:"GET",mutation:"POST"};function getInput(Z){return"input"in Z?Z.runtime.transformer.serialize(Z.input):arrayToDict(Z.inputs.map(L=>Z.runtime.transformer.serialize(L)))}const getUrl=Z=>{let L=Z.url+"/"+Z.path;const X=[];if("inputs"in Z&&X.push("batch=1"),Z.type==="query"){const te=getInput(Z);te!==void 0&&X.push(`input=${encodeURIComponent(JSON.stringify(te))}`)}return X.length&&(L+="?"+X.join("&")),L},getBody=Z=>{if(Z.type==="query")return;const L=getInput(Z);return L!==void 0?JSON.stringify(L):void 0},jsonHttpRequester=Z=>httpRequest({...Z,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(Z,L){const X=Z.getUrl(Z),te=Z.getBody(Z),{type:ie}=Z,oe=await Z.headers();/* istanbul ignore if -- @preserve */if(ie==="subscription")throw new Error("Subscriptions should use wsLink");const se={...Z.contentTypeHeader?{"content-type":Z.contentTypeHeader}:{},...Z.batchModeHeader?{"trpc-batch-mode":Z.batchModeHeader}:{},...oe};return getFetch(Z.fetch)(X,{method:METHOD[ie],signal:L?.signal,body:te,headers:se})}function httpRequest(Z){const L=Z.AbortController?new Z.AbortController:null,X={};return{promise:new Promise((oe,se)=>{fetchHTTPResponse(Z,L).then(ue=>(X.response=ue,ue.json())).then(ue=>{X.responseJSON=ue,oe({json:ue,meta:X})}).catch(ue=>{se(TRPCClientError.from(ue,{meta:X}))})}),cancel:()=>{L?.abort()}}}function isObject(Z){return!!Z&&!Array.isArray(Z)&&typeof Z=="object"}function transformResultInner(Z,L){if("error"in Z){const te=L.transformer.deserialize(Z.error);return{ok:!1,error:{...Z,error:te}}}return{ok:!0,result:{...Z.result,...(!Z.result.type||Z.result.type==="data")&&{type:"data",data:L.transformer.deserialize(Z.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(Z,L){let X;try{X=transformResultInner(Z,L)}catch{throw new TransformResultError}if(!X.ok&&(!isObject(X.error.error)||typeof X.error.error.code!="number"))throw new TransformResultError;if(X.ok&&!isObject(X.result))throw new TransformResultError;return X}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(Z){let L=null,X=null;const te=()=>{clearTimeout(X),X=null,L=null};function ie(ue){const ce=[[]];let le=0;for(;;){const de=ue[le];if(!de)break;const pe=ce[ce.length-1];if(de.aborted){de.reject?.(new Error("Aborted")),le++;continue}if(Z.validate(pe.concat(de).map(_e=>_e.key))){pe.push(de),le++;continue}if(pe.length===0){de.reject?.(new Error("Input is too big for a single dispatch")),le++;continue}ce.push([])}return ce}function oe(){const ue=ie(L);te();for(const ce of ue){if(!ce.length)continue;const le={items:ce,cancel:throwFatalError};for(const _e of ce)_e.batch=le;const de=(_e,Te)=>{const Ae=le.items[_e];Ae.resolve?.(Te),Ae.batch=null,Ae.reject=null,Ae.resolve=null},{promise:pe,cancel:ge}=Z.fetch(le.items.map(_e=>_e.key),de);le.cancel=ge,pe.then(_e=>{for(let Te=0;Te<_e.length;Te++){const Ae=_e[Te];de(Te,Ae)}for(const Te of le.items)Te.reject?.(new Error("Missing result")),Te.batch=null}).catch(_e=>{for(const Te of le.items)Te.reject?.(_e),Te.batch=null})}}function se(ue){const ce={aborted:!1,key:ue,batch:null,resolve:throwFatalError,reject:throwFatalError},le=new Promise((pe,ge)=>{ce.reject=ge,ce.resolve=pe,L||(L=[]),L.push(ce)});return X||(X=setTimeout(oe)),{promise:le,cancel:()=>{ce.aborted=!0,ce.batch?.items.every(pe=>pe.aborted)&&(ce.batch.cancel(),ce.batch=null)}}}return{load:se}}function createHTTPBatchLink(Z){return function(X){const te=resolveHTTPLinkOptions(X),ie=X.maxURLLength??1/0;return oe=>{const se=pe=>{const ge=Te=>{if(ie===1/0)return!0;const Ae=Te.map(Ce=>Ce.path).join(","),Ie=Te.map(Ce=>Ce.input);return getUrl({...te,runtime:oe,type:pe,path:Ae,inputs:Ie}).length<=ie},_e=Z({...te,runtime:oe,type:pe,opts:X});return{validate:ge,fetch:_e}},ue=dataLoader(se("query")),ce=dataLoader(se("mutation")),le=dataLoader(se("subscription")),de={query:ue,subscription:le,mutation:ce};return({op:pe})=>observable(ge=>{const _e=de[pe.type],{promise:Te,cancel:Ae}=_e.load(pe);let Ie;return Te.then(Pe=>{Ie=Pe;const Ce=transformResult(Pe.json,oe);if(!Ce.ok){ge.error(TRPCClientError.from(Ce.error,{meta:Pe.meta}));return}ge.next({context:Pe.meta,result:Ce.result}),ge.complete()}).catch(Pe=>{ge.error(TRPCClientError.from(Pe,{meta:Ie?.meta}))}),()=>{Ae()}})}}}const batchRequester=Z=>L=>{const X=L.map(se=>se.path).join(","),te=L.map(se=>se.input),{promise:ie,cancel:oe}=jsonHttpRequester({...Z,path:X,inputs:te,headers(){return Z.opts.headers?typeof Z.opts.headers=="function"?Z.opts.headers({opList:L}):Z.opts.headers:{}}});return{promise:ie.then(se=>(Array.isArray(se.json)?se.json:L.map(()=>se.json)).map(le=>({meta:se.meta,json:le}))),cancel:oe}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:L,input:X,path:te,context:ie={}}){return createChain({links:this.links,op:{id:++this.requestId,type:L,path:te,input:X,context:ie}}).pipe(share())}requestAsPromise(L){const X=this.$request(L),{promise:te,abort:ie}=observableToPromise(X);return new Promise((se,ue)=>{L.signal?.addEventListener("abort",ie),te.then(ce=>{se(ce.result.data)}).catch(ce=>{ue(TRPCClientError.from(ce))})})}query(L,X,te){return this.requestAsPromise({type:"query",path:L,input:X,context:te?.context,signal:te?.signal})}mutation(L,X,te){return this.requestAsPromise({type:"mutation",path:L,input:X,context:te?.context,signal:te?.signal})}subscription(L,X,te){return this.$request({type:"subscription",path:L,input:X,context:te?.context}).subscribe({next(oe){oe.result.type==="started"?te.onStarted?.():oe.result.type==="stopped"?te.onStopped?.():te.onData?.(oe.result.data)},error(oe){te.onError?.(oe)},complete(){te.onComplete?.()}})}constructor(L){this.requestId=0;const X=(()=>{const te=L.transformer;return te?"input"in te?L.transformer:{input:te,output:te}:{input:{serialize:ie=>ie,deserialize:ie=>ie},output:{serialize:ie=>ie,deserialize:ie=>ie}}})();this.runtime={transformer:{serialize:te=>X.input.serialize(te),deserialize:te=>X.output.deserialize(te)},combinedTransformer:X},this.links=L.links.map(te=>te(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=Z=>clientCallTypeMap[Z];function createTRPCClientProxy(Z){return createFlatProxy(L=>Z.hasOwnProperty(L)?Z[L]:L==="__untypedClient"?Z:createRecursiveProxy(({path:X,args:te})=>{const ie=[L,...X],oe=clientCallTypeToProcedureType(ie.pop()),se=ie.join(".");return Z[oe](se,...te)}))}function createTRPCProxyClient(Z){const L=new TRPCUntypedClient(Z);return createTRPCClientProxy(L)}function P$1({url:Z}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:Z})]})}var e=["event StoreDeleteRecord(bytes32 table, bytes32[] key)","event StoreSetField(bytes32 table, bytes32[] key, uint8 schemaIndex, bytes data)","event StoreSetRecord(bytes32 table, bytes32[] key, bytes data)","event StoreEphemeralRecord(bytes32 table, bytes32[] key, bytes data)"],f$1=parseAbi(e),u$1=g$4("mud:block-events-stream");async function*a({maxBlockRange:Z=1000n,maxRetryCount:L=3,publicClient:X,...te}){let ie=te.fromBlock,oe=u$2(Z,te.toBlock-ie),se=0;for(;ie<=te.toBlock;)try{let ue=ie+oe,ce=await X.getLogs({...te,fromBlock:ie,toBlock:ue,strict:!0});yield{fromBlock:ie,toBlock:ue,logs:ce},ie=ue+1n,oe=u$2(Z,te.toBlock-ie)}catch(ue){if(!(ue instanceof Error))throw ue;if(ue.message.includes("rate limit exceeded")&&se<L){let ce=2*se;u$1(`too many requests, retrying in ${ce}s`,ue),await b$3(1e3*ce),se+=1;continue}if(ue.message.includes("block range exceeded")){if(oe/=2n,oe<=0n)throw new Error("can't reduce block range any further");u$1("block range exceeded, trying a smaller block range",ue);continue}throw ue}}function P({publicClient:Z,address:L,events:X,maxBlockRange:te}){let ie,oe;return pipe(tap(({endBlock:se,startBlock:ue})=>{ie??=ue,oe=se}),concatMap(()=>ie>oe?EMPTY:from(a({publicClient:Z,address:L,events:X,fromBlock:ie,toBlock:oe,maxBlockRange:te})).pipe(tap(({toBlock:se})=>{ie=se+1n}))))}function O$1({publicClient:Z,blockTag:L}){return new Observable(function(X){return Z.watchBlocks({blockTag:L,emitOnBegin:!0,onBlock:te=>X.next(te),onError:te=>X.error(te)})})}function M$1(Z,L){let X=Array.from(new Set(Z.map(oe=>oe.blockNumber)));X.sort(m$3);let te=X.map(oe=>{let se=Z.filter(ue=>ue.blockNumber===oe);if(se.length&&(se.sort((ue,ce)=>ue.logIndex<ce.logIndex?-1:ue.logIndex>ce.logIndex?1:0),!!se.length))return{blockNumber:oe,logs:se}}).filter(P$5),ie=X.length>0?X[X.length-1]:null;return L!=null&&(ie==null||L>ie)&&te.push({blockNumber:L,logs:[]}),te}function U(Z){return Object.fromEntries(Object.entries(Z).map(([L,X])=>[L,P$6[X]]))}var r$1=g$1.extend("createStoreSync");async function be({storageAdapter:Z,onProgress:L,address:X,publicClient:te,startBlock:ie=0n,maxBlockRange:oe,initialState:se,indexerUrl:ue}){let ce=defer(async()=>{if(se)return se;if(!ue)return;r$1("fetching initial state from indexer",ue),L?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetching snapshot from indexer"});let Oe=P$1({url:ue}),Ge=te.chain?.id??await te.getChainId(),Ye=await Oe.findAll.query({chainId:Ge,address:X});return L?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetched snapshot from indexer"}),Ye}).pipe(catchError(Oe=>(r$1("error fetching initial state from indexer",Oe),L?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:ie,message:"Failed to fetch snapshot from indexer"}),of(void 0))),shareReplay(1)),le=ce.pipe(map(Oe=>Oe?.blockNumber??ie),tap(Oe=>r$1("starting sync from block",Oe))),de=ce.pipe(filter(Oe=>Oe!=null&&Oe.blockNumber!=null&&Oe.tables.length>0),concatMap(async({blockNumber:Oe,tables:Ge})=>{r$1("hydrating from initial state to block",Oe),L?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:Oe,message:"Hydrating from snapshot"}),await Z.registerTables({blockNumber:Oe,tables:Ge});let Ye=Ge.flatMap(tt=>tt.records.map(at=>({type:"SetRecord",address:tt.address,namespace:tt.namespace,name:tt.name,key:at.key,value:at.value}))),Ke=Math.max(100,Math.floor(Ye.length/50)),nt=Array.from(f$3(Ye,Ke));for(let[tt,at]of nt.entries())await Z.storeOperations({blockNumber:Oe,operations:at}),L?.({step:"snapshot",percentage:(tt+at.length)/nt.length,latestBlockNumber:0n,lastBlockNumberProcessed:Oe,message:"Hydrating from snapshot"});return L?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Oe,message:"Hydrated from snapshot"}),{blockNumber:Oe,operations:Ye}}),shareReplay(1)),pe=O$1({publicClient:te,blockTag:"latest"}).pipe(shareReplay(1)),ge=pe.pipe(map(Oe=>Oe.number),tap(Oe=>{r$1("latest block number",Oe)}),shareReplay(1)),_e=null,Te=null,Ae=combineLatest([le,ge]).pipe(map(([Oe,Ge])=>({startBlock:Oe,endBlock:Ge})),tap(Oe=>{_e=Oe.startBlock,Te=Oe.endBlock}),P({publicClient:te,address:X,events:f$1,maxBlockRange:oe}),mergeMap(({toBlock:Oe,logs:Ge})=>from(M$1(Ge,Oe))),share$1()),Ie=null,Pe=concat$2(de,Ae.pipe(concatMap(G(Z)),tap(({blockNumber:Oe,operations:Ge})=>{if(r$1("stored",Ge.length,"operations for block",Oe),Ie=Oe,_e!=null&&Te!=null)if(Oe<Te){let Ye=Te-_e,Ke=Ie-_e;L?.({step:"rpc",percentage:Number(Ke*1000n/Ye)/1e3,latestBlockNumber:Te,lastBlockNumberProcessed:Ie,message:"Hydrating from RPC"})}else L?.({step:"live",percentage:100,latestBlockNumber:Te,lastBlockNumberProcessed:Ie,message:"All caught up!"})}))).pipe(share$1());async function Ce(Oe){let Ge=await pRetry(Ye=>(r$1("waiting for tx receipt",Oe,"attempt",Ye),te.waitForTransactionReceipt({hash:Oe,timeout:te.pollingInterval*2*Ye})),{retries:3,onFailedAttempt:Ye=>{if(Ye instanceof WaitForTransactionReceiptTimeoutError){r$1("timed out waiting for tx receipt, trying again",Oe);return}throw Ye}});return r$1("got tx receipt",Oe,Ge),(Ie==null||Ie<Ge.blockNumber)&&(r$1("waiting for tx block to be processed",Oe,Ge.blockNumber),await firstValueFrom(Pe.pipe(filter(({blockNumber:Ye})=>Ye>=Ge.blockNumber)))),r$1("tx block was processed",Oe,Ge.blockNumber),{receipt:Ge}}return{latestBlock$:pe,latestBlockNumber$:ge,blockLogs$:Ae,blockStorageOperations$:Pe,waitForTransaction:Ce}}var d={registerFunctionSelector:!0,openAccess:!0,accessList:[]},o={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},y=v$2,h=v$2,z=z$2.array(y.or(k$1)).default(d.accessList),v=z$2.intersection(z$2.object({name:P$3.optional(),registerFunctionSelectors:z$2.boolean().default(d.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(d.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:z})])),x=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),E=z$2.object({type:z$2.nativeEnum(w$1),input:z$2.string()}),N$1=z$2.object({name:h,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([x,E])).default([])}),T=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(o.worldInterfaceName),systems:z$2.record(y,v).default(o.systems),excludeSystems:z$2.array(y).default(o.excludeSystems),postDeployScript:z$2.string().default(o.postDeployScript),deploysDirectory:z$2.string().default(o.deploysDirectory),worldsFile:z$2.string().default(o.worldsFile),worldgenDirectory:z$2.string().default(o.worldgenDirectory),worldImportPath:z$2.string().default(o.worldImportPath),modules:z$2.array(N$1).default(o.modules)}),M=T.catchall(z$2.any());q$1(Z=>{try{return M.parse(Z)}catch(L){throw L instanceof ZodError?l$2(L,"WorldConfig Validation Error"):L}});var t$1=s({worldImportPath:"../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",codegenDirectory:"",tables:{NamespaceOwner:{keySchema:{namespace:"bytes16"},schema:{owner:"address"}},ResourceAccess:{keySchema:{resourceSelector:"bytes32",caller:"address"},schema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},schema:{moduleAddress:"address"},dataStruct:!0},Systems:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{directory:"modules/core/tables",keySchema:{system:"address"},schema:{resourceSelector:"bytes32"}},SystemHooks:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:"address[]"},ResourceType:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{resourceType:"Resource"}},FunctionSelectors:{directory:"modules/core/tables",keySchema:{functionSelector:"bytes4"},schema:{resourceSelector:"bytes32",systemFunctionSelector:"bytes4"},dataStruct:!1},KeysWithValue:{directory:"modules/keyswithvalue/tables",keySchema:{valueHash:"bytes32"},schema:{keysWithValue:"bytes32[]"},tableIdArgument:!0},KeysInTable:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32"},schema:{keys0:"bytes32[]",keys1:"bytes32[]",keys2:"bytes32[]",keys3:"bytes32[]",keys4:"bytes32[]"}},UsedKeysIndex:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32",keysHash:"bytes32"},schema:{has:"bool",index:"uint40"},dataStruct:!1},UniqueEntity:{directory:"modules/uniqueentity/tables",keySchema:{},schema:"uint256",tableIdArgument:!0,storeArgument:!0},Bool:{directory:"../test/tables",keySchema:{},schema:{value:"bool"},tableIdArgument:!0},AddressArray:{directory:"../test/tables",schema:"address[]",tableIdArgument:!0}},enums:{Resource:["NONE","NAMESPACE","TABLE","SYSTEM"]},excludeSystems:["UniqueEntitySystem","StoreRegistrationSystem","EphemeralRecordSystem"]});function c(Z){return concatHex(Z)}function u(Z,L){if(Object.keys(Z).length!==Object.keys(L).length)throw new Error(`key length ${Object.keys(L).length} does not match key schema length ${Object.keys(Z).length}`);return c(Object.entries(Z).map(([X,te])=>encodeAbiParameters([{type:te}],[L[X]])))}var g=g$1.extend("recs");function b(Z){return u({address:"address",namespace:"bytes16",name:"bytes16"},{address:Z.address,namespace:stringToHex(Z.namespace,{size:16}),name:stringToHex(Z.name,{size:16})})}function R({components:Z}){let L=Object.fromEntries(Object.entries(Z).map(([X,te])=>[te.id,te]));return{async registerTables({tables:X}){for(let te of X)T$2(Z.RegisteredTables,b(te),{table:te})},async getTables({tables:X}){return X.map(te=>x$6(Z.RegisteredTables,b(te))?.table).filter(P$5)},async storeOperations({operations:X}){for(let te of X){let ie=x$6(Z.RegisteredTables,b({address:te.address,namespace:te.namespace,name:te.name}))?.table;if(!ie){g(`skipping update for unknown table: ${te.namespace}:${te.name} at ${te.address}`);continue}let oe=He(te.namespace,te.name),se=L[oe];if(!se){g(`skipping update for unknown component: ${oe}. Available components: ${Object.keys(Z)}`);continue}let ue=u(ie.keySchema,te.key);te.type==="SetRecord"?(g("setting component",oe,ue,te.value),T$2(se,ue,te.value)):te.type==="SetField"?(g("updating component",oe,ue,{[te.fieldName]:te.fieldValue}),je(se,ue,{[te.fieldName]:te.fieldValue},U(ie.valueSchema))):te.type==="DeleteRecord"&&(g("deleting component",oe,ue),w$2(se,ue))}}}}var f=c([]);function N(Z){return{RegisteredTables:Re(Z,{table:W.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:Re(Z,{step:W.String,message:W.String,percentage:W.Number,latestBlockNumber:W.BigInt,lastBlockNumberProcessed:W.BigInt},{metadata:{componentName:"SyncProgress"}})}}var O={uint8:W.Number,uint16:W.Number,uint24:W.Number,uint32:W.Number,uint40:W.Number,uint48:W.Number,uint56:W.BigInt,uint64:W.BigInt,uint72:W.BigInt,uint80:W.BigInt,uint88:W.BigInt,uint96:W.BigInt,uint104:W.BigInt,uint112:W.BigInt,uint120:W.BigInt,uint128:W.BigInt,uint136:W.BigInt,uint144:W.BigInt,uint152:W.BigInt,uint160:W.BigInt,uint168:W.BigInt,uint176:W.BigInt,uint184:W.BigInt,uint192:W.BigInt,uint200:W.BigInt,uint208:W.BigInt,uint216:W.BigInt,uint224:W.BigInt,uint232:W.BigInt,uint240:W.BigInt,uint248:W.BigInt,uint256:W.BigInt,int8:W.Number,int16:W.Number,int24:W.Number,int32:W.Number,int40:W.Number,int48:W.Number,int56:W.BigInt,int64:W.BigInt,int72:W.BigInt,int80:W.BigInt,int88:W.BigInt,int96:W.BigInt,int104:W.BigInt,int112:W.BigInt,int120:W.BigInt,int128:W.BigInt,int136:W.BigInt,int144:W.BigInt,int152:W.BigInt,int160:W.BigInt,int168:W.BigInt,int176:W.BigInt,int184:W.BigInt,int192:W.BigInt,int200:W.BigInt,int208:W.BigInt,int216:W.BigInt,int224:W.BigInt,int232:W.BigInt,int240:W.BigInt,int248:W.BigInt,int256:W.BigInt,bytes1:W.String,bytes2:W.String,bytes3:W.String,bytes4:W.String,bytes5:W.String,bytes6:W.String,bytes7:W.String,bytes8:W.String,bytes9:W.String,bytes10:W.String,bytes11:W.String,bytes12:W.String,bytes13:W.String,bytes14:W.String,bytes15:W.String,bytes16:W.String,bytes17:W.String,bytes18:W.String,bytes19:W.String,bytes20:W.String,bytes21:W.String,bytes22:W.String,bytes23:W.String,bytes24:W.String,bytes25:W.String,bytes26:W.String,bytes27:W.String,bytes28:W.String,bytes29:W.String,bytes30:W.String,bytes31:W.String,bytes32:W.String,bool:W.Boolean,address:W.String,"uint8[]":W.NumberArray,"uint16[]":W.NumberArray,"uint24[]":W.NumberArray,"uint32[]":W.NumberArray,"uint40[]":W.NumberArray,"uint48[]":W.NumberArray,"uint56[]":W.BigIntArray,"uint64[]":W.BigIntArray,"uint72[]":W.BigIntArray,"uint80[]":W.BigIntArray,"uint88[]":W.BigIntArray,"uint96[]":W.BigIntArray,"uint104[]":W.BigIntArray,"uint112[]":W.BigIntArray,"uint120[]":W.BigIntArray,"uint128[]":W.BigIntArray,"uint136[]":W.BigIntArray,"uint144[]":W.BigIntArray,"uint152[]":W.BigIntArray,"uint160[]":W.BigIntArray,"uint168[]":W.BigIntArray,"uint176[]":W.BigIntArray,"uint184[]":W.BigIntArray,"uint192[]":W.BigIntArray,"uint200[]":W.BigIntArray,"uint208[]":W.BigIntArray,"uint216[]":W.BigIntArray,"uint224[]":W.BigIntArray,"uint232[]":W.BigIntArray,"uint240[]":W.BigIntArray,"uint248[]":W.BigIntArray,"uint256[]":W.BigIntArray,"int8[]":W.NumberArray,"int16[]":W.NumberArray,"int24[]":W.NumberArray,"int32[]":W.NumberArray,"int40[]":W.NumberArray,"int48[]":W.NumberArray,"int56[]":W.BigIntArray,"int64[]":W.BigIntArray,"int72[]":W.BigIntArray,"int80[]":W.BigIntArray,"int88[]":W.BigIntArray,"int96[]":W.BigIntArray,"int104[]":W.BigIntArray,"int112[]":W.BigIntArray,"int120[]":W.BigIntArray,"int128[]":W.BigIntArray,"int136[]":W.BigIntArray,"int144[]":W.BigIntArray,"int152[]":W.BigIntArray,"int160[]":W.BigIntArray,"int168[]":W.BigIntArray,"int176[]":W.BigIntArray,"int184[]":W.BigIntArray,"int192[]":W.BigIntArray,"int200[]":W.BigIntArray,"int208[]":W.BigIntArray,"int216[]":W.BigIntArray,"int224[]":W.BigIntArray,"int232[]":W.BigIntArray,"int240[]":W.BigIntArray,"int248[]":W.BigIntArray,"int256[]":W.BigIntArray,"bytes1[]":W.StringArray,"bytes2[]":W.StringArray,"bytes3[]":W.StringArray,"bytes4[]":W.StringArray,"bytes5[]":W.StringArray,"bytes6[]":W.StringArray,"bytes7[]":W.StringArray,"bytes8[]":W.StringArray,"bytes9[]":W.StringArray,"bytes10[]":W.StringArray,"bytes11[]":W.StringArray,"bytes12[]":W.StringArray,"bytes13[]":W.StringArray,"bytes14[]":W.StringArray,"bytes15[]":W.StringArray,"bytes16[]":W.StringArray,"bytes17[]":W.StringArray,"bytes18[]":W.StringArray,"bytes19[]":W.StringArray,"bytes20[]":W.StringArray,"bytes21[]":W.StringArray,"bytes22[]":W.StringArray,"bytes23[]":W.StringArray,"bytes24[]":W.StringArray,"bytes25[]":W.StringArray,"bytes26[]":W.StringArray,"bytes27[]":W.StringArray,"bytes28[]":W.StringArray,"bytes29[]":W.StringArray,"bytes30[]":W.StringArray,"bytes31[]":W.StringArray,"bytes32[]":W.StringArray,"bool[]":W.T,"address[]":W.StringArray,bytes:W.String,string:W.String};function S(Z,L){return Object.fromEntries(Object.entries(L.tables).map(([X,te])=>[X,Re(Z,Object.fromEntries(Object.entries(te.schema).map(([ie,oe])=>[ie,O[oe]])),{id:He(L.namespace,X),metadata:{componentName:X,tableName:`${L.namespace}:${X}`,keySchema:te.keySchema,valueSchema:te.schema}})]))}async function ae({world:Z,config:L,address:X,publicClient:te,startBlock:ie,maxBlockRange:oe,initialState:se,indexerUrl:ue,startSync:ce=!0}){let le={...S(Z,L),...S(Z,a$1),...S(Z,t$1),...N(Z)};Z.registerEntity({id:f});let de=await be({storageAdapter:R({components:le,config:L}),config:L,address:X,publicClient:te,startBlock:ie,maxBlockRange:oe,indexerUrl:ue,initialState:se,onProgress:({step:_e,percentage:Te,latestBlockNumber:Ae,lastBlockNumberProcessed:Ie,message:Pe})=>{x$6(le.SyncProgress,f)?.step!=="live"&&T$2(le.SyncProgress,f,{step:_e,percentage:Te,latestBlockNumber:Ae,lastBlockNumberProcessed:Ie,message:Pe})}}),pe=ce?de.blockStorageOperations$.subscribe():null,ge=()=>{pe?.unsubscribe()};return Z.registerDisposer(ge),{...de,components:le,stopSync:ge}}function createSystemCalls({worldContract:Z,waitForTransaction:L},{Counter:X,GameState:te,Game:ie,IsPlayer:oe,Player:se,AssetsList:ue}){return{increment:async()=>{const Ce=await Z.write.increment();return await L(Ce),x$6(X,f)},joinGame:async()=>{const Ce=await Z.write.joinGame();return await L(Ce),x$6(oe,f)},askStart:async()=>{const Ce=await Z.write.askStart();return await L(Ce),x$6(te,f)},move:async(Ce,Oe)=>{const Ge=await Z.write.move([Ce,Oe]);return await L(Ge),x$6(se,f)},pickAsset:async Ce=>{const Oe=await Z.write.pickAsset([Ce]);return await L(Oe),x$6(ue,f)},pickFund:async()=>{const Ce=await Z.write.pickFund();await L(Ce)},trade:async(Ce,Oe,Ge)=>{const Ye=await Z.write.trade([Ce,Oe,Ge]);return await L(Ye)},acceptTrade:async()=>{const Ce=await Z.write.acceptTrade();return await L(Ce)},rejectTrade:async()=>{const Ce=await Z.write.rejectTrade();return await L(Ce)},finishGame:async()=>{const Ce=await Z.write.finishGame();return await L(Ce)}}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(Z,L,X){this.low=Z|0,this.high=L|0,this.unsigned=!!X}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(Z){return(Z&&Z.__isLong__)===!0}function ctz32(Z){var L=Math.clz32(Z&-Z);return Z?31-L:L}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(Z,L){var X,te,ie;return L?(Z>>>=0,(ie=0<=Z&&Z<256)&&(te=UINT_CACHE[Z],te)?te:(X=fromBits(Z,0,!0),ie&&(UINT_CACHE[Z]=X),X)):(Z|=0,(ie=-128<=Z&&Z<128)&&(te=INT_CACHE[Z],te)?te:(X=fromBits(Z,Z<0?-1:0,!1),ie&&(INT_CACHE[Z]=X),X))}Long.fromInt=fromInt;function fromNumber(Z,L){if(isNaN(Z))return L?UZERO:ZERO;if(L){if(Z<0)return UZERO;if(Z>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(Z<=-TWO_PWR_63_DBL)return MIN_VALUE;if(Z+1>=TWO_PWR_63_DBL)return MAX_VALUE}return Z<0?fromNumber(-Z,L).neg():fromBits(Z%TWO_PWR_32_DBL|0,Z/TWO_PWR_32_DBL|0,L)}Long.fromNumber=fromNumber;function fromBits(Z,L,X){return new Long(Z,L,X)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(Z,L,X){if(Z.length===0)throw Error("empty string");if(typeof L=="number"?(X=L,L=!1):L=!!L,Z==="NaN"||Z==="Infinity"||Z==="+Infinity"||Z==="-Infinity")return L?UZERO:ZERO;if(X=X||10,X<2||36<X)throw RangeError("radix");var te;if((te=Z.indexOf("-"))>0)throw Error("interior hyphen");if(te===0)return fromString(Z.substring(1),L,X).neg();for(var ie=fromNumber(pow_dbl(X,8)),oe=ZERO,se=0;se<Z.length;se+=8){var ue=Math.min(8,Z.length-se),ce=parseInt(Z.substring(se,se+ue),X);if(ue<8){var le=fromNumber(pow_dbl(X,ue));oe=oe.mul(le).add(fromNumber(ce))}else oe=oe.mul(ie),oe=oe.add(fromNumber(ce))}return oe.unsigned=L,oe}Long.fromString=fromString;function fromValue(Z,L){return typeof Z=="number"?fromNumber(Z,L):typeof Z=="string"?fromString(Z,L):fromBits(Z.low,Z.high,typeof L=="boolean"?L:Z.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(L){if(L=L||10,L<2||36<L)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var X=fromNumber(L),te=this.div(X),ie=te.mul(X).sub(this);return te.toString(L)+ie.toInt().toString(L)}else return"-"+this.neg().toString(L);for(var oe=fromNumber(pow_dbl(L,6),this.unsigned),se=this,ue="";;){var ce=se.div(oe),le=se.sub(ce.mul(oe)).toInt()>>>0,de=le.toString(L);if(se=ce,se.isZero())return de+ue;for(;de.length<6;)de="0"+de;ue=""+de+ue}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var L=this.high!=0?this.high:this.low,X=31;X>0&&!(L&1<<X);X--);return this.high!=0?X+33:X+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(L){return isLong(L)||(L=fromValue(L)),this.unsigned!==L.unsigned&&this.high>>>31===1&&L.high>>>31===1?!1:this.high===L.high&&this.low===L.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(L){return!this.eq(L)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(L){return this.comp(L)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(L){return this.comp(L)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(L){return this.comp(L)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(L){return this.comp(L)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(L){if(isLong(L)||(L=fromValue(L)),this.eq(L))return 0;var X=this.isNegative(),te=L.isNegative();return X&&!te?-1:!X&&te?1:this.unsigned?L.high>>>0>this.high>>>0||L.high===this.high&&L.low>>>0>this.low>>>0?-1:1:this.sub(L).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(L){isLong(L)||(L=fromValue(L));var X=this.high>>>16,te=this.high&65535,ie=this.low>>>16,oe=this.low&65535,se=L.high>>>16,ue=L.high&65535,ce=L.low>>>16,le=L.low&65535,de=0,pe=0,ge=0,_e=0;return _e+=oe+le,ge+=_e>>>16,_e&=65535,ge+=ie+ce,pe+=ge>>>16,ge&=65535,pe+=te+ue,de+=pe>>>16,pe&=65535,de+=X+se,de&=65535,fromBits(ge<<16|_e,de<<16|pe,this.unsigned)};LongPrototype.subtract=function(L){return isLong(L)||(L=fromValue(L)),this.add(L.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(L){if(this.isZero())return this;if(isLong(L)||(L=fromValue(L)),wasm){var X=wasm.mul(this.low,this.high,L.low,L.high);return fromBits(X,wasm.get_high(),this.unsigned)}if(L.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return L.isOdd()?MIN_VALUE:ZERO;if(L.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return L.isNegative()?this.neg().mul(L.neg()):this.neg().mul(L).neg();if(L.isNegative())return this.mul(L.neg()).neg();if(this.lt(TWO_PWR_24)&&L.lt(TWO_PWR_24))return fromNumber(this.toNumber()*L.toNumber(),this.unsigned);var te=this.high>>>16,ie=this.high&65535,oe=this.low>>>16,se=this.low&65535,ue=L.high>>>16,ce=L.high&65535,le=L.low>>>16,de=L.low&65535,pe=0,ge=0,_e=0,Te=0;return Te+=se*de,_e+=Te>>>16,Te&=65535,_e+=oe*de,ge+=_e>>>16,_e&=65535,_e+=se*le,ge+=_e>>>16,_e&=65535,ge+=ie*de,pe+=ge>>>16,ge&=65535,ge+=oe*le,pe+=ge>>>16,ge&=65535,ge+=se*ce,pe+=ge>>>16,ge&=65535,pe+=te*de+ie*le+oe*ce+se*ue,pe&=65535,fromBits(_e<<16|Te,pe<<16|ge,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(L){if(isLong(L)||(L=fromValue(L)),L.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&L.low===-1&&L.high===-1)return this;var X=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,L.low,L.high);return fromBits(X,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var te,ie,oe;if(this.unsigned){if(L.unsigned||(L=L.toUnsigned()),L.gt(this))return UZERO;if(L.gt(this.shru(1)))return UONE;oe=UZERO}else{if(this.eq(MIN_VALUE)){if(L.eq(ONE)||L.eq(NEG_ONE))return MIN_VALUE;if(L.eq(MIN_VALUE))return ONE;var se=this.shr(1);return te=se.div(L).shl(1),te.eq(ZERO)?L.isNegative()?ONE:NEG_ONE:(ie=this.sub(L.mul(te)),oe=te.add(ie.div(L)),oe)}else if(L.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return L.isNegative()?this.neg().div(L.neg()):this.neg().div(L).neg();if(L.isNegative())return this.div(L.neg()).neg();oe=ZERO}for(ie=this;ie.gte(L);){te=Math.max(1,Math.floor(ie.toNumber()/L.toNumber()));for(var ue=Math.ceil(Math.log(te)/Math.LN2),ce=ue<=48?1:pow_dbl(2,ue-48),le=fromNumber(te),de=le.mul(L);de.isNegative()||de.gt(ie);)te-=ce,le=fromNumber(te,this.unsigned),de=le.mul(L);le.isZero()&&(le=ONE),oe=oe.add(le),ie=ie.sub(de)}return oe};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(L){if(isLong(L)||(L=fromValue(L)),wasm){var X=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,L.low,L.high);return fromBits(X,wasm.get_high(),this.unsigned)}return this.sub(this.div(L).mul(L))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(L){return isLong(L)||(L=fromValue(L)),fromBits(this.low&L.low,this.high&L.high,this.unsigned)};LongPrototype.or=function(L){return isLong(L)||(L=fromValue(L)),fromBits(this.low|L.low,this.high|L.high,this.unsigned)};LongPrototype.xor=function(L){return isLong(L)||(L=fromValue(L)),fromBits(this.low^L.low,this.high^L.high,this.unsigned)};LongPrototype.shiftLeft=function(L){return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L<32?fromBits(this.low<<L,this.high<<L|this.low>>>32-L,this.unsigned):fromBits(0,this.low<<L-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(L){return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L<32?fromBits(this.low>>>L|this.high<<32-L,this.high>>L,this.unsigned):fromBits(this.high>>L-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(L){return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L<32?fromBits(this.low>>>L|this.high<<32-L,this.high>>>L,this.unsigned):L===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>L-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(L){var X;return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L===32?fromBits(this.high,this.low,this.unsigned):L<32?(X=32-L,fromBits(this.low<<L|this.high>>>X,this.high<<L|this.low>>>X,this.unsigned)):(L-=32,X=32-L,fromBits(this.high<<L|this.low>>>X,this.low<<L|this.high>>>X,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(L){var X;return isLong(L)&&(L=L.toInt()),(L&=63)===0?this:L===32?fromBits(this.high,this.low,this.unsigned):L<32?(X=32-L,fromBits(this.high<<X|this.low>>>L,this.low<<X|this.high>>>L,this.unsigned)):(L-=32,X=32-L,fromBits(this.low<<X|this.high>>>L,this.high<<X|this.low>>>L,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(L){return L?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var L=this.high,X=this.low;return[X&255,X>>>8&255,X>>>16&255,X>>>24,L&255,L>>>8&255,L>>>16&255,L>>>24]};LongPrototype.toBytesBE=function(){var L=this.high,X=this.low;return[L>>>24,L>>>16&255,L>>>8&255,L&255,X>>>24,X>>>16&255,X>>>8&255,X&255]};Long.fromBytes=function(L,X,te){return te?Long.fromBytesLE(L,X):Long.fromBytesBE(L,X)};Long.fromBytesLE=function(L,X){return new Long(L[0]|L[1]<<8|L[2]<<16|L[3]<<24,L[4]|L[5]<<8|L[6]<<16|L[7]<<24,X)};Long.fromBytesBE=function(L,X){return new Long(L[4]<<24|L[5]<<16|L[6]<<8|L[7],L[0]<<24|L[1]<<16|L[2]<<8|L[3],X)};var minimalExports={},minimal$1={get exports(){return minimalExports},set exports(Z){minimalExports=Z}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(Z,L){for(var X=new Array(arguments.length-1),te=0,ie=2,oe=!0;ie<arguments.length;)X[te++]=arguments[ie++];return new Promise(function(ue,ce){X[te]=function(de){if(oe)if(oe=!1,de)ce(de);else{for(var pe=new Array(arguments.length-1),ge=0;ge<pe.length;)pe[ge++]=arguments[ge];ue.apply(null,pe)}};try{Z.apply(L||null,X)}catch(le){oe&&(oe=!1,ce(le))}})}var base64$2={};(function(Z){var L=Z;L.length=function(ue){var ce=ue.length;if(!ce)return 0;for(var le=0;--ce%4>1&&ue.charAt(ce)==="=";)++le;return Math.ceil(ue.length*3)/4-le};for(var X=new Array(64),te=new Array(123),ie=0;ie<64;)te[X[ie]=ie<26?ie+65:ie<52?ie+71:ie<62?ie-4:ie-59|43]=ie++;L.encode=function(ue,ce,le){for(var de=null,pe=[],ge=0,_e=0,Te;ce<le;){var Ae=ue[ce++];switch(_e){case 0:pe[ge++]=X[Ae>>2],Te=(Ae&3)<<4,_e=1;break;case 1:pe[ge++]=X[Te|Ae>>4],Te=(Ae&15)<<2,_e=2;break;case 2:pe[ge++]=X[Te|Ae>>6],pe[ge++]=X[Ae&63],_e=0;break}ge>8191&&((de||(de=[])).push(String.fromCharCode.apply(String,pe)),ge=0)}return _e&&(pe[ge++]=X[Te],pe[ge++]=61,_e===1&&(pe[ge++]=61)),de?(ge&&de.push(String.fromCharCode.apply(String,pe.slice(0,ge))),de.join("")):String.fromCharCode.apply(String,pe.slice(0,ge))};var oe="invalid encoding";L.decode=function(ue,ce,le){for(var de=le,pe=0,ge,_e=0;_e<ue.length;){var Te=ue.charCodeAt(_e++);if(Te===61&&pe>1)break;if((Te=te[Te])===void 0)throw Error(oe);switch(pe){case 0:ge=Te,pe=1;break;case 1:ce[le++]=ge<<2|(Te&48)>>4,ge=Te,pe=2;break;case 2:ce[le++]=(ge&15)<<4|(Te&60)>>2,ge=Te,pe=3;break;case 3:ce[le++]=(ge&3)<<6|Te,pe=0;break}}if(pe===1)throw Error(oe);return le-de},L.test=function(ue){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ue)}})(base64$2);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(L,X,te){return(this._listeners[L]||(this._listeners[L]=[])).push({fn:X,ctx:te||this}),this};EventEmitter.prototype.off=function(L,X){if(L===void 0)this._listeners={};else if(X===void 0)this._listeners[L]=[];else for(var te=this._listeners[L],ie=0;ie<te.length;)te[ie].fn===X?te.splice(ie,1):++ie;return this};EventEmitter.prototype.emit=function(L){var X=this._listeners[L];if(X){for(var te=[],ie=1;ie<arguments.length;)te.push(arguments[ie++]);for(ie=0;ie<X.length;)X[ie].fn.apply(X[ie++].ctx,te)}return this};var float=factory(factory);function factory(Z){return typeof Float32Array<"u"?function(){var L=new Float32Array([-0]),X=new Uint8Array(L.buffer),te=X[3]===128;function ie(ce,le,de){L[0]=ce,le[de]=X[0],le[de+1]=X[1],le[de+2]=X[2],le[de+3]=X[3]}function oe(ce,le,de){L[0]=ce,le[de]=X[3],le[de+1]=X[2],le[de+2]=X[1],le[de+3]=X[0]}Z.writeFloatLE=te?ie:oe,Z.writeFloatBE=te?oe:ie;function se(ce,le){return X[0]=ce[le],X[1]=ce[le+1],X[2]=ce[le+2],X[3]=ce[le+3],L[0]}function ue(ce,le){return X[3]=ce[le],X[2]=ce[le+1],X[1]=ce[le+2],X[0]=ce[le+3],L[0]}Z.readFloatLE=te?se:ue,Z.readFloatBE=te?ue:se}():function(){function L(te,ie,oe,se){var ue=ie<0?1:0;if(ue&&(ie=-ie),ie===0)te(1/ie>0?0:2147483648,oe,se);else if(isNaN(ie))te(2143289344,oe,se);else if(ie>34028234663852886e22)te((ue<<31|2139095040)>>>0,oe,se);else if(ie<11754943508222875e-54)te((ue<<31|Math.round(ie/1401298464324817e-60))>>>0,oe,se);else{var ce=Math.floor(Math.log(ie)/Math.LN2),le=Math.round(ie*Math.pow(2,-ce)*8388608)&8388607;te((ue<<31|ce+127<<23|le)>>>0,oe,se)}}Z.writeFloatLE=L.bind(null,writeUintLE),Z.writeFloatBE=L.bind(null,writeUintBE);function X(te,ie,oe){var se=te(ie,oe),ue=(se>>31)*2+1,ce=se>>>23&255,le=se&8388607;return ce===255?le?NaN:ue*(1/0):ce===0?ue*1401298464324817e-60*le:ue*Math.pow(2,ce-150)*(le+8388608)}Z.readFloatLE=X.bind(null,readUintLE),Z.readFloatBE=X.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var L=new Float64Array([-0]),X=new Uint8Array(L.buffer),te=X[7]===128;function ie(ce,le,de){L[0]=ce,le[de]=X[0],le[de+1]=X[1],le[de+2]=X[2],le[de+3]=X[3],le[de+4]=X[4],le[de+5]=X[5],le[de+6]=X[6],le[de+7]=X[7]}function oe(ce,le,de){L[0]=ce,le[de]=X[7],le[de+1]=X[6],le[de+2]=X[5],le[de+3]=X[4],le[de+4]=X[3],le[de+5]=X[2],le[de+6]=X[1],le[de+7]=X[0]}Z.writeDoubleLE=te?ie:oe,Z.writeDoubleBE=te?oe:ie;function se(ce,le){return X[0]=ce[le],X[1]=ce[le+1],X[2]=ce[le+2],X[3]=ce[le+3],X[4]=ce[le+4],X[5]=ce[le+5],X[6]=ce[le+6],X[7]=ce[le+7],L[0]}function ue(ce,le){return X[7]=ce[le],X[6]=ce[le+1],X[5]=ce[le+2],X[4]=ce[le+3],X[3]=ce[le+4],X[2]=ce[le+5],X[1]=ce[le+6],X[0]=ce[le+7],L[0]}Z.readDoubleLE=te?se:ue,Z.readDoubleBE=te?ue:se}():function(){function L(te,ie,oe,se,ue,ce){var le=se<0?1:0;if(le&&(se=-se),se===0)te(0,ue,ce+ie),te(1/se>0?0:2147483648,ue,ce+oe);else if(isNaN(se))te(0,ue,ce+ie),te(2146959360,ue,ce+oe);else if(se>17976931348623157e292)te(0,ue,ce+ie),te((le<<31|2146435072)>>>0,ue,ce+oe);else{var de;if(se<22250738585072014e-324)de=se/5e-324,te(de>>>0,ue,ce+ie),te((le<<31|de/4294967296)>>>0,ue,ce+oe);else{var pe=Math.floor(Math.log(se)/Math.LN2);pe===1024&&(pe=1023),de=se*Math.pow(2,-pe),te(de*4503599627370496>>>0,ue,ce+ie),te((le<<31|pe+1023<<20|de*1048576&1048575)>>>0,ue,ce+oe)}}}Z.writeDoubleLE=L.bind(null,writeUintLE,0,4),Z.writeDoubleBE=L.bind(null,writeUintBE,4,0);function X(te,ie,oe,se,ue){var ce=te(se,ue+ie),le=te(se,ue+oe),de=(le>>31)*2+1,pe=le>>>20&2047,ge=4294967296*(le&1048575)+ce;return pe===2047?ge?NaN:de*(1/0):pe===0?de*5e-324*ge:de*Math.pow(2,pe-1075)*(ge+4503599627370496)}Z.readDoubleLE=X.bind(null,readUintLE,0,4),Z.readDoubleBE=X.bind(null,readUintBE,4,0)}(),Z}function writeUintLE(Z,L,X){L[X]=Z&255,L[X+1]=Z>>>8&255,L[X+2]=Z>>>16&255,L[X+3]=Z>>>24}function writeUintBE(Z,L,X){L[X]=Z>>>24,L[X+1]=Z>>>16&255,L[X+2]=Z>>>8&255,L[X+3]=Z&255}function readUintLE(Z,L){return(Z[L]|Z[L+1]<<8|Z[L+2]<<16|Z[L+3]<<24)>>>0}function readUintBE(Z,L){return(Z[L]<<24|Z[L+1]<<16|Z[L+2]<<8|Z[L+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(Z){}return null}var utf8$2={};(function(Z){var L=Z;L.length=function(te){for(var ie=0,oe=0,se=0;se<te.length;++se)oe=te.charCodeAt(se),oe<128?ie+=1:oe<2048?ie+=2:(oe&64512)===55296&&(te.charCodeAt(se+1)&64512)===56320?(++se,ie+=4):ie+=3;return ie},L.read=function(te,ie,oe){var se=oe-ie;if(se<1)return"";for(var ue=null,ce=[],le=0,de;ie<oe;)de=te[ie++],de<128?ce[le++]=de:de>191&&de<224?ce[le++]=(de&31)<<6|te[ie++]&63:de>239&&de<365?(de=((de&7)<<18|(te[ie++]&63)<<12|(te[ie++]&63)<<6|te[ie++]&63)-65536,ce[le++]=55296+(de>>10),ce[le++]=56320+(de&1023)):ce[le++]=(de&15)<<12|(te[ie++]&63)<<6|te[ie++]&63,le>8191&&((ue||(ue=[])).push(String.fromCharCode.apply(String,ce)),le=0);return ue?(le&&ue.push(String.fromCharCode.apply(String,ce.slice(0,le))),ue.join("")):String.fromCharCode.apply(String,ce.slice(0,le))},L.write=function(te,ie,oe){for(var se=oe,ue,ce,le=0;le<te.length;++le)ue=te.charCodeAt(le),ue<128?ie[oe++]=ue:ue<2048?(ie[oe++]=ue>>6|192,ie[oe++]=ue&63|128):(ue&64512)===55296&&((ce=te.charCodeAt(le+1))&64512)===56320?(ue=65536+((ue&1023)<<10)+(ce&1023),++le,ie[oe++]=ue>>18|240,ie[oe++]=ue>>12&63|128,ie[oe++]=ue>>6&63|128,ie[oe++]=ue&63|128):(ie[oe++]=ue>>12|224,ie[oe++]=ue>>6&63|128,ie[oe++]=ue&63|128);return oe-se}})(utf8$2);var pool_1=pool;function pool(Z,L,X){var te=X||8192,ie=te>>>1,oe=null,se=te;return function(ce){if(ce<1||ce>ie)return Z(ce);se+ce>te&&(oe=Z(te),se=0);var le=L.call(oe,se,se+=ce);return se&7&&(se=(se|7)+1),le}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=L;var Z=requireMinimal();function L(oe,se){this.lo=oe>>>0,this.hi=se>>>0}var X=L.zero=new L(0,0);X.toNumber=function(){return 0},X.zzEncode=X.zzDecode=function(){return this},X.length=function(){return 1};var te=L.zeroHash="\0\0\0\0\0\0\0\0";L.fromNumber=function(se){if(se===0)return X;var ue=se<0;ue&&(se=-se);var ce=se>>>0,le=(se-ce)/4294967296>>>0;return ue&&(le=~le>>>0,ce=~ce>>>0,++ce>4294967295&&(ce=0,++le>4294967295&&(le=0))),new L(ce,le)},L.from=function(se){if(typeof se=="number")return L.fromNumber(se);if(Z.isString(se))if(Z.Long)se=Z.Long.fromString(se);else return L.fromNumber(parseInt(se,10));return se.low||se.high?new L(se.low>>>0,se.high>>>0):X},L.prototype.toNumber=function(se){if(!se&&this.hi>>>31){var ue=~this.lo+1>>>0,ce=~this.hi>>>0;return ue||(ce=ce+1>>>0),-(ue+ce*4294967296)}return this.lo+this.hi*4294967296},L.prototype.toLong=function(se){return Z.Long?new Z.Long(this.lo|0,this.hi|0,!!se):{low:this.lo|0,high:this.hi|0,unsigned:!!se}};var ie=String.prototype.charCodeAt;return L.fromHash=function(se){return se===te?X:new L((ie.call(se,0)|ie.call(se,1)<<8|ie.call(se,2)<<16|ie.call(se,3)<<24)>>>0,(ie.call(se,4)|ie.call(se,5)<<8|ie.call(se,6)<<16|ie.call(se,7)<<24)>>>0)},L.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},L.prototype.zzEncode=function(){var se=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^se)>>>0,this.lo=(this.lo<<1^se)>>>0,this},L.prototype.zzDecode=function(){var se=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^se)>>>0,this.hi=(this.hi>>>1^se)>>>0,this},L.prototype.length=function(){var se=this.lo,ue=(this.lo>>>28|this.hi<<4)>>>0,ce=this.hi>>>24;return ce===0?ue===0?se<16384?se<128?1:2:se<2097152?3:4:ue<16384?ue<128?5:6:ue<2097152?7:8:ce<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(Z){var L=Z;L.asPromise=aspromise,L.base64=base64$2,L.EventEmitter=eventemitter,L.float=float,L.inquire=inquire_1,L.utf8=utf8$2,L.pool=pool_1,L.LongBits=requireLongbits(),L.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),L.global=L.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,L.emptyArray=Object.freeze?Object.freeze([]):[],L.emptyObject=Object.freeze?Object.freeze({}):{},L.isInteger=Number.isInteger||function(oe){return typeof oe=="number"&&isFinite(oe)&&Math.floor(oe)===oe},L.isString=function(oe){return typeof oe=="string"||oe instanceof String},L.isObject=function(oe){return oe&&typeof oe=="object"},L.isset=L.isSet=function(oe,se){var ue=oe[se];return ue!=null&&oe.hasOwnProperty(se)?typeof ue!="object"||(Array.isArray(ue)?ue.length:Object.keys(ue).length)>0:!1},L.Buffer=function(){try{var ie=L.inquire("buffer").Buffer;return ie.prototype.utf8Write?ie:null}catch{return null}}(),L._Buffer_from=null,L._Buffer_allocUnsafe=null,L.newBuffer=function(oe){return typeof oe=="number"?L.Buffer?L._Buffer_allocUnsafe(oe):new L.Array(oe):L.Buffer?L._Buffer_from(oe):typeof Uint8Array>"u"?oe:new Uint8Array(oe)},L.Array=typeof Uint8Array<"u"?Uint8Array:Array,L.Long=L.global.dcodeIO&&L.global.dcodeIO.Long||L.global.Long||L.inquire("long"),L.key2Re=/^true|false|0|1$/,L.key32Re=/^-?(?:0|[1-9][0-9]*)$/,L.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,L.longToHash=function(oe){return oe?L.LongBits.from(oe).toHash():L.LongBits.zeroHash},L.longFromHash=function(oe,se){var ue=L.LongBits.fromHash(oe);return L.Long?L.Long.fromBits(ue.lo,ue.hi,se):ue.toNumber(!!se)};function X(ie,oe,se){for(var ue=Object.keys(oe),ce=0;ce<ue.length;++ce)(ie[ue[ce]]===void 0||!se)&&(ie[ue[ce]]=oe[ue[ce]]);return ie}L.merge=X,L.lcFirst=function(oe){return oe.charAt(0).toLowerCase()+oe.substring(1)};function te(ie){function oe(se,ue){if(!(this instanceof oe))return new oe(se,ue);Object.defineProperty(this,"message",{get:function(){return se}}),Error.captureStackTrace?Error.captureStackTrace(this,oe):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ue&&X(this,ue)}return oe.prototype=Object.create(Error.prototype,{constructor:{value:oe,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ie},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),oe}L.newError=te,L.ProtocolError=te("ProtocolError"),L.oneOfGetter=function(oe){for(var se={},ue=0;ue<oe.length;++ue)se[oe[ue]]=1;return function(){for(var ce=Object.keys(this),le=ce.length-1;le>-1;--le)if(se[ce[le]]===1&&this[ce[le]]!==void 0&&this[ce[le]]!==null)return ce[le]}},L.oneOfSetter=function(oe){return function(se){for(var ue=0;ue<oe.length;++ue)oe[ue]!==se&&delete this[oe[ue]]}},L.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},L._configure=function(){var ie=L.Buffer;if(!ie){L._Buffer_from=L._Buffer_allocUnsafe=null;return}L._Buffer_from=ie.from!==Uint8Array.from&&ie.from||function(se,ue){return new ie(se,ue)},L._Buffer_allocUnsafe=ie.allocUnsafe||function(se){return new ie(se)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$1=util$4.base64,utf8$1=util$4.utf8;function Op(Z,L,X){this.fn=Z,this.len=L,this.next=void 0,this.val=X}function noop(){}function State(Z){this.head=Z.head,this.tail=Z.tail,this.len=Z.len,this.next=Z.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function Z(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function Z(L){return new util$4.Array(L)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function Z(L,X,te){return this.tail=this.tail.next=new Op(L,X,te),this.len+=X,this};function writeByte(Z,L,X){L[X]=Z&255}function writeVarint32(Z,L,X){for(;Z>127;)L[X++]=Z&127|128,Z>>>=7;L[X]=Z}function VarintOp(Z,L){this.len=Z,this.next=void 0,this.val=L}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function Z(L){return this.len+=(this.tail=this.tail.next=new VarintOp((L=L>>>0)<128?1:L<16384?2:L<2097152?3:L<268435456?4:5,L)).len,this};Writer$1.prototype.int32=function Z(L){return L<0?this._push(writeVarint64,10,LongBits$1.fromNumber(L)):this.uint32(L)};Writer$1.prototype.sint32=function Z(L){return this.uint32((L<<1^L>>31)>>>0)};function writeVarint64(Z,L,X){for(;Z.hi;)L[X++]=Z.lo&127|128,Z.lo=(Z.lo>>>7|Z.hi<<25)>>>0,Z.hi>>>=7;for(;Z.lo>127;)L[X++]=Z.lo&127|128,Z.lo=Z.lo>>>7;L[X++]=Z.lo}Writer$1.prototype.uint64=function Z(L){var X=LongBits$1.from(L);return this._push(writeVarint64,X.length(),X)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function Z(L){var X=LongBits$1.from(L).zzEncode();return this._push(writeVarint64,X.length(),X)};Writer$1.prototype.bool=function Z(L){return this._push(writeByte,1,L?1:0)};function writeFixed32(Z,L,X){L[X]=Z&255,L[X+1]=Z>>>8&255,L[X+2]=Z>>>16&255,L[X+3]=Z>>>24}Writer$1.prototype.fixed32=function Z(L){return this._push(writeFixed32,4,L>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function Z(L){var X=LongBits$1.from(L);return this._push(writeFixed32,4,X.lo)._push(writeFixed32,4,X.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function Z(L){return this._push(util$4.float.writeFloatLE,4,L)};Writer$1.prototype.double=function Z(L){return this._push(util$4.float.writeDoubleLE,8,L)};var writeBytes=util$4.Array.prototype.set?function Z(L,X,te){X.set(L,te)}:function Z(L,X,te){for(var ie=0;ie<L.length;++ie)X[te+ie]=L[ie]};Writer$1.prototype.bytes=function Z(L){var X=L.length>>>0;if(!X)return this._push(writeByte,1,0);if(util$4.isString(L)){var te=Writer$1.alloc(X=base64$1.length(L));base64$1.decode(L,te,0),L=te}return this.uint32(X)._push(writeBytes,X,L)};Writer$1.prototype.string=function Z(L){var X=utf8$1.length(L);return X?this.uint32(X)._push(utf8$1.write,X,L):this._push(writeByte,1,0)};Writer$1.prototype.fork=function Z(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function Z(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function Z(){var L=this.head,X=this.tail,te=this.len;return this.reset().uint32(te),te&&(this.tail.next=L.next,this.tail=X,this.len+=te),this};Writer$1.prototype.finish=function Z(){for(var L=this.head.next,X=this.constructor.alloc(this.len),te=0;L;)L.fn(L.val,X,te),te+=L.len,L=L.next;return X};Writer$1._configure=function(Z){BufferWriter$1=Z,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(L,X,te){X.set(L,te)}:function(L,X,te){if(L.copy)L.copy(X,te,0,L.length);else for(var ie=0;ie<L.length;)X[te++]=L[ie++]}};BufferWriter.prototype.bytes=function Z(L){util$3.isString(L)&&(L=util$3._Buffer_from(L,"base64"));var X=L.length>>>0;return this.uint32(X),X&&this._push(BufferWriter.writeBytesBuffer,X,L),this};function writeStringBuffer(Z,L,X){Z.length<40?util$3.utf8.write(Z,L,X):L.utf8Write?L.utf8Write(Z,X):L.write(Z,X)}BufferWriter.prototype.string=function Z(L){var X=util$3.Buffer.byteLength(L);return this.uint32(X),X&&this._push(writeStringBuffer,X,L),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(Z,L){return RangeError("index out of range: "+Z.pos+" + "+(L||1)+" > "+Z.len)}function Reader$1(Z){this.buf=Z,this.pos=0,this.len=Z.length}var create_array=typeof Uint8Array<"u"?function Z(L){if(L instanceof Uint8Array||Array.isArray(L))return new Reader$1(L);throw Error("illegal buffer")}:function Z(L){if(Array.isArray(L))return new Reader$1(L);throw Error("illegal buffer")},create=function Z(){return util$2.Buffer?function(X){return(Reader$1.create=function(ie){return util$2.Buffer.isBuffer(ie)?new BufferReader$1(ie):create_array(ie)})(X)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function Z(){var L=4294967295;return function(){if(L=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(L=(L|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(L=(L|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return L;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return L}}();Reader$1.prototype.int32=function Z(){return this.uint32()|0};Reader$1.prototype.sint32=function Z(){var L=this.uint32();return L>>>1^-(L&1)|0};function readLongVarint(){var Z=new LongBits(0,0),L=0;if(this.len-this.pos>4){for(;L<4;++L)if(Z.lo=(Z.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return Z;if(Z.lo=(Z.lo|(this.buf[this.pos]&127)<<28)>>>0,Z.hi=(Z.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return Z;L=0}else{for(;L<3;++L){if(this.pos>=this.len)throw indexOutOfRange(this);if(Z.lo=(Z.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return Z}return Z.lo=(Z.lo|(this.buf[this.pos++]&127)<<L*7)>>>0,Z}if(this.len-this.pos>4){for(;L<5;++L)if(Z.hi=(Z.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return Z}else for(;L<5;++L){if(this.pos>=this.len)throw indexOutOfRange(this);if(Z.hi=(Z.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return Z}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function Z(){return this.uint32()!==0};function readFixed32_end(Z,L){return(Z[L-4]|Z[L-3]<<8|Z[L-2]<<16|Z[L-1]<<24)>>>0}Reader$1.prototype.fixed32=function Z(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function Z(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function Z(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var L=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,L};Reader$1.prototype.double=function Z(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var L=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,L};Reader$1.prototype.bytes=function Z(){var L=this.uint32(),X=this.pos,te=this.pos+L;if(te>this.len)throw indexOutOfRange(this,L);if(this.pos+=L,Array.isArray(this.buf))return this.buf.slice(X,te);if(X===te){var ie=util$2.Buffer;return ie?ie.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,X,te)};Reader$1.prototype.string=function Z(){var L=this.bytes();return utf8.read(L,0,L.length)};Reader$1.prototype.skip=function Z(L){if(typeof L=="number"){if(this.pos+L>this.len)throw indexOutOfRange(this,L);this.pos+=L}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(Z){switch(Z){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(Z=this.uint32()&7)!==4;)this.skipType(Z);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Z+" at offset "+this.pos)}return this};Reader$1._configure=function(Z){BufferReader$1=Z,Reader$1.create=create(),BufferReader$1._configure();var L=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[L](!1)},uint64:function(){return readLongVarint.call(this)[L](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[L](!1)},fixed64:function(){return readFixed64.call(this)[L](!0)},sfixed64:function(){return readFixed64.call(this)[L](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(Z){Reader.call(this,Z)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function Z(){var L=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+L,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+L,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(Z,L,X){if(typeof Z!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=Z,this.requestDelimited=!!L,this.responseDelimited=!!X}Service.prototype.rpcCall=function Z(L,X,te,ie,oe){if(!ie)throw TypeError("request must be specified");var se=this;if(!oe)return util.asPromise(Z,se,L,X,te,ie);if(!se.rpcImpl){setTimeout(function(){oe(Error("already ended"))},0);return}try{return se.rpcImpl(L,X[se.requestDelimited?"encodeDelimited":"encode"](ie).finish(),function(ce,le){if(ce)return se.emit("error",ce,L),oe(ce);if(le===null){se.end(!0);return}if(!(le instanceof te))try{le=te[se.responseDelimited?"decodeDelimited":"decode"](le)}catch(de){return se.emit("error",de,L),oe(de)}return se.emit("data",le,L),oe(null,le)})}catch(ue){se.emit("error",ue,L),setTimeout(function(){oe(ue)},0);return}};Service.prototype.end=function Z(L){return this.rpcImpl&&(L||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(Z){var L=Z;L.Service=service})(rpc);var roots={};(function(Z){var L=Z;L.build="minimal",L.Writer=writer,L.BufferWriter=writer_buffer,L.Reader=reader,L.BufferReader=reader_buffer,L.util=requireMinimal(),L.rpc=rpc,L.roots=roots,L.configure=X;function X(){L.util._configure(),L.Writer._configure(L.BufferWriter),L.Reader._configure(L.BufferReader)}X()})(indexMinimal);(function(Z){Z.exports=indexMinimal})(minimal$1);const _m0=getDefaultExportFromCjs(minimalExports);var lib$1={},lib={},Metadata={};Object.defineProperty(Metadata,"__esModule",{value:!0});Metadata.Metadata=void 0;Metadata.Metadata=function Z(L){const X=new Map,te={set(ie,oe){if(ie=normalizeKey(ie),Array.isArray(oe))if(oe.length===0)X.delete(ie);else{for(const se of oe)validate(ie,se);X.set(ie,ie.endsWith("-bin")?oe:[oe.join(", ")])}else validate(ie,oe),X.set(ie,[oe]);return te},append(ie,oe){ie=normalizeKey(ie),validate(ie,oe);let se=X.get(ie);return se==null&&(se=[],X.set(ie,se)),se.push(oe),ie.endsWith("-bin")||X.set(ie,[se.join(", ")]),te},delete(ie){ie=normalizeKey(ie),X.delete(ie)},get(ie){var oe;return ie=normalizeKey(ie),(oe=X.get(ie))===null||oe===void 0?void 0:oe[0]},getAll(ie){var oe;return ie=normalizeKey(ie),(oe=X.get(ie))!==null&&oe!==void 0?oe:[]},has(ie){return ie=normalizeKey(ie),X.has(ie)},[Symbol.iterator](){return X[Symbol.iterator]()}};if(L!=null){const ie=isIterable(L)?L:Object.entries(L);for(const[oe,se]of ie)te.set(oe,se)}return te};function normalizeKey(Z){return Z.toLowerCase()}function validate(Z,L){if(!/^[0-9a-z_.-]+$/.test(Z))throw new Error(`Metadata key '${Z}' contains illegal characters`);if(Z.endsWith("-bin")){if(!(L instanceof Uint8Array))throw new Error(`Metadata key '${Z}' ends with '-bin', thus it must have binary value`)}else{if(typeof L!="string")throw new Error(`Metadata key '${Z}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(L))throw new Error(`Metadata value '${L}' of key '${Z}' contains illegal characters`)}}function isIterable(Z){return Symbol.iterator in Z}var Status={};(function(Z){Object.defineProperty(Z,"__esModule",{value:!0}),Z.Status=void 0,function(L){L[L.OK=0]="OK",L[L.CANCELLED=1]="CANCELLED",L[L.UNKNOWN=2]="UNKNOWN",L[L.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",L[L.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",L[L.NOT_FOUND=5]="NOT_FOUND",L[L.ALREADY_EXISTS=6]="ALREADY_EXISTS",L[L.PERMISSION_DENIED=7]="PERMISSION_DENIED",L[L.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",L[L.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",L[L.ABORTED=10]="ABORTED",L[L.OUT_OF_RANGE=11]="OUT_OF_RANGE",L[L.UNIMPLEMENTED=12]="UNIMPLEMENTED",L[L.INTERNAL=13]="INTERNAL",L[L.UNAVAILABLE=14]="UNAVAILABLE",L[L.DATA_LOSS=15]="DATA_LOSS",L[L.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(Z.Status||(Z.Status={}))})(Status);var MethodDescriptor={};Object.defineProperty(MethodDescriptor,"__esModule",{value:!0});var CallOptions={};Object.defineProperty(CallOptions,"__esModule",{value:!0});var ClientMiddleware={};Object.defineProperty(ClientMiddleware,"__esModule",{value:!0});var composeClientMiddleware$1={};Object.defineProperty(composeClientMiddleware$1,"__esModule",{value:!0});composeClientMiddleware$1.composeClientMiddleware=void 0;function composeClientMiddleware(Z,L){return(X,te)=>L(Object.assign(Object.assign({},X),{next:(ie,oe)=>Z(Object.assign(Object.assign({},X),{request:ie}),oe)}),te)}composeClientMiddleware$1.composeClientMiddleware=composeClientMiddleware;var ClientError$1={},cjs={},helpers={};helpers.__esModule=void 0;helpers.__esModule=!0;var objectSetPrototypeOfIsDefined=typeof Object.setPrototypeOf=="function",objectGetPrototypeOfIsDefined=typeof Object.getPrototypeOf=="function",objectDefinePropertyIsDefined=typeof Object.defineProperty=="function",objectCreateIsDefined=typeof Object.create=="function",objectHasOwnPropertyIsDefined=typeof Object.prototype.hasOwnProperty=="function",setPrototypeOf=function Z(L,X){objectSetPrototypeOfIsDefined?Object.setPrototypeOf(L,X):L.__proto__=X};helpers.setPrototypeOf=setPrototypeOf;var getPrototypeOf=function Z(L){return objectGetPrototypeOfIsDefined?Object.getPrototypeOf(L):L.__proto__||L.prototype};helpers.getPrototypeOf=getPrototypeOf;var ie8ObjectDefinePropertyBug=!1,defineProperty=function Z(L,X,te){if(objectDefinePropertyIsDefined&&!ie8ObjectDefinePropertyBug)try{Object.defineProperty(L,X,te)}catch{ie8ObjectDefinePropertyBug=!0,Z(L,X,te)}else L[X]=te.value};helpers.defineProperty=defineProperty;var hasOwnProperty=function Z(L,X){return objectHasOwnPropertyIsDefined?L.hasOwnProperty(L,X):L[X]===void 0};helpers.hasOwnProperty=hasOwnProperty;var objectCreate=function Z(L,X){if(objectCreateIsDefined)return Object.create(L,X);var te=function(){};te.prototype=L;var ie=new te;if(typeof X>"u")return ie;if(typeof X=="null")throw new Error("PropertyDescriptors must not be null.");if(typeof X=="object")for(var oe in X)hasOwnProperty(X,oe)&&(ie[oe]=X[oe].value);return ie};helpers.objectCreate=objectCreate;(function(Z){Z.__esModule=void 0,Z.__esModule=!0;var L=helpers,X=L.setPrototypeOf,te=L.getPrototypeOf,ie=L.defineProperty,oe=L.objectCreate,se=new Error().toString()==="[object Error]",ue="";function ce(le){var de=this.constructor,pe=de.name||function(){var Ie=de.toString().match(/^function\s*([^\s(]+)/);return Ie===null?ue||"Error":Ie[1]}(),ge=pe==="Error",_e=ge?ue:pe,Te=Error.apply(this,arguments);if(X(Te,te(this)),!(Te instanceof de)||!(Te instanceof ce)){var Te=this;Error.apply(this,arguments),ie(Te,"message",{configurable:!0,enumerable:!1,value:le,writable:!0})}if(ie(Te,"name",{configurable:!0,enumerable:!1,value:_e,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(Te,ge?ce:de),Te.stack===void 0){var Ae=new Error(le);Ae.name=Te.name,Te.stack=Ae.stack}return se&&ie(Te,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(typeof this.message>"u"?"":": "+this.message)},writable:!0}),Te}ue=ce.name||"ExtendableError",ce.prototype=oe(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Z.ExtendableError=ce,Z.default=Z.ExtendableError})(cjs);Object.defineProperty(ClientError$1,"__esModule",{value:!0});ClientError$1.ClientError=void 0;const ts_error_1$1=cjs,Status_1$1=Status;class ClientError extends ts_error_1$1.ExtendableError{constructor(L,X,te){super(`${L} ${Status_1$1.Status[X]}: ${te}`),this.path=L,this.code=X,this.details=te,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](L){return this!==ClientError?this.prototype.isPrototypeOf(L):typeof L=="object"&&L!==null&&(L.constructor===ClientError||L["@@nice-grpc:ClientError"]===!0||L.name==="ClientError"&&L["@@nice-grpc"]===!0)}}ClientError$1.ClientError=ClientError;var CallContext={};Object.defineProperty(CallContext,"__esModule",{value:!0});var ServerMiddleware={};Object.defineProperty(ServerMiddleware,"__esModule",{value:!0});var composeServerMiddleware$1={};Object.defineProperty(composeServerMiddleware$1,"__esModule",{value:!0});composeServerMiddleware$1.composeServerMiddleware=void 0;function composeServerMiddleware(Z,L){return(X,te)=>Z(Object.assign(Object.assign({},X),{next:(ie,oe)=>L(Object.assign(Object.assign({},X),{request:ie}),oe)}),te)}composeServerMiddleware$1.composeServerMiddleware=composeServerMiddleware;var ServerError$1={};Object.defineProperty(ServerError$1,"__esModule",{value:!0});ServerError$1.ServerError=void 0;const ts_error_1=cjs,Status_1=Status;class ServerError extends ts_error_1.ExtendableError{constructor(L,X){super(`${Status_1.Status[L]}: ${X}`),this.code=L,this.details=X,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](L){return this!==ServerError?this.prototype.isPrototypeOf(L):typeof L=="object"&&L!==null&&(L.constructor===ServerError||L["@@nice-grpc:ServerError"]===!0||L.name==="ServerError"&&L["@@nice-grpc"]===!0)}}ServerError$1.ServerError=ServerError;(function(Z){var L=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(te,ie,oe,se){se===void 0&&(se=oe);var ue=Object.getOwnPropertyDescriptor(ie,oe);(!ue||("get"in ue?!ie.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return ie[oe]}}),Object.defineProperty(te,se,ue)}:function(te,ie,oe,se){se===void 0&&(se=oe),te[se]=ie[oe]}),X=commonjsGlobal&&commonjsGlobal.__exportStar||function(te,ie){for(var oe in te)oe!=="default"&&!Object.prototype.hasOwnProperty.call(ie,oe)&&L(ie,te,oe)};Object.defineProperty(Z,"__esModule",{value:!0}),X(Metadata,Z),X(Status,Z),X(MethodDescriptor,Z),X(CallOptions,Z),X(ClientMiddleware,Z),X(composeClientMiddleware$1,Z),X(ClientError$1,Z),X(CallContext,Z),X(ServerMiddleware,Z),X(composeServerMiddleware$1,Z),X(ServerError$1,Z)})(lib);var serviceDefinitions={},grpcWeb={};Object.defineProperty(grpcWeb,"__esModule",{value:!0});grpcWeb.isGrpcWebServiceDefinition=grpcWeb.fromGrpcWebServiceDefinition=void 0;function fromGrpcWebServiceDefinition(Z){const L={};for(const[X,te]of Object.entries(Z)){if(X==="serviceName")continue;const ie=te;L[uncapitalize(X)]={path:`/${Z.serviceName}/${X}`,requestStream:ie.requestStream,responseStream:ie.responseStream,requestDeserialize:ie.requestType.deserializeBinary,requestSerialize:oe=>oe.serializeBinary(),responseDeserialize:ie.responseType.deserializeBinary,responseSerialize:oe=>oe.serializeBinary(),options:{}}}return L}grpcWeb.fromGrpcWebServiceDefinition=fromGrpcWebServiceDefinition;function isGrpcWebServiceDefinition(Z){return"prototype"in Z}grpcWeb.isGrpcWebServiceDefinition=isGrpcWebServiceDefinition;function uncapitalize(Z){return Z.length===0?Z:Z[0].toLowerCase()+Z.slice(1)}var tsProto={};Object.defineProperty(tsProto,"__esModule",{value:!0});tsProto.isTsProtoServiceDefinition=tsProto.fromTsProtoServiceDefinition=void 0;function fromTsProtoServiceDefinition(Z){const L={};for(const[X,te]of Object.entries(Z.methods)){const ie=te.requestType.encode,oe=te.requestType.fromPartial,se=te.responseType.encode,ue=te.responseType.fromPartial;L[X]={path:`/${Z.fullName}/${te.name}`,requestStream:te.requestStream,responseStream:te.responseStream,requestDeserialize:te.requestType.decode,requestSerialize:oe!=null?ce=>ie(oe(ce)).finish():ce=>ie(ce).finish(),responseDeserialize:te.responseType.decode,responseSerialize:ue!=null?ce=>se(ue(ce)).finish():ce=>se(ce).finish(),options:te.options}}return L}tsProto.fromTsProtoServiceDefinition=fromTsProtoServiceDefinition;function isTsProtoServiceDefinition(Z){return"name"in Z&&"fullName"in Z&&"methods"in Z}tsProto.isTsProtoServiceDefinition=isTsProtoServiceDefinition;Object.defineProperty(serviceDefinitions,"__esModule",{value:!0});serviceDefinitions.toGrpcWebMethodDefinition=serviceDefinitions.normalizeServiceDefinition=void 0;const grpc_web_1$5=grpcWeb,ts_proto_1=tsProto;function normalizeServiceDefinition(Z){return(0,grpc_web_1$5.isGrpcWebServiceDefinition)(Z)?(0,grpc_web_1$5.fromGrpcWebServiceDefinition)(Z):(0,ts_proto_1.isTsProtoServiceDefinition)(Z)?(0,ts_proto_1.fromTsProtoServiceDefinition)(Z):Z}serviceDefinitions.normalizeServiceDefinition=normalizeServiceDefinition;function toGrpcWebMethodDefinition(Z){const[,L,X]=Z.path.split("/");return{service:{serviceName:L},methodName:X,requestStream:Z.requestStream,responseStream:Z.responseStream,requestType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(te){return Z.requestDeserialize(te)}},responseType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(te){return Z.responseDeserialize(te)}}}}serviceDefinitions.toGrpcWebMethodDefinition=toGrpcWebMethodDefinition;var channel={};Object.defineProperty(channel,"__esModule",{value:!0});channel.createChannel=void 0;function createChannel(Z,L){return{address:Z,transport:L}}channel.createChannel=createChannel;var ClientFactory={},createBidiStreamingMethod$1={},grpcWebClient_umdExports={},grpcWebClient_umd={get exports(){return grpcWebClient_umdExports},set exports(Z){grpcWebClient_umdExports=Z}};(function(Z,L){(function(X,te){Z.exports=te()})(commonjsGlobal,function(){return X={418:function(ie,oe){(function(se,ue){for(var ce in ue)se[ce]=ue[ce]})(oe,function(se){var ue={};function ce(le){if(ue[le])return ue[le].exports;var de=ue[le]={i:le,l:!1,exports:{}};return se[le].call(de.exports,de,de.exports,ce),de.l=!0,de.exports}return ce.m=se,ce.c=ue,ce.i=function(le){return le},ce.d=function(le,de,pe){ce.o(le,de)||Object.defineProperty(le,de,{configurable:!1,enumerable:!0,get:pe})},ce.n=function(le){var de=le&&le.__esModule?function(){return le.default}:function(){return le};return ce.d(de,"a",de),de},ce.o=function(le,de){return Object.prototype.hasOwnProperty.call(le,de)},ce.p="",ce(ce.s=1)}([function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0});var le=ce(3),de=function(){function pe(ge,_e){ge===void 0&&(ge={}),_e===void 0&&(_e={splitValues:!1});var Te,Ae=this;this.headersMap={},ge&&(typeof Headers<"u"&&ge instanceof Headers?le.getHeaderKeys(ge).forEach(function(Ie){le.getHeaderValues(ge,Ie).forEach(function(Pe){_e.splitValues?Ae.append(Ie,le.splitHeaderValue(Pe)):Ae.append(Ie,Pe)})}):typeof(Te=ge)=="object"&&typeof Te.headersMap=="object"&&typeof Te.forEach=="function"?ge.forEach(function(Ie,Pe){Ae.append(Ie,Pe)}):typeof Map<"u"&&ge instanceof Map?ge.forEach(function(Ie,Pe){Ae.append(Pe,Ie)}):typeof ge=="string"?this.appendFromString(ge):typeof ge=="object"&&Object.getOwnPropertyNames(ge).forEach(function(Ie){var Pe=ge[Ie];Array.isArray(Pe)?Pe.forEach(function(Ce){Ae.append(Ie,Ce)}):Ae.append(Ie,Pe)}))}return pe.prototype.appendFromString=function(ge){for(var _e=ge.split(`\r
`),Te=0;Te<_e.length;Te++){var Ae=_e[Te],Ie=Ae.indexOf(":");if(Ie>0){var Pe=Ae.substring(0,Ie).trim(),Ce=Ae.substring(Ie+1).trim();this.append(Pe,Ce)}}},pe.prototype.delete=function(ge,_e){var Te=le.normalizeName(ge);if(_e===void 0)delete this.headersMap[Te];else{var Ae=this.headersMap[Te];if(Ae){var Ie=Ae.indexOf(_e);Ie>=0&&Ae.splice(Ie,1),Ae.length===0&&delete this.headersMap[Te]}}},pe.prototype.append=function(ge,_e){var Te=this,Ae=le.normalizeName(ge);Array.isArray(this.headersMap[Ae])||(this.headersMap[Ae]=[]),Array.isArray(_e)?_e.forEach(function(Ie){Te.headersMap[Ae].push(le.normalizeValue(Ie))}):this.headersMap[Ae].push(le.normalizeValue(_e))},pe.prototype.set=function(ge,_e){var Te=le.normalizeName(ge);if(Array.isArray(_e)){var Ae=[];_e.forEach(function(Ie){Ae.push(le.normalizeValue(Ie))}),this.headersMap[Te]=Ae}else this.headersMap[Te]=[le.normalizeValue(_e)]},pe.prototype.has=function(ge,_e){var Te=this.headersMap[le.normalizeName(ge)];if(!Array.isArray(Te))return!1;if(_e!==void 0){var Ae=le.normalizeValue(_e);return Te.indexOf(Ae)>=0}return!0},pe.prototype.get=function(ge){var _e=this.headersMap[le.normalizeName(ge)];return _e!==void 0?_e.concat():[]},pe.prototype.forEach=function(ge){var _e=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Te){ge(Te,_e.headersMap[Te])},this)},pe.prototype.toHeaders=function(){if(typeof Headers<"u"){var ge=new Headers;return this.forEach(function(_e,Te){Te.forEach(function(Ae){ge.append(_e,Ae)})}),ge}throw new Error("Headers class is not defined")},pe}();ue.BrowserHeaders=de},function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0});var le=ce(0);ue.BrowserHeaders=le.BrowserHeaders},function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0}),ue.iterateHeaders=function(le,de){for(var pe=le[Symbol.iterator](),ge=pe.next();!ge.done;)de(ge.value[0]),ge=pe.next()},ue.iterateHeadersKeys=function(le,de){for(var pe=le.keys(),ge=pe.next();!ge.done;)de(ge.value),ge=pe.next()}},function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0});var le=ce(2);ue.normalizeName=function(de){if(typeof de!="string"&&(de=String(de)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(de))throw new TypeError("Invalid character in header field name");return de.toLowerCase()},ue.normalizeValue=function(de){return typeof de!="string"&&(de=String(de)),de},ue.getHeaderValues=function(de,pe){var ge=de;if(ge instanceof Headers&&ge.getAll)return ge.getAll(pe);var _e=ge.get(pe);return _e&&typeof _e=="string"?[_e]:_e},ue.getHeaderKeys=function(de){var pe=de,ge={},_e=[];return pe.keys?le.iterateHeadersKeys(pe,function(Te){ge[Te]||(ge[Te]=!0,_e.push(Te))}):pe.forEach?pe.forEach(function(Te,Ae){ge[Ae]||(ge[Ae]=!0,_e.push(Ae))}):le.iterateHeaders(pe,function(Te){var Ae=Te[0];ge[Ae]||(ge[Ae]=!0,_e.push(Ae))}),_e},ue.splitHeaderValue=function(de){var pe=[];return de.split(", ").forEach(function(ge){ge.split(",").forEach(function(_e){pe.push(_e)})}),pe}}]))},617:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.ChunkParser=oe.ChunkType=oe.encodeASCII=oe.decodeASCII=void 0;var ue,ce=se(65);function le(Ie){return(Pe=Ie)===9||Pe===10||Pe===13||Ie>=32&&Ie<=126;var Pe}function de(Ie){for(var Pe=0;Pe!==Ie.length;++Pe)if(!le(Ie[Pe]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(Ie))}function pe(Ie){return(128&Ie.getUint8(0))==128}function ge(Ie){return Ie.getUint32(1,!1)}function _e(Ie,Pe,Ce){return Ie.byteLength-Pe>=Ce}function Te(Ie,Pe,Ce){if(Ie.slice)return Ie.slice(Pe,Ce);var Oe=Ie.length;Ce!==void 0&&(Oe=Ce);for(var Ge=new Uint8Array(Oe-Pe),Ye=0,Ke=Pe;Ke<Oe;Ke++)Ge[Ye++]=Ie[Ke];return Ge}oe.decodeASCII=de,oe.encodeASCII=function(Ie){for(var Pe=new Uint8Array(Ie.length),Ce=0;Ce!==Ie.length;++Ce){var Oe=Ie.charCodeAt(Ce);if(!le(Oe))throw new Error("Metadata contains invalid ASCII");Pe[Ce]=Oe}return Pe},function(Ie){Ie[Ie.MESSAGE=1]="MESSAGE",Ie[Ie.TRAILERS=2]="TRAILERS"}(ue=oe.ChunkType||(oe.ChunkType={}));var Ae=function(){function Ie(){this.buffer=null,this.position=0}return Ie.prototype.parse=function(Pe,Ce){if(Pe.length===0&&Ce)return[];var Oe,Ge=[];if(this.buffer==null)this.buffer=Pe,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=Pe,this.position=0;else{var Ye=this.buffer.byteLength-this.position,Ke=new Uint8Array(Ye+Pe.byteLength),nt=Te(this.buffer,this.position);Ke.set(nt,0);var tt=new Uint8Array(Pe);Ke.set(tt,Ye),this.buffer=Ke,this.position=0}for(;;){if(!_e(this.buffer,this.position,5))return Ge;var at=Te(this.buffer,this.position,this.position+5),lt=new DataView(at.buffer,at.byteOffset,at.byteLength),ot=ge(lt);if(!_e(this.buffer,this.position,5+ot))return Ge;var ft=Te(this.buffer,this.position+5,this.position+5+ot);if(this.position+=5+ot,pe(lt))return Ge.push({chunkType:ue.TRAILERS,trailers:(Oe=ft,new ce.Metadata(de(Oe)))}),Ge;Ge.push({chunkType:ue.MESSAGE,data:ft})}},Ie}();oe.ChunkParser=Ae},8:function(ie,oe){var se;Object.defineProperty(oe,"__esModule",{value:!0}),oe.httpStatusToCode=oe.Code=void 0,function(ue){ue[ue.OK=0]="OK",ue[ue.Canceled=1]="Canceled",ue[ue.Unknown=2]="Unknown",ue[ue.InvalidArgument=3]="InvalidArgument",ue[ue.DeadlineExceeded=4]="DeadlineExceeded",ue[ue.NotFound=5]="NotFound",ue[ue.AlreadyExists=6]="AlreadyExists",ue[ue.PermissionDenied=7]="PermissionDenied",ue[ue.ResourceExhausted=8]="ResourceExhausted",ue[ue.FailedPrecondition=9]="FailedPrecondition",ue[ue.Aborted=10]="Aborted",ue[ue.OutOfRange=11]="OutOfRange",ue[ue.Unimplemented=12]="Unimplemented",ue[ue.Internal=13]="Internal",ue[ue.Unavailable=14]="Unavailable",ue[ue.DataLoss=15]="DataLoss",ue[ue.Unauthenticated=16]="Unauthenticated"}(se=oe.Code||(oe.Code={})),oe.httpStatusToCode=function(ue){switch(ue){case 0:return se.Internal;case 200:return se.OK;case 400:return se.InvalidArgument;case 401:return se.Unauthenticated;case 403:return se.PermissionDenied;case 404:return se.NotFound;case 409:return se.Aborted;case 412:return se.FailedPrecondition;case 429:return se.ResourceExhausted;case 499:return se.Canceled;case 500:return se.Unknown;case 501:return se.Unimplemented;case 503:return se.Unavailable;case 504:return se.DeadlineExceeded;default:return se.Unknown}}},934:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.client=void 0;var ue=se(65),ce=se(617),le=se(8),de=se(346),pe=se(57),ge=se(882);oe.client=function(Ae,Ie){return new _e(Ae,Ie)};var _e=function(){function Ae(Ie,Pe){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new ce.ChunkParser,this.methodDefinition=Ie,this.props=Pe,this.createTransport()}return Ae.prototype.createTransport=function(){var Ie=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,Pe={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:Ie,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(Pe):this.transport=pe.makeDefaultTransport(Pe)},Ae.prototype.onTransportHeaders=function(Ie,Pe){if(this.props.debug&&de.debug("onHeaders",Ie,Pe),this.closed)this.props.debug&&de.debug("grpc.onHeaders received after request was closed - ignoring");else if(Pe!==0){this.responseHeaders=Ie,this.props.debug&&de.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var Ce=Te(Ie);this.props.debug&&de.debug("onHeaders.gRPCStatus",Ce);var Oe=Ce&&Ce>=0?Ce:le.httpStatusToCode(Pe);this.props.debug&&de.debug("onHeaders.code",Oe);var Ge=Ie.get("grpc-message")||[];if(this.props.debug&&de.debug("onHeaders.gRPCMessage",Ge),this.rawOnHeaders(Ie),Oe!==le.Code.OK){var Ye=this.decodeGRPCStatus(Ge[0]);this.rawOnError(Oe,Ye,Ie)}}},Ae.prototype.onTransportChunk=function(Ie){var Pe=this;if(this.closed)this.props.debug&&de.debug("grpc.onChunk received after request was closed - ignoring");else{var Ce=[];try{Ce=this.parser.parse(Ie)}catch(Oe){return this.props.debug&&de.debug("onChunk.parsing error",Oe,Oe.message),void this.rawOnError(le.Code.Internal,"parsing error: "+Oe.message)}Ce.forEach(function(Oe){if(Oe.chunkType===ce.ChunkType.MESSAGE){var Ge=Pe.methodDefinition.responseType.deserializeBinary(Oe.data);Pe.rawOnMessage(Ge)}else Oe.chunkType===ce.ChunkType.TRAILERS&&(Pe.responseHeaders?(Pe.responseTrailers=new ue.Metadata(Oe.trailers),Pe.props.debug&&de.debug("onChunk.trailers",Pe.responseTrailers)):(Pe.responseHeaders=new ue.Metadata(Oe.trailers),Pe.rawOnHeaders(Pe.responseHeaders)))})}},Ae.prototype.onTransportEnd=function(){if(this.props.debug&&de.debug("grpc.onEnd"),this.closed)this.props.debug&&de.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var Ie=Te(this.responseTrailers);if(Ie!==null){var Pe=this.responseTrailers.get("grpc-message"),Ce=this.decodeGRPCStatus(Pe[0]);this.rawOnEnd(Ie,Ce,this.responseTrailers)}else this.rawOnError(le.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(le.Code.Unknown,"Response closed without headers");var Oe=Te(this.responseHeaders),Ge=this.responseHeaders.get("grpc-message");if(this.props.debug&&de.debug("grpc.headers only response ",Oe,Ge),Oe===null)return void this.rawOnEnd(le.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Ye=this.decodeGRPCStatus(Ge[0]);this.rawOnEnd(Oe,Ye,this.responseHeaders)}},Ae.prototype.decodeGRPCStatus=function(Ie){if(!Ie)return"";try{return decodeURIComponent(Ie)}catch{return Ie}},Ae.prototype.rawOnEnd=function(Ie,Pe,Ce){var Oe=this;this.props.debug&&de.debug("rawOnEnd",Ie,Pe,Ce),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Ge){if(!Oe.closed)try{Ge(Ie,Pe,Ce)}catch(Ye){setTimeout(function(){throw Ye},0)}}))},Ae.prototype.rawOnHeaders=function(Ie){this.props.debug&&de.debug("rawOnHeaders",Ie),this.completed||this.onHeadersCallbacks.forEach(function(Pe){try{Pe(Ie)}catch(Ce){setTimeout(function(){throw Ce},0)}})},Ae.prototype.rawOnError=function(Ie,Pe,Ce){var Oe=this;Ce===void 0&&(Ce=new ue.Metadata),this.props.debug&&de.debug("rawOnError",Ie,Pe),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Ge){if(!Oe.closed)try{Ge(Ie,Pe,Ce)}catch(Ye){setTimeout(function(){throw Ye},0)}}))},Ae.prototype.rawOnMessage=function(Ie){var Pe=this;this.props.debug&&de.debug("rawOnMessage",Ie.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(Ce){if(!Pe.closed)try{Ce(Ie)}catch(Oe){setTimeout(function(){throw Oe},0)}})},Ae.prototype.onHeaders=function(Ie){this.onHeadersCallbacks.push(Ie)},Ae.prototype.onMessage=function(Ie){this.onMessageCallbacks.push(Ie)},Ae.prototype.onEnd=function(Ie){this.onEndCallbacks.push(Ie)},Ae.prototype.start=function(Ie){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var Pe=new ue.Metadata(Ie||{});Pe.set("content-type","application/grpc-web+proto"),Pe.set("x-grpc-web","1"),this.transport.start(Pe)},Ae.prototype.send=function(Ie){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var Pe=ge.frameRequest(Ie);this.transport.sendMessage(Pe)},Ae.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},Ae.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&de.debug("request.abort aborting request"),this.transport.cancel()},Ae}();function Te(Ae){var Ie=Ae.get("grpc-status")||[];if(Ie.length>0)try{var Pe=Ie[0];return parseInt(Pe,10)}catch{return null}return null}},346:function(ie,oe){Object.defineProperty(oe,"__esModule",{value:!0}),oe.debug=void 0,oe.debug=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];console.debug?console.debug.apply(null,se):console.log.apply(null,se)}},607:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.grpc=void 0;var ue,ce=se(418),le=se(57),de=se(229),pe=se(540),ge=se(210),_e=se(859),Te=se(8),Ae=se(938),Ie=se(35),Pe=se(934);(ue=oe.grpc||(oe.grpc={})).setDefaultTransport=le.setDefaultTransportFactory,ue.CrossBrowserHttpTransport=_e.CrossBrowserHttpTransport,ue.FetchReadableStreamTransport=de.FetchReadableStreamTransport,ue.XhrTransport=ge.XhrTransport,ue.WebsocketTransport=pe.WebsocketTransport,ue.Code=Te.Code,ue.Metadata=ce.BrowserHeaders,ue.client=function(Ce,Oe){return Pe.client(Ce,Oe)},ue.invoke=Ae.invoke,ue.unary=Ie.unary},938:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.invoke=void 0;var ue=se(934);oe.invoke=function(ce,le){if(ce.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var de=ue.client(ce,{host:le.host,transport:le.transport,debug:le.debug});return le.onHeaders&&de.onHeaders(le.onHeaders),le.onMessage&&de.onMessage(le.onMessage),le.onEnd&&de.onEnd(le.onEnd),de.start(le.metadata),de.send(le.request),de.finishSend(),{close:function(){de.close()}}}},65:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.Metadata=void 0;var ue=se(418);Object.defineProperty(oe,"Metadata",{enumerable:!0,get:function(){return ue.BrowserHeaders}})},57:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.makeDefaultTransport=oe.setDefaultTransportFactory=void 0;var ue=se(859),ce=function(le){return ue.CrossBrowserHttpTransport({withCredentials:!1})(le)};oe.setDefaultTransportFactory=function(le){ce=le},oe.makeDefaultTransport=function(le){return ce(le)}},229:function(ie,oe,se){var ue=this&&this.__assign||function(){return(ue=Object.assign||function(pe){for(var ge,_e=1,Te=arguments.length;_e<Te;_e++)for(var Ae in ge=arguments[_e])Object.prototype.hasOwnProperty.call(ge,Ae)&&(pe[Ae]=ge[Ae]);return pe}).apply(this,arguments)};Object.defineProperty(oe,"__esModule",{value:!0}),oe.detectFetchSupport=oe.FetchReadableStreamTransport=void 0;var ce=se(65),le=se(346);oe.FetchReadableStreamTransport=function(pe){return function(ge){return function(_e,Te){return _e.debug&&le.debug("fetchRequest",_e),new de(_e,Te)}(ge,pe)}};var de=function(){function pe(ge,_e){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=ge,this.init=_e}return pe.prototype.pump=function(ge,_e){var Te=this;if(this.reader=ge,this.cancelled)return this.options.debug&&le.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(Ae){Te.options.debug&&le.debug("Fetch.pump.reader.cancel exception",Ae)});this.reader.read().then(function(Ae){if(Ae.done)return Te.options.onEnd(),_e;Te.options.onChunk(Ae.value),Te.pump(Te.reader,_e)}).catch(function(Ae){Te.cancelled?Te.options.debug&&le.debug("Fetch.catch - request cancelled"):(Te.cancelled=!0,Te.options.debug&&le.debug("Fetch.catch",Ae.message),Te.options.onEnd(Ae))})},pe.prototype.send=function(ge){var _e=this;fetch(this.options.url,ue(ue({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:ge,signal:this.controller&&this.controller.signal})).then(function(Te){if(_e.options.debug&&le.debug("Fetch.response",Te),_e.options.onHeaders(new ce.Metadata(Te.headers),Te.status),!Te.body)return Te;_e.pump(Te.body.getReader(),Te)}).catch(function(Te){_e.cancelled?_e.options.debug&&le.debug("Fetch.catch - request cancelled"):(_e.cancelled=!0,_e.options.debug&&le.debug("Fetch.catch",Te.message),_e.options.onEnd(Te))})},pe.prototype.sendMessage=function(ge){this.send(ge)},pe.prototype.finishSend=function(){},pe.prototype.start=function(ge){this.metadata=ge},pe.prototype.cancel=function(){var ge=this;this.cancelled?this.options.debug&&le.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&le.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&le.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&le.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(_e){ge.options.debug&&le.debug("Fetch.cancel.reader.cancel exception",_e)})):this.options.debug&&le.debug("Fetch.cancel before reader"))},pe}();oe.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.CrossBrowserHttpTransport=void 0;var ue=se(229),ce=se(210);oe.CrossBrowserHttpTransport=function(le){if(ue.detectFetchSupport()){var de={credentials:le.withCredentials?"include":"same-origin"};return ue.FetchReadableStreamTransport(de)}return ce.XhrTransport({withCredentials:le.withCredentials})}},210:function(ie,oe,se){var ue,ce=this&&this.__extends||(ue=function(Ie,Pe){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Oe){Ce.__proto__=Oe}||function(Ce,Oe){for(var Ge in Oe)Object.prototype.hasOwnProperty.call(Oe,Ge)&&(Ce[Ge]=Oe[Ge])})(Ie,Pe)},function(Ie,Pe){function Ce(){this.constructor=Ie}ue(Ie,Pe),Ie.prototype=Pe===null?Object.create(Pe):(Ce.prototype=Pe.prototype,new Ce)});Object.defineProperty(oe,"__esModule",{value:!0}),oe.stringToArrayBuffer=oe.MozChunkedArrayBufferXHR=oe.XHR=oe.XhrTransport=void 0;var le=se(65),de=se(346),pe=se(849);oe.XhrTransport=function(Ie){return function(Pe){if(pe.detectMozXHRSupport())return new _e(Pe,Ie);if(pe.detectXHROverrideMimeTypeSupport())return new ge(Pe,Ie);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var ge=function(){function Ie(Pe,Ce){this.options=Pe,this.init=Ce}return Ie.prototype.onProgressEvent=function(){this.options.debug&&de.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var Pe=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var Ce=Ae(Pe);this.options.onChunk(Ce)},Ie.prototype.onLoadEvent=function(){this.options.debug&&de.debug("XHR.onLoadEvent"),this.options.onEnd()},Ie.prototype.onStateChange=function(){this.options.debug&&de.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new le.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},Ie.prototype.sendMessage=function(Pe){this.xhr.send(Pe)},Ie.prototype.finishSend=function(){},Ie.prototype.start=function(Pe){var Ce=this;this.metadata=Pe;var Oe=new XMLHttpRequest;this.xhr=Oe,Oe.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(Ge,Ye){Oe.setRequestHeader(Ge,Ye.join(", "))}),Oe.withCredentials=!!this.init.withCredentials,Oe.addEventListener("readystatechange",this.onStateChange.bind(this)),Oe.addEventListener("progress",this.onProgressEvent.bind(this)),Oe.addEventListener("loadend",this.onLoadEvent.bind(this)),Oe.addEventListener("error",function(Ge){Ce.options.debug&&de.debug("XHR.error",Ge),Ce.options.onEnd(Ge.error)})},Ie.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},Ie.prototype.cancel=function(){this.options.debug&&de.debug("XHR.abort"),this.xhr.abort()},Ie}();oe.XHR=ge;var _e=function(Ie){function Pe(){return Ie!==null&&Ie.apply(this,arguments)||this}return ce(Pe,Ie),Pe.prototype.configureXhr=function(){this.options.debug&&de.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},Pe.prototype.onProgressEvent=function(){var Ce=this.xhr.response;this.options.debug&&de.debug("MozXHR.onProgressEvent: ",new Uint8Array(Ce)),this.options.onChunk(new Uint8Array(Ce))},Pe}(ge);function Te(Ie,Pe){var Ce=Ie.charCodeAt(Pe);if(Ce>=55296&&Ce<=56319){var Oe=Ie.charCodeAt(Pe+1);Oe>=56320&&Oe<=57343&&(Ce=65536+(Ce-55296<<10)+(Oe-56320))}return Ce}function Ae(Ie){for(var Pe=new Uint8Array(Ie.length),Ce=0,Oe=0;Oe<Ie.length;Oe++){var Ge=String.prototype.codePointAt?Ie.codePointAt(Oe):Te(Ie,Oe);Pe[Ce++]=255&Ge}return Pe}oe.MozChunkedArrayBufferXHR=_e,oe.stringToArrayBuffer=Ae},849:function(ie,oe){var se;function ue(){if(se!==void 0)return se;if(XMLHttpRequest){se=new XMLHttpRequest;try{se.open("GET","https://localhost")}catch{}}return se}function ce(le){var de=ue();if(!de)return!1;try{return de.responseType=le,de.responseType===le}catch{}return!1}Object.defineProperty(oe,"__esModule",{value:!0}),oe.detectXHROverrideMimeTypeSupport=oe.detectMozXHRSupport=oe.xhrSupportsResponseType=void 0,oe.xhrSupportsResponseType=ce,oe.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&ce("moz-chunked-arraybuffer")},oe.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.WebsocketTransport=void 0;var ue,ce=se(346),le=se(617);(function(pe){pe[pe.FINISH_SEND=1]="FINISH_SEND"})(ue||(ue={}));var de=new Uint8Array([1]);oe.WebsocketTransport=function(){return function(pe){return function(ge){ge.debug&&ce.debug("websocketRequest",ge);var _e,Te=function(Pe){if(Pe.substr(0,8)==="https://")return"wss://"+Pe.substr(8);if(Pe.substr(0,7)==="http://")return"ws://"+Pe.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(ge.url),Ae=[];function Ie(Pe){if(Pe===ue.FINISH_SEND)_e.send(de);else{var Ce=Pe,Oe=new Int8Array(Ce.byteLength+1);Oe.set(new Uint8Array([0])),Oe.set(Ce,1),_e.send(Oe)}}return{sendMessage:function(Pe){_e&&_e.readyState!==_e.CONNECTING?Ie(Pe):Ae.push(Pe)},finishSend:function(){_e&&_e.readyState!==_e.CONNECTING?Ie(ue.FINISH_SEND):Ae.push(ue.FINISH_SEND)},start:function(Pe){(_e=new WebSocket(Te,["grpc-websockets"])).binaryType="arraybuffer",_e.onopen=function(){var Ce;ge.debug&&ce.debug("websocketRequest.onopen"),_e.send((Ce="",Pe.forEach(function(Oe,Ge){Ce+=Oe+": "+Ge.join(", ")+`\r
`}),le.encodeASCII(Ce))),Ae.forEach(function(Oe){Ie(Oe)})},_e.onclose=function(Ce){ge.debug&&ce.debug("websocketRequest.onclose",Ce),ge.onEnd()},_e.onerror=function(Ce){ge.debug&&ce.debug("websocketRequest.onerror",Ce)},_e.onmessage=function(Ce){ge.onChunk(new Uint8Array(Ce.data))}},cancel:function(){ge.debug&&ce.debug("websocket.abort"),_e.close()}}}(pe)}}},35:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.unary=void 0;var ue=se(65),ce=se(934);oe.unary=function(le,de){if(le.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(le.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var pe=null,ge=null,_e=ce.client(le,{host:de.host,transport:de.transport,debug:de.debug});return _e.onHeaders(function(Te){pe=Te}),_e.onMessage(function(Te){ge=Te}),_e.onEnd(function(Te,Ae,Ie){de.onEnd({status:Te,statusMessage:Ae,headers:pe||new ue.Metadata,message:ge,trailers:Ie})}),_e.start(de.metadata),_e.send(de.request),_e.finishSend(),{close:function(){_e.close()}}}},882:function(ie,oe){Object.defineProperty(oe,"__esModule",{value:!0}),oe.frameRequest=void 0,oe.frameRequest=function(se){var ue=se.serializeBinary(),ce=new ArrayBuffer(ue.byteLength+5);return new DataView(ce,1,4).setUint32(0,ue.length,!1),new Uint8Array(ce,5).set(ue),new Uint8Array(ce)}}},te={},function ie(oe){if(te[oe])return te[oe].exports;var se=te[oe]={exports:{}};return X[oe].call(se.exports,se,se.exports,ie),se.exports}(607);var X,te})})(grpcWebClient_umd);class AbortError extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}function isAbortError(Z){return typeof Z=="object"&&Z!==null&&Z.name==="AbortError"}function throwIfAborted(Z){if(Z.aborted)throw new AbortError}function rethrowAbortError(Z){if(isAbortError(Z))throw Z}function catchAbortError(Z){if(!isAbortError(Z))throw Z}function execute(Z,L){return new Promise((X,te)=>{if(Z.aborted){te(new AbortError);return}let ie,oe=!1;function se(){oe||(oe=!0,ie?.())}const ue=L(ce=>{X(ce),se()},ce=>{te(ce),se()});if(!oe){const ce=()=>{const le=ue();le==null?te(new AbortError):le.then(()=>{te(new AbortError)},de=>{te(de)}),se()};Z.addEventListener("abort",ce),ie=()=>{Z.removeEventListener("abort",ce)}}})}function abortable(Z,L){if(Z.aborted){const X=()=>{};L.then(X,X)}return execute(Z,(X,te)=>(L.then(X,te),()=>{}))}function delay(Z,L){return execute(Z,X=>{const te=typeof L=="number"?L:L.getTime()-Date.now(),ie=setTimeout(X,te);return()=>{clearTimeout(ie)}})}function forever(Z){return execute(Z,()=>()=>{})}function waitForEvent(Z,L,X,te){return execute(Z,ie=>{let oe,se=!1;return oe=listen(L,X,(...ce)=>{ie(ce.length>1?ce:ce[0]),se=!0,oe?.()},te),se&&oe(),()=>{se=!0,oe?.()}})}function listen(Z,L,X,te){if(isEventTarget(Z))return Z.addEventListener(L,X,te),()=>Z.removeEventListener(L,X,te);if(isJQueryStyleEventEmitter(Z))return Z.on(L,X),()=>Z.off(L,X);if(isNodeStyleEventEmitter(Z))return Z.addListener(L,X),()=>Z.removeListener(L,X);throw new Error("Invalid event target")}function isNodeStyleEventEmitter(Z){return isFunction(Z.addListener)&&isFunction(Z.removeListener)}function isJQueryStyleEventEmitter(Z){return isFunction(Z.on)&&isFunction(Z.off)}function isEventTarget(Z){return isFunction(Z.addEventListener)&&isFunction(Z.removeEventListener)}const isFunction=Z=>typeof Z=="function";function all(Z,L){return new Promise((X,te)=>{if(Z.aborted){te(new AbortError);return}const ie=new AbortController,oe=L(ie.signal);if(oe.length===0){X([]);return}const se=()=>{ie.abort()};Z.addEventListener("abort",se);let ue;const ce=new Array(oe.length);let le=0;function de(){le+=1,le===oe.length&&(Z.removeEventListener("abort",se),ue!=null?te(ue.reason):X(ce))}for(const[pe,ge]of oe.entries())ge.then(_e=>{ce[pe]=_e,de()},_e=>{ie.abort(),(ue==null||!isAbortError(_e)&&isAbortError(ue.reason))&&(ue={reason:_e}),de()})})}function race(Z,L){return new Promise((X,te)=>{if(Z.aborted){te(new AbortError);return}const ie=new AbortController,oe=L(ie.signal),se=()=>{ie.abort()};Z.addEventListener("abort",se);let ue=0;function ce(de){ie.abort(),ue+=1,ue===oe.length&&(Z.removeEventListener("abort",se),de.status==="fulfilled"?X(de.value):te(de.reason))}let le;for(const de of oe)de.then(pe=>{le==null&&(le={status:"fulfilled",value:pe}),ce(le)},pe=>{(le==null||!isAbortError(pe)&&(le.status==="fulfilled"||isAbortError(le.reason)))&&(le={status:"rejected",reason:pe}),ce(le)})})}async function retry(Z,L,X={}){const{baseMs:te=1e3,maxDelayMs:ie=3e4,onError:oe,maxAttempts:se=1/0}=X;let ue=0;const ce=()=>{ue=-1};for(;;)try{return await L(Z,ue,ce)}catch(le){if(rethrowAbortError(le),ue>=se)throw le;let de;if(ue===-1)de=0;else{const pe=Math.min(ie,Math.pow(2,ue)*te);de=Math.round(pe*(1+Math.random())/2)}oe&&oe(le,ue,de),de!==0&&await delay(Z,de),ue+=1}}function spawn(Z,L){if(Z.aborted)return Promise.reject(new AbortError);const X=[],te=new AbortController,ie=te.signal,oe=()=>{te.abort()};Z.addEventListener("abort",oe);const se=()=>{Z.removeEventListener("abort",oe)},ue=new Set,ce=()=>{for(const pe of ue)pe.abort()};ie.addEventListener("abort",ce);const le=()=>{ie.removeEventListener("abort",ce)};let de=new Promise((pe,ge)=>{let _e,Te;Ae(Ie=>L(Ie,{defer(Pe){X.push(Pe)},fork:Ae})).join().then(Ie=>{te.abort(),_e={value:Ie}},Ie=>{te.abort(),(!isAbortError(Ie)||Te==null)&&(Te={error:Ie})});function Ae(Ie){if(ie.aborted)return{abort(){},async join(){throw new AbortError}};const Pe=new AbortController,Ce=Pe.signal,Oe=Ie(Ce),Ge={abort(){Pe.abort()},join:()=>Oe};return ue.add(Ge),Oe.catch(catchAbortError).catch(Ye=>{Te={error:Ye},te.abort()}).finally(()=>{ue.delete(Ge),ue.size===0&&(Te!=null?ge(Te.error):pe(_e.value))}),Ge}});return de=de.finally(()=>{se(),le();let pe=Promise.resolve();for(let ge=X.length-1;ge>=0;ge--)pe=pe.finally(X[ge]);return pe}),de}function run(Z){const L=new AbortController,X=Z(L.signal).catch(catchAbortError);return()=>(L.abort(),X)}function proactiveRetry(Z,L,X={}){const{baseMs:te=1e3,onError:ie,maxAttempts:oe=1/0}=X;return execute(Z,(se,ue)=>{const ce=new AbortController;let le=!1;const de=new Map;function pe(Te){ce.abort(),de.clear(),se(Te)}function ge(Te,Ae){if(de.delete(Ae),le&&de.size===0){ue(Te);return}if(!isAbortError(Te)&&ie)try{ie(Te,Ae)}catch(Ie){ce.abort(),de.clear(),ue(Ie)}}async function _e(Te){for(let Ae=0;;Ae++){const Ie=L(Te,Ae);if(de.set(Ae,Ie),Ie.then(pe,Oe=>ge(Oe,Ae)),Ae+1>=oe)break;const Pe=Math.pow(2,Ae)*te,Ce=Math.round(Pe*(1+Math.random())/2);await delay(Te,Ce)}le=!0}return _e(ce.signal).catch(catchAbortError),()=>{ce.abort()}})}const es=Object.freeze(Object.defineProperty({__proto__:null,AbortError,abortable,all,catchAbortError,delay,execute,forever,isAbortError,proactiveRetry,race,rethrowAbortError,retry,run,spawn,throwIfAborted,waitForEvent},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(es);var AsyncSink$1={};Object.defineProperty(AsyncSink$1,"__esModule",{value:!0});AsyncSink$1.AsyncSink=void 0;const ARRAY_VALUE="value",ARRAY_ERROR="error";class AsyncSink{constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(L){this._push({type:ARRAY_VALUE,value:L})}error(L){this._push({type:ARRAY_ERROR,error:L})}_push(L){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){const{resolve:X,reject:te}=this._resolvers.shift();L.type===ARRAY_ERROR?te(L.error):X({done:!1,value:L.value})}else this._values.push(L)}next(){if(this._values.length>0){const{type:L,value:X,error:te}=this._values.shift();return L===ARRAY_ERROR?Promise.reject(te):Promise.resolve({done:!1,value:X})}return this._ended?Promise.resolve({done:!0}):new Promise((L,X)=>{this._resolvers.push({resolve:L,reject:X})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}}AsyncSink$1.AsyncSink=AsyncSink;var isAsyncIterable$1={};Object.defineProperty(isAsyncIterable$1,"__esModule",{value:!0});isAsyncIterable$1.isAsyncIterable=void 0;function isAsyncIterable(Z){return Z!=null&&Symbol.asyncIterator in Z}isAsyncIterable$1.isAsyncIterable=isAsyncIterable;var convertMetadata={},base64Exports={},base64={get exports(){return base64Exports},set exports(Z){base64Exports=Z}};(function(Z,L){(function(X,te){Z.exports=te()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var X="3.7.5",te=X,ie=typeof atob=="function",oe=typeof btoa=="function",se=typeof Buffer=="function",ue=typeof TextDecoder=="function"?new TextDecoder:void 0,ce=typeof TextEncoder=="function"?new TextEncoder:void 0,le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",de=Array.prototype.slice.call(le),pe=function(Ue){var qe={};return Ue.forEach(function(Xe,rt){return qe[Xe]=rt}),qe}(de),ge=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_e=String.fromCharCode.bind(String),Te=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(Ue){return new Uint8Array(Array.prototype.slice.call(Ue,0))},Ae=function(Ue){return Ue.replace(/=/g,"").replace(/[+\/]/g,function(qe){return qe=="+"?"-":"_"})},Ie=function(Ue){return Ue.replace(/[^A-Za-z0-9\+\/]/g,"")},Pe=function(Ue){for(var qe,Xe,rt,Qe,Je="",dt=Ue.length%3,et=0;et<Ue.length;){if((Xe=Ue.charCodeAt(et++))>255||(rt=Ue.charCodeAt(et++))>255||(Qe=Ue.charCodeAt(et++))>255)throw new TypeError("invalid character found");qe=Xe<<16|rt<<8|Qe,Je+=de[qe>>18&63]+de[qe>>12&63]+de[qe>>6&63]+de[qe&63]}return dt?Je.slice(0,dt-3)+"===".substring(dt):Je},Ce=oe?function(Ue){return btoa(Ue)}:se?function(Ue){return Buffer.from(Ue,"binary").toString("base64")}:Pe,Oe=se?function(Ue){return Buffer.from(Ue).toString("base64")}:function(Ue){for(var qe=4096,Xe=[],rt=0,Qe=Ue.length;rt<Qe;rt+=qe)Xe.push(_e.apply(null,Ue.subarray(rt,rt+qe)));return Ce(Xe.join(""))},Ge=function(Ue,qe){return qe===void 0&&(qe=!1),qe?Ae(Oe(Ue)):Oe(Ue)},Ye=function(Ue){if(Ue.length<2){var qe=Ue.charCodeAt(0);return qe<128?Ue:qe<2048?_e(192|qe>>>6)+_e(128|qe&63):_e(224|qe>>>12&15)+_e(128|qe>>>6&63)+_e(128|qe&63)}else{var qe=65536+(Ue.charCodeAt(0)-55296)*1024+(Ue.charCodeAt(1)-56320);return _e(240|qe>>>18&7)+_e(128|qe>>>12&63)+_e(128|qe>>>6&63)+_e(128|qe&63)}},Ke=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,nt=function(Ue){return Ue.replace(Ke,Ye)},tt=se?function(Ue){return Buffer.from(Ue,"utf8").toString("base64")}:ce?function(Ue){return Oe(ce.encode(Ue))}:function(Ue){return Ce(nt(Ue))},at=function(Ue,qe){return qe===void 0&&(qe=!1),qe?Ae(tt(Ue)):tt(Ue)},lt=function(Ue){return at(Ue,!0)},ot=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ft=function(Ue){switch(Ue.length){case 4:var qe=(7&Ue.charCodeAt(0))<<18|(63&Ue.charCodeAt(1))<<12|(63&Ue.charCodeAt(2))<<6|63&Ue.charCodeAt(3),Xe=qe-65536;return _e((Xe>>>10)+55296)+_e((Xe&1023)+56320);case 3:return _e((15&Ue.charCodeAt(0))<<12|(63&Ue.charCodeAt(1))<<6|63&Ue.charCodeAt(2));default:return _e((31&Ue.charCodeAt(0))<<6|63&Ue.charCodeAt(1))}},Le=function(Ue){return Ue.replace(ot,ft)},he=function(Ue){if(Ue=Ue.replace(/\s+/g,""),!ge.test(Ue))throw new TypeError("malformed base64.");Ue+="==".slice(2-(Ue.length&3));for(var qe,Xe="",rt,Qe,Je=0;Je<Ue.length;)qe=pe[Ue.charAt(Je++)]<<18|pe[Ue.charAt(Je++)]<<12|(rt=pe[Ue.charAt(Je++)])<<6|(Qe=pe[Ue.charAt(Je++)]),Xe+=rt===64?_e(qe>>16&255):Qe===64?_e(qe>>16&255,qe>>8&255):_e(qe>>16&255,qe>>8&255,qe&255);return Xe},we=ie?function(Ue){return atob(Ie(Ue))}:se?function(Ue){return Buffer.from(Ue,"base64").toString("binary")}:he,$e=se?function(Ue){return Te(Buffer.from(Ue,"base64"))}:function(Ue){return Te(we(Ue).split("").map(function(qe){return qe.charCodeAt(0)}))},Ne=function(Ue){return $e(Ze(Ue))},Me=se?function(Ue){return Buffer.from(Ue,"base64").toString("utf8")}:ue?function(Ue){return ue.decode($e(Ue))}:function(Ue){return Le(we(Ue))},Ze=function(Ue){return Ie(Ue.replace(/[-_]/g,function(qe){return qe=="-"?"+":"/"}))},We=function(Ue){return Me(Ze(Ue))},Be=function(Ue){if(typeof Ue!="string")return!1;var qe=Ue.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(qe)||!/[^\s0-9a-zA-Z\-_]/.test(qe)},ve=function(Ue){return{value:Ue,enumerable:!1,writable:!0,configurable:!0}},Fe=function(){var Ue=function(qe,Xe){return Object.defineProperty(String.prototype,qe,ve(Xe))};Ue("fromBase64",function(){return We(this)}),Ue("toBase64",function(qe){return at(this,qe)}),Ue("toBase64URI",function(){return at(this,!0)}),Ue("toBase64URL",function(){return at(this,!0)}),Ue("toUint8Array",function(){return Ne(this)})},it=function(){var Ue=function(qe,Xe){return Object.defineProperty(Uint8Array.prototype,qe,ve(Xe))};Ue("toBase64",function(qe){return Ge(this,qe)}),Ue("toBase64URI",function(){return Ge(this,!0)}),Ue("toBase64URL",function(){return Ge(this,!0)})},xe=function(){Fe(),it()},Ve={version:X,VERSION:te,atob:we,atobPolyfill:he,btoa:Ce,btoaPolyfill:Pe,fromBase64:We,toBase64:at,encode:at,encodeURI:lt,encodeURL:lt,utob:nt,btou:Le,decode:We,isValid:Be,fromUint8Array:Ge,toUint8Array:Ne,extendString:Fe,extendUint8Array:it,extendBuiltins:xe};return Ve.Base64={},Object.keys(Ve).forEach(function(Ue){return Ve.Base64[Ue]=Ve[Ue]}),Ve})})(base64);Object.defineProperty(convertMetadata,"__esModule",{value:!0});convertMetadata.convertMetadataFromGrpcWeb=convertMetadata.convertMetadataToGrpcWeb=void 0;const grpc_web_1$4=grpcWebClient_umdExports,nice_grpc_common_1$5=lib,js_base64_1=base64Exports;function convertMetadataToGrpcWeb(Z){const L=new grpc_web_1$4.grpc.Metadata;for(const[X,te]of Z)for(const ie of te)L.append(X,typeof ie=="string"?ie:js_base64_1.Base64.fromUint8Array(ie));return L}convertMetadata.convertMetadataToGrpcWeb=convertMetadataToGrpcWeb;function convertMetadataFromGrpcWeb(Z){const L=(0,nice_grpc_common_1$5.Metadata)();for(const[X,te]of Object.entries(Z.headersMap))if(X.endsWith("-bin"))for(const ie of te)for(const oe of ie.split(/,\s?/))L.append(X,js_base64_1.Base64.toUint8Array(oe));else L.set(X,te);return L}convertMetadata.convertMetadataFromGrpcWeb=convertMetadataFromGrpcWeb;Object.defineProperty(createBidiStreamingMethod$1,"__esModule",{value:!0});createBidiStreamingMethod$1.createBidiStreamingMethod=void 0;const nice_grpc_common_1$4=lib,grpc_web_1$3=grpcWebClient_umdExports,abort_controller_x_1$3=require$$2,AsyncSink_1$1=AsyncSink$1,service_definitions_1$4=serviceDefinitions,isAsyncIterable_1$3=isAsyncIterable$1,convertMetadata_1$3=convertMetadata;function createBidiStreamingMethod(Z,L,X,te){const ie=(0,service_definitions_1$4.toGrpcWebMethodDefinition)(Z),oe={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*se(ce,le){if(!(0,isAsyncIterable_1$3.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");const{metadata:de=(0,nice_grpc_common_1$4.Metadata)(),signal:pe=new AbortController().signal,onHeader:ge,onTrailer:_e}=le,Te=new AbortController,Ae=new AsyncSink_1$1.AsyncSink,Ie=grpc_web_1$3.grpc.client(ie,{host:L.address,transport:L.transport});Ie.onHeaders(Oe=>{ge?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Oe))}),Ie.onMessage(Oe=>{Ae.write(Oe)}),Ie.onEnd((Oe,Ge,Ye)=>{_e?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Ye)),Oe===grpc_web_1$3.grpc.Code.OK?Ae.end():Ae.error(new nice_grpc_common_1$4.ClientError(Z.path,+Oe,Ge))}),Ie.start((0,convertMetadata_1$3.convertMetadataToGrpcWeb)(de));let Pe;pipeRequest$1(Te.signal,ce,Ie,Z).then(()=>{Ie.finishSend()},Oe=>{(0,abort_controller_x_1$3.isAbortError)(Oe)||(Pe=Oe,Ie.close(),Ae.end())});const Ce=()=>{Ae.error(new abort_controller_x_1$3.AbortError),Te.abort(),Ie.close()};pe.addEventListener("abort",Ce);try{yield*Ae}finally{if(Te.abort(),pe.removeEventListener("abort",Ce),(0,abort_controller_x_1$3.throwIfAborted)(pe),Pe)throw Pe}}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!0,request:ce,responseStream:!0,next:se},le);return(ce,le)=>{const pe=ue(ce,{...te,...le})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const ge=await pe.next();return ge.done&&ge.value!=null?await pe.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):ge},return(){return pe.return()},throw(ge){return pe.throw(ge)}}}}}}createBidiStreamingMethod$1.createBidiStreamingMethod=createBidiStreamingMethod;async function pipeRequest$1(Z,L,X,te){for await(const ie of L)(0,abort_controller_x_1$3.throwIfAborted)(Z),X.send({serializeBinary:()=>te.requestSerialize(ie)})}var createClientStreamingMethod$1={};Object.defineProperty(createClientStreamingMethod$1,"__esModule",{value:!0});createClientStreamingMethod$1.createClientStreamingMethod=void 0;const nice_grpc_common_1$3=lib,grpc_web_1$2=grpcWebClient_umdExports,abort_controller_x_1$2=require$$2,service_definitions_1$3=serviceDefinitions,isAsyncIterable_1$2=isAsyncIterable$1,convertMetadata_1$2=convertMetadata;function createClientStreamingMethod(Z,L,X,te){const ie=(0,service_definitions_1$3.toGrpcWebMethodDefinition)(Z),oe={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*se(ce,le){if(!(0,isAsyncIterable_1$2.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");const{metadata:de=(0,nice_grpc_common_1$3.Metadata)(),signal:pe=new AbortController().signal,onHeader:ge,onTrailer:_e}=le;return await(0,abort_controller_x_1$2.execute)(pe,(Te,Ae)=>{const Ie=new AbortController;let Pe;const Ce=grpc_web_1$2.grpc.client(ie,{host:L.address,transport:L.transport});return Ce.onHeaders(Oe=>{ge?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Oe))}),Ce.onMessage(Oe=>{Pe=Oe}),Ce.onEnd((Oe,Ge,Ye)=>{_e?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Ye)),Ie.abort(),Oe===grpc_web_1$2.grpc.Code.OK?Te(Pe):Ae(new nice_grpc_common_1$3.ClientError(Z.path,+Oe,Ge))}),Ce.start((0,convertMetadata_1$2.convertMetadataToGrpcWeb)(de)),pipeRequest(Ie.signal,ce,Ce,Z).then(()=>{Ce.finishSend()},Oe=>{(0,abort_controller_x_1$2.isAbortError)(Oe)||(Ae(Oe),Ce.close())}),()=>{Ie.abort(),Ce.close()}})}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!0,request:ce,responseStream:!1,next:se},le);return async(ce,le)=>{const pe=ue(ce,{...te,...le})[Symbol.asyncIterator]();let ge=await pe.next();for(;;){if(!ge.done){ge=await pe.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(ge.value==null){ge=await pe.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return ge.value}}}createClientStreamingMethod$1.createClientStreamingMethod=createClientStreamingMethod;async function pipeRequest(Z,L,X,te){for await(const ie of L)(0,abort_controller_x_1$2.throwIfAborted)(Z),X.send({serializeBinary:()=>te.requestSerialize(ie)})}var createServerStreamingMethod$1={};Object.defineProperty(createServerStreamingMethod$1,"__esModule",{value:!0});createServerStreamingMethod$1.createServerStreamingMethod=void 0;const grpc_web_1$1=grpcWebClient_umdExports,abort_controller_x_1$1=require$$2,AsyncSink_1=AsyncSink$1,nice_grpc_common_1$2=lib,service_definitions_1$2=serviceDefinitions,convertMetadata_1$1=convertMetadata,isAsyncIterable_1$1=isAsyncIterable$1;function createServerStreamingMethod(Z,L,X,te){const ie=(0,service_definitions_1$2.toGrpcWebMethodDefinition)(Z),oe={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*se(ce,le){if((0,isAsyncIterable_1$1.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");const{metadata:de=(0,nice_grpc_common_1$2.Metadata)(),signal:pe=new AbortController().signal,onHeader:ge,onTrailer:_e}=le,Te=new AsyncSink_1.AsyncSink,Ae=grpc_web_1$1.grpc.client(ie,{host:L.address,transport:L.transport});Ae.onHeaders(Pe=>{ge?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Pe))}),Ae.onMessage(Pe=>{Te.write(Pe)}),Ae.onEnd((Pe,Ce,Oe)=>{_e?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Oe)),Pe===grpc_web_1$1.grpc.Code.OK?Te.end():Te.error(new nice_grpc_common_1$2.ClientError(Z.path,+Pe,Ce))}),Ae.start((0,convertMetadata_1$1.convertMetadataToGrpcWeb)(de)),Ae.send({serializeBinary:()=>Z.requestSerialize(ce)}),Ae.finishSend();const Ie=()=>{Te.error(new abort_controller_x_1$1.AbortError),Ae.close()};pe.addEventListener("abort",Ie);try{yield*Te}finally{pe.removeEventListener("abort",Ie),(0,abort_controller_x_1$1.throwIfAborted)(pe)}}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!1,request:ce,responseStream:!0,next:se},le);return(ce,le)=>{const pe=ue(ce,{...te,...le})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const ge=await pe.next();return ge.done&&ge.value!=null?await pe.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):ge},return(){return pe.return()},throw(ge){return pe.throw(ge)}}}}}}createServerStreamingMethod$1.createServerStreamingMethod=createServerStreamingMethod;var createUnaryMethod$1={};Object.defineProperty(createUnaryMethod$1,"__esModule",{value:!0});createUnaryMethod$1.createUnaryMethod=void 0;const nice_grpc_common_1$1=lib,grpc_web_1=grpcWebClient_umdExports,abort_controller_x_1=require$$2,service_definitions_1$1=serviceDefinitions,isAsyncIterable_1=isAsyncIterable$1,convertMetadata_1=convertMetadata;function createUnaryMethod(Z,L,X,te){const ie=(0,service_definitions_1$1.toGrpcWebMethodDefinition)(Z),oe={path:Z.path,requestStream:Z.requestStream,responseStream:Z.responseStream,options:Z.options};async function*se(ce,le){if((0,isAsyncIterable_1.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");const{metadata:de=(0,nice_grpc_common_1$1.Metadata)(),signal:pe=new AbortController().signal,onHeader:ge,onTrailer:_e}=le;return await(0,abort_controller_x_1.execute)(pe,(Te,Ae)=>{let Ie;const Pe=grpc_web_1.grpc.client(ie,{host:L.address,transport:L.transport});return Pe.onHeaders(Ce=>{ge?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Ce))}),Pe.onMessage(Ce=>{Ie=Ce}),Pe.onEnd((Ce,Oe,Ge)=>{_e?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Ge)),Ce===grpc_web_1.grpc.Code.OK?Te(Ie):Ae(new nice_grpc_common_1$1.ClientError(Z.path,+Ce,Oe))}),Pe.start((0,convertMetadata_1.convertMetadataToGrpcWeb)(de)),Pe.send({serializeBinary:()=>Z.requestSerialize(ce)}),Pe.finishSend(),()=>{Pe.close()}})}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!1,request:ce,responseStream:!1,next:se},le);return async(ce,le)=>{const pe=ue(ce,{...te,...le})[Symbol.asyncIterator]();let ge=await pe.next();for(;;){if(!ge.done){ge=await pe.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(ge.value==null){ge=await pe.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return ge.value}}}createUnaryMethod$1.createUnaryMethod=createUnaryMethod;Object.defineProperty(ClientFactory,"__esModule",{value:!0});ClientFactory.createClient=ClientFactory.createClientFactory=void 0;const nice_grpc_common_1=lib,service_definitions_1=serviceDefinitions,createBidiStreamingMethod_1=createBidiStreamingMethod$1,createClientStreamingMethod_1=createClientStreamingMethod$1,createServerStreamingMethod_1=createServerStreamingMethod$1,createUnaryMethod_1=createUnaryMethod$1;function createClientFactory(){return createClientFactoryWithMiddleware()}ClientFactory.createClientFactory=createClientFactory;function createClient(Z,L,X){return createClientFactory().create(Z,L,X)}ClientFactory.createClient=createClient;function createClientFactoryWithMiddleware(Z){return{use(L){return createClientFactoryWithMiddleware(Z==null?L:(0,nice_grpc_common_1.composeClientMiddleware)(Z,L))},create(L,X,te={}){const ie={},oe=Object.entries((0,service_definitions_1.normalizeServiceDefinition)(L));for(const[se,ue]of oe){const ce={...te["*"],...te[se]};ue.requestStream?ue.responseStream?ie[se]=(0,createBidiStreamingMethod_1.createBidiStreamingMethod)(ue,X,Z,ce):ie[se]=(0,createClientStreamingMethod_1.createClientStreamingMethod)(ue,X,Z,ce):ue.responseStream?ie[se]=(0,createServerStreamingMethod_1.createServerStreamingMethod)(ue,X,Z,ce):ie[se]=(0,createUnaryMethod_1.createUnaryMethod)(ue,X,Z,ce)}return ie}}}var Client={};Object.defineProperty(Client,"__esModule",{value:!0});(function(Z){var L=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ie,oe,se,ue){ue===void 0&&(ue=se);var ce=Object.getOwnPropertyDescriptor(oe,se);(!ce||("get"in ce?!oe.__esModule:ce.writable||ce.configurable))&&(ce={enumerable:!0,get:function(){return oe[se]}}),Object.defineProperty(ie,ue,ce)}:function(ie,oe,se,ue){ue===void 0&&(ue=se),ie[ue]=oe[se]}),X=commonjsGlobal&&commonjsGlobal.__exportStar||function(ie,oe){for(var se in ie)se!=="default"&&!Object.prototype.hasOwnProperty.call(oe,se)&&L(oe,ie,se)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.Status=Z.Metadata=Z.composeClientMiddleware=Z.ClientError=void 0;var te=lib;Object.defineProperty(Z,"ClientError",{enumerable:!0,get:function(){return te.ClientError}}),Object.defineProperty(Z,"composeClientMiddleware",{enumerable:!0,get:function(){return te.composeClientMiddleware}}),Object.defineProperty(Z,"Metadata",{enumerable:!0,get:function(){return te.Metadata}}),Object.defineProperty(Z,"Status",{enumerable:!0,get:function(){return te.Status}}),X(serviceDefinitions,Z),X(channel,Z),X(ClientFactory,Z),X(Client,Z)})(lib$1);function createBaseLinkedTwitterPair(){return{username:"",address:""}}var LinkedTwitterPair={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),Z.address!==""&&L.uint32(18).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseLinkedTwitterPair();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue;case 2:if(oe!=18)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return LinkedTwitterPair.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedTwitterPair();return L.username=Z.username??"",L.address=Z.address??"",L}};function createBaseDripRequest(){return{username:"",address:""}}var DripRequest={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),Z.address!==""&&L.uint32(18).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseDripRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue;case 2:if(oe!=18)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return DripRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseDripRequest();return L.username=Z.username??"",L.address=Z.address??"",L}};function createBaseDripDevRequest(){return{address:""}}var DripDevRequest={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseDripDevRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return DripDevRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseDripDevRequest();return L.address=Z.address??"",L}};function createBaseDripResponse(){return{dripTxHash:"",ecsTxHash:""}}var DripResponse={encode(Z,L=_m0.Writer.create()){return Z.dripTxHash!==""&&L.uint32(10).string(Z.dripTxHash),Z.ecsTxHash!==""&&L.uint32(18).string(Z.ecsTxHash),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseDripResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.dripTxHash=X.string();continue;case 2:if(oe!=18)break;ie.ecsTxHash=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return DripResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseDripResponse();return L.dripTxHash=Z.dripTxHash??"",L.ecsTxHash=Z.ecsTxHash??"",L}};function createBaseTimeUntilDripResponse(){return{timeUntilDripMinutes:0,timeUntilDripSeconds:0}}var TimeUntilDripResponse={encode(Z,L=_m0.Writer.create()){return Z.timeUntilDripMinutes!==0&&L.uint32(9).double(Z.timeUntilDripMinutes),Z.timeUntilDripSeconds!==0&&L.uint32(17).double(Z.timeUntilDripSeconds),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseTimeUntilDripResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=9)break;ie.timeUntilDripMinutes=X.double();continue;case 2:if(oe!=17)break;ie.timeUntilDripSeconds=X.double();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return TimeUntilDripResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseTimeUntilDripResponse();return L.timeUntilDripMinutes=Z.timeUntilDripMinutes??0,L.timeUntilDripSeconds=Z.timeUntilDripSeconds??0,L}};function createBaseGetLinkedTwittersRequest(){return{}}var GetLinkedTwittersRequest={encode(Z,L=_m0.Writer.create()){return L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseGetLinkedTwittersRequest();for(;X.pos<te;){const oe=X.uint32();if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return GetLinkedTwittersRequest.fromPartial(Z??{})},fromPartial(Z){return createBaseGetLinkedTwittersRequest()}};function createBaseGetLinkedTwittersResponse(){return{linkedTwitters:[]}}var GetLinkedTwittersResponse={encode(Z,L=_m0.Writer.create()){for(const X of Z.linkedTwitters)LinkedTwitterPair.encode(X,L.uint32(10).fork()).ldelim();return L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseGetLinkedTwittersResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.linkedTwitters.push(LinkedTwitterPair.decode(X,X.uint32()));continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return GetLinkedTwittersResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseGetLinkedTwittersResponse();return L.linkedTwitters=Z.linkedTwitters?.map(X=>LinkedTwitterPair.fromPartial(X))||[],L}};function createBaseLinkedTwitterForAddressRequest(){return{address:""}}var LinkedTwitterForAddressRequest={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseLinkedTwitterForAddressRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return LinkedTwitterForAddressRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedTwitterForAddressRequest();return L.address=Z.address??"",L}};function createBaseLinkedTwitterForAddressResponse(){return{username:""}}var LinkedTwitterForAddressResponse={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseLinkedTwitterForAddressResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return LinkedTwitterForAddressResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedTwitterForAddressResponse();return L.username=Z.username??"",L}};function createBaseLinkedAddressForTwitterRequest(){return{username:""}}var LinkedAddressForTwitterRequest={encode(Z,L=_m0.Writer.create()){return Z.username!==""&&L.uint32(10).string(Z.username),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseLinkedAddressForTwitterRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return LinkedAddressForTwitterRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedAddressForTwitterRequest();return L.username=Z.username??"",L}};function createBaseLinkedAddressForTwitterResponse(){return{address:""}}var LinkedAddressForTwitterResponse={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseLinkedAddressForTwitterResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return LinkedAddressForTwitterResponse.fromPartial(Z??{})},fromPartial(Z){const L=createBaseLinkedAddressForTwitterResponse();return L.address=Z.address??"",L}};function createBaseSetLinkedTwitterRequest(){return{address:"",username:"",signature:""}}var SetLinkedTwitterRequest={encode(Z,L=_m0.Writer.create()){return Z.address!==""&&L.uint32(10).string(Z.address),Z.username!==""&&L.uint32(18).string(Z.username),Z.signature!==""&&L.uint32(26).string(Z.signature),L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseSetLinkedTwitterRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue;case 2:if(oe!=18)break;ie.username=X.string();continue;case 3:if(oe!=26)break;ie.signature=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return SetLinkedTwitterRequest.fromPartial(Z??{})},fromPartial(Z){const L=createBaseSetLinkedTwitterRequest();return L.address=Z.address??"",L.username=Z.username??"",L.signature=Z.signature??"",L}};function createBaseSetLinkedTwitterResponse(){return{}}var SetLinkedTwitterResponse={encode(Z,L=_m0.Writer.create()){return L},decode(Z,L){const X=Z instanceof _m0.Reader?Z:_m0.Reader.create(Z);let te=L===void 0?X.len:X.pos+L;const ie=createBaseSetLinkedTwitterResponse();for(;X.pos<te;){const oe=X.uint32();if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(Z){return SetLinkedTwitterResponse.fromPartial(Z??{})},fromPartial(Z){return createBaseSetLinkedTwitterResponse()}},FaucetServiceDefinition={name:"FaucetService",fullName:"faucet.FaucetService",methods:{drip:{name:"Drip",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripDev:{name:"DripDev",requestType:DripDevRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripVerifyTweet:{name:"DripVerifyTweet",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},timeUntilDrip:{name:"TimeUntilDrip",requestType:DripRequest,requestStream:!1,responseType:TimeUntilDripResponse,responseStream:!1,options:{}},getLinkedTwitters:{name:"GetLinkedTwitters",requestType:GetLinkedTwittersRequest,requestStream:!1,responseType:GetLinkedTwittersResponse,responseStream:!1,options:{}},getLinkedTwitterForAddress:{name:"GetLinkedTwitterForAddress",requestType:LinkedTwitterForAddressRequest,requestStream:!1,responseType:LinkedTwitterForAddressResponse,responseStream:!1,options:{}},getLinkedAddressForTwitter:{name:"GetLinkedAddressForTwitter",requestType:LinkedAddressForTwitterRequest,requestStream:!1,responseType:LinkedAddressForTwitterResponse,responseStream:!1,options:{}},setLinkedTwitter:{name:"SetLinkedTwitter",requestType:SetLinkedTwitterRequest,requestStream:!1,responseType:SetLinkedTwitterResponse,responseStream:!1,options:{}}}};(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createFaucetService(Z){return lib$1.createClient(FaucetServiceDefinition,lib$1.createChannel(Z))}const worldsJson={4242:{address:"0x1d74488AE8f269F766db0B338084ee03b367fEAA",blockNumber:24291094},31337:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}};var foundry$1={id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}};const foundry=defineChain(foundry$1);var t={name:"Lattice Testnet",id:4242,network:"lattice-testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]},public:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]}},blockExplorers:{otterscan:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"},default:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},r={...foundry,fees:{defaultPriorityFee:0n}};const supportedChains=[r,t],worlds=worldsJson;async function getNetworkConfig(){const Z=new URLSearchParams(window.location.search),L=Number(Z.get("chainId")||Z.get("chainid")||"31337"),X=supportedChains.findIndex(ue=>ue.id===L),te=supportedChains[X];if(!te)throw new Error(`Chain ${L} not found`);const ie=worlds[te.id.toString()],oe=Z.get("worldAddress")||ie?.address;if(!oe)throw new Error(`No world address found for chain ${L}. Did you run \`mud deploy\`?`);const se=Z.has("initialBlockNumber")?Number(Z.get("initialBlockNumber")):ie?.blockNumber??0n;return{privateKey:be$1(),chainId:L,chain:te,faucetServiceUrl:Z.get("faucet")??te.faucetUrl,worldAddress:oe,initialBlockNumber:se}}const world=Yt(),_abi=[{inputs:[{internalType:"string",name:"resource",type:"string"},{internalType:"address",name:"caller",type:"address"}],name:"AccessDenied",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorExists",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorNotFound",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"InvalidSelector",type:"error"},{inputs:[{internalType:"string",name:"module",type:"string"}],name:"ModuleAlreadyInstalled",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceExists",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_DataIndexOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidDataLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidFieldNamesLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidKeyNamesLength",type:"error"},{inputs:[],name:"StoreCore_NotDynamicField",type:"error"},{inputs:[],name:"StoreCore_NotImplemented",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableAlreadyExists",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableNotFound",type:"error"},{inputs:[{internalType:"address",name:"system",type:"address"}],name:"SystemExists",type:"error"},{anonymous:!1,inputs:[],name:"HelloWorld",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"}],name:"StoreDeleteRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreEphemeralRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"uint8",name:"schemaIndex",type:"uint8"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetField",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetRecord",type:"event"},{inputs:[],name:"acceptTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"askStart",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes",name:"funcSelectorAndArgs",type:"bytes"}],name:"call",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"str",type:"string"},{internalType:"uint256",name:"num",type:"uint256"}],name:"concatenate",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"deleteRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"emitEphemeralRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"finishGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"getFieldSlice",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getKeySchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getRecord",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getValueSchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"grantAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"increment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installRootModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"joinGame",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"targetX",type:"uint256"},{internalType:"uint256",name:"targetY",type:"uint256"}],name:"move",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"assetKind",type:"uint8"}],name:"pickAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pickFund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"byteLengthToPop",type:"uint256"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"popFromField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"dataToPush",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"pushToField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"string",name:"systemFunctionName",type:"string"},{internalType:"string",name:"systemFunctionArguments",type:"string"}],name:"registerFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes16",name:"namespace",type:"bytes16"}],name:"registerNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"},{internalType:"bytes4",name:"systemFunctionSelector",type:"bytes4"}],name:"registerRootFunctionSelector",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"contract IStoreHook",name:"hook",type:"address"}],name:"registerStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract System",name:"system",type:"address"},{internalType:"bool",name:"publicAccess",type:"bool"}],name:"registerSystem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract ISystemHook",name:"hook",type:"address"}],name:"registerSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"Schema",name:"keySchema",type:"bytes32"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"string[]",name:"keyNames",type:"string[]"},{internalType:"string[]",name:"fieldNames",type:"string[]"}],name:"registerTable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rejectTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"revokeAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"targetPlayer",type:"bytes32"},{internalType:"uint8",name:"assetKind",type:"uint8"},{internalType:"uint32",name:"money",type:"uint32"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"startByteIndex",type:"uint256"},{internalType:"bytes",name:"dataToSet",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"updateInField",outputs:[],stateMutability:"nonpayable",type:"function"}];class IWorld__factory{static createInterface(){return new Interface(_abi)}static connect(L,X){return new Contract(L,_abi,X)}}IWorld__factory.abi=_abi;const mudConfig=s({enums:{},modules:[{name:"UniqueEntityModule",root:!0,args:[]},{name:"KeysInTableModule",root:!0,args:[ee("Player")]},{name:"KeysWithValueModule",root:!0,args:[ee("Player")]},{name:"KeysInTableModule",root:!0,args:[ee("MapItem")]},{name:"KeysWithValueModule",root:!0,args:[ee("MapItem")]}],tables:{Counter:{keySchema:{},schema:"uint32"},Game:{keySchema:{},schema:{gameId:"uint256",startTime:"uint256",endTime:"uint256"}},GameState:{keySchema:{},schema:"uint32"},GameMap:{keySchema:{},schema:{width:"uint256",height:"uint256",mapArray:"bytes"}},MapItem:{schema:{x:"uint256",y:"uint256"}},MapItemValue:{schema:"uint32"},IsPlayer:{dataStruct:!1,schema:"bool"},Player:{dataStruct:!0,schema:{gameId:"uint256",state:"uint32",money:"uint32",x:"uint256",y:"uint256"}},RaiseColddown:{dataStruct:!0,schema:{start:"uint256",end:"uint256"}},AssetsList:{dataStruct:!0,schema:{gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},Log:{dataStruct:!0,schema:"uint8"},TransactionList:{dataStruct:!0,schema:{list:"bytes32[]"}},TradeList:{dataStruct:!0,schema:{list:"bytes"}},IsTrading:{dataStruct:!1,schema:"bool"},PlayerGameResult:{dataStruct:!0,schema:{rank:"int32",points:"int32",gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},UnsolicitedTransaction:{dataStruct:!0,schema:{asset:"uint8",money:"uint32",to:"bytes32"}},PassiveTransaction:{dataStruct:!0,schema:{asset:"uint8",money:"uint32",from:"bytes32"}}}});async function setupNetwork(){const Z=await getNetworkConfig(),L={chain:Z.chain,transport:Ee(fallback([webSocket(),http()])),pollingInterval:1e3},X=createPublicClient(L),te=J(Z.privateKey),ie=createWalletClient({...L,account:te}),oe=new Subject,se=me({address:Z.worldAddress,abi:IWorld__factory.abi,publicClient:X,walletClient:ie,onWrite:pe=>oe.next(pe)}),{components:ue,latestBlock$:ce,blockStorageOperations$:le,waitForTransaction:de}=await ae({world,config:mudConfig,address:Z.worldAddress,publicClient:X,startBlock:BigInt(Z.initialBlockNumber)});if(Z.faucetServiceUrl){const pe=te.address;console.info("[Dev Faucet]: Player address -> ",pe);const ge=createFaucetService(Z.faucetServiceUrl),_e=async()=>{const Te=await X.getBalance({address:pe});console.info(`[Dev Faucet]: Player balance -> ${Te}`),Te<parseEther("1")&&(console.info("[Dev Faucet]: Balance is low, dripping funds to player"),await ge.dripDev({address:pe}),await ge.dripDev({address:pe}))};_e(),setInterval(_e,2e4)}return{world,components:ue,playerEntity:u({address:"address"},{address:ie.account.address}),publicClient:X,walletClient:ie,latestBlock$:ce,blockStorageOperations$:le,waitForTransaction:de,worldContract:se,write$:oe.asObservable().pipe(share$1())}}async function setup(){const Z=await setupNetwork(),L=createClientComponents(Z),X=createSystemCalls(Z,L);return{network:Z,components:L,systemCalls:X}}const{components,systemCalls:{increment,joinGame,askStart,move,pickAsset,pickFund,trade,acceptTrade,rejectTrade,finishGame},network}=await setup();globalThis.ponzi={counter:0,currentPlayer:network.playerEntity,gameState:null,game:null,gameMap:null,mapItems:null,players:null};globalThis.env={components};components.GameState.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("GameState updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.gameState=L.value,globalThis.ponzi.gamestate_update?.(X?.value,L?.value)});components.Counter.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("Counter updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.counter=L,globalThis.ponzi.counter_update?.(X,L)});components.Game.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("Game updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.game=L,globalThis.ponzi.game_update?.(X,L)});components.Player.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("Player updated",Z,{nextValue:L,prevValue:X}),globalThis.ponzi.player_update?.(Z)});components.GameMap.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("GameMap updated",{nextValue:L,prevValue:X}),globalThis.ponzi.gameMap=L,globalThis.ponzi.gamemap_update?.(X,L)});components.MapItem.update$.subscribe(Z=>{const[L,X]=Z.value;console.log("MapItems updated",{nextValue:L,prevValue:X}),globalThis.ponzi.mapitems_update?.(X,L)});components.IsPlayer.update$.subscribe(Z=>{Z.value,console.log("IsPlayer updated",Z),globalThis.ponzi.isplayer_update?.(Z)});components.TransactionList.update$.subscribe(Z=>{Z.value,console.log("TransactionList updated",Z),globalThis.ponzi.transactionlist_update?.(Z)});components.Log.update$.subscribe(Z=>{Z.value,console.log("Log updated",Z)});components.AssetsList.update$.subscribe(Z=>{Z.value,console.log("AssetsList updated",Z),globalThis.ponzi.assetslist_update?.(Z)});components.RaiseColddown.update$.subscribe(Z=>{Z.value,console.log("RaiseColddown updated",Z),globalThis.ponzi.raiseColddown_update?.(Z)});components.PassiveTransaction.update$.subscribe(Z=>{Z.value,console.log("PassiveTransaction updated",Z),globalThis.ponzi.passivetransaction_update?.(Z)});components.TradeList.update$.subscribe(Z=>{Z.value,console.log("TradeList updated",Z),globalThis.ponzi.tradelist_update?.(Z)});components.PlayerGameResult.update$.subscribe(Z=>{Z.value,console.log("PlayerGameResult updated",Z),globalThis.ponzi.playergameresult_update?.(Z)});window.getPlayers=()=>components.Player.values;window.getIsPlayers=()=>components.IsPlayer.values;window.getMapItems=()=>components.MapItem.values;window.getAssetsList=()=>components.AssetsList.values;window.queryValue=async(Z,L)=>{const X=De(Z,L);return console.log("getValueByComAndEntity:",X),X};window.queryAssetsList=async()=>z$3([Ft(components.AssetsList)]);window.increment=async()=>{let Z=await increment();return console.log("new counter value:",Z),Z};window.joinGame=async()=>{let Z=await joinGame();return console.log("joinGame:",Z),Z};window.askStart=async()=>{let Z=await askStart();return console.log("askStart:",Z),Z};window.move=async(Z,L)=>{let X=await move(Z,L);return console.log("move:",X),X};window.pickAsset=async Z=>{console.log("send pickAsset:",Z),await pickAsset(Z)};window.pickFund=async Z=>{console.log("send pickFund:",Z),await pickFund()};window.trade=async(Z,L,X)=>{console.log("send trade:",Z,X,L),await trade(Z,L,X)};window.acceptTrade=async()=>{let Z=await acceptTrade();console.log("send acceptTrade:"+Z)};window.rejectTrade=async()=>{let Z=await rejectTrade();console.log("send rejectTrade:"+Z)};window.finishGame=async()=>{let Z=await finishGame();console.log("send finishGame:"+Z)};window.mudutils={};window.mudutils.hexToArray=function(Z,L,X){const te=Array.from(K$2(X)).map((oe,se)=>oe),ie=[];for(let oe=0;oe<te.length;oe+=Number(Z)){const se=te.slice(oe,oe+Number(Z));ie.push(se)}return ie};export{BaseError as B,HttpRequestError as H,InvalidAddressError as I,concat as a,isHex as b,call as c,decodeErrorResult as d,encodeAbiParameters as e,getUrl$1 as g,isAddress as i,stringify as s};
//# sourceMappingURL=index-465d5683.js.map
