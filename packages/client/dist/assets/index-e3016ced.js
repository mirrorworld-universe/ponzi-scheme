(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const R0="modulepreload",k0=function(e){return"/"+e},$c={},Ql=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=k0(s),s in $c)return;$c[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":R0,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((f,p)=>{l.addEventListener("load",f),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};function P0({components:e}){return{...e}}var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Pa=function(e,t){return Pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Pa(e,t)};function ei(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pa(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function B0(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(p){o(p)}}function u(f){try{l(n.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(e,t||[])).next())})}function tf(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ln(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Yn(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function On(e){return this instanceof On?(this.v=e,this):new On(e)}function C0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(E){return new Promise(function(v,x){s.push([g,E,v,x])>1||a(g,E)})})}function a(g,E){try{u(n[g](E))}catch(v){p(s[0][3],v)}}function u(g){g.value instanceof On?Promise.resolve(g.value.v).then(l,f):p(s[0][2],g)}function l(g){a("next",g)}function f(g){a("throw",g)}function p(g,E){g(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ln=="function"?Ln(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function Qe(e){return typeof e=="function"}function $u(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var na=$u(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Ma(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var wo=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Ln(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(x){t={error:x}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else o.remove(this);var f=this.initialTeardown;if(Qe(f))try{f()}catch(x){s=x instanceof na?x.errors:[x]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var g=Ln(p),E=g.next();!E.done;E=g.next()){var v=E.value;try{Uc(v)}catch(x){s=s??[],x instanceof na?s=Yn(Yn([],Dn(s)),Dn(x.errors)):s.push(x)}}}catch(x){n={error:x}}finally{try{E&&!E.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}if(s)throw new na(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Uc(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Ma(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Ma(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),rf=wo.EMPTY;function nf(e){return e instanceof wo||e&&"closed"in e&&Qe(e.remove)&&Qe(e.add)&&Qe(e.unsubscribe)}function Uc(e){Qe(e)?e():e.unsubscribe()}var sf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Oa={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Oa.delegate;return i?.setTimeout?i.setTimeout.apply(i,Yn([e,t],Dn(r))):setTimeout.apply(void 0,Yn([e,t],Dn(r)))},clearTimeout:function(e){var t=Oa.delegate;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function of(e){Oa.setTimeout(function(){throw e})}function jc(){}function Ls(e){e()}var Uu=function(e){ei(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,nf(r)&&r.add(n)):n.destination=L0,n}return t.create=function(r,n,i){return new bi(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(wo),U0=Function.prototype.bind;function ia(e,t){return U0.call(e,t)}var j0=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Is(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Is(n)}else Is(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Is(r)}},e}(),bi=function(e){ei(t,e);function t(r,n,i){var s=e.call(this)||this,o;if(Qe(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&sf.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&ia(r.next,a),error:r.error&&ia(r.error,a),complete:r.complete&&ia(r.complete,a)}):o=r}return s.destination=new j0(o),s}return t}(Uu);function Is(e){of(e)}function F0(e){throw e}var L0={closed:!0,next:jc,error:F0,complete:jc},ju=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ds(e){return e}function D0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return af(e)}function af(e){return e.length===0?ds:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var pt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,s=z0(t)?t:new bi(t,r,n);return Ls(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Fc(r),new r(function(i,s){var o=new bi({next:function(a){try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[ju]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return af(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Fc(t),new t(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function Fc(e){var t;return(t=e??sf.Promise)!==null&&t!==void 0?t:Promise}function Y0(e){return e&&Qe(e.next)&&Qe(e.error)&&Qe(e.complete)}function z0(e){return e&&e instanceof Uu||Y0(e)&&nf(e)}function G0(e){return Qe(e?.lift)}function gr(e){return function(t){if(G0(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function pr(e,t,r,n,i){return new q0(e,t,r,n,i)}var q0=function(e){ei(t,e);function t(r,n,i,s,o,a){var u=e.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(l){try{n(l)}catch(f){r.error(f)}}:e.prototype._next,u._error=s?function(l){try{s(l)}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Uu),V0=$u(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),hs=function(e){ei(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Lc(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new V0},t.prototype.next=function(r){var n=this;Ls(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=Ln(n.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(r)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Ls(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Ls(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?rf:(this.currentObservers=null,a.push(r),new wo(function(){n.currentObservers=null,Ma(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},t.prototype.asObservable=function(){var r=new pt;return r.source=this,r},t.create=function(r,n){return new Lc(r,n)},t}(pt),Lc=function(e){ei(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:rf},t}(hs),uf={now:function(){return(uf.delegate||Date).now()},delegate:void 0},Z0=function(e){ei(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=uf);var s=e.call(this)||this;return s._bufferSize=r,s._windowTime=n,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,r),s._windowTime=Math.max(1,n),s}return t.prototype.next=function(r){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,u=n._windowTime;i||(s.push(r),!o&&s.push(a.now()+u)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),u=0;u<a.length&&!r.closed;u+=s?1:2)r.next(a[u]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,s=r._buffer,o=r._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var u=i.now(),l=0,f=1;f<s.length&&s[f]<=u;f+=2)l=f;l&&s.splice(0,l+1)}},t}(hs),cf=new pt(function(e){return e.complete()});function H0(e){return e&&Qe(e.schedule)}function lf(e){return e[e.length-1]}function W0(e){return Qe(lf(e))?e.pop():void 0}function Fu(e){return H0(lf(e))?e.pop():void 0}var ff=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function df(e){return Qe(e?.then)}function hf(e){return Qe(e[ju])}function pf(e){return Symbol.asyncIterator&&Qe(e?.[Symbol.asyncIterator])}function yf(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function K0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mf=K0();function gf(e){return Qe(e?.[mf])}function bf(e){return C0(this,arguments,function(){var r,n,i,s;return tf(this,function(o){switch(o.label){case 0:r=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,On(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,On(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,On(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function vf(e){return Qe(e?.getReader)}function wn(e){if(e instanceof pt)return e;if(e!=null){if(hf(e))return J0(e);if(ff(e))return X0(e);if(df(e))return Q0(e);if(pf(e))return wf(e);if(gf(e))return ep(e);if(vf(e))return tp(e)}throw yf(e)}function J0(e){return new pt(function(t){var r=e[ju]();if(Qe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function X0(e){return new pt(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Q0(e){return new pt(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,of)})}function ep(e){return new pt(function(t){var r,n;try{for(var i=Ln(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function wf(e){return new pt(function(t){rp(e,t).catch(function(r){return t.error(r)})})}function tp(e){return wf(bf(e))}function rp(e,t){var r,n,i,s;return B0(this,void 0,void 0,function(){var o,a;return tf(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=$0(e),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ur(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!i)return s}function xf(e,t){return t===void 0&&(t=0),gr(function(r,n){r.subscribe(pr(n,function(i){return ur(n,e,function(){return n.next(i)},t)},function(){return ur(n,e,function(){return n.complete()},t)},function(i){return ur(n,e,function(){return n.error(i)},t)}))})}function Ef(e,t){return t===void 0&&(t=0),gr(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function np(e,t){return wn(e).pipe(Ef(t),xf(t))}function ip(e,t){return wn(e).pipe(Ef(t),xf(t))}function sp(e,t){return new pt(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function op(e,t){return new pt(function(r){var n;return ur(r,t,function(){n=e[mf](),ur(r,t,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return Qe(n?.return)&&n.return()}})}function Af(e,t){if(!e)throw new Error("Iterable cannot be null");return new pt(function(r){ur(r,t,function(){var n=e[Symbol.asyncIterator]();ur(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function ap(e,t){return Af(bf(e),t)}function up(e,t){if(e!=null){if(hf(e))return np(e,t);if(ff(e))return sp(e,t);if(df(e))return ip(e,t);if(pf(e))return Af(e,t);if(gf(e))return op(e,t);if(vf(e))return ap(e,t)}throw yf(e)}function xn(e,t){return t?up(e,t):wn(e)}function cp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Fu(e);return xn(e,r)}var lp=$u(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function fp(e,t){var r=typeof t=="object";return new Promise(function(n,i){var s=new bi({next:function(o){n(o),s.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new lp)}});e.subscribe(s)})}function pi(e,t){return gr(function(r,n){var i=0;r.subscribe(pr(n,function(s){n.next(e.call(t,s,i++))}))})}var dp=Array.isArray;function hp(e,t){return dp(t)?e.apply(void 0,Yn([],Dn(t))):e(t)}function pp(e){return pi(function(t){return hp(e,t)})}var yp=Array.isArray,mp=Object.getPrototypeOf,gp=Object.prototype,bp=Object.keys;function vp(e){if(e.length===1){var t=e[0];if(yp(t))return{args:t,keys:null};if(wp(t)){var r=bp(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}function wp(e){return e&&typeof e=="object"&&mp(e)===gp}function xp(e,t){return e.reduce(function(r,n,i){return r[n]=t[i],r},{})}function Ep(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Fu(e),n=W0(e),i=vp(e),s=i.args,o=i.keys;if(s.length===0)return xn([],r);var a=new pt(Ap(s,r,o?function(u){return xp(o,u)}:ds));return n?a.pipe(pp(n)):a}function Ap(e,t,r){return r===void 0&&(r=ds),function(n){Dc(t,function(){for(var i=e.length,s=new Array(i),o=i,a=i,u=function(f){Dc(t,function(){var p=xn(e[f],t),g=!1;p.subscribe(pr(n,function(E){s[f]=E,g||(g=!0,a--),a||n.next(r(s.slice()))},function(){--o||n.complete()}))},n)},l=0;l<i;l++)u(l)},n)}}function Dc(e,t,r){e?ur(r,e,t):t()}function Tp(e,t,r,n,i,s,o,a){var u=[],l=0,f=0,p=!1,g=function(){p&&!u.length&&!l&&t.complete()},E=function(x){return l<n?v(x):u.push(x)},v=function(x){s&&t.next(x),l++;var I=!1;wn(r(x,f++)).subscribe(pr(t,function(R){i?.(R),s?E(R):t.next(R)},function(){I=!0},void 0,function(){if(I)try{l--;for(var R=function(){var k=u.shift();o?ur(t,o,function(){return v(k)}):v(k)};u.length&&l<n;)R();g()}catch(k){t.error(k)}}))};return e.subscribe(pr(t,E,function(){p=!0,g()})),function(){a?.()}}function vi(e,t,r){return r===void 0&&(r=1/0),Qe(t)?vi(function(n,i){return pi(function(s,o){return t(n,s,i,o)})(wn(e(n,i)))},r):(typeof t=="number"&&(r=t),gr(function(n,i){return Tp(n,i,e,r)}))}function _p(e){return e===void 0&&(e=1/0),vi(ds,e)}function Sp(){return _p(1)}function Ip(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Sp()(xn(e,Fu(e)))}function Np(e){return new pt(function(t){wn(e()).subscribe(t)})}function Yc(e,t){return gr(function(r,n){var i=0;r.subscribe(pr(n,function(s){return e.call(t,s,i++)&&n.next(s)}))})}function Tf(e){return gr(function(t,r){var n=null,i=!1,s;n=t.subscribe(pr(r,void 0,void 0,function(o){s=wn(e(o,Tf(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function Ba(e,t){return Qe(t)?vi(e,t,1):vi(e,1)}function Rp(e){return e<=0?function(){return cf}:gr(function(t,r){var n=0;t.subscribe(pr(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function Hs(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new hs}:t,n=e.resetOnError,i=n===void 0?!0:n,s=e.resetOnComplete,o=s===void 0?!0:s,a=e.resetOnRefCountZero,u=a===void 0?!0:a;return function(l){var f=null,p=null,g=null,E=0,v=!1,x=!1,I=function(){p?.unsubscribe(),p=null},R=function(){I(),f=g=null,v=x=!1},k=function(){var M=f;R(),M?.unsubscribe()};return gr(function(M,$){E++,!x&&!v&&I();var B=g=g??r();$.add(function(){E--,E===0&&!x&&!v&&(p=sa(k,u))}),B.subscribe($),f||(f=new bi({next:function(C){return B.next(C)},error:function(C){x=!0,I(),p=sa(R,i,C),B.error(C)},complete:function(){v=!0,I(),p=sa(R,o),B.complete()}}),xn(M).subscribe(f))})(l)}}function sa(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return t===!0?(e(),null):t===!1?null:t.apply(void 0,Yn([],Dn(r))).pipe(Rp(1)).subscribe(function(){return e()})}function Ns(e,t,r){var n,i,s,o,a=!1;return e&&typeof e=="object"?(n=e.bufferSize,o=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,s=e.refCount,a=s===void 0?!1:s,r=e.scheduler):o=e??1/0,Hs({connector:function(){return new Z0(o,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Rn(e,t,r){var n=Qe(e)||t||r?{next:e,error:t,complete:r}:e;return n?gr(function(i,s){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;i.subscribe(pr(s,function(u){var l;(l=n.next)===null||l===void 0||l.call(n,u),s.next(u)},function(){var u;a=!1,(u=n.complete)===null||u===void 0||u.call(n),s.complete()},function(u){var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,u),s.error(u)},function(){var u,l;a&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):ds}var Ca={},kp={get exports(){return Ca},set exports(e){Ca=e}};const Pp={},Mp=Object.freeze(Object.defineProperty({__proto__:null,default:Pp},Symbol.toStringTag,{value:"Module"})),Op=O0(Mp);(function(e){(function(t,r){function n(_,c){if(!_)throw new Error(c||"Assertion failed")}function i(_,c){_.super_=c;var h=function(){};h.prototype=c.prototype,_.prototype=new h,_.prototype.constructor=_}function s(_,c,h){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(_||0,c||10,h||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Op.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,m){if(typeof c=="number")return this._initNumber(c,h,m);if(typeof c=="object")return this._initArray(c,h,m);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var b=0;c[0]==="-"&&(b++,this.negative=1),b<c.length&&(h===16?this._parseHex(c,b,m):(this._parseBase(c,h,b),m==="le"&&this._initArray(this.toArray(),h,m)))},s.prototype._initNumber=function(c,h,m){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},s.prototype._initArray=function(c,h,m){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var A,S,P=0;if(m==="be")for(b=c.length-1,A=0;b>=0;b-=3)S=c[b]|c[b-1]<<8|c[b-2]<<16,this.words[A]|=S<<P&67108863,this.words[A+1]=S>>>26-P&67108863,P+=24,P>=26&&(P-=26,A++);else if(m==="le")for(b=0,A=0;b<c.length;b+=3)S=c[b]|c[b+1]<<8|c[b+2]<<16,this.words[A]|=S<<P&67108863,this.words[A+1]=S>>>26-P&67108863,P+=24,P>=26&&(P-=26,A++);return this._strip()};function a(_,c){var h=_.charCodeAt(c);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+_)}function u(_,c,h){var m=a(_,h);return h-1>=c&&(m|=a(_,h-1)<<4),m}s.prototype._parseHex=function(c,h,m){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var A=0,S=0,P;if(m==="be")for(b=c.length-1;b>=h;b-=2)P=u(c,h,b)<<A,this.words[S]|=P&67108863,A>=18?(A-=18,S+=1,this.words[S]|=P>>>26):A+=8;else{var w=c.length-h;for(b=w%2===0?h+1:h;b<c.length;b+=2)P=u(c,h,b)<<A,this.words[S]|=P&67108863,A>=18?(A-=18,S+=1,this.words[S]|=P>>>26):A+=8}this._strip()};function l(_,c,h,m){for(var b=0,A=0,S=Math.min(_.length,h),P=c;P<S;P++){var w=_.charCodeAt(P)-48;b*=m,w>=49?A=w-49+10:w>=17?A=w-17+10:A=w,n(w>=0&&A<m,"Invalid character"),b+=A}return b}s.prototype._parseBase=function(c,h,m){this.words=[0],this.length=1;for(var b=0,A=1;A<=67108863;A*=h)b++;b--,A=A/h|0;for(var S=c.length-m,P=S%b,w=Math.min(S,S-P)+m,d=0,T=m;T<w;T+=b)d=l(c,T,T+b,h),this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(P!==0){var J=1;for(d=l(c,T,c.length,h),T=0;T<P;T++)J*=h;this.imuln(J),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red};function f(_,c){_.words=c.words,_.length=c.length,_.negative=c.negative,_.red=c.red}if(s.prototype._move=function(c){f(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var m;if(c===16||c==="hex"){m="";for(var b=0,A=0,S=0;S<this.length;S++){var P=this.words[S],w=((P<<b|A)&16777215).toString(16);A=P>>>24-b&16777215,b+=2,b>=26&&(b-=26,S--),A!==0||S!==this.length-1?m=g[6-w.length]+w+m:m=w+m}for(A!==0&&(m=A.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(c===(c|0)&&c>=2&&c<=36){var d=E[c],T=v[c];m="";var J=this.clone();for(J.negative=0;!J.isZero();){var y=J.modrn(T).toString(c);J=J.idivn(T),J.isZero()?m=y+m:m=g[d-y.length]+y+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(c,h){return this.toArrayLike(o,c,h)}),s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)};var x=function(c,h){return c.allocUnsafe?c.allocUnsafe(h):new c(h)};s.prototype.toArrayLike=function(c,h,m){this._strip();var b=this.byteLength(),A=m||Math.max(1,b);n(b<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var S=x(c,A),P=h==="le"?"LE":"BE";return this["_toArrayLike"+P](S,b),S},s.prototype._toArrayLikeLE=function(c,h){for(var m=0,b=0,A=0,S=0;A<this.length;A++){var P=this.words[A]<<S|b;c[m++]=P&255,m<c.length&&(c[m++]=P>>8&255),m<c.length&&(c[m++]=P>>16&255),S===6?(m<c.length&&(c[m++]=P>>24&255),b=0,S=0):(b=P>>>24,S+=2)}if(m<c.length)for(c[m++]=b;m<c.length;)c[m++]=0},s.prototype._toArrayLikeBE=function(c,h){for(var m=c.length-1,b=0,A=0,S=0;A<this.length;A++){var P=this.words[A]<<S|b;c[m--]=P&255,m>=0&&(c[m--]=P>>8&255),m>=0&&(c[m--]=P>>16&255),S===6?(m>=0&&(c[m--]=P>>24&255),b=0,S=0):(b=P>>>24,S+=2)}if(m>=0)for(c[m--]=b;m>=0;)c[m--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function I(_){for(var c=new Array(_.bitLength()),h=0;h<c.length;h++){var m=h/26|0,b=h%26;c[h]=_.words[m]>>>b&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(c+=m,m!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this._strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&c.words[m];return this.length=h.length,this._strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,m;this.length>c.length?(h=this,m=c):(h=c,m=this);for(var b=0;b<m.length;b++)this.words[b]=h.words[b]^m.words[b];if(this!==h)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=h.length,this._strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,m=c%26;this._expand(h),m>0&&h--;for(var b=0;b<h;b++)this.words[b]=~this.words[b]&67108863;return m>0&&(this.words[b]=~this.words[b]&67108863>>26-m),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var m=c/26|0,b=c%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<b:this.words[m]=this.words[m]&~(1<<b),this._strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var m,b;this.length>c.length?(m=this,b=c):(m=c,b=this);for(var A=0,S=0;S<b.length;S++)h=(m.words[S]|0)+(b.words[S]|0)+A,this.words[S]=h&67108863,A=h>>>26;for(;A!==0&&S<m.length;S++)h=(m.words[S]|0)+A,this.words[S]=h&67108863,A=h>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;S<m.length;S++)this.words[S]=m.words[S];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var m=this.cmp(c);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,A;m>0?(b=this,A=c):(b=c,A=this);for(var S=0,P=0;P<A.length;P++)h=(b.words[P]|0)-(A.words[P]|0)+S,S=h>>26,this.words[P]=h&67108863;for(;S!==0&&P<b.length;P++)h=(b.words[P]|0)+S,S=h>>26,this.words[P]=h&67108863;if(S===0&&P<b.length&&b!==this)for(;P<b.length;P++)this.words[P]=b.words[P];return this.length=Math.max(this.length,P),b!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function R(_,c,h){h.negative=c.negative^_.negative;var m=_.length+c.length|0;h.length=m,m=m-1|0;var b=_.words[0]|0,A=c.words[0]|0,S=b*A,P=S&67108863,w=S/67108864|0;h.words[0]=P;for(var d=1;d<m;d++){for(var T=w>>>26,J=w&67108863,y=Math.min(d,c.length-1),O=Math.max(0,d-_.length+1);O<=y;O++){var U=d-O|0;b=_.words[U]|0,A=c.words[O]|0,S=b*A+J,T+=S/67108864|0,J=S&67108863}h.words[d]=J|0,w=T|0}return w!==0?h.words[d]=w|0:h.length--,h._strip()}var k=function(c,h,m){var b=c.words,A=h.words,S=m.words,P=0,w,d,T,J=b[0]|0,y=J&8191,O=J>>>13,U=b[1]|0,j=U&8191,L=U>>>13,X=b[2]|0,G=X&8191,Y=X>>>13,me=b[3]|0,q=me&8191,ne=me>>>13,Yt=b[4]|0,ge=Yt&8191,be=Yt>>>13,zr=b[5]|0,ve=zr&8191,we=zr>>>13,Gr=b[6]|0,xe=Gr&8191,Ee=Gr>>>13,qr=b[7]|0,Ae=qr&8191,Te=qr>>>13,Vr=b[8]|0,_e=Vr&8191,Se=Vr>>>13,Zr=b[9]|0,Ie=Zr&8191,Ne=Zr>>>13,Hr=A[0]|0,Re=Hr&8191,ke=Hr>>>13,Wr=A[1]|0,Pe=Wr&8191,Me=Wr>>>13,Kr=A[2]|0,Oe=Kr&8191,Be=Kr>>>13,Jr=A[3]|0,Ce=Jr&8191,$e=Jr>>>13,Xr=A[4]|0,Ue=Xr&8191,je=Xr>>>13,Qr=A[5]|0,Fe=Qr&8191,Le=Qr>>>13,en=A[6]|0,De=en&8191,Ye=en>>>13,tn=A[7]|0,ze=tn&8191,Ge=tn>>>13,rn=A[8]|0,qe=rn&8191,Ve=rn>>>13,nn=A[9]|0,Ze=nn&8191,He=nn>>>13;m.negative=c.negative^h.negative,m.length=19,w=Math.imul(y,Re),d=Math.imul(y,ke),d=d+Math.imul(O,Re)|0,T=Math.imul(O,ke);var wr=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(wr>>>26)|0,wr&=67108863,w=Math.imul(j,Re),d=Math.imul(j,ke),d=d+Math.imul(L,Re)|0,T=Math.imul(L,ke),w=w+Math.imul(y,Pe)|0,d=d+Math.imul(y,Me)|0,d=d+Math.imul(O,Pe)|0,T=T+Math.imul(O,Me)|0;var xr=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(G,Re),d=Math.imul(G,ke),d=d+Math.imul(Y,Re)|0,T=Math.imul(Y,ke),w=w+Math.imul(j,Pe)|0,d=d+Math.imul(j,Me)|0,d=d+Math.imul(L,Pe)|0,T=T+Math.imul(L,Me)|0,w=w+Math.imul(y,Oe)|0,d=d+Math.imul(y,Be)|0,d=d+Math.imul(O,Oe)|0,T=T+Math.imul(O,Be)|0;var Er=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(q,Re),d=Math.imul(q,ke),d=d+Math.imul(ne,Re)|0,T=Math.imul(ne,ke),w=w+Math.imul(G,Pe)|0,d=d+Math.imul(G,Me)|0,d=d+Math.imul(Y,Pe)|0,T=T+Math.imul(Y,Me)|0,w=w+Math.imul(j,Oe)|0,d=d+Math.imul(j,Be)|0,d=d+Math.imul(L,Oe)|0,T=T+Math.imul(L,Be)|0,w=w+Math.imul(y,Ce)|0,d=d+Math.imul(y,$e)|0,d=d+Math.imul(O,Ce)|0,T=T+Math.imul(O,$e)|0;var Ar=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,w=Math.imul(ge,Re),d=Math.imul(ge,ke),d=d+Math.imul(be,Re)|0,T=Math.imul(be,ke),w=w+Math.imul(q,Pe)|0,d=d+Math.imul(q,Me)|0,d=d+Math.imul(ne,Pe)|0,T=T+Math.imul(ne,Me)|0,w=w+Math.imul(G,Oe)|0,d=d+Math.imul(G,Be)|0,d=d+Math.imul(Y,Oe)|0,T=T+Math.imul(Y,Be)|0,w=w+Math.imul(j,Ce)|0,d=d+Math.imul(j,$e)|0,d=d+Math.imul(L,Ce)|0,T=T+Math.imul(L,$e)|0,w=w+Math.imul(y,Ue)|0,d=d+Math.imul(y,je)|0,d=d+Math.imul(O,Ue)|0,T=T+Math.imul(O,je)|0;var Tr=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,w=Math.imul(ve,Re),d=Math.imul(ve,ke),d=d+Math.imul(we,Re)|0,T=Math.imul(we,ke),w=w+Math.imul(ge,Pe)|0,d=d+Math.imul(ge,Me)|0,d=d+Math.imul(be,Pe)|0,T=T+Math.imul(be,Me)|0,w=w+Math.imul(q,Oe)|0,d=d+Math.imul(q,Be)|0,d=d+Math.imul(ne,Oe)|0,T=T+Math.imul(ne,Be)|0,w=w+Math.imul(G,Ce)|0,d=d+Math.imul(G,$e)|0,d=d+Math.imul(Y,Ce)|0,T=T+Math.imul(Y,$e)|0,w=w+Math.imul(j,Ue)|0,d=d+Math.imul(j,je)|0,d=d+Math.imul(L,Ue)|0,T=T+Math.imul(L,je)|0,w=w+Math.imul(y,Fe)|0,d=d+Math.imul(y,Le)|0,d=d+Math.imul(O,Fe)|0,T=T+Math.imul(O,Le)|0;var zo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(zo>>>26)|0,zo&=67108863,w=Math.imul(xe,Re),d=Math.imul(xe,ke),d=d+Math.imul(Ee,Re)|0,T=Math.imul(Ee,ke),w=w+Math.imul(ve,Pe)|0,d=d+Math.imul(ve,Me)|0,d=d+Math.imul(we,Pe)|0,T=T+Math.imul(we,Me)|0,w=w+Math.imul(ge,Oe)|0,d=d+Math.imul(ge,Be)|0,d=d+Math.imul(be,Oe)|0,T=T+Math.imul(be,Be)|0,w=w+Math.imul(q,Ce)|0,d=d+Math.imul(q,$e)|0,d=d+Math.imul(ne,Ce)|0,T=T+Math.imul(ne,$e)|0,w=w+Math.imul(G,Ue)|0,d=d+Math.imul(G,je)|0,d=d+Math.imul(Y,Ue)|0,T=T+Math.imul(Y,je)|0,w=w+Math.imul(j,Fe)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(L,Fe)|0,T=T+Math.imul(L,Le)|0,w=w+Math.imul(y,De)|0,d=d+Math.imul(y,Ye)|0,d=d+Math.imul(O,De)|0,T=T+Math.imul(O,Ye)|0;var Go=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Go>>>26)|0,Go&=67108863,w=Math.imul(Ae,Re),d=Math.imul(Ae,ke),d=d+Math.imul(Te,Re)|0,T=Math.imul(Te,ke),w=w+Math.imul(xe,Pe)|0,d=d+Math.imul(xe,Me)|0,d=d+Math.imul(Ee,Pe)|0,T=T+Math.imul(Ee,Me)|0,w=w+Math.imul(ve,Oe)|0,d=d+Math.imul(ve,Be)|0,d=d+Math.imul(we,Oe)|0,T=T+Math.imul(we,Be)|0,w=w+Math.imul(ge,Ce)|0,d=d+Math.imul(ge,$e)|0,d=d+Math.imul(be,Ce)|0,T=T+Math.imul(be,$e)|0,w=w+Math.imul(q,Ue)|0,d=d+Math.imul(q,je)|0,d=d+Math.imul(ne,Ue)|0,T=T+Math.imul(ne,je)|0,w=w+Math.imul(G,Fe)|0,d=d+Math.imul(G,Le)|0,d=d+Math.imul(Y,Fe)|0,T=T+Math.imul(Y,Le)|0,w=w+Math.imul(j,De)|0,d=d+Math.imul(j,Ye)|0,d=d+Math.imul(L,De)|0,T=T+Math.imul(L,Ye)|0,w=w+Math.imul(y,ze)|0,d=d+Math.imul(y,Ge)|0,d=d+Math.imul(O,ze)|0,T=T+Math.imul(O,Ge)|0;var qo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(qo>>>26)|0,qo&=67108863,w=Math.imul(_e,Re),d=Math.imul(_e,ke),d=d+Math.imul(Se,Re)|0,T=Math.imul(Se,ke),w=w+Math.imul(Ae,Pe)|0,d=d+Math.imul(Ae,Me)|0,d=d+Math.imul(Te,Pe)|0,T=T+Math.imul(Te,Me)|0,w=w+Math.imul(xe,Oe)|0,d=d+Math.imul(xe,Be)|0,d=d+Math.imul(Ee,Oe)|0,T=T+Math.imul(Ee,Be)|0,w=w+Math.imul(ve,Ce)|0,d=d+Math.imul(ve,$e)|0,d=d+Math.imul(we,Ce)|0,T=T+Math.imul(we,$e)|0,w=w+Math.imul(ge,Ue)|0,d=d+Math.imul(ge,je)|0,d=d+Math.imul(be,Ue)|0,T=T+Math.imul(be,je)|0,w=w+Math.imul(q,Fe)|0,d=d+Math.imul(q,Le)|0,d=d+Math.imul(ne,Fe)|0,T=T+Math.imul(ne,Le)|0,w=w+Math.imul(G,De)|0,d=d+Math.imul(G,Ye)|0,d=d+Math.imul(Y,De)|0,T=T+Math.imul(Y,Ye)|0,w=w+Math.imul(j,ze)|0,d=d+Math.imul(j,Ge)|0,d=d+Math.imul(L,ze)|0,T=T+Math.imul(L,Ge)|0,w=w+Math.imul(y,qe)|0,d=d+Math.imul(y,Ve)|0,d=d+Math.imul(O,qe)|0,T=T+Math.imul(O,Ve)|0;var Vo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,w=Math.imul(Ie,Re),d=Math.imul(Ie,ke),d=d+Math.imul(Ne,Re)|0,T=Math.imul(Ne,ke),w=w+Math.imul(_e,Pe)|0,d=d+Math.imul(_e,Me)|0,d=d+Math.imul(Se,Pe)|0,T=T+Math.imul(Se,Me)|0,w=w+Math.imul(Ae,Oe)|0,d=d+Math.imul(Ae,Be)|0,d=d+Math.imul(Te,Oe)|0,T=T+Math.imul(Te,Be)|0,w=w+Math.imul(xe,Ce)|0,d=d+Math.imul(xe,$e)|0,d=d+Math.imul(Ee,Ce)|0,T=T+Math.imul(Ee,$e)|0,w=w+Math.imul(ve,Ue)|0,d=d+Math.imul(ve,je)|0,d=d+Math.imul(we,Ue)|0,T=T+Math.imul(we,je)|0,w=w+Math.imul(ge,Fe)|0,d=d+Math.imul(ge,Le)|0,d=d+Math.imul(be,Fe)|0,T=T+Math.imul(be,Le)|0,w=w+Math.imul(q,De)|0,d=d+Math.imul(q,Ye)|0,d=d+Math.imul(ne,De)|0,T=T+Math.imul(ne,Ye)|0,w=w+Math.imul(G,ze)|0,d=d+Math.imul(G,Ge)|0,d=d+Math.imul(Y,ze)|0,T=T+Math.imul(Y,Ge)|0,w=w+Math.imul(j,qe)|0,d=d+Math.imul(j,Ve)|0,d=d+Math.imul(L,qe)|0,T=T+Math.imul(L,Ve)|0,w=w+Math.imul(y,Ze)|0,d=d+Math.imul(y,He)|0,d=d+Math.imul(O,Ze)|0,T=T+Math.imul(O,He)|0;var Zo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,w=Math.imul(Ie,Pe),d=Math.imul(Ie,Me),d=d+Math.imul(Ne,Pe)|0,T=Math.imul(Ne,Me),w=w+Math.imul(_e,Oe)|0,d=d+Math.imul(_e,Be)|0,d=d+Math.imul(Se,Oe)|0,T=T+Math.imul(Se,Be)|0,w=w+Math.imul(Ae,Ce)|0,d=d+Math.imul(Ae,$e)|0,d=d+Math.imul(Te,Ce)|0,T=T+Math.imul(Te,$e)|0,w=w+Math.imul(xe,Ue)|0,d=d+Math.imul(xe,je)|0,d=d+Math.imul(Ee,Ue)|0,T=T+Math.imul(Ee,je)|0,w=w+Math.imul(ve,Fe)|0,d=d+Math.imul(ve,Le)|0,d=d+Math.imul(we,Fe)|0,T=T+Math.imul(we,Le)|0,w=w+Math.imul(ge,De)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(be,De)|0,T=T+Math.imul(be,Ye)|0,w=w+Math.imul(q,ze)|0,d=d+Math.imul(q,Ge)|0,d=d+Math.imul(ne,ze)|0,T=T+Math.imul(ne,Ge)|0,w=w+Math.imul(G,qe)|0,d=d+Math.imul(G,Ve)|0,d=d+Math.imul(Y,qe)|0,T=T+Math.imul(Y,Ve)|0,w=w+Math.imul(j,Ze)|0,d=d+Math.imul(j,He)|0,d=d+Math.imul(L,Ze)|0,T=T+Math.imul(L,He)|0;var Ho=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,w=Math.imul(Ie,Oe),d=Math.imul(Ie,Be),d=d+Math.imul(Ne,Oe)|0,T=Math.imul(Ne,Be),w=w+Math.imul(_e,Ce)|0,d=d+Math.imul(_e,$e)|0,d=d+Math.imul(Se,Ce)|0,T=T+Math.imul(Se,$e)|0,w=w+Math.imul(Ae,Ue)|0,d=d+Math.imul(Ae,je)|0,d=d+Math.imul(Te,Ue)|0,T=T+Math.imul(Te,je)|0,w=w+Math.imul(xe,Fe)|0,d=d+Math.imul(xe,Le)|0,d=d+Math.imul(Ee,Fe)|0,T=T+Math.imul(Ee,Le)|0,w=w+Math.imul(ve,De)|0,d=d+Math.imul(ve,Ye)|0,d=d+Math.imul(we,De)|0,T=T+Math.imul(we,Ye)|0,w=w+Math.imul(ge,ze)|0,d=d+Math.imul(ge,Ge)|0,d=d+Math.imul(be,ze)|0,T=T+Math.imul(be,Ge)|0,w=w+Math.imul(q,qe)|0,d=d+Math.imul(q,Ve)|0,d=d+Math.imul(ne,qe)|0,T=T+Math.imul(ne,Ve)|0,w=w+Math.imul(G,Ze)|0,d=d+Math.imul(G,He)|0,d=d+Math.imul(Y,Ze)|0,T=T+Math.imul(Y,He)|0;var Wo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,w=Math.imul(Ie,Ce),d=Math.imul(Ie,$e),d=d+Math.imul(Ne,Ce)|0,T=Math.imul(Ne,$e),w=w+Math.imul(_e,Ue)|0,d=d+Math.imul(_e,je)|0,d=d+Math.imul(Se,Ue)|0,T=T+Math.imul(Se,je)|0,w=w+Math.imul(Ae,Fe)|0,d=d+Math.imul(Ae,Le)|0,d=d+Math.imul(Te,Fe)|0,T=T+Math.imul(Te,Le)|0,w=w+Math.imul(xe,De)|0,d=d+Math.imul(xe,Ye)|0,d=d+Math.imul(Ee,De)|0,T=T+Math.imul(Ee,Ye)|0,w=w+Math.imul(ve,ze)|0,d=d+Math.imul(ve,Ge)|0,d=d+Math.imul(we,ze)|0,T=T+Math.imul(we,Ge)|0,w=w+Math.imul(ge,qe)|0,d=d+Math.imul(ge,Ve)|0,d=d+Math.imul(be,qe)|0,T=T+Math.imul(be,Ve)|0,w=w+Math.imul(q,Ze)|0,d=d+Math.imul(q,He)|0,d=d+Math.imul(ne,Ze)|0,T=T+Math.imul(ne,He)|0;var Ko=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,w=Math.imul(Ie,Ue),d=Math.imul(Ie,je),d=d+Math.imul(Ne,Ue)|0,T=Math.imul(Ne,je),w=w+Math.imul(_e,Fe)|0,d=d+Math.imul(_e,Le)|0,d=d+Math.imul(Se,Fe)|0,T=T+Math.imul(Se,Le)|0,w=w+Math.imul(Ae,De)|0,d=d+Math.imul(Ae,Ye)|0,d=d+Math.imul(Te,De)|0,T=T+Math.imul(Te,Ye)|0,w=w+Math.imul(xe,ze)|0,d=d+Math.imul(xe,Ge)|0,d=d+Math.imul(Ee,ze)|0,T=T+Math.imul(Ee,Ge)|0,w=w+Math.imul(ve,qe)|0,d=d+Math.imul(ve,Ve)|0,d=d+Math.imul(we,qe)|0,T=T+Math.imul(we,Ve)|0,w=w+Math.imul(ge,Ze)|0,d=d+Math.imul(ge,He)|0,d=d+Math.imul(be,Ze)|0,T=T+Math.imul(be,He)|0;var Jo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,w=Math.imul(Ie,Fe),d=Math.imul(Ie,Le),d=d+Math.imul(Ne,Fe)|0,T=Math.imul(Ne,Le),w=w+Math.imul(_e,De)|0,d=d+Math.imul(_e,Ye)|0,d=d+Math.imul(Se,De)|0,T=T+Math.imul(Se,Ye)|0,w=w+Math.imul(Ae,ze)|0,d=d+Math.imul(Ae,Ge)|0,d=d+Math.imul(Te,ze)|0,T=T+Math.imul(Te,Ge)|0,w=w+Math.imul(xe,qe)|0,d=d+Math.imul(xe,Ve)|0,d=d+Math.imul(Ee,qe)|0,T=T+Math.imul(Ee,Ve)|0,w=w+Math.imul(ve,Ze)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(we,Ze)|0,T=T+Math.imul(we,He)|0;var Xo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,w=Math.imul(Ie,De),d=Math.imul(Ie,Ye),d=d+Math.imul(Ne,De)|0,T=Math.imul(Ne,Ye),w=w+Math.imul(_e,ze)|0,d=d+Math.imul(_e,Ge)|0,d=d+Math.imul(Se,ze)|0,T=T+Math.imul(Se,Ge)|0,w=w+Math.imul(Ae,qe)|0,d=d+Math.imul(Ae,Ve)|0,d=d+Math.imul(Te,qe)|0,T=T+Math.imul(Te,Ve)|0,w=w+Math.imul(xe,Ze)|0,d=d+Math.imul(xe,He)|0,d=d+Math.imul(Ee,Ze)|0,T=T+Math.imul(Ee,He)|0;var Qo=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,w=Math.imul(Ie,ze),d=Math.imul(Ie,Ge),d=d+Math.imul(Ne,ze)|0,T=Math.imul(Ne,Ge),w=w+Math.imul(_e,qe)|0,d=d+Math.imul(_e,Ve)|0,d=d+Math.imul(Se,qe)|0,T=T+Math.imul(Se,Ve)|0,w=w+Math.imul(Ae,Ze)|0,d=d+Math.imul(Ae,He)|0,d=d+Math.imul(Te,Ze)|0,T=T+Math.imul(Te,He)|0;var ea=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(ea>>>26)|0,ea&=67108863,w=Math.imul(Ie,qe),d=Math.imul(Ie,Ve),d=d+Math.imul(Ne,qe)|0,T=Math.imul(Ne,Ve),w=w+Math.imul(_e,Ze)|0,d=d+Math.imul(_e,He)|0,d=d+Math.imul(Se,Ze)|0,T=T+Math.imul(Se,He)|0;var ta=(P+w|0)+((d&8191)<<13)|0;P=(T+(d>>>13)|0)+(ta>>>26)|0,ta&=67108863,w=Math.imul(Ie,Ze),d=Math.imul(Ie,He),d=d+Math.imul(Ne,Ze)|0,T=Math.imul(Ne,He);var ra=(P+w|0)+((d&8191)<<13)|0;return P=(T+(d>>>13)|0)+(ra>>>26)|0,ra&=67108863,S[0]=wr,S[1]=xr,S[2]=Er,S[3]=Ar,S[4]=Tr,S[5]=zo,S[6]=Go,S[7]=qo,S[8]=Vo,S[9]=Zo,S[10]=Ho,S[11]=Wo,S[12]=Ko,S[13]=Jo,S[14]=Xo,S[15]=Qo,S[16]=ea,S[17]=ta,S[18]=ra,P!==0&&(S[19]=P,m.length++),m};Math.imul||(k=R);function M(_,c,h){h.negative=c.negative^_.negative,h.length=_.length+c.length;for(var m=0,b=0,A=0;A<h.length-1;A++){var S=b;b=0;for(var P=m&67108863,w=Math.min(A,c.length-1),d=Math.max(0,A-_.length+1);d<=w;d++){var T=A-d,J=_.words[T]|0,y=c.words[d]|0,O=J*y,U=O&67108863;S=S+(O/67108864|0)|0,U=U+P|0,P=U&67108863,S=S+(U>>>26)|0,b+=S>>>26,S&=67108863}h.words[A]=P,m=S,S=b}return m!==0?h.words[A]=m:h.length--,h._strip()}function $(_,c,h){return M(_,c,h)}s.prototype.mulTo=function(c,h){var m,b=this.length+c.length;return this.length===10&&c.length===10?m=k(this,c,h):b<63?m=R(this,c,h):b<1024?m=M(this,c,h):m=$(this,c,h),m},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),$(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var h=c<0;h&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var m=0,b=0;b<this.length;b++){var A=(this.words[b]|0)*c,S=(A&67108863)+(m&67108863);m>>=26,m+=A/67108864|0,m+=S>>>26,this.words[b]=S&67108863}return m!==0&&(this.words[b]=m,this.length++),h?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=I(c);if(h.length===0)return new s(1);for(var m=this,b=0;b<h.length&&h[b]===0;b++,m=m.sqr());if(++b<h.length)for(var A=m.sqr();b<h.length;b++,A=A.sqr())h[b]!==0&&(m=m.mul(A));return m},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,m=(c-h)/26,b=67108863>>>26-h<<26-h,A;if(h!==0){var S=0;for(A=0;A<this.length;A++){var P=this.words[A]&b,w=(this.words[A]|0)-P<<h;this.words[A]=w|S,S=P>>>26-h}S&&(this.words[A]=S,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,m){n(typeof c=="number"&&c>=0);var b;h?b=(h-h%26)/26:b=0;var A=c%26,S=Math.min((c-A)/26,this.length),P=67108863^67108863>>>A<<A,w=m;if(b-=S,b=Math.max(0,b),w){for(var d=0;d<S;d++)w.words[d]=this.words[d];w.length=S}if(S!==0)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var T=0;for(d=this.length-1;d>=0&&(T!==0||d>=b);d--){var J=this.words[d]|0;this.words[d]=T<<26-A|J>>>A,T=J&P}return w&&T!==0&&(w.words[w.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,h,m){return n(this.negative===0),this.iushrn(c,h,m)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,m=(c-h)/26,b=1<<h;if(this.length<=m)return!1;var A=this.words[m];return!!(A&b)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,m=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var b=67108863^67108863>>>h<<h;this.words[this.length-1]&=b}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,m){var b=c.length+m,A;this._expand(b);var S,P=0;for(A=0;A<c.length;A++){S=(this.words[A+m]|0)+P;var w=(c.words[A]|0)*h;S-=w&67108863,P=(S>>26)-(w/67108864|0),this.words[A+m]=S&67108863}for(;A<this.length-m;A++)S=(this.words[A+m]|0)+P,P=S>>26,this.words[A+m]=S&67108863;if(P===0)return this._strip();for(n(P===-1),P=0,A=0;A<this.length;A++)S=-(this.words[A]|0)+P,P=S>>26,this.words[A]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,h){var m=this.length-c.length,b=this.clone(),A=c,S=A.words[A.length-1]|0,P=this._countBits(S);m=26-P,m!==0&&(A=A.ushln(m),b.iushln(m),S=A.words[A.length-1]|0);var w=b.length-A.length,d;if(h!=="mod"){d=new s(null),d.length=w+1,d.words=new Array(d.length);for(var T=0;T<d.length;T++)d.words[T]=0}var J=b.clone()._ishlnsubmul(A,1,w);J.negative===0&&(b=J,d&&(d.words[w]=1));for(var y=w-1;y>=0;y--){var O=(b.words[A.length+y]|0)*67108864+(b.words[A.length+y-1]|0);for(O=Math.min(O/S|0,67108863),b._ishlnsubmul(A,O,y);b.negative!==0;)O--,b.negative=0,b._ishlnsubmul(A,1,y),b.isZero()||(b.negative^=1);d&&(d.words[y]=O)}return d&&d._strip(),b._strip(),h!=="div"&&m!==0&&b.iushrn(m),{div:d||null,mod:b}},s.prototype.divmod=function(c,h,m){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var b,A,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,h),h!=="mod"&&(b=S.div.neg()),h!=="div"&&(A=S.mod.neg(),m&&A.negative!==0&&A.iadd(c)),{div:b,mod:A}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),h),h!=="mod"&&(b=S.div.neg()),{div:b,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),h),h!=="div"&&(A=S.mod.neg(),m&&A.negative!==0&&A.isub(c)),{div:S.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(c):h.mod,b=c.ushrn(1),A=c.andln(1),S=m.cmp(b);return S<0||A===1&&S===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(c){var h=c<0;h&&(c=-c),n(c<=67108863);for(var m=(1<<26)%c,b=0,A=this.length-1;A>=0;A--)b=(m*b+(this.words[A]|0))%c;return h?-b:b},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var h=c<0;h&&(c=-c),n(c<=67108863);for(var m=0,b=this.length-1;b>=0;b--){var A=(this.words[b]|0)+m*67108864;this.words[b]=A/c|0,m=A%c}return this._strip(),h?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,m=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var b=new s(1),A=new s(0),S=new s(0),P=new s(1),w=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++w;for(var d=m.clone(),T=h.clone();!h.isZero();){for(var J=0,y=1;!(h.words[0]&y)&&J<26;++J,y<<=1);if(J>0)for(h.iushrn(J);J-- >0;)(b.isOdd()||A.isOdd())&&(b.iadd(d),A.isub(T)),b.iushrn(1),A.iushrn(1);for(var O=0,U=1;!(m.words[0]&U)&&O<26;++O,U<<=1);if(O>0)for(m.iushrn(O);O-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(T)),S.iushrn(1),P.iushrn(1);h.cmp(m)>=0?(h.isub(m),b.isub(S),A.isub(P)):(m.isub(h),S.isub(b),P.isub(A))}return{a:S,b:P,gcd:m.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,m=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var b=new s(1),A=new s(0),S=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var P=0,w=1;!(h.words[0]&w)&&P<26;++P,w<<=1);if(P>0)for(h.iushrn(P);P-- >0;)b.isOdd()&&b.iadd(S),b.iushrn(1);for(var d=0,T=1;!(m.words[0]&T)&&d<26;++d,T<<=1);if(d>0)for(m.iushrn(d);d-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);h.cmp(m)>=0?(h.isub(m),b.isub(A)):(m.isub(h),A.isub(b))}var J;return h.cmpn(1)===0?J=b:J=A,J.cmpn(0)<0&&J.iadd(c),J},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),m=c.clone();h.negative=0,m.negative=0;for(var b=0;h.isEven()&&m.isEven();b++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=h.cmp(m);if(A<0){var S=h;h=m,m=S}else if(A===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(b)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,m=(c-h)/26,b=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=b,this;for(var A=b,S=m;A!==0&&S<this.length;S++){var P=this.words[S]|0;P+=A,A=P>>>26,P&=67108863,this.words[S]=P}return A!==0&&(this.words[S]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var b=this.words[0]|0;m=b===c?0:b<c?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var b=this.words[m]|0,A=c.words[m]|0;if(b!==A){b<A?h=-1:b>A&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new ee(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var B={k256:null,p224:null,p192:null,p25519:null};function C(_,c){this.name=_,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},C.prototype.ireduce=function(c){var h=c,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var b=m<this.n?-1:h.ucmp(this.p);return b===0?(h.words[0]=0,h.length=1):b>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},C.prototype.split=function(c,h){c.iushrn(this.n,0,h)},C.prototype.imulK=function(c){return c.imul(this.k)};function W(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(W,C),W.prototype.split=function(c,h){for(var m=4194303,b=Math.min(c.length,9),A=0;A<b;A++)h.words[A]=c.words[A];if(h.length=b,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(h.words[h.length++]=S&m,A=10;A<c.length;A++){var P=c.words[A]|0;c.words[A-10]=(P&m)<<4|S>>>22,S=P}S>>>=22,c.words[A-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},W.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,m=0;m<c.length;m++){var b=c.words[m]|0;h+=b*977,c.words[m]=h&67108863,h=b*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,C);function ye(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ye,C);function fe(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(fe,C),fe.prototype.imulK=function(c){for(var h=0,m=0;m<c.length;m++){var b=(c.words[m]|0)*19+h,A=b&67108863;b>>>=26,c.words[m]=A,h=b}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(B[c])return B[c];var h;if(c==="k256")h=new W;else if(c==="p224")h=new V;else if(c==="p192")h=new ye;else if(c==="p25519")h=new fe;else throw new Error("Unknown prime "+c);return B[c]=h,h};function ee(_){if(typeof _=="string"){var c=s._prime(_);this.m=c.p,this.prime=c}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}ee.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},ee.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},ee.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(f(c,c.umod(this.m)._forceRed(this)),c)},ee.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},ee.prototype.add=function(c,h){this._verify2(c,h);var m=c.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ee.prototype.iadd=function(c,h){this._verify2(c,h);var m=c.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},ee.prototype.sub=function(c,h){this._verify2(c,h);var m=c.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ee.prototype.isub=function(c,h){this._verify2(c,h);var m=c.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},ee.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},ee.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},ee.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},ee.prototype.isqr=function(c){return this.imul(c,c.clone())},ee.prototype.sqr=function(c){return this.mul(c,c)},ee.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(c,m)}for(var b=this.m.subn(1),A=0;!b.isZero()&&b.andln(1)===0;)A++,b.iushrn(1);n(!b.isZero());var S=new s(1).toRed(this),P=S.redNeg(),w=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,w).cmp(P)!==0;)d.redIAdd(P);for(var T=this.pow(d,b),J=this.pow(c,b.addn(1).iushrn(1)),y=this.pow(c,b),O=A;y.cmp(S)!==0;){for(var U=y,j=0;U.cmp(S)!==0;j++)U=U.redSqr();n(j<O);var L=this.pow(T,new s(1).iushln(O-j-1));J=J.redMul(L),T=L.redSqr(),y=y.redMul(T),O=j}return J},ee.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},ee.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var m=4,b=new Array(1<<m);b[0]=new s(1).toRed(this),b[1]=c;for(var A=2;A<b.length;A++)b[A]=this.mul(b[A-1],c);var S=b[0],P=0,w=0,d=h.bitLength()%26;for(d===0&&(d=26),A=h.length-1;A>=0;A--){for(var T=h.words[A],J=d-1;J>=0;J--){var y=T>>J&1;if(S!==b[0]&&(S=this.sqr(S)),y===0&&P===0){w=0;continue}P<<=1,P|=y,w++,!(w!==m&&(A!==0||J!==0))&&(S=this.mul(S,b[P]),w=0,P=0)}d=26}return S},ee.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},ee.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new Ke(c)};function Ke(_){ee.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Ke,ee),Ke.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Ke.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},Ke.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var m=c.imul(h),b=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(b).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},Ke.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var m=c.mul(h),b=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(b).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},Ke.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ef)})(kp);const Bp=Ca,Cp="logger/5.7.0";let zc=!1,Gc=!1;const Ds={debug:1,default:2,info:2,warning:3,error:4,off:5};let qc=Ds.default,oa=null;function $p(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const Vc=$p();var $a;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})($a||($a={}));var Ct;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Ct||(Ct={}));const Zc="0123456789abcdef";class z{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();Ds[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(qc>Ds[n])&&console.log.apply(console,r)}debug(...t){this._log(z.levels.DEBUG,t)}info(...t){this._log(z.levels.INFO,t)}warn(...t){this._log(z.levels.WARNING,t)}makeError(t,r,n){if(Gc)return this.makeError("censored error",r,{});r||(r=z.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const l=n[u];try{if(l instanceof Uint8Array){let f="";for(let p=0;p<l.length;p++)f+=Zc[l[p]>>4],f+=Zc[l[p]&15];i.push(u+"=Uint8Array(0x"+f+")")}else i.push(u+"="+JSON.stringify(l))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=t;let o="";switch(r){case Ct.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=t;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ct.CALL_EXCEPTION:case Ct.INSUFFICIENT_FUNDS:case Ct.MISSING_NEW:case Ct.NONCE_EXPIRED:case Ct.REPLACEMENT_UNDERPRICED:case Ct.TRANSACTION_REPLACED:case Ct.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const a=new Error(t);return a.reason=s,a.code=r,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,z.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,i){t||this.throwError(r,n,i)}assertArgument(t,r,n,i){t||this.throwArgumentError(r,n,i)}checkNormalize(t){Vc&&this.throwError("platform missing String.prototype.normalize",z.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Vc})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,z.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,z.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,z.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,z.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",z.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",z.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",z.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return oa||(oa=new z(Cp)),oa}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",z.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zc){if(!t)return;this.globalLogger().throwError("error censorship permanent",z.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Gc=!!t,zc=!!r}static setLogLevel(t){const r=Ds[t.toLowerCase()];if(r==null){z.globalLogger().warn("invalid log level - "+t);return}qc=r}static from(t){return new z(t)}}z.errors=Ct;z.levels=$a;const Up="bytes/5.7.0",cr=new z(Up);function _f(e){return!!e.toHexString}function yi(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return yi(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function jp(e){return vt(e)&&!(e.length%2)||xo(e)}function Hc(e){return typeof e=="number"&&e==e&&e%1===0}function xo(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Hc(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Hc(r)||r<0||r>=256)return!1}return!0}function ct(e,t){if(t||(t={}),typeof e=="number"){cr.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),yi(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),_f(e)&&(e=e.toHexString()),vt(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":cr.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return yi(new Uint8Array(n))}return xo(e)?yi(new Uint8Array(e)):cr.throwArgumentError("invalid arrayify value","value",e)}function Bn(e){const t=e.map(i=>ct(i)),r=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return t.reduce((i,s)=>(n.set(s,i),i+s.length),0),yi(n)}function Fp(e){let t=ct(e);if(t.length===0)return t;let r=0;for(;r<t.length&&t[r]===0;)r++;return r&&(t=t.slice(r)),t}function vt(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const aa="0123456789abcdef";function et(e,t){if(t||(t={}),typeof e=="number"){cr.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=aa[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),_f(e))return e.toHexString();if(vt(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":cr.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(xo(e)){let r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=aa[(i&240)>>4]+aa[i&15]}return r}return cr.throwArgumentError("invalid hexlify value","value",e)}function Lp(e){if(typeof e!="string")e=et(e);else if(!vt(e)||e.length%2)return null;return(e.length-2)/2}function Sf(e,t,r){return typeof e!="string"?e=et(e):(!vt(e)||e.length%2)&&cr.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Dp(e){let t="0x";return e.forEach(r=>{t+=et(r).substring(2)}),t}function If(e,t){for(typeof e!="string"?e=et(e):vt(e)||cr.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&cr.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}const Yp="bignumber/5.7.0";var Ws=Bp.BN;const rr=new z(Yp),ua={},Wc=9007199254740991;let Kc=!1;class le{constructor(t,r){t!==ua&&rr.throwError("cannot call constructor directly; use BigNumber.from",z.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return mt(ae(this).fromTwos(t))}toTwos(t){return mt(ae(this).toTwos(t))}abs(){return this._hex[0]==="-"?le.from(this._hex.substring(1)):this}add(t){return mt(ae(this).add(ae(t)))}sub(t){return mt(ae(this).sub(ae(t)))}div(t){return le.from(t).isZero()&&St("division-by-zero","div"),mt(ae(this).div(ae(t)))}mul(t){return mt(ae(this).mul(ae(t)))}mod(t){const r=ae(t);return r.isNeg()&&St("division-by-zero","mod"),mt(ae(this).umod(r))}pow(t){const r=ae(t);return r.isNeg()&&St("negative-power","pow"),mt(ae(this).pow(r))}and(t){const r=ae(t);return(this.isNegative()||r.isNeg())&&St("unbound-bitwise-result","and"),mt(ae(this).and(r))}or(t){const r=ae(t);return(this.isNegative()||r.isNeg())&&St("unbound-bitwise-result","or"),mt(ae(this).or(r))}xor(t){const r=ae(t);return(this.isNegative()||r.isNeg())&&St("unbound-bitwise-result","xor"),mt(ae(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&St("negative-width","mask"),mt(ae(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&St("negative-width","shl"),mt(ae(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&St("negative-width","shr"),mt(ae(this).shrn(t))}eq(t){return ae(this).eq(ae(t))}lt(t){return ae(this).lt(ae(t))}lte(t){return ae(this).lte(ae(t))}gt(t){return ae(this).gt(ae(t))}gte(t){return ae(this).gte(ae(t))}isNegative(){return this._hex[0]==="-"}isZero(){return ae(this).isZero()}toNumber(){try{return ae(this).toNumber()}catch{St("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return rr.throwError("this platform does not support BigInt",z.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Kc||(Kc=!0,rr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?rr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",z.errors.UNEXPECTED_ARGUMENT,{}):rr.throwError("BigNumber.toString does not accept parameters",z.errors.UNEXPECTED_ARGUMENT,{})),ae(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof le)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new le(ua,wi(t)):t.match(/^-?[0-9]+$/)?new le(ua,wi(new Ws(t))):rr.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&St("underflow","BigNumber.from",t),(t>=Wc||t<=-Wc)&&St("overflow","BigNumber.from",t),le.from(String(t));const r=t;if(typeof r=="bigint")return le.from(r.toString());if(xo(r))return le.from(et(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return le.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(vt(n)||n[0]==="-"&&vt(n.substring(1))))return le.from(n)}return rr.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function wi(e){if(typeof e!="string")return wi(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&rr.throwArgumentError("invalid hex","value",e),e=wi(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function mt(e){return le.from(wi(e))}function ae(e){const t=le.from(e).toHexString();return t[0]==="-"?new Ws("-"+t.substring(3),16):new Ws(t.substring(2),16)}function St(e,t,r){const n={fault:e,operation:t};return r!=null&&(n.value=r),rr.throwError(e,z.errors.NUMERIC_FAULT,n)}function zp(e){return new Ws(e,36).toString(16)}const Gp="properties/5.7.0";var qp=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(p){o(p)}}function u(f){try{l(n.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(e,t||[])).next())})};const Nf=new z(Gp);function Q(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function fi(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||typeof e.prototype!="object")break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Pr(e){return qp(this,void 0,void 0,function*(){const t=Object.keys(e).map(n=>{const i=e[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(t)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function zn(e){const t={};for(const r in e)t[r]=e[r];return t}const Vp={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Rf(e){if(e==null||Vp[typeof e])return!0;if(Array.isArray(e)||typeof e=="object"){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch{continue}if(!Rf(n))return!1}return!0}return Nf.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function Zp(e){if(Rf(e))return e;if(Array.isArray(e))return Object.freeze(e.map(t=>xi(t)));if(typeof e=="object"){const t={};for(const r in e){const n=e[r];n!==void 0&&Q(t,r,xi(n))}return t}return Nf.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function xi(e){return Zp(e)}class Eo{constructor(t){for(const r in t)this[r]=xi(t[r])}}const ps="abi/5.7.0",ce=new z(ps),fn={};let Jc={calldata:!0,memory:!0,storage:!0},Hp={calldata:!0,memory:!0};function Rs(e,t){if(e==="bytes"||e==="string"){if(Jc[t])return!0}else if(e==="address"){if(t==="payable")return!0}else if((e.indexOf("[")>=0||e==="tuple")&&Hp[t])return!0;return(Jc[t]||t==="payable")&&ce.throwArgumentError("invalid modifier","name",t),!1}function Wp(e,t){let r=e;function n(a){ce.throwArgumentError(`unexpected character at position ${a}`,"param",e)}e=e.replace(/\s/g," ");function i(a){let u={type:"",name:"",parent:a,state:{allowType:!0}};return t&&(u.indexed=!1),u}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<e.length;a++){let u=e[a];switch(u){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=In(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(t||n(a),o.indexed=!0,o.name=""),Rs(o.type,o.name)&&(o.name=""),o.type=In(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(t||n(a),o.indexed=!0,o.name=""),Rs(o.type,o.name)&&(o.name=""),o.type=In(o.type);let f=i(o.parent);o.parent.components.push(f),delete o.parent,o=f;break;case" ":o.state.allowType&&o.type!==""&&(o.type=In(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(t||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Rs(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(a)}}return o.parent&&ce.throwArgumentError("unexpected eof","param",e),delete s.state,o.name==="indexed"?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Rs(o.type,o.name)&&(o.name=""),s.type=In(s.type),s}function Ys(e,t){for(let r in t)Q(e,r,t[r])}const he=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Kp=new RegExp(/^(.*)\[([0-9]*)\]$/);class at{constructor(t,r){t!==fn&&ce.throwError("use fromString",z.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ys(this,r);let n=this.type.match(Kp);n?Ys(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:at.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ys(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=he.sighash),he[t]||ce.throwArgumentError("invalid format type","format",t),t===he.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(t)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(t),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==he.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(t)).join(t===he.full?", ":",")+")"):r+=this.type,t!==he.sighash&&(this.indexed===!0&&(r+=" indexed"),t===he.full&&this.name&&(r+=" "+this.name)),r}static from(t,r){return typeof t=="string"?at.fromString(t,r):at.fromObject(t)}static fromObject(t){return at.isParamType(t)?t:new at(fn,{name:t.name||null,type:In(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(at.fromObject):null})}static fromString(t,r){function n(i){return at.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Wp(t,!!r))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function Ei(e,t){return Xp(e).map(r=>at.fromString(r,t))}class ar{constructor(t,r){t!==fn&&ce.throwError("use a static from method",z.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ys(this,r),this._isFragment=!0,Object.freeze(this)}static from(t){return ar.isFragment(t)?t:typeof t=="string"?ar.fromString(t):ar.fromObject(t)}static fromObject(t){if(ar.isFragment(t))return t;switch(t.type){case"function":return Zt.fromObject(t);case"event":return nr.fromObject(t);case"constructor":return Vt.fromObject(t);case"error":return Nr.fromObject(t);case"fallback":case"receive":return null}return ce.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?nr.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?Zt.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?Vt.fromString(t.trim()):t.split(" ")[0]==="error"?Nr.fromString(t.substring(5).trim()):ce.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class nr extends ar{format(t){if(t||(t=he.sighash),he[t]||ce.throwArgumentError("invalid format type","format",t),t===he.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==he.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===he.full?", ":",")+") ",t!==he.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(t){return typeof t=="string"?nr.fromString(t):nr.fromObject(t)}static fromObject(t){if(nr.isEventFragment(t))return t;t.type!=="event"&&ce.throwArgumentError("invalid event object","value",t);const r={name:Ai(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(at.fromObject):[],type:"event"};return new nr(fn,r)}static fromString(t){let r=t.match(Ti);r||ce.throwArgumentError("invalid event string","value",t);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ce.warn("unknown modifier: "+i)}}),nr.fromObject({name:r[1].trim(),anonymous:n,inputs:Ei(r[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function kf(e,t){t.gas=null;let r=e.split("@");return r.length!==1?(r.length>2&&ce.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||ce.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=le.from(r[1]),r[0]):e}function Pf(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(r=>{switch(r.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Mf(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return e.stateMutability!=null?(t.stateMutability=e.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",e.constant!=null&&!!e.constant!==t.constant&&ce.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable=t.stateMutability==="payable",e.payable!=null&&!!e.payable!==t.payable&&ce.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):e.payable!=null?(t.payable=!!e.payable,e.constant==null&&!t.payable&&e.type!=="constructor"&&ce.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&ce.throwArgumentError("cannot have constant payable function","value",e)):e.constant!=null?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):e.type!=="constructor"&&ce.throwArgumentError("unable to determine stateMutability","value",e),t}class Vt extends ar{format(t){if(t||(t=he.sighash),he[t]||ce.throwArgumentError("invalid format type","format",t),t===he.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});t===he.sighash&&ce.throwError("cannot format a constructor for sighash",z.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(t)).join(t===he.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(t){return typeof t=="string"?Vt.fromString(t):Vt.fromObject(t)}static fromObject(t){if(Vt.isConstructorFragment(t))return t;t.type!=="constructor"&&ce.throwArgumentError("invalid constructor object","value",t);let r=Mf(t);r.constant&&ce.throwArgumentError("constructor cannot be constant","value",t);const n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(at.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:t.gas?le.from(t.gas):null};return new Vt(fn,n)}static fromString(t){let r={type:"constructor"};t=kf(t,r);let n=t.match(Ti);return(!n||n[1].trim()!=="constructor")&&ce.throwArgumentError("invalid constructor string","value",t),r.inputs=Ei(n[2].trim(),!1),Pf(n[3].trim(),r),Vt.fromObject(r)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class Zt extends Vt{format(t){if(t||(t=he.sighash),he[t]||ce.throwArgumentError("invalid format type","format",t),t===he.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==he.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===he.full?", ":",")+") ",t!==he.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(t)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(t){return typeof t=="string"?Zt.fromString(t):Zt.fromObject(t)}static fromObject(t){if(Zt.isFunctionFragment(t))return t;t.type!=="function"&&ce.throwArgumentError("invalid function object","value",t);let r=Mf(t);const n={type:t.type,name:Ai(t.name),constant:r.constant,inputs:t.inputs?t.inputs.map(at.fromObject):[],outputs:t.outputs?t.outputs.map(at.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:t.gas?le.from(t.gas):null};return new Zt(fn,n)}static fromString(t){let r={type:"function"};t=kf(t,r);let n=t.split(" returns ");n.length>2&&ce.throwArgumentError("invalid function string","value",t);let i=n[0].match(Ti);if(i||ce.throwArgumentError("invalid function signature","value",t),r.name=i[1].trim(),r.name&&Ai(r.name),r.inputs=Ei(i[2],!1),Pf(i[3].trim(),r),n.length>1){let s=n[1].match(Ti);(s[1].trim()!=""||s[3].trim()!="")&&ce.throwArgumentError("unexpected tokens","value",t),r.outputs=Ei(s[2],!1)}else r.outputs=[];return Zt.fromObject(r)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function Xc(e){const t=e.format();return(t==="Error(string)"||t==="Panic(uint256)")&&ce.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class Nr extends ar{format(t){if(t||(t=he.sighash),he[t]||ce.throwArgumentError("invalid format type","format",t),t===he.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==he.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===he.full?", ":",")+") ",r.trim()}static from(t){return typeof t=="string"?Nr.fromString(t):Nr.fromObject(t)}static fromObject(t){if(Nr.isErrorFragment(t))return t;t.type!=="error"&&ce.throwArgumentError("invalid error object","value",t);const r={type:t.type,name:Ai(t.name),inputs:t.inputs?t.inputs.map(at.fromObject):[]};return Xc(new Nr(fn,r))}static fromString(t){let r={type:"error"},n=t.match(Ti);return n||ce.throwArgumentError("invalid error signature","value",t),r.name=n[1].trim(),r.name&&Ai(r.name),r.inputs=Ei(n[2],!1),Xc(Nr.fromObject(r))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function In(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Jp=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ai(e){return(!e||!e.match(Jp))&&ce.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Ti=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Xp(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let s=e[i];s===","&&n===0?(t.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&ce.throwArgumentError("unbalanced parenthesis","value",e)))}return r&&t.push(r),t}const Lu=new z(ps);function Qp(e){const t=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){t.push({path:o,error:a})}}};return r([],e),t}class br{constructor(t,r,n,i){this.name=t,this.type=r,this.localName=n,this.dynamic=i}_throwError(t,r){Lu.throwArgumentError(t,this.localName,r)}}class Ua{constructor(t){Q(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Dp(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Bn(t._data))}writeBytes(t){let r=ct(t);const n=r.length%this.wordSize;return n&&(r=Bn([r,this._padding.slice(n)])),this._writeData(r)}_getValue(t){let r=ct(le.from(t));return r.length>this.wordSize&&Lu.throwError("value out-of-bounds",z.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Bn([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[t]=this._getValue(r)}}}class Ks{constructor(t,r,n,i){Q(this,"_data",ct(t)),Q(this,"wordSize",r||32),Q(this,"_coerceFunc",n),Q(this,"allowLoose",i),this._offset=0}get data(){return et(this._data)}get consumed(){return this._offset}static coerce(t,r){let n=t.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(t,r){return this._coerceFunc?this._coerceFunc(t,r):Ks.coerce(t,r)}_peekBytes(t,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Lu.throwError("data out-of-bounds",z.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(t){return new Ks(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,r){let n=this._peekBytes(0,t,!!r);return this._offset+=n.length,n.slice(0,t)}readValue(){return le.from(this.readBytes(this.wordSize))}}var ja={},ey={get exports(){return ja},set exports(e){ja=e}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=ef:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],g=[1,256,65536,16777216],E=[6,1536,393216,100663296],v=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],I=[224,256,384,512],R=[128,256],k=["hex","buffer","arrayBuffer","array","digest"],M={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});for(var $=function(y,O,U){return function(j){return new d(y,O,y).update(j)[U]()}},B=function(y,O,U){return function(j,L){return new d(y,O,L).update(j)[U]()}},C=function(y,O,U){return function(j,L,X,G){return c["cshake"+y].update(j,L,X,G)[U]()}},W=function(y,O,U){return function(j,L,X,G){return c["kmac"+y].update(j,L,X,G)[U]()}},V=function(y,O,U,j){for(var L=0;L<k.length;++L){var X=k[L];y[X]=O(U,j,X)}return y},ye=function(y,O){var U=$(y,O,"hex");return U.create=function(){return new d(y,O,y)},U.update=function(j){return U.create().update(j)},V(U,$,y,O)},fe=function(y,O){var U=B(y,O,"hex");return U.create=function(j){return new d(y,O,j)},U.update=function(j,L){return U.create(L).update(j)},V(U,B,y,O)},ee=function(y,O){var U=M[y],j=C(y,O,"hex");return j.create=function(L,X,G){return!X&&!G?c["shake"+y].create(L):new d(y,O,L).bytepad([X,G],U)},j.update=function(L,X,G,Y){return j.create(X,G,Y).update(L)},V(j,C,y,O)},Ke=function(y,O){var U=M[y],j=W(y,O,"hex");return j.create=function(L,X,G){return new T(y,O,X).bytepad(["KMAC",G],U).bytepad([L],U)},j.update=function(L,X,G,Y){return j.create(L,G,Y).update(X)},V(j,W,y,O)},_=[{name:"keccak",padding:g,bits:I,createMethod:ye},{name:"sha3",padding:E,bits:I,createMethod:ye},{name:"shake",padding:f,bits:R,createMethod:fe},{name:"cshake",padding:p,bits:R,createMethod:ee},{name:"kmac",padding:p,bits:R,createMethod:Ke}],c={},h=[],m=0;m<_.length;++m)for(var b=_[m],A=b.bits,S=0;S<A.length;++S){var P=b.name+"_"+A[S];if(h.push(P),c[P]=b.createMethod(A[S],b.padding),b.name!=="sha3"){var w=b.name+A[S];h.push(w),c[w]=c[P]}}function d(y,O,U){this.blocks=[],this.s=[],this.padding=O,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(y<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var j=0;j<50;++j)this.s[j]=0}d.prototype.update=function(y){if(this.finalized)throw new Error(r);var O,U=typeof y;if(U!=="string"){if(U==="object"){if(y===null)throw new Error(t);if(u&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!u||!ArrayBuffer.isView(y)))throw new Error(t)}else throw new Error(t);O=!0}for(var j=this.blocks,L=this.byteCount,X=y.length,G=this.blockCount,Y=0,me=this.s,q,ne;Y<X;){if(this.reset)for(this.reset=!1,j[0]=this.block,q=1;q<G+1;++q)j[q]=0;if(O)for(q=this.start;Y<X&&q<L;++Y)j[q>>2]|=y[Y]<<v[q++&3];else for(q=this.start;Y<X&&q<L;++Y)ne=y.charCodeAt(Y),ne<128?j[q>>2]|=ne<<v[q++&3]:ne<2048?(j[q>>2]|=(192|ne>>6)<<v[q++&3],j[q>>2]|=(128|ne&63)<<v[q++&3]):ne<55296||ne>=57344?(j[q>>2]|=(224|ne>>12)<<v[q++&3],j[q>>2]|=(128|ne>>6&63)<<v[q++&3],j[q>>2]|=(128|ne&63)<<v[q++&3]):(ne=65536+((ne&1023)<<10|y.charCodeAt(++Y)&1023),j[q>>2]|=(240|ne>>18)<<v[q++&3],j[q>>2]|=(128|ne>>12&63)<<v[q++&3],j[q>>2]|=(128|ne>>6&63)<<v[q++&3],j[q>>2]|=(128|ne&63)<<v[q++&3]);if(this.lastByteIndex=q,q>=L){for(this.start=q-L,this.block=j[G],q=0;q<G;++q)me[q]^=j[q];J(me),this.reset=!0}else this.start=q}return this},d.prototype.encode=function(y,O){var U=y&255,j=1,L=[U];for(y=y>>8,U=y&255;U>0;)L.unshift(U),y=y>>8,U=y&255,++j;return O?L.push(j):L.unshift(j),this.update(L),L.length},d.prototype.encodeString=function(y){var O,U=typeof y;if(U!=="string"){if(U==="object"){if(y===null)throw new Error(t);if(u&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!u||!ArrayBuffer.isView(y)))throw new Error(t)}else throw new Error(t);O=!0}var j=0,L=y.length;if(O)j=L;else for(var X=0;X<y.length;++X){var G=y.charCodeAt(X);G<128?j+=1:G<2048?j+=2:G<55296||G>=57344?j+=3:(G=65536+((G&1023)<<10|y.charCodeAt(++X)&1023),j+=4)}return j+=this.encode(j*8),this.update(y),j},d.prototype.bytepad=function(y,O){for(var U=this.encode(O),j=0;j<y.length;++j)U+=this.encodeString(y[j]);var L=O-U%O,X=[];return X.length=L,this.update(X),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,O=this.lastByteIndex,U=this.blockCount,j=this.s;if(y[O>>2]|=this.padding[O&3],this.lastByteIndex===this.byteCount)for(y[0]=y[U],O=1;O<U+1;++O)y[O]=0;for(y[U-1]|=2147483648,O=0;O<U;++O)j[O]^=y[O];J(j)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var y=this.blockCount,O=this.s,U=this.outputBlocks,j=this.extraBytes,L=0,X=0,G="",Y;X<U;){for(L=0;L<y&&X<U;++L,++X)Y=O[L],G+=l[Y>>4&15]+l[Y&15]+l[Y>>12&15]+l[Y>>8&15]+l[Y>>20&15]+l[Y>>16&15]+l[Y>>28&15]+l[Y>>24&15];X%y===0&&(J(O),L=0)}return j&&(Y=O[L],G+=l[Y>>4&15]+l[Y&15],j>1&&(G+=l[Y>>12&15]+l[Y>>8&15]),j>2&&(G+=l[Y>>20&15]+l[Y>>16&15])),G},d.prototype.arrayBuffer=function(){this.finalize();var y=this.blockCount,O=this.s,U=this.outputBlocks,j=this.extraBytes,L=0,X=0,G=this.outputBits>>3,Y;j?Y=new ArrayBuffer(U+1<<2):Y=new ArrayBuffer(G);for(var me=new Uint32Array(Y);X<U;){for(L=0;L<y&&X<U;++L,++X)me[X]=O[L];X%y===0&&J(O)}return j&&(me[L]=O[L],Y=Y.slice(0,G)),Y},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var y=this.blockCount,O=this.s,U=this.outputBlocks,j=this.extraBytes,L=0,X=0,G=[],Y,me;X<U;){for(L=0;L<y&&X<U;++L,++X)Y=X<<2,me=O[L],G[Y]=me&255,G[Y+1]=me>>8&255,G[Y+2]=me>>16&255,G[Y+3]=me>>24&255;X%y===0&&J(O)}return j&&(Y=X<<2,me=O[L],G[Y]=me&255,j>1&&(G[Y+1]=me>>8&255),j>2&&(G[Y+2]=me>>16&255)),G};function T(y,O,U){d.call(this,y,O,U)}T.prototype=new d,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var J=function(y){var O,U,j,L,X,G,Y,me,q,ne,Yt,ge,be,zr,ve,we,Gr,xe,Ee,qr,Ae,Te,Vr,_e,Se,Zr,Ie,Ne,Hr,Re,ke,Wr,Pe,Me,Kr,Oe,Be,Jr,Ce,$e,Xr,Ue,je,Qr,Fe,Le,en,De,Ye,tn,ze,Ge,rn,qe,Ve,nn,Ze,He,wr,xr,Er,Ar,Tr;for(j=0;j<48;j+=2)L=y[0]^y[10]^y[20]^y[30]^y[40],X=y[1]^y[11]^y[21]^y[31]^y[41],G=y[2]^y[12]^y[22]^y[32]^y[42],Y=y[3]^y[13]^y[23]^y[33]^y[43],me=y[4]^y[14]^y[24]^y[34]^y[44],q=y[5]^y[15]^y[25]^y[35]^y[45],ne=y[6]^y[16]^y[26]^y[36]^y[46],Yt=y[7]^y[17]^y[27]^y[37]^y[47],ge=y[8]^y[18]^y[28]^y[38]^y[48],be=y[9]^y[19]^y[29]^y[39]^y[49],O=ge^(G<<1|Y>>>31),U=be^(Y<<1|G>>>31),y[0]^=O,y[1]^=U,y[10]^=O,y[11]^=U,y[20]^=O,y[21]^=U,y[30]^=O,y[31]^=U,y[40]^=O,y[41]^=U,O=L^(me<<1|q>>>31),U=X^(q<<1|me>>>31),y[2]^=O,y[3]^=U,y[12]^=O,y[13]^=U,y[22]^=O,y[23]^=U,y[32]^=O,y[33]^=U,y[42]^=O,y[43]^=U,O=G^(ne<<1|Yt>>>31),U=Y^(Yt<<1|ne>>>31),y[4]^=O,y[5]^=U,y[14]^=O,y[15]^=U,y[24]^=O,y[25]^=U,y[34]^=O,y[35]^=U,y[44]^=O,y[45]^=U,O=me^(ge<<1|be>>>31),U=q^(be<<1|ge>>>31),y[6]^=O,y[7]^=U,y[16]^=O,y[17]^=U,y[26]^=O,y[27]^=U,y[36]^=O,y[37]^=U,y[46]^=O,y[47]^=U,O=ne^(L<<1|X>>>31),U=Yt^(X<<1|L>>>31),y[8]^=O,y[9]^=U,y[18]^=O,y[19]^=U,y[28]^=O,y[29]^=U,y[38]^=O,y[39]^=U,y[48]^=O,y[49]^=U,zr=y[0],ve=y[1],Le=y[11]<<4|y[10]>>>28,en=y[10]<<4|y[11]>>>28,Ne=y[20]<<3|y[21]>>>29,Hr=y[21]<<3|y[20]>>>29,xr=y[31]<<9|y[30]>>>23,Er=y[30]<<9|y[31]>>>23,Ue=y[40]<<18|y[41]>>>14,je=y[41]<<18|y[40]>>>14,Me=y[2]<<1|y[3]>>>31,Kr=y[3]<<1|y[2]>>>31,we=y[13]<<12|y[12]>>>20,Gr=y[12]<<12|y[13]>>>20,De=y[22]<<10|y[23]>>>22,Ye=y[23]<<10|y[22]>>>22,Re=y[33]<<13|y[32]>>>19,ke=y[32]<<13|y[33]>>>19,Ar=y[42]<<2|y[43]>>>30,Tr=y[43]<<2|y[42]>>>30,qe=y[5]<<30|y[4]>>>2,Ve=y[4]<<30|y[5]>>>2,Oe=y[14]<<6|y[15]>>>26,Be=y[15]<<6|y[14]>>>26,xe=y[25]<<11|y[24]>>>21,Ee=y[24]<<11|y[25]>>>21,tn=y[34]<<15|y[35]>>>17,ze=y[35]<<15|y[34]>>>17,Wr=y[45]<<29|y[44]>>>3,Pe=y[44]<<29|y[45]>>>3,_e=y[6]<<28|y[7]>>>4,Se=y[7]<<28|y[6]>>>4,nn=y[17]<<23|y[16]>>>9,Ze=y[16]<<23|y[17]>>>9,Jr=y[26]<<25|y[27]>>>7,Ce=y[27]<<25|y[26]>>>7,qr=y[36]<<21|y[37]>>>11,Ae=y[37]<<21|y[36]>>>11,Ge=y[47]<<24|y[46]>>>8,rn=y[46]<<24|y[47]>>>8,Qr=y[8]<<27|y[9]>>>5,Fe=y[9]<<27|y[8]>>>5,Zr=y[18]<<20|y[19]>>>12,Ie=y[19]<<20|y[18]>>>12,He=y[29]<<7|y[28]>>>25,wr=y[28]<<7|y[29]>>>25,$e=y[38]<<8|y[39]>>>24,Xr=y[39]<<8|y[38]>>>24,Te=y[48]<<14|y[49]>>>18,Vr=y[49]<<14|y[48]>>>18,y[0]=zr^~we&xe,y[1]=ve^~Gr&Ee,y[10]=_e^~Zr&Ne,y[11]=Se^~Ie&Hr,y[20]=Me^~Oe&Jr,y[21]=Kr^~Be&Ce,y[30]=Qr^~Le&De,y[31]=Fe^~en&Ye,y[40]=qe^~nn&He,y[41]=Ve^~Ze&wr,y[2]=we^~xe&qr,y[3]=Gr^~Ee&Ae,y[12]=Zr^~Ne&Re,y[13]=Ie^~Hr&ke,y[22]=Oe^~Jr&$e,y[23]=Be^~Ce&Xr,y[32]=Le^~De&tn,y[33]=en^~Ye&ze,y[42]=nn^~He&xr,y[43]=Ze^~wr&Er,y[4]=xe^~qr&Te,y[5]=Ee^~Ae&Vr,y[14]=Ne^~Re&Wr,y[15]=Hr^~ke&Pe,y[24]=Jr^~$e&Ue,y[25]=Ce^~Xr&je,y[34]=De^~tn&Ge,y[35]=Ye^~ze&rn,y[44]=He^~xr&Ar,y[45]=wr^~Er&Tr,y[6]=qr^~Te&zr,y[7]=Ae^~Vr&ve,y[16]=Re^~Wr&_e,y[17]=ke^~Pe&Se,y[26]=$e^~Ue&Me,y[27]=Xr^~je&Kr,y[36]=tn^~Ge&Qr,y[37]=ze^~rn&Fe,y[46]=xr^~Ar&qe,y[47]=Er^~Tr&Ve,y[8]=Te^~zr&we,y[9]=Vr^~ve&Gr,y[18]=Wr^~_e&Zr,y[19]=Pe^~Se&Ie,y[28]=Ue^~Me&Oe,y[29]=je^~Kr&Be,y[38]=Ge^~Qr&Le,y[39]=rn^~Fe&en,y[48]=Ar^~qe&nn,y[49]=Tr^~Ve&Ze,y[0]^=x[j],y[1]^=x[j+1]};if(a)e.exports=c;else for(m=0;m<h.length;++m)i[h[m]]=c[h[m]]})()})(ey);const ty=ja;function _i(e){return"0x"+ty.keccak_256(ct(e))}const ry="rlp/5.7.0",ny=new z(ry);function Qc(e){const t=[];for(;e;)t.unshift(e&255),e>>=8;return t}function Of(e){if(Array.isArray(e)){let n=[];if(e.forEach(function(s){n=n.concat(Of(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Qc(n.length);return i.unshift(247+i.length),i.concat(n)}jp(e)||ny.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(ct(e));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Qc(t.length);return r.unshift(183+r.length),r.concat(t)}function iy(e){return et(Of(e))}const sy="address/5.7.0",kn=new z(sy);function el(e){vt(e,20)||kn.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=ct(_i(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const oy=9007199254740991;function ay(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const Du={};for(let e=0;e<10;e++)Du[String(e)]=String(e);for(let e=0;e<26;e++)Du[String.fromCharCode(65+e)]=String(10+e);const tl=Math.floor(ay(oy));function uy(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>Du[n]).join("");for(;t.length>=tl;){let n=t.substring(0,tl);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function Wt(e){let t=null;if(typeof e!="string"&&kn.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=el(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&kn.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==uy(e)&&kn.throwArgumentError("bad icap checksum","address",e),t=zp(e.substring(4));t.length<40;)t="0"+t;t=el("0x"+t)}else kn.throwArgumentError("invalid address","address",e);return t}function cy(e){try{return Wt(e),!0}catch{}return!1}function ly(e){let t=null;try{t=Wt(e.from)}catch{kn.throwArgumentError("missing from address","transaction",e)}const r=Fp(ct(le.from(e.nonce).toHexString()));return Wt(Sf(_i(iy([t,r])),12))}class fy extends br{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,r){try{r=Wt(r)}catch(n){this._throwError(n.message,r)}return t.writeValue(r)}decode(t){return Wt(If(t.readValue().toHexString(),20))}}class dy extends br{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}const Pn=new z(ps);function Bf(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=t.map(l=>{const f=l.localName;return f||Pn.throwError("cannot encode object for signature with missing names",z.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),u[f]&&Pn.throwError("cannot encode object for signature with duplicate names",z.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),u[f]=!0,r[f]})}else Pn.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Pn.throwArgumentError("types/value length mismatch","tuple",r);let i=new Ua(e.wordSize),s=new Ua(e.wordSize),o=[];t.forEach((u,l)=>{let f=n[l];if(u.dynamic){let p=s.length;u.encode(s,f);let g=i.writeUpdatableValue();o.push(E=>{g(E+p)})}else u.encode(i,f)}),o.forEach(u=>{u(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Cf(e,t){let r=[],n=e.subReader(0);t.forEach(s=>{let o=null;if(s.dynamic){let a=e.readValue(),u=n.subReader(a.toNumber());try{o=s.decode(u)}catch(l){if(l.code===z.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(e)}catch(a){if(a.code===z.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=t.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});t.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const u=r[o];u instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw u}}):r[a]=u});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class hy extends br{constructor(t,r,n){const i=t.type+"["+(r>=0?r:"")+"]",s=r===-1||t.dynamic;super("array",i,n,s),this.coder=t,this.length=r}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(t);return r}encode(t,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,t.writeValue(r.length)),Pn.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Bf(t,i,r)}decode(t){let r=this.length;r===-1&&(r=t.readValue().toNumber(),r*32>t._data.length&&Pn.throwError("insufficient data length",z.errors.BUFFER_OVERRUN,{length:t._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new dy(this.coder));return t.coerce(this.name,Cf(t,n))}}class py extends br{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,r){return t.writeValue(r?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class $f extends br{constructor(t,r){super(t,t,r,!0)}defaultValue(){return"0x"}encode(t,r){r=ct(r);let n=t.writeValue(r.length);return n+=t.writeBytes(r),n}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class yy extends $f{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,et(super.decode(t)))}}class my extends br{constructor(t,r){let n="bytes"+String(t);super(n,n,r,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let n=ct(r);return n.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(n)}decode(t){return t.coerce(this.name,et(t.readBytes(this.size)))}}class gy extends br{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,r){return r!=null&&this._throwError("not null",r),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const by=le.from(-1),vy=le.from(0),wy=le.from(1),xy=le.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ey extends br{constructor(t,r,n){const i=(r?"int":"uint")+t*8;super(i,i,n,!1),this.size=t,this.signed=r}defaultValue(){return 0}encode(t,r){let n=le.from(r),i=xy.mask(t.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(wy).mul(by)))&&this._throwError("value out-of-bounds",r)}else(n.lt(vy)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(n)}decode(t){let r=t.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),t.coerce(this.name,r)}}const Ay="strings/5.7.0",Uf=new z(Ay);var Js;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Js||(Js={}));var xt;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(xt||(xt={}));function Ty(e,t,r,n,i){return Uf.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function jf(e,t,r,n,i){if(e===xt.BAD_PREFIX||e===xt.UNEXPECTED_CONTINUE){let s=0;for(let o=t+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return e===xt.OVERRUN?r.length-t-1:0}function _y(e,t,r,n,i){return e===xt.OVERLONG?(n.push(i),0):(n.push(65533),jf(e,t,r))}const Sy=Object.freeze({error:Ty,ignore:jf,replace:_y});function Iy(e,t){t==null&&(t=Sy.error),e=ct(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=t(xt.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(xt.BAD_PREFIX,n-1,e,r);continue}if(n-1+s>=e.length){n+=t(xt.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let l=e[n];if((l&192)!=128){n+=t(xt.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=t(xt.OUT_OF_RANGE,n-1-s,e,r,a);continue}if(a>=55296&&a<=57343){n+=t(xt.UTF16_SURROGATE,n-1-s,e,r,a);continue}if(a<=o){n+=t(xt.OVERLONG,n-1-s,e,r,a);continue}r.push(a)}}return r}function Ff(e,t=Js.current){t!=Js.current&&(Uf.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=e.charCodeAt(n);if(n>=e.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ct(r)}function Ny(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Ry(e,t){return Ny(Iy(e,t))}class ky extends $f{constructor(t){super("string",t)}defaultValue(){return""}encode(t,r){return super.encode(t,Ff(r))}decode(t){return Ry(super.decode(t))}}class ks extends br{constructor(t,r){let n=!1;const i=[];t.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=t}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),t[s]==null&&(t[s]=t[i]))}),Object.freeze(t)}encode(t,r){return Bf(t,this.coders,r)}decode(t){return t.coerce(this.name,Cf(t,this.coders))}}const Ps=new z(ps),Py=new RegExp(/^bytes([0-9]*)$/),My=new RegExp(/^(u?int)([0-9]*)$/);class Oy{constructor(t){Q(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new fy(t.name);case"bool":return new py(t.name);case"string":return new ky(t.name);case"bytes":return new yy(t.name);case"array":return new hy(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new ks((t.components||[]).map(n=>this._getCoder(n)),t.name);case"":return new gy(t.name)}let r=t.type.match(My);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ps.throwArgumentError("invalid "+r[1]+" bit length","param",t),new Ey(n/8,r[1]==="int",t.name)}if(r=t.type.match(Py),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ps.throwArgumentError("invalid bytes length","param",t),new my(n,t.name)}return Ps.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,r){return new Ks(t,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Ua(this._getWordSize())}getDefaultValue(t){const r=t.map(i=>this._getCoder(at.from(i)));return new ks(r,"_").defaultValue()}encode(t,r){t.length!==r.length&&Ps.throwError("types/values length mismatch",z.errors.INVALID_ARGUMENT,{count:{types:t.length,values:r.length},value:{types:t,values:r}});const n=t.map(o=>this._getCoder(at.from(o))),i=new ks(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(t,r,n){const i=t.map(o=>this._getCoder(at.from(o)));return new ks(i,"_").decode(this._getReader(ct(r),n))}}const By=new Oy;function Ms(e){return _i(Ff(e))}const Je=new z(ps);class Cy extends Eo{}class $y extends Eo{}class Uy extends Eo{}class Fa extends Eo{static isIndexed(t){return!!(t&&t._isIndexed)}}const jy={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function rl(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class La{constructor(t){let r=[];typeof t=="string"?r=JSON.parse(t):r=t,Q(this,"fragments",r.map(n=>ar.from(n)).filter(n=>n!=null)),Q(this,"_abiCoder",fi(new.target,"getAbiCoder")()),Q(this,"functions",{}),Q(this,"errors",{}),Q(this,"events",{}),Q(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Je.warn("duplicate definition - constructor");return}Q(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Je.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||Q(this,"deploy",Vt.from({payable:!1,type:"constructor"})),Q(this,"_isInterface",!0)}format(t){t||(t=he.full),t===he.sighash&&Je.throwArgumentError("interface does not support formatting sighash","format",t);const r=this.fragments.map(n=>n.format(t));return t===he.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return By}static getAddress(t){return Wt(t)}static getSighash(t){return Sf(Ms(t.format()),0,4)}static getEventTopic(t){return Ms(t.format())}getFunction(t){if(vt(t)){for(const n in this.functions)if(t===this.getSighash(n))return this.functions[n];Je.throwArgumentError("no matching function","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Je.throwArgumentError("no matching function","name",n):i.length>1&&Je.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Zt.fromString(t).format()];return r||Je.throwArgumentError("no matching function","signature",t),r}getEvent(t){if(vt(t)){const n=t.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Je.throwArgumentError("no matching event","topichash",n)}if(t.indexOf("(")===-1){const n=t.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Je.throwArgumentError("no matching event","name",n):i.length>1&&Je.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[nr.fromString(t).format()];return r||Je.throwArgumentError("no matching event","signature",t),r}getError(t){if(vt(t)){const n=fi(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(t===n(s))return this.errors[i]}Je.throwArgumentError("no matching error","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Je.throwArgumentError("no matching error","name",n):i.length>1&&Je.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Zt.fromString(t).format()];return r||Je.throwArgumentError("no matching error","signature",t),r}getSighash(t){if(typeof t=="string")try{t=this.getFunction(t)}catch(r){try{t=this.getError(t)}catch{throw r}}return fi(this.constructor,"getSighash")(t)}getEventTopic(t){return typeof t=="string"&&(t=this.getEvent(t)),fi(this.constructor,"getEventTopic")(t)}_decodeParams(t,r){return this._abiCoder.decode(t,r)}_encodeParams(t,r){return this._abiCoder.encode(t,r)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,r){typeof t=="string"&&(t=this.getError(t));const n=ct(r);return et(n.slice(0,4))!==this.getSighash(t)&&Je.throwArgumentError(`data signature does not match error ${t.name}.`,"data",et(n)),this._decodeParams(t.inputs,n.slice(4))}encodeErrorResult(t,r){return typeof t=="string"&&(t=this.getError(t)),et(Bn([this.getSighash(t),this._encodeParams(t.inputs,r||[])]))}decodeFunctionData(t,r){typeof t=="string"&&(t=this.getFunction(t));const n=ct(r);return et(n.slice(0,4))!==this.getSighash(t)&&Je.throwArgumentError(`data signature does not match function ${t.name}.`,"data",et(n)),this._decodeParams(t.inputs,n.slice(4))}encodeFunctionData(t,r){return typeof t=="string"&&(t=this.getFunction(t)),et(Bn([this.getSighash(t),this._encodeParams(t.inputs,r||[])]))}decodeFunctionResult(t,r){typeof t=="string"&&(t=this.getFunction(t));let n=ct(r),i=null,s="",o=null,a=null,u=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,n)}catch{}break;case 4:{const l=et(n.slice(0,4)),f=jy[l];if(f)o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,u=f.signature,f.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(l);o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,u=p.format()}catch{}break}}return Je.throwError("call revert exception"+s,z.errors.CALL_EXCEPTION,{method:t.format(),data:et(r),errorArgs:o,errorName:a,errorSignature:u,reason:i})}encodeFunctionResult(t,r){return typeof t=="string"&&(t=this.getFunction(t)),et(this._abiCoder.encode(t.outputs,r||[]))}encodeFilterTopics(t,r){typeof t=="string"&&(t=this.getEvent(t)),r.length>t.inputs.length&&Je.throwError("too many arguments for "+t.format(),z.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];t.anonymous||n.push(this.getEventTopic(t));const i=(s,o)=>s.type==="string"?Ms(o):s.type==="bytes"?_i(et(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=le.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),If(et(o),32));for(r.forEach((s,o)=>{let a=t.inputs[o];if(!a.indexed){s!=null&&Je.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Je.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(u=>i(a,u))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,r){typeof t=="string"&&(t=this.getEvent(t));const n=[],i=[],s=[];return t.anonymous||n.push(this.getEventTopic(t)),r.length!==t.inputs.length&&Je.throwArgumentError("event arguments/values mismatch","values",r),t.inputs.forEach((o,a)=>{const u=r[a];if(o.indexed)if(o.type==="string")n.push(Ms(u));else if(o.type==="bytes")n.push(_i(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[u]))}else i.push(o),s.push(u)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(t,r,n){if(typeof t=="string"&&(t=this.getEvent(t)),n!=null&&!t.anonymous){let g=this.getEventTopic(t);(!vt(n[0],32)||n[0].toLowerCase()!==g)&&Je.throwError("fragment/topic mismatch",z.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:g,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];t.inputs.forEach((g,E)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(at.fromObject({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Bn(n)):null,u=this._abiCoder.decode(s,r,!0),l=[],f=0,p=0;t.inputs.forEach((g,E)=>{if(g.indexed)if(a==null)l[E]=new Fa({_isIndexed:!0,hash:null});else if(o[E])l[E]=new Fa({_isIndexed:!0,hash:a[p++]});else try{l[E]=a[p++]}catch(v){l[E]=v}else try{l[E]=u[f++]}catch(v){l[E]=v}if(g.name&&l[g.name]==null){const v=l[E];v instanceof Error?Object.defineProperty(l,g.name,{enumerable:!0,get:()=>{throw rl(`property ${JSON.stringify(g.name)}`,v)}}):l[g.name]=v}});for(let g=0;g<l.length;g++){const E=l[g];E instanceof Error&&Object.defineProperty(l,g,{enumerable:!0,get:()=>{throw rl(`index ${g}`,E)}})}return Object.freeze(l)}parseTransaction(t){let r=this.getFunction(t.data.substring(0,10).toLowerCase());return r?new $y({args:this._abiCoder.decode(r.inputs,"0x"+t.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:le.from(t.value||"0")}):null}parseLog(t){let r=this.getEvent(t.topics[0]);return!r||r.anonymous?null:new Cy({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,t.data,t.topics)})}parseError(t){const r=et(t);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Uy({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(t){return!!(t&&t._isInterface)}}const Fy="abstract-provider/5.7.0";var Ly=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(p){o(p)}}function u(f){try{l(n.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(e,t||[])).next())})};const Dy=new z(Fy);class Yu{constructor(){Dy.checkAbstract(new.target,Yu),Q(this,"_isProvider",!0)}getFeeData(){return Ly(this,void 0,void 0,function*(){const{block:t,gasPrice:r}=yield Pr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return t&&t.baseFeePerGas&&(n=t.baseFeePerGas,s=le.from("1500000000"),i=t.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(t,r){return this.on(t,r)}removeListener(t,r){return this.off(t,r)}static isProvider(t){return!!(t&&t._isProvider)}}const Yy="abstract-signer/5.7.0";var Ot=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(p){o(p)}}function u(f){try{l(n.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(e,t||[])).next())})};const Nt=new z(Yy),zy=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Gy=[z.errors.INSUFFICIENT_FUNDS,z.errors.NONCE_EXPIRED,z.errors.REPLACEMENT_UNDERPRICED];class Ao{constructor(){Nt.checkAbstract(new.target,Ao),Q(this,"_isSigner",!0)}getBalance(t){return Ot(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Ot(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Ot(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Pr(this.checkTransaction(t));return yield this.provider.estimateGas(r)})}call(t,r){return Ot(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Pr(this.checkTransaction(t));return yield this.provider.call(n,r)})}sendTransaction(t){return Ot(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(t),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Ot(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ot(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ot(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Ot(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const n in t)zy.indexOf(n)===-1&&Nt.throwArgumentError("invalid transaction key: "+n,"transaction",t);const r=zn(t);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Nt.throwArgumentError("from address mismatch","transaction",t),n[0])),r}populateTransaction(t){return Ot(this,void 0,void 0,function*(){const r=yield Pr(this.checkTransaction(t));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Ot(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Nt.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Nt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(r.type===0||r.type===1)&&n&&Nt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Nt.throwError("network does not support EIP-1559",z.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Nt.throwError("failed to get consistent fee data",z.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Gy.indexOf(i.code)>=0)throw i;return Nt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",z.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Nt.throwArgumentError("chainId address mismatch","transaction",t),i[0])),yield Pr(r)})}_checkProvider(t){this.provider||Nt.throwError("missing provider",z.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class zu extends Ao{constructor(t,r){super(),Q(this,"address",t),Q(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,r){return Promise.resolve().then(()=>{Nt.throwError(t,z.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new zu(this.address,t)}}const qy="transactions/5.7.0",Lf=new z(qy);var nl;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(nl||(nl={}));function ca(e,t){return{address:Wt(e),storageKeys:(t||[]).map((r,n)=>(Lp(r)!==32&&Lf.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,r),r.toLowerCase()))}}function Vy(e){if(Array.isArray(e))return e.map((r,n)=>Array.isArray(r)?(r.length>2&&Lf.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),ca(r[0],r[1])):ca(r.address,r.storageKeys));const t=Object.keys(e).map(r=>{const n=e[r].reduce((i,s)=>(i[s]=!0,i),{});return ca(r,Object.keys(n).sort())});return t.sort((r,n)=>r.address.localeCompare(n.address)),t}const Zy="contracts/5.7.0";var dn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(p){o(p)}}function u(f){try{l(n.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(e,t||[])).next())})};const tt=new z(Zy);function Xs(e,t){return dn(this,void 0,void 0,function*(){const r=yield t;typeof r!="string"&&tt.throwArgumentError("invalid address or ENS name","name",r);try{return Wt(r)}catch{}e||tt.throwError("a provider or signer is needed to resolve ENS names",z.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return n==null&&tt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function zs(e,t,r){return dn(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>zs(e,Array.isArray(t)?t[i]:t[n.name],n))):r.type==="address"?yield Xs(e,t):r.type==="tuple"?yield zs(e,t,r.components):r.baseType==="array"?Array.isArray(t)?yield Promise.all(t.map(n=>zs(e,n,r.arrayChildren))):Promise.reject(tt.makeError("invalid value for array",z.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function To(e,t,r){return dn(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=zn(r.pop())),tt.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=Pr({override:Xs(e.signer,n.from),signer:e.signer.getAddress()}).then(l=>dn(this,void 0,void 0,function*(){return Wt(l.signer)!==l.override&&tt.throwError("Contract with a Signer cannot override from",z.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=e.signer.getAddress():n.from&&(n.from=Xs(e.provider,n.from));const i=yield Pr({args:zs(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:Pr(n)||{}}),s=e.interface.encodeFunctionData(t,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=le.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=le.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=le.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=le.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=le.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Vy(a.accessList)),o.gasLimit==null&&t.gas!=null){let l=21e3;const f=ct(s);for(let p=0;p<f.length;p++)l+=4,f[p]&&(l+=64);o.gasLimit=le.from(t.gas).add(l)}if(a.value){const l=le.from(a.value);!l.isZero()&&!t.payable&&tt.throwError("non-payable method cannot override value",z.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=zn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(l=>n[l]!=null);return u.length&&tt.throwError(`cannot override ${u.map(l=>JSON.stringify(l)).join(",")}`,z.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o})}function Hy(e,t){return function(...r){return To(e,t,r)}}function Wy(e,t){const r=e.signer||e.provider;return function(...n){return dn(this,void 0,void 0,function*(){r||tt.throwError("estimate require a provider or signer",z.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield To(e,t,n);return yield r.estimateGas(i)})}}function Ky(e,t){const r=t.wait.bind(t);t.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=xi(s),a=null;try{a=e.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(u,l)=>e.interface.decodeEventLog(a.eventFragment,u,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>e.provider,o.getBlock=()=>e.provider.getBlock(i.blockHash),o.getTransaction=()=>e.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function Df(e,t,r){const n=e.signer||e.provider;return function(...i){return dn(this,void 0,void 0,function*(){let s;if(i.length===t.inputs.length+1&&typeof i[i.length-1]=="object"){const u=zn(i.pop());u.blockTag!=null&&(s=yield u.blockTag),delete u.blockTag,i.push(u)}e.deployTransaction!=null&&(yield e._deployed(s));const o=yield To(e,t,i),a=yield n.call(o,s);try{let u=e.interface.decodeFunctionResult(t,a);return r&&t.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===z.errors.CALL_EXCEPTION&&(u.address=e.address,u.args=i,u.transaction=o),u}})}}function Jy(e,t){return function(...r){return dn(this,void 0,void 0,function*(){e.signer||tt.throwError("sending a transaction requires a signer",z.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),e.deployTransaction!=null&&(yield e._deployed());const n=yield To(e,t,r),i=yield e.signer.sendTransaction(n);return Ky(e,i),i})}}function il(e,t,r){return t.constant?Df(e,t,r):Jy(e,t)}function Yf(e){return e.address&&(e.topics==null||e.topics.length===0)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):"")}class Si{constructor(t,r){Q(this,"tag",t),Q(this,"filter",r),this._listeners=[]}addListener(t,r){this._listeners.push({listener:t,once:r})}removeListener(t){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==t?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=t.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(t){}getEmit(t){return[t]}}class Xy extends Si{constructor(){super("error",null)}}class sl extends Si{constructor(t,r,n,i){const s={address:t};let o=r.getEventTopic(n);i?(o!==i[0]&&tt.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(Yf(s),s),Q(this,"address",t),Q(this,"interface",r),Q(this,"fragment",n)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(r){t.args=null,t.decodeError=r}}getEmit(t){const r=Qp(t.args);if(r.length)throw r[0].error;const n=(t.args||[]).slice();return n.push(t),n}}class ol extends Si{constructor(t,r){super("*",{address:t}),Q(this,"address",t),Q(this,"interface",r)}prepareEvent(t){super.prepareEvent(t);try{const r=this.interface.parseLog(t);t.event=r.name,t.eventSignature=r.signature,t.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),t.args=r.args}catch{}}}class Qy{constructor(t,r,n){Q(this,"interface",fi(new.target,"getInterface")(r)),n==null?(Q(this,"provider",null),Q(this,"signer",null)):Ao.isSigner(n)?(Q(this,"provider",n.provider||null),Q(this,"signer",n)):Yu.isProvider(n)?(Q(this,"provider",n),Q(this,"signer",null)):tt.throwArgumentError("invalid signer or provider","signerOrProvider",n),Q(this,"callStatic",{}),Q(this,"estimateGas",{}),Q(this,"functions",{}),Q(this,"populateTransaction",{}),Q(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const u=this.interface.events[a];Q(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,l)})),o[u.name]||(o[u.name]=[]),o[u.name].push(a)}),Object.keys(o).forEach(a=>{const u=o[a];u.length===1?Q(this.filters,a,this.filters[u[0]]):tt.warn(`Duplicate definition of ${a} (${u.join(", ")})`)})}if(Q(this,"_runningEvents",{}),Q(this,"_wrappedEmits",{}),t==null&&tt.throwArgumentError("invalid contract address or ENS name","addressOrName",t),Q(this,"address",t),this.provider)Q(this,"resolvedAddress",Xs(this.provider,t));else try{Q(this,"resolvedAddress",Promise.resolve(Wt(t)))}catch{tt.throwError("provider is required to use ENS name as contract address",z.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){tt.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const u=a.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(o)}this[o]==null&&Q(this,o,il(this,a,!0)),this.functions[o]==null&&Q(this.functions,o,il(this,a,!1)),this.callStatic[o]==null&&Q(this.callStatic,o,Df(this,a,!0)),this.populateTransaction[o]==null&&Q(this.populateTransaction,o,Hy(this,a)),this.estimateGas[o]==null&&Q(this.estimateGas,o,Wy(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const u=a[0];try{this[o]==null&&Q(this,o,this[u])}catch{}this.functions[o]==null&&Q(this.functions,o,this.functions[u]),this.callStatic[o]==null&&Q(this.callStatic,o,this.callStatic[u]),this.populateTransaction[o]==null&&Q(this.populateTransaction,o,this.populateTransaction[u]),this.estimateGas[o]==null&&Q(this.estimateGas,o,this.estimateGas[u])})}static getContractAddress(t){return ly(t)}static getInterface(t){return La.isInterface(t)?t:new La(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(r=>(r==="0x"&&tt.throwError("contract not deployed",z.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||tt.throwError("sending a transactions require a signer",z.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=zn(t||{});return["from","to"].forEach(function(n){r[n]!=null&&tt.throwError("cannot override "+n,z.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(t){typeof t=="string"&&(t=new zu(t,this.provider));const r=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&Q(r,"deployTransaction",this.deployTransaction),r}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return Fa.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if(typeof t=="string"){if(t==="error")return this._normalizeRunningEvent(new Xy);if(t==="event")return this._normalizeRunningEvent(new Si("event",null));if(t==="*")return this._normalizeRunningEvent(new ol(this.address,this.interface));const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new sl(this.address,this.interface,r))}if(t.topics&&t.topics.length>0){try{const n=t.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new sl(this.address,this.interface,i,t.topics))}catch{}const r={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Si(Yf(r),r))}return this._normalizeRunningEvent(new ol(this.address,this.interface))}_checkRunningEvents(t){if(t.listenerCount()===0){delete this._runningEvents[t.tag];const r=this._wrappedEmits[t.tag];r&&t.filter&&(this.provider.off(t.filter,r),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,r,n){const i=xi(r);return i.removeListener=()=>{n&&(t.removeListener(n),this._checkRunningEvents(t))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),t.prepareEvent(i),i}_addEventListener(t,r,n){if(this.provider||tt.throwError("events require a provider or a signer with a provider",z.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(r,n),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const i=s=>{let o=this._wrapEvent(t,s,r);if(o.decodeError==null)try{const a=t.getEmit(o);this.emit(t.filter,...a)}catch(a){o.decodeError=a.error}t.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[t.tag]=i,t.filter!=null&&this.provider.on(t.filter,i)}}queryFilter(t,r,n){const i=this._getRunningEvent(t),s=zn(i.filter);return typeof r=="string"&&vt(r,32)?(n!=null&&tt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(t,r){return this._addEventListener(this._getRunningEvent(t),r,!1),this}once(t,r){return this._addEventListener(this._getRunningEvent(t),r,!0),this}emit(t,...r){if(!this.provider)return!1;const n=this._getRunningEvent(t),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(t){return this.provider?t==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(t==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(t==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(t);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(t,r){if(!this.provider)return this;const n=this._getRunningEvent(t);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(t,r){return this.off(t,r)}}class em extends Qy{}function tm(e,t){let r={};for(let n in e)r[n]=t(e[n],n);return r}var rm=function(){let e=nm,t=im;return t(e(32),8)+"-"+t(e(16),4)+"-"+t(16384|e(12),4)+"-"+t(32768|e(14),4)+"-"+t(e(48),12)},nm=function(e){if(e<0||e>53)return NaN;let t=0|Math.random()*1073741824;return e>30?t+(0|Math.random()*(1<<e-30))*1073741824:t>>>30-e},im=function(e,t){let r=e.toString(16),n=t-r.length,i="0";for(;n>0;n>>>=1,i+=i)n&1&&(r=i+r);return r};function sm(e){return{...e,[Symbol.iterator](){return this}}}function zf(e,t){return sm({next(){let{done:r,value:n}=e.next();return{done:r,value:r?n:t(n)}}})}function om(e){return/^(0x)?([\da-f]{2})*$/i.test(e)}var am=e=>{if(!om(e))throw console.error("Invalid hex string",e),new Error("Invalid hex string");let t=e.match(/[\da-f]{2}/gi);return t?new Uint8Array(t.map(r=>parseInt(r,16))):new Uint8Array([])};function um(e){if(e<2)throw new Error("Minimum size is 2");if(e>64)throw new Error("Maximum size is 64");let t=2**(e-1)-1,r=-t-1;return n=>{if(n=n<<0,n>t||n<r)throw console.log("value",n,t,r,n>t,n<r),new Error(`Int${e} overflow`);return n<0?2**e+n:n}}um(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var N=(e=>(e[e.Boolean=0]="Boolean",e[e.Number=1]="Number",e[e.OptionalNumber=2]="OptionalNumber",e[e.BigInt=3]="BigInt",e[e.OptionalBigInt=4]="OptionalBigInt",e[e.String=5]="String",e[e.OptionalString=6]="OptionalString",e[e.NumberArray=7]="NumberArray",e[e.OptionalNumberArray=8]="OptionalNumberArray",e[e.BigIntArray=9]="BigIntArray",e[e.OptionalBigIntArray=10]="OptionalBigIntArray",e[e.StringArray=11]="StringArray",e[e.OptionalStringArray=12]="OptionalStringArray",e[e.Entity=13]="Entity",e[e.OptionalEntity=14]="OptionalEntity",e[e.EntityArray=15]="EntityArray",e[e.OptionalEntityArray=16]="OptionalEntityArray",e[e.T=17]="T",e[e.OptionalT=18]="OptionalT",e))(N||{}),cm=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e[e.Update=2]="Update",e[e.Noop=3]="Noop",e))(cm||{}),lm=[14,16,2,8,4,10,6,12,18];function Ht(e){return Symbol.for(e)}function Gu(e){return Symbol.keyFor(e)}function fm(e){let t=new Map;function r(a){let u=t.get(n(a));return u?new Set([...u].map(Gu)):new Set}function n(a){return Object.values(a).join("/")}function i(a,u){if(!u)return;let l=n(u),f=t.get(l);f||(f=new Set,t.set(l,f)),f.add(a)}function s(a,u){if(!u)return;let l=n(u),f=t.get(l);f&&f.delete(a)}for(let a of Vu(e)){let u=lt(e,a);i(Ht(a),u)}let o=e.update$.subscribe(({entity:a,value:u})=>{s(Ht(a),u[1]),i(Ht(a),u[0])});return e.world.registerDisposer(()=>o?.unsubscribe()),{...e,getEntitiesWithValue:r}}function dm(e){return"getEntitiesWithValue"in e}function hm(e,t){return Object.keys(e.schema).every(r=>r in t)}function qu(e){return e.metadata?.componentName??e.metadata?.tableName??e.metadata?.tableId??e.metadata?.contractId??e.id}function Da(e,t,r){if(Object.keys(t).length===0)throw new Error("Component schema must have at least one key");let n=r?.id??rm(),i=tm(t,()=>new Map),s=new hs,o=r?.metadata,a={values:i,schema:t,id:n,update$:s,metadata:o,entities:()=>zf(Object.values(i)[0].keys(),Gu),world:e};return r?.indexed&&(a=fm(a)),e.registerComponent(a),a}function Ii(e,t,r){let n=Ht(t),i=lt(e,t);for(let[s,o]of Object.entries(r))e.values[s]?e.values[s].set(n,o):e.metadata?.tableId&&/^\d+$/.test(s)||console.warn("Component definition for",qu(e),"is missing key",s,", ignoring value",o,"for entity",t,". Existing keys: ",Object.keys(e.values));e.update$.next({entity:t,value:[r,i],component:e})}function pm(e,t,r,n){let i=lt(e,t);if(i===void 0){if(n===void 0)throw new Error(`Can't update component ${qu(e)} without a current value or initial value`);Ii(e,t,{...n,...r})}else Ii(e,t,{...i,...r})}function Gf(e,t){let r=Ht(t),n=lt(e,t);for(let i of Object.keys(e.values))e.values[i].delete(r);e.update$.next({entity:t,value:[void 0,n],component:e})}function Ya(e,t){let r=Ht(t);return Object.values(e.values)[0].has(r)}function lt(e,t){let r={},n=Ht(t),i=Object.keys(e.schema);for(let s of i){let o=e.values[s].get(n);if(o===void 0&&!lm.includes(e.schema[s]))return;r[s]=o}return r}function ym(e,t){let r=lt(e,t);if(!r)throw new Error(`No value for component ${qu(e)} on entity ${t}`);return r}function za(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;let r=!0;for(let n of Object.keys(e))if(r=e[n]===t[n],!r)return!1;return r}function qf(e,t){if(dm(e)&&hm(e,t))return e.getEntitiesWithValue(t);let r=new Set;for(let n of Vu(e)){let i=lt(e,n);za(t,i)&&r.add(n)}return r}function Vu(e){return e.entities()}var mm=(e=>(e[e.Has=0]="Has",e[e.HasValue=1]="HasValue",e[e.Not=2]="Not",e[e.NotValue=3]="NotValue",e[e.ProxyRead=4]="ProxyRead",e[e.ProxyExpand=5]="ProxyExpand",e))(mm||{});function gm(e){return{type:0,component:e}}function Ga(e,t){if(t.type===0)return Ya(t.component,e);if(t.type===1)return za(t.value,lt(t.component,e));if(t.type===2)return!Ya(t.component,e);if(t.type===3)return!za(t.value,lt(t.component,e));throw new Error("Unknown query fragment")}function bm(e){return e.type===0||e.type==1}function Vf(e){return e.type===2||e.type==3}function vm(e){return e.type===5||e.type==4}function Zf(e,t){return e&&bm(t)||!e&&Vf(t)}function al(e,t,r){let n=e,i=!1;for(let s=0;s<r.depth;s++){let o=lt(r.component,n);if(!o)return null;let a=o.value;if(!a)return null;if(n=a,i=Ga(n,t),Zf(i,t))return i}return i}function qa(e,t,r){if(r===0)return new Set;let n=qf(t,{value:e});if(r===1)return n;let i=[...n].map(s=>[...qa(s,t,r-1)]).flat();return new Set([...n,...i])}function wm(e,t){let r=t?new Set([...t]):void 0,n,i;for(let s=0;s<e.length;s++){let o=e[s];if(vm(o))o.type===4&&(n=o),o.type===5&&(i=o);else if(r)for(let a of[...r]){let u=Ga(a,o);if(n&&n.depth>0&&!Zf(u,o)&&(u=al(a,o,n)??u),u||r.delete(a),i&&i.depth>0){let l=qa(a,i.component,i.depth);for(let f of l)(Ga(f,o)||n&&n.depth>0&&al(f,o,n))&&r.add(f)}}else{if(Vf(o))throw new Error("First EntityQueryFragment must be Has or HasValue");if(r=o.type===0?new Set([...Vu(o.component)]):qf(o.component,o.value),i&&i.depth>0)for(let a of[...r])for(let u of qa(a,i.component,i.depth))r.add(u)}}return r??new Set}function xm(){let e=new Set,t=[],r=[];function n({id:f,idSuffix:p}={}){let g=f||e.size+(p?"-"+p:""),E=Ht(g);return e.add(E),g}function i(){return zf(e.values(),Gu)}function s(f){t.push(f)}function o(f){for(let[,p]of r.filter(g=>!f||g[0]===f))p();r=r.filter(p=>f&&p[0]!==f)}function a(f,p=""){r.push([p,f])}function u(f){let p=Ht(f);return e.has(p)}function l(f){for(let p of t)Ya(p,f)&&Gf(p,f);e.delete(Ht(f))}return{registerEntity:n,components:t,registerComponent:s,dispose:o,registerDisposer:a,hasEntity:u,getEntities:i,entitySymbols:e,deleteEntity:l}}var Em=/\[\]$/;function Am(e){return e.replace(Em,"")}var Va=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],Tm=Va.slice(98),Hf={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function Wf(e){return Tm.includes(e)}var Kf={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},En={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20},_m={...Kf,...Hf};const Sm="0.9.3";let _t=class Za extends Error{constructor(t,r={}){const n=r.cause instanceof Za?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Za&&r.cause.docsPath||r.docsPath,s=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${Sm}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=t}};function An(e,t){return e.exec(t)?.groups}const Jf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xf=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Qf=/^\(.+?\).*?$/,ed=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Im(e){return ed.test(e)}function Nm(e){return An(ed,e)}const td=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Rm(e){return td.test(e)}function km(e){return An(td,e)}const rd=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Pm(e){return rd.test(e)}function Mm(e){return An(rd,e)}const nd=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Zu(e){return nd.test(e)}function Om(e){return An(nd,e)}const id=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Bm(e){return id.test(e)}function Cm(e){return An(id,e)}const $m=/^fallback\(\)$/;function Um(e){return $m.test(e)}const jm=/^receive\(\) external payable$/;function Fm(e){return jm.test(e)}const ul=new Set(["memory","indexed","storage","calldata"]),Lm=new Set(["indexed"]),Ha=new Set(["calldata","memory","storage"]);class Dm extends _t{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ym extends _t{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class zm extends _t{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Gm extends _t{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class qm extends _t{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Vm extends _t{constructor({param:t,type:r,modifier:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Zm extends _t{constructor({param:t,type:r,modifier:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hm extends _t{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class di extends _t{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Wm extends _t{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Km extends _t{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Jm extends _t{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Xm extends _t{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Qm(e,t){return t?`${t}:${e}`:e}const la=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function eg(e,t={}){if(Pm(e)){const r=Mm(e);if(!r)throw new di({signature:e,type:"function"});const n=Et(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(ir(n[a],{modifiers:Ha,structs:t,type:"function"}));const o=[];if(r.returns){const a=Et(r.returns),u=a.length;for(let l=0;l<u;l++)o.push(ir(a[l],{modifiers:Ha,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}if(Rm(e)){const r=km(e);if(!r)throw new di({signature:e,type:"event"});const n=Et(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(ir(n[o],{modifiers:Lm,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}if(Im(e)){const r=Nm(e);if(!r)throw new di({signature:e,type:"error"});const n=Et(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(ir(n[o],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}if(Bm(e)){const r=Cm(e);if(!r)throw new di({signature:e,type:"constructor"});const n=Et(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(ir(n[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}if(Um(e))return{type:"fallback"};if(Fm(e))return{type:"receive",stateMutability:"payable"};throw new Wm({signature:e})}const tg=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rg=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ng=/^u?int$/;function ir(e,t){const r=Qm(e,t?.type);if(la.has(r))return la.get(r);const n=Qf.test(e),i=An(n?rg:tg,e);if(!i)throw new Gm({param:e});if(i.name&&sg(i.name))throw new qm({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let u,l={};if(n){u="tuple";const p=Et(i.type),g=[],E=p.length;for(let v=0;v<E;v++)g.push(ir(p[v],{structs:a}));l={components:g}}else if(i.type in a)u="tuple",l={components:a[i.type]};else if(ng.test(i.type))u=`${i.type}256`;else if(u=i.type,t?.type!=="struct"&&!sd(u))throw new Ym({type:u});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new Vm({param:e,type:t?.type,modifier:i.modifier});if(Ha.has(i.modifier)&&!og(u,!!i.array))throw new Zm({param:e,type:t?.type,modifier:i.modifier})}const f={type:`${u}${i.array??""}`,...s,...o,...l};return la.set(r,f),f}function Et(e,t=[],r="",n=0){if(e===""){if(r==="")return t;if(n!==0)throw new Xm({current:r,depth:n});return t.push(r.trim()),t}const i=e.length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return n===0?Et(a,[...t,r.trim()]):Et(a,t,`${r}${o}`,n);case"(":return Et(a,t,`${r}${o}`,n+1);case")":return Et(a,t,`${r}${o}`,n-1);default:return Et(a,t,`${r}${o}`,n)}}return[]}function sd(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Jf.test(e)||Xf.test(e)}const ig=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function sg(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Jf.test(e)||Xf.test(e)||ig.test(e)}function og(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function od(e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];if(!Zu(a))continue;const u=Om(a);if(!u)throw new di({signature:a,type:"struct"});const l=u.properties.split(";"),f=[],p=l.length;for(let g=0;g<p;g++){const v=l[g].trim();if(!v)continue;const x=ir(v,{type:"struct"});f.push(x)}if(!f.length)throw new Km({signature:a});t[u.name]=f}const n={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,u]=i[o];n[a]=ad(u,t)}return n}const ag=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ad(e,t,r=new Set){const n=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(Qf.test(o.type))n.push(o);else{const u=An(ag,o.type);if(!u?.type)throw new Hm({abiParameter:o});const{array:l,type:f}=u;if(f in t){if(r.has(f))throw new Jm({type:f});n.push({...o,type:`tuple${l??""}`,components:ad(t[f]??[],t,new Set([...r,f]))})}else if(sd(f))n.push(o);else throw new Dm({type:f})}}return n}function ug(e){const t=od(e),r=[],n=e.length;for(let i=0;i<n;i++){const s=e[i];Zu(s)||r.push(eg(s,t))}return r}function cl(e){const t=[];if(typeof e=="string"){const r=Et(e),n=r.length;for(let i=0;i<n;i++)t.push(ir(r[i],{modifiers:ul}))}else{const r=od(e),n=e.length;for(let i=0;i<n;i++){const s=e[i];if(Zu(s))continue;const o=Et(s),a=o.length;for(let u=0;u<a;u++)t.push(ir(o[u],{modifiers:ul,structs:r}))}}if(t.length===0)throw new zm({params:e});return t}function Fr(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Tg(e.type);return`${e.name}(${_o(e.inputs,{includeName:t})})`}function _o(e,{includeName:t=!1}={}){return e?e.map(r=>cg(r,{includeName:t})).join(t?", ":","):""}function cg(e,{includeName:t}){return e.type.startsWith("tuple")?`(${_o(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Kt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function st(e){return Kt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const lg="1.5.4",fg=e=>e,So=e=>e,dg=()=>`viem@${lg}`;class D extends Error{constructor(t,r={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:dg()});const n=r.cause instanceof D?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof D&&r.cause.docsPath||r.docsPath;this.message=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=t}walk(t){return ud(this,t)}}function ud(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e?ud(e.cause,t):t?null:e}class hg extends D{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class ll extends D{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Hu extends D{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${_o(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}}class Io extends D{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class pg extends D{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class yg extends D{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${st(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class mg extends D{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class cd extends D{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class gg extends D{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class bg extends D{constructor(t,{docsPath:r}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class fl extends D{constructor(t,{docsPath:r}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Qs extends D{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class vg extends D{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class wg extends D{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class hn extends D{constructor({abiItem:t,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${_o(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=r,this.params=n,this.size=i}}class ti extends D{constructor({abiItem:t,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Fr(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class xg extends D{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Eg extends D{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Ag extends D{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Tg extends D{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class _g extends D{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class ld extends D{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class fd extends D{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function ri(e,{dir:t,size:r=32}={}){return typeof e=="string"?Or(e,{dir:t,size:r}):Sg(e,{dir:t,size:r})}function Or(e,{dir:t,size:r=32}={}){if(r===null)return e;const n=e.replace("0x","");if(n.length>r*2)throw new fd({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Sg(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new fd({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=t==="right";n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}class Ig extends D{constructor({max:t,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Ng extends D{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class Rg extends D{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function lr(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let i=0;i<r.length-1&&r[t==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Lr(e,{size:t}){if(st(e)>t)throw new Rg({givenSize:st(e),maxSize:t})}function Gn(e,t={}){const{signed:r}=t;t.size&&Lr(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function dd(e,t={}){let r=e;if(t.size&&(Lr(r,{size:t.size}),r=lr(r)),lr(r)==="0x00")return!1;if(lr(r)==="0x01")return!0;throw new Ng(r)}function it(e,t={}){return Number(Gn(e,t))}function eo(e,t={}){let r=Wu(e);return t.size&&(Lr(r,{size:t.size}),r=lr(r,{dir:"right"})),new TextDecoder().decode(r)}const kg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function de(e,t={}){return typeof e=="number"||typeof e=="bigint"?ue(e,t):typeof e=="string"?pn(e,t):typeof e=="boolean"?hd(e,t):qn(e,t)}function hd(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(Lr(r,{size:t.size}),ri(r,{size:t.size})):r}function qn(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=kg[e[i]];const n=`0x${r}`;return typeof t.size=="number"?(Lr(n,{size:t.size}),ri(n,{dir:"right",size:t.size})):n}function ue(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const u=typeof e=="bigint"?"n":"";throw new Ig({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${e}${u}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?ri(a,{size:n}):a}const Pg=new TextEncoder;function pn(e,t={}){const r=Pg.encode(e);return qn(r,t)}const Mg=new TextEncoder;function Jt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Bg(e,t):typeof e=="boolean"?Og(e,t):Kt(e)?Wu(e,t):fr(e,t)}function Og(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Lr(r,{size:t.size}),ri(r,{size:t.size})):r}function Wu(e,t={}){let r=e;t.size&&(Lr(r,{size:t.size}),r=ri(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=s*2,a=n.slice(o,o+2),u=Number.parseInt(a,16);if(Number.isNaN(u)||u<0)throw new D(`Invalid byte sequence ("${a}" in "${n}").`);i[s]=u}return i}function Bg(e,t){const r=ue(e,t);return Wu(r)}function fr(e,t={}){const r=Mg.encode(e);return typeof t.size=="number"?(Lr(r,{size:t.size}),ri(r,{dir:"right",size:t.size})):r}const Cg=/((function|event)\s)?(.*)(\((.*)\))/;function pd(e){const t=e.match(Cg),r=t?.[2]||void 0,n=t?.[3],i=t?.[5]||void 0;return{type:r,name:n,params:i}}function $g(e){return pd(e).name}function Ug(e){return pd(e).params?.split(",").map(n=>n.trim().split(" "))?.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}function Wa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function jg(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function yd(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Fg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wa(e.outputLen),Wa(e.blockLen)}function Lg(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Dg(e,t){yd(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Sn={number:Wa,bool:jg,bytes:yd,hash:Fg,exists:Lg,output:Dg},Os=BigInt(2**32-1),Ka=BigInt(32);function md(e,t=!1){return t?{h:Number(e&Os),l:Number(e>>Ka&Os)}:{h:Number(e>>Ka&Os)|0,l:Number(e&Os)|0}}function Yg(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=md(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const zg=(e,t)=>BigInt(e>>>0)<<Ka|BigInt(t>>>0),Gg=(e,t,r)=>e>>>r,qg=(e,t,r)=>e<<32-r|t>>>r,Vg=(e,t,r)=>e>>>r|t<<32-r,Zg=(e,t,r)=>e<<32-r|t>>>r,Hg=(e,t,r)=>e<<64-r|t>>>r-32,Wg=(e,t,r)=>e>>>r-32|t<<64-r,Kg=(e,t)=>t,Jg=(e,t)=>e,Xg=(e,t,r)=>e<<r|t>>>32-r,Qg=(e,t,r)=>t<<r|e>>>32-r,eb=(e,t,r)=>t<<r-32|e>>>64-r,tb=(e,t,r)=>e<<r-32|t>>>64-r;function rb(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const nb=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),ib=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,sb=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),ob=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,ab=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),ub=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,Ni={fromBig:md,split:Yg,toBig:zg,shrSH:Gg,shrSL:qg,rotrSH:Vg,rotrSL:Zg,rotrBH:Hg,rotrBL:Wg,rotr32H:Kg,rotr32L:Jg,rotlSH:Xg,rotlSL:Qg,rotlBH:eb,rotlBL:tb,add:rb,add3L:nb,add3H:ib,add4L:sb,add4H:ob,add5H:ub,add5L:ab};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cb=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),lb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lb)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function fb(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Ku(e){if(typeof e=="string"&&(e=fb(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let db=class{clone(){return this._cloneInto()}};function hb(e){const t=n=>e().update(Ku(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function pb(e){const t=(n,i)=>e(i).update(Ku(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const[gd,bd,vd]=[[],[],[]],yb=BigInt(0),ui=BigInt(1),mb=BigInt(2),gb=BigInt(7),bb=BigInt(256),vb=BigInt(113);for(let e=0,t=ui,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],gd.push(2*(5*n+r)),bd.push((e+1)*(e+2)/2%64);let i=yb;for(let s=0;s<7;s++)t=(t<<ui^(t>>gb)*vb)%bb,t&mb&&(i^=ui<<(ui<<BigInt(s))-ui);vd.push(i)}const[wb,xb]=Ni.split(vd,!0),dl=(e,t,r)=>r>32?Ni.rotlBH(e,t,r):Ni.rotlSH(e,t,r),hl=(e,t,r)=>r>32?Ni.rotlBL(e,t,r):Ni.rotlSL(e,t,r);function Eb(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=r[u],f=r[u+1],p=dl(l,f,1)^r[a],g=hl(l,f,1)^r[a+1];for(let E=0;E<50;E+=10)e[o+E]^=p,e[o+E+1]^=g}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=bd[o],u=dl(i,s,a),l=hl(i,s,a),f=gd[o];i=e[f],s=e[f+1],e[f]=u,e[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=wb[n],e[1]^=xb[n]}r.fill(0)}class No extends db{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Sn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=cb(this.state)}keccak(){Eb(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Sn.exists(this);const{blockLen:r,state:n}=this;t=Ku(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Sn.exists(this,!1),Sn.bytes(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Sn.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Sn.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new No(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Dr=(e,t,r)=>hb(()=>new No(t,e,r));Dr(6,144,224/8);Dr(6,136,256/8);Dr(6,104,384/8);Dr(6,72,512/8);Dr(1,144,224/8);const Ab=Dr(1,136,256/8);Dr(1,104,384/8);Dr(1,72,512/8);const wd=(e,t,r)=>pb((n={})=>new No(t,e,n.dkLen===void 0?r:n.dkLen,!0));wd(31,168,128/8);wd(31,136,256/8);function ft(e,t){const r=t||"hex",n=Ab(Kt(e,{strict:!1})?Jt(e):e);return r==="bytes"?n:de(n)}const xd=e=>ft(Jt(e));function Ed(e){const t=$g(e),r=Ug(e)||[];return xd(`${t}(${r.map(({type:n})=>n).join(",")})`)}function Ad(e){return xd(Fr(e))}const Td=e=>typeof e=="string"?Ed(e):Ad(e);class jt extends D{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const Tb=/^0x[a-fA-F0-9]{40}$/;function Pt(e){return Tb.test(e)}function Xt(e){return typeof e[0]=="string"?Tn(e):_b(e)}function _b(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function Tn(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function nt(e,t,r,{strict:n}={}){return Kt(e,{strict:!1})?bt(e,t,r,{strict:n}):Sb(e,t,r,{strict:n})}function _d(e,t){if(typeof t=="number"&&t>0&&t>st(e)-1)throw new ld({offset:t,position:"start",size:st(e)})}function Sd(e,t,r){if(typeof t=="number"&&typeof r=="number"&&st(e)!==r-t)throw new ld({offset:r,position:"end",size:st(e)})}function Sb(e,t,r,{strict:n}={}){_d(e,t);const i=e.slice(t,r);return n&&Sd(i,t,r),i}function bt(e,t,r,{strict:n}={}){_d(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&Sd(i,t,r),i}function ni(e,t){if(e.length!==t.length)throw new mg({expectedLength:e.length,givenLength:t.length});const r=Ib({params:e,values:t}),n=Xu(r);return n.length===0?"0x":n}function Ib({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(Ju({param:e[n],value:t[n]}));return r}function Ju({param:e,value:t}){const r=Ro(e.type);if(r){const[n,i]=r;return Rb(t,{length:n,param:{...e,type:i}})}if(e.type==="tuple")return Bb(t,{param:e});if(e.type==="address")return Nb(t);if(e.type==="bool")return Pb(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int");return Mb(t,{signed:n})}if(e.type.startsWith("bytes"))return kb(t,{param:e});if(e.type==="string")return Ob(t);throw new xg(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Xu(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=st(a)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(r.push(ue(t+i,{size:32})),n.push(a),i+=st(a)):r.push(a)}return Xt([...r,...n])}function Nb(e){if(!Pt(e))throw new jt({address:e});return{dynamic:!1,encoded:Or(e.toLowerCase())}}function Rb(e,{length:t,param:r}){const n=t===null;if(!Array.isArray(e))throw new Ag(e);if(!n&&e.length!==t)throw new pg({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=Ju({param:r,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=Xu(s);if(n){const a=ue(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Xt([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Xt(s.map(({encoded:o})=>o))}}function kb(e,{param:t}){const[,r]=t.type.split("bytes"),n=st(e);if(!r){let i=e;return n%32!==0&&(i=Or(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Xt([Or(ue(n,{size:32})),i])}}if(n!==parseInt(r))throw new yg({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:Or(e,{dir:"right"})}}function Pb(e){return{dynamic:!1,encoded:Or(hd(e))}}function Mb(e,{signed:t}){return{dynamic:!1,encoded:ue(e,{size:32,signed:t})}}function Ob(e){const t=pn(e),r=Math.ceil(st(t)/32),n=[];for(let i=0;i<r;i++)n.push(Or(nt(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Xt([Or(ue(st(t),{size:32})),...n])}}function Bb(e,{param:t}){let r=!1;const n=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=Ju({param:s,value:e[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Xu(n):Xt(n.map(({encoded:i})=>i))}}function Ro(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ys({abi:e,args:t=[],name:r}){const n=e.filter(i=>"name"in i&&i.name===r);if(n.length!==0){if(n.length===1)return n[0];for(const i of n){if(!("inputs"in i))continue;if(!t||t.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==t.length)continue;if(t.every((o,a)=>{const u="inputs"in i&&i.inputs[a];return u?Ja(o,u):!1}))return i}return n[0]}}function Ja(e,t){const r=typeof e,n=t.type;switch(n){case"address":return Pt(e);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>Ja(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(i=>Ja(i,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ms({abi:e,eventName:t,args:r}){let n=e[0];if(t&&(n=ys({abi:e,args:r,name:t}),!n))throw new fl(t,{docsPath:"/docs/contract/encodeEventTopics"});if(n.type!=="event")throw new fl(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const i=Fr(n),s=Td(i);let o=[];if(r&&"inputs"in n){const a=n.inputs?.filter(l=>"indexed"in l&&l.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?a?.map(l=>r[l.name])??[]:[];u.length>0&&(o=a?.map((l,f)=>Array.isArray(u[f])?u[f].map((p,g)=>pl({param:l,value:u[f][g]})):u[f]?pl({param:l,value:u[f]}):null)??[])}return[s,...o]}function pl({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ft(Jt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new _g(e.type);return ni([e],[t])}function ko(e,{method:t}){const r={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:n,response:i,status:s,transport:o})=>{s==="success"&&t===n&&(r[i]=o.request)}),n=>r[n]||e.request}async function Qu(e,{address:t,abi:r,args:n,eventName:i,fromBlock:s,strict:o,toBlock:a}){const u=ko(e,{method:"eth_newFilter"}),l=i?ms({abi:r,args:n,eventName:i}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?ue(s):s,toBlock:typeof a=="bigint"?ue(a):a,topics:l}]});return{abi:r,args:n,eventName:i,id:f,request:u(f),strict:o,type:"event"}}function Dt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Id=e=>nt(typeof e=="string"?Ed(e):Ad(e),0,4);function Yr({abi:e,args:t,functionName:r}){let n=e[0];if(r&&(n=ys({abi:e,args:t,name:r}),!n))throw new Qs(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new Qs(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const i=Fr(n),s=Id(i),o="inputs"in n&&n.inputs?ni(n.inputs,t??[]):void 0;return Tn([s,o??"0x"])}const Nd={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Cb={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},$b={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Po(e,t){const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=ft(fr(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(n[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());return`0x${i.join("")}`}function Ir(e,t){if(!Pt(e))throw new jt({address:e});return Po(e,t)}function yn(e,t){if(t==="0x"&&e.length>0)throw new Io;if(st(t)&&st(t)<32)throw new Hu({data:t,params:e,size:st(t)});return Ub({data:t,params:e})}function Ub({data:e,params:t}){const r=[];let n=0;for(let i=0;i<t.length;i++){if(n>=st(e))throw new Hu({data:e,params:t,size:st(e)});const s=t[i],{consumed:o,value:a}=Cn({data:e,param:s,position:n});r.push(a),n+=o}return r}function Cn({data:e,param:t,position:r}){const n=Ro(t.type);if(n){const[s,o]=n;return Fb(e,{length:s,param:{...t,type:o},position:r})}if(t.type==="tuple")return Gb(e,{param:t,position:r});if(t.type==="string")return zb(e,{position:r});if(t.type.startsWith("bytes"))return Db(e,{param:t,position:r});const i=nt(e,r,r+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Yb(i,{param:t});if(t.type==="address")return jb(i);if(t.type==="bool")return Lb(i);throw new Eg(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function jb(e){return{consumed:32,value:Po(nt(e,-20))}}function Fb(e,{param:t,length:r,position:n}){if(!r){const o=it(nt(e,n,n+32,{strict:!0})),a=it(nt(e,o,o+32,{strict:!0}));let u=0;const l=[];for(let f=0;f<a;++f){const p=Cn({data:nt(e,o+32),param:t,position:u});u+=p.consumed,l.push(p.value)}return{value:l,consumed:32}}if(to(t)){const a=!Ro(t.type)?.[0];let u=0;const l=[];for(let f=0;f<r;++f){const p=it(nt(e,n,n+32,{strict:!0})),g=Cn({data:nt(e,p),param:t,position:a?u:f*32});u+=g.consumed,l.push(g.value)}return{value:l,consumed:32}}let i=0;const s=[];for(let o=0;o<r;++o){const a=Cn({data:e,param:t,position:n+i});i+=a.consumed,s.push(a.value)}return{value:s,consumed:i}}function Lb(e){return{consumed:32,value:dd(e)}}function Db(e,{param:t,position:r}){const[n,i]=t.type.split("bytes");if(!i){const o=it(nt(e,r,r+32,{strict:!0})),a=it(nt(e,o,o+32,{strict:!0}));return a===0?{consumed:32,value:"0x"}:{consumed:32,value:nt(e,o+32,o+32+a,{strict:!0})}}return{consumed:32,value:nt(e,r,r+parseInt(i),{strict:!0})}}function Yb(e,{param:t}){const r=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?Gn(e,{signed:r}):it(e,{signed:r})}}function zb(e,{position:t}){const r=it(nt(e,t,t+32,{strict:!0})),n=it(nt(e,r,r+32,{strict:!0}));return n===0?{consumed:32,value:""}:{consumed:32,value:eo(lr(nt(e,r+32,r+32+n,{strict:!0})))}}function Gb(e,{param:t,position:r}){const n=t.components.length===0||t.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(to(t)){const o=it(nt(e,r,r+32,{strict:!0}));for(let a=0;a<t.components.length;++a){const u=t.components[a],l=Cn({data:nt(e,o),param:u,position:s});s+=l.consumed,i[n?a:u?.name]=l.value}return{consumed:32,value:i}}for(let o=0;o<t.components.length;++o){const a=t.components[o],u=Cn({data:e,param:a,position:r+s});s+=u.consumed,i[n?o:a?.name]=u.value}return{consumed:s,value:i}}function to(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(to);const r=Ro(e.type);return!!(r&&to({...e,type:r[1]}))}function qb({abi:e,data:t}){const r=nt(t,0,4);if(r==="0x")throw new Io;const i=[...e||[],Cb,$b].find(s=>s.type==="error"&&r===Id(Fr(s)));if(!i)throw new cd(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?yn(i.inputs,nt(t,4)):void 0,errorName:i.name}}const ht=(e,t,r)=>JSON.stringify(e,(n,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof t=="function"?t(n,s):s},r);function Rd({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?ht(t[s]):t[s]}`).join(", ")})`}const Vb={gwei:9,wei:18},Zb={ether:-9,wei:9};function kd(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[i,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function ec(e,t="wei"){return kd(e,Vb[t])}function At(e,t="wei"){return kd(e,Zb[t])}function gs(e){const t=Object.entries(e).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=t.reduce((n,[i])=>Math.max(n,i.length),0);return t.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Hb extends D{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Wb extends D{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class Kb extends D{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",gs(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Jb extends D{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class Xb extends D{constructor(t,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:f,to:p,value:g}){const E=gs({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:p,value:typeof g<"u"&&`${ec(g)} ${i?.nativeCurrency.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${At(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${At(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${At(l)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",E].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Pd extends D{constructor({blockHash:t,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Md extends D{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Od extends D{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Bd extends D{constructor(t,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:f,to:p,value:g}){const E=r?Dt(r):void 0,v=gs({from:E?.address,to:p,value:typeof g<"u"&&`${ec(g)} ${i?.nativeCurrency.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${At(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${At(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${At(l)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Qb extends D{constructor(t,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const u=ys({abi:r,args:n,name:o}),l=u?Rd({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,f=u?Fr(u,{includeName:!0}):void 0,p=gs({address:i&&fg(i),function:f,args:l&&l!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",p].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class Xa extends D{constructor({abi:t,data:r,functionName:n,message:i}){let s,o,a,u;if(r&&r!=="0x")try{o=qb({abi:t,data:r});const{abiItem:f,errorName:p,args:g}=o;if(p==="Error")u=g[0];else if(p==="Panic"){const[E]=g;u=Nd[E]}else{const E=f?Fr(f,{includeName:!0}):void 0,v=f&&g?Rd({abiItem:f,args:g,includeFunctionName:!1,includeName:!1}):void 0;a=[E?`Error: ${E}`:"",v&&v!=="()"?`       ${[...Array(p?.length??0).keys()].map(()=>" ").join("")}${v}`:""]}}catch(f){s=f}else i&&(u=i);let l;s instanceof cd&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(u&&u!=="execution reverted"||l?[`The contract function "${n}" reverted with the following ${l?"signature":"reason"}:`,u||l].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=u,this.signature=l}}class e1 extends D{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class tc extends D{constructor({data:t,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const t1=3;function Ri(e,{abi:t,address:r,args:n,docsPath:i,functionName:s,sender:o}){const{code:a,data:u,message:l,shortMessage:f}=e instanceof tc?e:e instanceof D?e.walk(g=>"data"in g)||e.walk():{};let p=e;return e instanceof Io?p=new e1({functionName:s}):a===t1&&(u||l||f)&&(p=new Xa({abi:t,data:typeof u=="object"?u.data:u,functionName:s,message:f??l})),new Qb(p,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}class bs extends D{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class r1 extends D{constructor(t,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:f,to:p,value:g}){const E=gs({from:r?.address,to:p,value:typeof g<"u"&&`${ec(g)} ${i?.nativeCurrency.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${At(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${At(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${At(l)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",E].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class $n extends D{constructor({cause:t,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty($n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class mn extends D{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${At(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(mn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Qa extends D{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${At(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Qa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ro extends D{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(ro,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class no extends D{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(no,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class eu extends D{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(eu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class tu extends D{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(tu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class ru extends D{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(ru,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class nu extends D{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(nu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class iu extends D{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(iu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ki extends D{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${At(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${At(n)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(ki,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class n1 extends D{constructor({cause:t}){super(`An error occurred while executing: ${t?.message}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class mi extends D{constructor({body:t,details:r,headers:n,status:i,url:s}){super("HTTP request failed.",{details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${So(s)}`,t&&`Request body: ${ht(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=i,this.url=s}}class i1 extends D{constructor({body:t,details:r,url:n}){super("WebSocket request failed.",{details:r,metaMessages:[`URL: ${So(n)}`,`Request body: ${ht(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Mo extends D{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${So(n)}`,`Request body: ${ht(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class su extends D{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${So(r)}`,`Request body: ${ht(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const s1=-1;class wt extends D{constructor(t,{code:r,docsPath:n,metaMessages:i,shortMessage:s}){super(s,{cause:t,docsPath:n,metaMessages:i||t?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Mo?t.code:r??s1}}class ii extends wt{constructor(t,r){super(t,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Pi extends wt{constructor(t){super(t,{code:Pi.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Mi extends wt{constructor(t){super(t,{code:Mi.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Mi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Oi extends wt{constructor(t){super(t,{code:Oi.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bi extends wt{constructor(t){super(t,{code:Bi.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ci extends wt{constructor(t){super(t,{code:Ci.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Br extends wt{constructor(t){super(t,{code:Br.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $i extends wt{constructor(t){super(t,{code:$i.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty($i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ui extends wt{constructor(t){super(t,{code:Ui.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Ui,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Vn extends wt{constructor(t){super(t,{code:Vn.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ji extends wt{constructor(t){super(t,{code:ji.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Fi extends wt{constructor(t){super(t,{code:Fi.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Li extends wt{constructor(t){super(t,{code:Li.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Li,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Di extends ii{constructor(t){super(t,{code:Di.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Di,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Yi extends ii{constructor(t){super(t,{code:Yi.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class zi extends ii{constructor(t){super(t,{code:zi.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(zi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Gi extends ii{constructor(t){super(t,{code:Gi.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class qi extends ii{constructor(t){super(t,{code:qi.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vi extends ii{constructor(t){super(t,{code:Vi.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Vi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class o1 extends wt{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function rc(e){return e instanceof Vn||e instanceof Br||e instanceof Mo&&e.code===$n.code}function nc(e,t){const r=e.details.toLowerCase();return mn.nodeMessage.test(r)?new mn({cause:e,maxFeePerGas:t?.maxFeePerGas}):Qa.nodeMessage.test(r)?new Qa({cause:e,maxFeePerGas:t?.maxFeePerGas}):ro.nodeMessage.test(r)?new ro({cause:e,nonce:t?.nonce}):no.nodeMessage.test(r)?new no({cause:e,nonce:t?.nonce}):eu.nodeMessage.test(r)?new eu({cause:e,nonce:t?.nonce}):tu.nodeMessage.test(r)?new tu({cause:e}):ru.nodeMessage.test(r)?new ru({cause:e,gas:t?.gas}):nu.nodeMessage.test(r)?new nu({cause:e,gas:t?.gas}):iu.nodeMessage.test(r)?new iu({cause:e}):ki.nodeMessage.test(r)?new ki({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):r.match($n.nodeMessage)||"code"in e.cause&&e.cause?.code===$n.code?new $n({cause:e,message:e.cause.details||e.details}):new n1({cause:e.cause.cause})}function a1(e,{docsPath:t,...r}){let n=e;return rc(e)&&(n=nc(e,r)),new r1(n,{docsPath:t,...r})}function ic(e,{format:t}){return t?Object.keys(t({})).reduce((n,i)=>(e?.hasOwnProperty(i)&&(n[i]=e[i]),n),{}):{}}function sc(e){return{...e,gas:typeof e.gas<"u"?ue(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?ue(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?ue(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?ue(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?ue(e.nonce):void 0,value:typeof e.value<"u"?ue(e.value):void 0}}function Oo(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=e,o=t?Dt(t):void 0;if(o&&!Pt(o.address))throw new jt({address:o.address});if(s&&!Pt(s))throw new jt({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Hb;if(n&&n>2n**256n-1n)throw new mn({maxFeePerGas:n});if(i&&n&&i>n)throw new ki({maxFeePerGas:n,maxPriorityFeePerGas:i})}class u1 extends D{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Cd={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function $d(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?it(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?it(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Cd[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function Ud(e){const t=e.transactions?.map(r=>typeof r=="string"?r:$d(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Zi(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:i}={}){const s=n??"latest",o=i??!1,a=r!==void 0?ue(r):void 0;let u=null;if(t?u=await e.request({method:"eth_getBlockByHash",params:[t,o]}):u=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]}),!u)throw new u1({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||Ud)(u)}async function jd(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Fd(e,{address:t,blockTag:r="latest",blockNumber:n}){const i=await e.request({method:"eth_getTransactionCount",params:[t,n?ue(n):r]});return it(i)}async function Ld(e,t){const{account:r,chain:n=e.chain,gas:i,gasPrice:s,maxFeePerGas:o,maxPriorityFeePerGas:a,nonce:u}=t;if(!r)throw new bs;const l=Dt(r),f=await Zi(e,{blockTag:"latest"}),p={...t,from:l.address};if(typeof u>"u"&&(p.nonce=await Fd(e,{address:l.address,blockTag:"pending"})),typeof f.baseFeePerGas=="bigint"&&typeof s>"u"){let g=1500000000n;if(typeof n?.fees?.defaultPriorityFee<"u"&&(g=typeof n.fees.defaultPriorityFee=="bigint"?n.fees.defaultPriorityFee:await n.fees.defaultPriorityFee({block:f,request:p})),typeof o>"u")p.maxPriorityFeePerGas=a??g,p.maxFeePerGas=f.baseFeePerGas*120n/100n+p.maxPriorityFeePerGas;else{if(typeof a>"u"&&o<g)throw new D("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");p.maxFeePerGas=o,p.maxPriorityFeePerGas=a??g}}else if(typeof s>"u"){if(typeof o<"u"||typeof a<"u")throw new D("Chain does not support EIP-1559 fees.");p.gasPrice=await jd(e)*120n/100n}return typeof i>"u"&&(p.gas=await oc(e,{...p,account:{address:l.address,type:"json-rpc"}})),Oo(p),p}async function oc(e,t){const r=t.account??e.account;if(!r)throw new bs({docsPath:"/docs/actions/public/estimateGas"});const n=Dt(r);try{const{accessList:i,blockNumber:s,blockTag:o,data:a,gas:u,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,to:E,value:v,...x}=n.type==="local"?await Ld(e,t):t,R=(s?ue(s):void 0)||o;Oo(t);const k=e.chain?.formatters?.transactionRequest?.format||sc,M=k({...ic(x,{format:k}),from:n.address,accessList:i,data:a,gas:u,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,to:E,value:v}),$=await e.request({method:"eth_estimateGas",params:R?[M,R]:[M]});return BigInt($)}catch(i){throw a1(i,{...t,account:n,chain:e.chain})}}async function Dd(e,{abi:t,address:r,args:n,functionName:i,...s}){const o=Yr({abi:t,args:n,functionName:i});try{return await oc(e,{data:o,to:r,...s})}catch(a){const u=s.account?Dt(s.account):void 0;throw Ri(a,{abi:t,address:r,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:u?.address})}}const fa="/docs/contract/decodeFunctionResult";function si({abi:e,args:t,functionName:r,data:n}){let i=e[0];if(r&&(i=ys({abi:e,args:t,name:r}),!i))throw new Qs(r,{docsPath:fa});if(i.type!=="function")throw new Qs(void 0,{docsPath:fa});if(!i.outputs)throw new vg(i.name,{docsPath:fa});const s=yn(i.outputs,n);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const ou=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Yd=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],zd=[...Yd,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],c1=[...Yd,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],yl=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ml=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],l1=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],f1="0x82ad56cb";class au extends D{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class d1 extends D{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class h1 extends D{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Gd extends D{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class ac extends D{constructor({chainId:t}){super(`Chain ID "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function p1({chain:e,currentChainId:t}){if(!e)throw new h1;if(t!==e.id)throw new d1({chain:e,currentChainId:t})}function y1(e,t={}){const{fees:r=e.fees,formatters:n=e.formatters,serializers:i=e.serializers}=t;return{...e,fees:r,formatters:n,serializers:i}}function oi({blockNumber:e,chain:t,contract:r}){const n=t?.contracts?.[r];if(!n)throw new au({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new au({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function m1(e,{docsPath:t,...r}){let n=e;return rc(e)&&(n=nc(e,r)),new Bd(n,{docsPath:t,...r})}const da=new Map;function uc({fn:e,id:t,shouldSplitBatch:r,wait:n=0}){const i=async()=>{const l=a();s();const f=l.map(({args:p})=>p);f.length!==0&&e(f).then(p=>{l.forEach(({pendingPromise:g},E)=>g.resolve?.([p[E],p]))}).catch(p=>{l.forEach(({pendingPromise:g})=>g.reject?.(p))})},s=()=>da.delete(t),o=()=>a().map(({args:l})=>l),a=()=>da.get(t)||[],u=l=>da.set(t,[...a(),l]);return{flush:s,async schedule(l){const f={},p=new Promise((v,x)=>{f.resolve=v,f.reject=x});return r?.([...o(),l])&&i(),a().length>0?(u({args:l,pendingPromise:f}),p):(u({args:l,pendingPromise:f}),setTimeout(i,n),p)}}}async function Bo(e,t){const{account:r,batch:n=!!e.batch?.multicall,blockNumber:i,blockTag:s="latest",accessList:o,data:a,gas:u,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,to:E,value:v,...x}=t,I=r?Dt(r):void 0;try{Oo(t);const k=(i?ue(i):void 0)||s,M=e.chain?.formatters?.transactionRequest?.format||sc,$=M({...ic(x,{format:M}),from:I?.address,accessList:o,data:a,gas:u,gasPrice:l,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,to:E,value:v});if(n&&g1({request:$}))try{return await b1(e,{...$,blockNumber:i,blockTag:s})}catch(C){if(!(C instanceof Gd)&&!(C instanceof au))throw C}const B=await e.request({method:"eth_call",params:k?[$,k]:[$]});return B==="0x"?{data:void 0}:{data:B}}catch(R){const k=v1(R),{offchainLookup:M,offchainLookupSignature:$}=await Ql(()=>import("./ccip-a2d45d8f.js"),[]);if(k?.slice(0,10)===$&&E)return{data:await M(e,{data:k,to:E})};throw m1(R,{...t,account:I,chain:e.chain})}}function g1({request:e}){const{data:t,to:r,...n}=e;return!(!t||t.startsWith(f1)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function b1(e,t){const{batchSize:r=1024,wait:n=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:u}=t;let l=a;if(!l){if(!e.chain)throw new Gd;l=oi({blockNumber:i,chain:e.chain,contract:"multicall3"})}const p=(i?ue(i):void 0)||s,{schedule:g}=uc({id:`${e.uid}.${p}`,wait:n,shouldSplitBatch(x){return x.reduce((R,{data:k})=>R+(k.length-2),0)>r*2},fn:async x=>{const I=x.map(M=>({allowFailure:!0,callData:M.data,target:M.to})),R=Yr({abi:ou,args:[I],functionName:"aggregate3"}),k=await e.request({method:"eth_call",params:[{data:R,to:l},p]});return si({abi:ou,args:[I],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:E,success:v}]=await g({data:o,to:u});if(!v)throw new tc({data:E});return E==="0x"?{data:void 0}:{data:E}}function v1(e){if(!(e instanceof D))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function yr(e,{abi:t,address:r,args:n,functionName:i,...s}){const o=Yr({abi:t,args:n,functionName:i});try{const{data:a}=await Bo(e,{data:o,to:r,...s});return si({abi:t,args:n,functionName:i,data:a||"0x"})}catch(a){throw Ri(a,{abi:t,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:i})}}async function qd(e,{abi:t,address:r,args:n,dataSuffix:i,functionName:s,...o}){const a=o.account?Dt(o.account):void 0,u=Yr({abi:t,args:n,functionName:s});try{const{data:l}=await Bo(e,{batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...o});return{result:si({abi:t,args:n,functionName:s,data:l||"0x"}),request:{abi:t,address:r,args:n,dataSuffix:i,functionName:s,...o}}}catch(l){throw Ri(l,{abi:t,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:s,sender:a?.address})}}const ha=new Map,gl=new Map;let w1=0;function ai(e,t,r){const n=++w1,i=()=>ha.get(e)||[],s=()=>{const f=i();ha.set(e,f.filter(p=>p.id!==n))},o=()=>{const f=gl.get(e);i().length===1&&f&&f(),s()},a=i();if(ha.set(e,[...a,{id:n,fns:t}]),a&&a.length>0)return o;const u={};for(const f in t)u[f]=(...p)=>{const g=i();g.length!==0&&g.forEach(E=>E.fns[f]?.(...p))};const l=r(u);return typeof l=="function"&&gl.set(e,l),o}async function io(e){return new Promise(t=>setTimeout(t,e))}function vs(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const u=await r?.(a)??n;await io(u);const l=async()=>{i&&(await e({unpoll:s}),await io(n),l())};l()})(),s}const x1=new Map,E1=new Map;function A1(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=t(e,x1),n=t(e,E1);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function T1(e,{cacheKey:t,cacheTime:r=1/0}){const n=A1(t),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=e(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const _1=e=>`blockNumber.${e}`;async function ws(e,{cacheTime:t=e.cacheTime,maxAge:r}={}){const n=await T1(()=>e.request({method:"eth_blockNumber"}),{cacheKey:_1(e.uid),cacheTime:r??t});return BigInt(n)}const bl="/docs/contract/decodeEventLog";function xs({abi:e,data:t,strict:r,topics:n}){const i=r??!0,[s,...o]=n;if(!s)throw new gg({docsPath:bl});const a=e.find(v=>v.type==="event"&&s===Td(Fr(v)));if(!(a&&"name"in a)||a.type!=="event")throw new bg(s,{docsPath:bl});const{name:u,inputs:l}=a,f=l?.some(v=>!("name"in v&&v.name));let p=f?[]:{};const g=l.filter(v=>"indexed"in v&&v.indexed);if(o.length>0)for(let v=0;v<g.length;v++){const x=g[v],I=o[v];if(!I)throw new ti({abiItem:a,param:x});p[x.name||v]=S1({param:x,value:I})}const E=l.filter(v=>!("indexed"in v&&v.indexed));if(E.length>0){if(t&&t!=="0x")try{const v=yn(E,t);if(v)if(f)p=[...p,...v];else for(let x=0;x<E.length;x++)p[E[x].name]=v[x]}catch(v){if(i)throw v instanceof Hu?new hn({abiItem:a,data:v.data,params:v.params,size:v.size}):v}else if(i)throw new hn({abiItem:a,data:"0x",params:E,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function S1({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(yn([e],t)||[])[0]}function Ft(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function Co(e,{filter:t}){const r="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(i=>{if(typeof i=="string")return i;try{const{eventName:s,args:o}="abi"in t&&t.abi?xs({abi:t.abi,data:i.data,topics:i.topics,strict:r}):{eventName:void 0,args:void 0};return Ft(i,{args:o,eventName:s})}catch(s){let o,a;if(s instanceof hn||s instanceof ti){if("strict"in t&&t.strict)return;o=s.abiItem.name,a=s.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return Ft(i,{args:a?[]:{},eventName:o})}}).filter(Boolean)}async function cc(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:u}={}){const l=u??!1,f=o??(s?[s]:void 0);let p=[];f&&(p=[f.flatMap(E=>ms({abi:[E],eventName:E.name,args:a}))],s&&(p=p[0]));let g;return r?g=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:r}]}):g=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:typeof n=="bigint"?ue(n):n,toBlock:typeof i=="bigint"?ue(i):i}]}),g.map(E=>{try{const{eventName:v,args:x}=f?xs({abi:f,data:E.data,topics:E.topics,strict:l}):{eventName:void 0,args:void 0};return Ft(E,{args:x,eventName:v})}catch(v){let x,I;if(v instanceof hn||v instanceof ti){if(l)return;x=v.abiItem.name,I=v.abiItem.inputs?.some(R=>!("name"in R&&R.name))}return Ft(E,{args:I?[]:{},eventName:x})}}).filter(Boolean)}async function $o(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Vd(e,{abi:t,address:r,args:n,batch:i=!0,eventName:s,onError:o,onLogs:a,poll:u,pollingInterval:l=e.pollingInterval,strict:f}){return(typeof u<"u"?u:e.transport.type!=="webSocket")?(()=>{const v=ht(["watchContractEvent",r,n,i,e.uid,s,l]),x=f??!1;return ai(v,{onLogs:a,onError:o},I=>{let R,k,M=!1;const $=vs(async()=>{if(!M){try{k=await Qu(e,{abi:t,address:r,args:n,eventName:s,strict:x})}catch{}M=!0;return}try{let B;if(k)B=await Co(e,{filter:k});else{const C=await ws(e);R&&R!==C?B=await cc(e,{address:r,args:n,fromBlock:R+1n,toBlock:C,event:ys({abi:t,name:s})}):B=[],R=C}if(B.length===0)return;i?I.onLogs(B):B.forEach(C=>I.onLogs([C]))}catch(B){k&&B instanceof Br&&(M=!1),I.onError?.(B)}},{emitOnBegin:!0,interval:l});return async()=>{k&&await $o(e,{filter:k}),$()}})})():(()=>{let v=!0,x=()=>v=!1;return(async()=>{try{const I=s?ms({abi:t,eventName:s,args:n}):[],{unsubscribe:R}=await e.transport.subscribe({params:["logs",{address:r,topics:I}],onData(k){if(!v)return;const M=k.result;try{const{eventName:$,args:B}=xs({abi:t,data:M.data,topics:M.topics,strict:f}),C=Ft(M,{args:B,eventName:$});a([C])}catch($){let B,C;if($ instanceof hn||$ instanceof ti){if(f)return;B=$.abiItem.name,C=$.abiItem.inputs?.some(V=>!("name"in V&&V.name))}const W=Ft(M,{args:C?[]:{},eventName:B});a([W])}},onError(k){o?.(k)}});x=R,v||x()}catch(I){o?.(I)}})(),x})()}function I1(e,{docsPath:t,...r}){let n=e;return rc(e)&&(n=nc(e,r)),new Xb(n,{docsPath:t,...r})}async function so(e){const t=await e.request({method:"eth_chainId"});return it(t)}async function lc(e,t){const{account:r=e.account,chain:n=e.chain,accessList:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:f,to:p,value:g,...E}=t;if(!r)throw new bs({docsPath:"/docs/actions/wallet/sendTransaction"});const v=Dt(r);try{Oo(t);let x;if(n!==null&&(x=await so(e),p1({currentChainId:x,chain:n})),v.type==="local"){const k=await Ld(e,{account:v,accessList:i,chain:n,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:f,to:p,value:g,...E});x||(x=await so(e));const M=n?.serializers?.transaction,$=await v.signTransaction({...k,chainId:x},{serializer:M});return await e.request({method:"eth_sendRawTransaction",params:[$]})}const I=n?.formatters?.transactionRequest?.format||sc,R=I({...ic(E,{format:I}),accessList:i,data:s,from:v.address,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:f,to:p,value:g});return await e.request({method:"eth_sendTransaction",params:[R]})}catch(x){throw I1(x,{...t,account:v,chain:t.chain||void 0})}}async function Zd(e,{abi:t,address:r,args:n,dataSuffix:i,functionName:s,...o}){const a=Yr({abi:t,args:n,functionName:s});return await lc(e,{data:`${a}${i?i.replace("0x",""):""}`,to:r,...o})}function N1({abi:e,address:t,publicClient:r,walletClient:n}){const i=r!=null,s=n!=null,o={};let a=!1,u=!1,l=!1;for(const f of e)if(f.type==="function"?f.stateMutability==="view"||f.stateMutability==="pure"?a=!0:u=!0:f.type==="event"&&(l=!0),a&&u&&l)break;return i&&(a&&(o.read=new Proxy({},{get(f,p){return(...g)=>{const{args:E,options:v}=Bs(g);return yr(r,{abi:e,address:t,functionName:p,args:E,...v})}}})),u&&(o.simulate=new Proxy({},{get(f,p){return(...g)=>{const{args:E,options:v}=Bs(g);return qd(r,{abi:e,address:t,functionName:p,args:E,...v})}}})),l&&(o.createEventFilter=new Proxy({},{get(f,p){return(...g)=>{const E=e.find(I=>I.type==="event"&&I.name===p),{args:v,options:x}=vl(g,E);return Qu(r,{abi:e,address:t,eventName:p,args:v,...x})}}}),o.watchEvent=new Proxy({},{get(f,p){return(...g)=>{const E=e.find(I=>I.type==="event"&&I.name===p),{args:v,options:x}=vl(g,E);return Vd(r,{abi:e,address:t,eventName:p,args:v,...x})}}}))),s&&u&&(o.write=new Proxy({},{get(f,p){return(...g)=>{const{args:E,options:v}=Bs(g);return Zd(n,{abi:e,address:t,functionName:p,args:E,...v})}}})),(i||s)&&u&&(o.estimateGas=new Proxy({},{get(f,p){return(...g)=>{const{args:E,options:v}=Bs(g);return Dd(r??n,{abi:e,address:t,functionName:p,args:E,...v,account:v.account??n.account})}}})),o.address=t,o.abi=e,o}function Bs(e){const t=e.length&&Array.isArray(e[0]),r=t?e[0]:[],n=(t?e[1]:e[0])??{};return{args:r,options:n}}function vl(e,t){let r=!1;Array.isArray(e[0])?r=!0:e.length===1?r=t.inputs.some(s=>s.indexed):e.length===2&&(r=!0);const n=r?e[0]:void 0,i=(r?e[1]:e[0])??{};return{args:n,options:i}}async function R1(e,{chain:t}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:ue(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]})}function k1(e){const t=ft(`0x${e.substring(4)}`).substring(26);return Po(`0x${t}`)}const uu=256;let Cs=uu,$s;function P1(e=11){if(!$s||Cs+e>uu*2){$s="",Cs=0;for(let t=0;t<uu;t++)$s+=(256+Math.random()*256|0).toString(16).substring(1)}return $s.substring(Cs,Cs+++e)}function Hd(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,key:n="base",name:i="Base Client",pollingInterval:s=4e3,type:o="base"}=e,a=e.chain,u=e.account?Dt(e.account):void 0,{config:l,request:f,value:p}=e.transport({chain:a,pollingInterval:s}),g={...l,...p},E={account:u,batch:t,cacheTime:r,chain:a,key:n,name:i,pollingInterval:s,request:f,transport:g,type:o,uid:P1()};function v(x){return I=>{const R=I(x);for(const M in E)delete R[M];const k={...x,...R};return Object.assign(k,{extend:v(k)})}}return Object.assign(E,{extend:v(E)})}function Wd(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const u=async({error:l})=>{const f=typeof t=="function"?t({count:a,error:l}):t;f&&await io(f),o({count:a+1})};try{const l=await e();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return u({error:l});s(l)}};o()})}const Kd=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof mi&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function M1(e,{retryDelay:t=150,retryCount:r=3}={}){return async n=>Wd(async()=>{try{return await e(n)}catch(i){const s=i;switch(s.code){case Pi.code:throw new Pi(s);case Mi.code:throw new Mi(s);case Oi.code:throw new Oi(s);case Bi.code:throw new Bi(s);case Ci.code:throw new Ci(s);case Br.code:throw new Br(s);case $i.code:throw new $i(s);case Ui.code:throw new Ui(s);case Vn.code:throw new Vn(s);case ji.code:throw new ji(s);case Fi.code:throw new Fi(s);case Li.code:throw new Li(s);case Di.code:throw new Di(s);case Yi.code:throw new Yi(s);case zi.code:throw new zi(s);case Gi.code:throw new Gi(s);case qi.code:throw new qi(s);case Vi.code:throw new Vi(s);default:throw i instanceof D?i:new o1(s)}}},{delay:({count:i,error:s})=>{if(s&&s instanceof mi){const o=s?.headers?.get("Retry-After");if(o?.match(/\d/))return parseInt(o)*1e3}return~~(1<<i)*t},retryCount:r,shouldRetry:({error:i})=>!Kd(i)})}function fc({key:e,name:t,request:r,retryCount:n=3,retryDelay:i=150,timeout:s,type:o},a){return{config:{key:e,name:t,request:r,retryCount:n,retryDelay:i,timeout:s,type:o},request:M1(r,{retryCount:n,retryDelay:i}),value:a}}function O1(e,t={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,retryCount:s,retryDelay:o}=t;return({chain:a,pollingInterval:u=4e3,timeout:l})=>{let f=e,p=()=>{};const g=fc({key:r,name:n,async request({method:E,params:v}){const x=async(I=0)=>{const R=f[I]({chain:a,retryCount:0,timeout:l});try{const k=await R.request({method:E,params:v});return p({method:E,params:v,response:k,transport:R,status:"success"}),k}catch(k){if(p({error:k,method:E,params:v,transport:R,status:"error"}),Kd(k)||I===f.length-1)throw k;return x(I+1)}};return x()},retryCount:s,retryDelay:o,type:"fallback"},{onResponse:E=>p=E,transports:f.map(E=>E({chain:a,retryCount:0}))});if(i){const E=typeof i=="object"?i:{};B1({chain:a,interval:E.interval??u,onTransports:v=>f=v,sampleCount:E.sampleCount,timeout:E.timeout,transports:f,weights:E.weights})}return g}}function B1({chain:e,interval:t=4e3,onTransports:r,sampleCount:n=10,timeout:i=1e3,transports:s,weights:o={}}){const{stability:a=.7,latency:u=.3}=o,l=[],f=async()=>{const p=await Promise.all(s.map(async v=>{const x=v({chain:e,retryCount:0,timeout:i}),I=Date.now();let R,k;try{await x.request({method:"net_listening"}),k=1}catch{k=0}finally{R=Date.now()}return{latency:R-I,success:k}}));l.push(p),l.length>n&&l.shift();const g=Math.max(...l.map(v=>Math.max(...v.map(({latency:x})=>x)))),E=s.map((v,x)=>{const I=l.map(B=>B[x].latency),k=1-I.reduce((B,C)=>B+C,0)/I.length/g,M=l.map(B=>B[x].success),$=M.reduce((B,C)=>B+C,0)/M.length;return $===0?[0,x]:[u*k+a*$,x]}).sort((v,x)=>x[0]-v[0]);r(E.map(([,v])=>s[v])),await io(t),f()};f()}class Jd extends D{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Xd(e,{errorInstance:t,timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(t)},r)),i(await e({signal:a?.signal}))}catch(a){a.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}let cu=0;async function C1(e,{body:t,fetchOptions:r={},timeout:n=1e4}){const{headers:i,method:s,signal:o}=r;try{const a=await Xd(async({signal:l})=>await fetch(e,{...r,body:Array.isArray(t)?ht(t.map(p=>({jsonrpc:"2.0",id:cu++,...p}))):ht({jsonrpc:"2.0",id:cu++,...t}),headers:{...i,"Content-Type":"application/json"},method:s||"POST",signal:o||(n>0?l:void 0)}),{errorInstance:new su({body:t,url:e}),timeout:n,signal:!0});let u;if(a.headers.get("Content-Type")?.startsWith("application/json")?u=await a.json():u=await a.text(),!a.ok)throw new mi({body:t,details:ht(u.error)||a.statusText,headers:a.headers,status:a.status,url:e});return u}catch(a){throw a instanceof mi||a instanceof su?a:new mi({body:t,details:a.message,url:e})}}const pa=new Map;async function ya(e){const t=new URL(e),r=t.toString();let n=pa.get(r);if(n)return n;const{schedule:i}=uc({id:r,fn:async()=>{let a=await Ql(()=>import("./browser-3852a342.js"),[]);a.default?.constructor?a=a.default:a=a.WebSocket;const u=new a(t),l=new Map,f=new Map,p=({data:E})=>{const v=JSON.parse(E),x=v.method==="eth_subscription",I=x?v.params.subscription:v.id,R=x?f:l,k=R.get(I);k&&k({data:E}),x||R.delete(I)},g=()=>{pa.delete(r),u.removeEventListener("close",g),u.removeEventListener("message",p)};return u.addEventListener("close",g),u.addEventListener("message",p),u.readyState===a.CONNECTING&&await new Promise((E,v)=>{u&&(u.onopen=E,u.onerror=v)}),n=Object.assign(u,{requests:l,subscriptions:f}),pa.set(r,n),[n]}}),[s,[o]]=await i();return o}function $1(e,{body:t,onResponse:r}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new i1({body:t,url:e.url,details:"Socket is closed."});const n=cu++,i=({data:s})=>{const o=JSON.parse(s);typeof o.id=="number"&&n!==o.id||(r?.(o),t.method==="eth_subscribe"&&typeof o.result=="string"&&e.subscriptions.set(o.result,i),t.method==="eth_unsubscribe"&&e.subscriptions.delete(t.params?.[0]))};return e.requests.set(n,i),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:n})),e}async function U1(e,{body:t,timeout:r=1e4}){return Xd(()=>new Promise(n=>Un.webSocket(e,{body:t,onResponse:n})),{errorInstance:new su({body:t,url:e.url}),timeout:r})}const Un={http:C1,webSocket:$1,webSocketAsync:U1};function j1(e,t={}){const{batch:r,fetchOptions:n,key:i="http",name:s="HTTP JSON-RPC",retryDelay:o}=t;return({chain:a,retryCount:u,timeout:l})=>{const{batchSize:f=1e3,wait:p=0}=typeof r=="object"?r:{},g=t.retryCount??u,E=l??t.timeout??1e4,v=e||a?.rpcUrls.default.http[0];if(!v)throw new Jd;return fc({key:i,name:s,async request({method:x,params:I}){const R={method:x,params:I},{schedule:k}=uc({id:`${e}`,wait:p,shouldSplitBatch(C){return C.length>f},fn:C=>Un.http(v,{body:C,fetchOptions:n,timeout:E})}),M=async C=>r?k(C):[await Un.http(v,{body:C,fetchOptions:n,timeout:E})],[{error:$,result:B}]=await M(R);if($)throw new Mo({body:R,error:$,url:v});return B},retryCount:g,retryDelay:o,timeout:E,type:"http"},{url:e})}}function dc(e,t){if(!(e instanceof D))return!1;const r=e.walk(n=>n instanceof Xa);return r instanceof Xa?!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.reason?.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&r.reason===Nd[50]):!1}const F1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,L1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Qd({domain:e,message:t,primaryType:r,types:n}){const i=n,s=(o,a)=>{for(const u of o){const{name:l,type:f}=u,p=f,g=a[l],E=p.match(L1);if(E&&(typeof g=="number"||typeof g=="bigint")){const[I,R,k]=E;ue(g,{signed:R==="int",size:parseInt(k)/8})}if(p==="address"&&typeof g=="string"&&!Pt(g))throw new jt({address:g});const v=p.match(F1);if(v){const[I,R]=v;if(R&&st(g)!==parseInt(R))throw new wg({expectedSize:parseInt(R),givenSize:st(g)})}const x=i[p];x&&s(x,g)}};if(i.EIP712Domain&&e&&s(i.EIP712Domain,e),r!=="EIP712Domain"){const o=i[r];s(o,t)}}const ma="/docs/contract/encodeDeployData";function eh({abi:e,args:t,bytecode:r}){if(!t||t.length===0)return r;const n=e.find(s=>"type"in s&&s.type==="constructor");if(!n)throw new hg({docsPath:ma});if(!("inputs"in n))throw new ll({docsPath:ma});if(!n.inputs||n.inputs.length===0)throw new ll({docsPath:ma});const i=ni(n.inputs,t);return Tn([r,i])}function hc(e,t){const r=t||"hex";return D1(rh(th(e)),r)}function th(e){return Array.isArray(e)?e.map(th):typeof e=="string"?Jt(e):e}function D1(e,t="bytes"){return t==="hex"?qn(e):e}function rh(e){if(Array.isArray(e)){const t=Xt(e.map(rh));return new Uint8Array([...wl(t.length,192),...t])}return e.length===1&&e[0]<128?e:new Uint8Array([...wl(e.length,128),...e])}function wl(e,t){return e<56?[t+e]:[Jt(e).length+t+55,...Jt(e)]}const Y1={"0x0":"reverted","0x1":"success"};function z1(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>Ft(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?it(e.transactionIndex):null,status:e.status?Y1[e.status]:null,type:e.type?Cd[e.type]||e.type:null}}function nh({domain:e,message:t,primaryType:r,types:n}){const i=typeof e>"u"?{}:e,s={EIP712Domain:[typeof i?.name=="string"&&{name:"name",type:"string"},i?.version&&{name:"version",type:"string"},typeof i?.chainId=="number"&&{name:"chainId",type:"uint256"},i?.verifyingContract&&{name:"verifyingContract",type:"address"},i?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...n};Qd({domain:i,message:t,primaryType:r,types:s});const o=["0x1901"];return i&&o.push(G1({domain:i,types:s})),r!=="EIP712Domain"&&o.push(ih({data:t,primaryType:r,types:s})),ft(Xt(o))}function G1({domain:e,types:t}){return ih({data:e,primaryType:"EIP712Domain",types:t})}function ih({data:e,primaryType:t,types:r}){const n=sh({data:e,primaryType:t,types:r});return ft(n)}function sh({data:e,primaryType:t,types:r}){const n=[{type:"bytes32"}],i=[q1({primaryType:t,types:r})];for(const s of r[t]){const[o,a]=ah({types:r,name:s.name,type:s.type,value:e[s.name]});n.push(o),i.push(a)}return ni(n,i)}function q1({primaryType:e,types:t}){const r=de(V1({primaryType:e,types:t}));return ft(r)}function V1({primaryType:e,types:t}){let r="";const n=oh({primaryType:e,types:t});n.delete(e);const i=[e,...Array.from(n).sort()];for(const s of i)r+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function oh({primaryType:e,types:t},r=new Set){const i=e.match(/^\w*/u)?.[0];if(r.has(i)||t[i]===void 0)return r;r.add(i);for(const s of t[i])oh({primaryType:s.type,types:t},r);return r}function ah({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},ft(sh({data:n,primaryType:r,types:e}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},ft(n)];if(r==="string")return[{type:"bytes32"},ft(de(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>ah({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},ft(ni(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}function uh(e,t){const r=(()=>typeof e=="string"?fr(e):e.raw instanceof Uint8Array?e.raw:Jt(e.raw))(),n=fr(`Ethereum Signed Message:
${r.length}`);return ft(Xt([n,r]),t)}function Z1(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Kb({transaction:e})}function H1(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new ac({chainId:t});if(s&&!Pt(s))throw new jt({address:s});if(n)throw new D("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(i&&i>2n**256n-1n)throw new mn({maxFeePerGas:i});if(r&&i&&r>i)throw new ki({maxFeePerGas:i,maxPriorityFeePerGas:r})}function W1(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new ac({chainId:t});if(s&&!Pt(s))throw new jt({address:s});if(r||i)throw new D("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new mn({maxFeePerGas:n})}function K1(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s,accessList:o}=e;if(s&&!Pt(s))throw new jt({address:s});if(typeof t<"u"&&t<=0)throw new ac({chainId:t});if(r||i)throw new D("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new mn({maxFeePerGas:n});if(o)throw new D("`accessList` is not a valid Legacy Transaction attribute.")}function ch(e){if(!e||e.length===0)return[];const t=[];for(let r=0;r<e.length;r++){const{address:n,storageKeys:i}=e[r];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Jb({storageKey:i[s]});if(!Pt(n))throw new jt({address:n});t.push([n,i])}return t}function J1(e,t){const r=Z1(e);return r==="eip1559"?X1(e,t):r==="eip2930"?Q1(e,t):ev(e,t)}function X1(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:l,data:f}=e;H1(e);const p=ch(l),g=[de(r),i?de(i):"0x",u?de(u):"0x",a?de(a):"0x",n?de(n):"0x",s??"0x",o?de(o):"0x",f??"0x",p];return t&&g.push(t.v===27n?"0x":de(1),lr(t.r),lr(t.s)),Tn(["0x02",hc(g)])}function Q1(e,t){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:u,gasPrice:l}=e;W1(e);const f=ch(u),p=[de(r),s?de(s):"0x",l?de(l):"0x",n?de(n):"0x",o??"0x",a?de(a):"0x",i??"0x",f];return t&&p.push(t.v===27n?"0x":de(1),t.r,t.s),Tn(["0x01",hc(p)])}function ev(e,t){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:u}=e;K1(e);let l=[s?de(s):"0x",u?de(u):"0x",n?de(n):"0x",o??"0x",a?de(a):"0x",i??"0x"];if(t){let f=27n+(t.v===27n?0n:1n);if(r>0)f=BigInt(r*2)+BigInt(35n+t.v-27n);else if(t.v!==f)throw new Wb({v:t.v});l=[...l,de(f),t.r,t.s]}else r>0&&(l=[...l,de(r),"0x","0x"]);return hc(l)}function lh(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Kt(t)?t:null}function Gs(e){let t=new Uint8Array(32).fill(0);if(!e)return qn(t);const r=e.split(".");for(let n=r.length-1;n>=0;n-=1){const i=lh(r[n]),s=i?Jt(i):ft(fr(r[n]),"bytes");t=ft(Xt([t,s]),"bytes")}return qn(t)}function tv(e){return`[${e.slice(2)}]`}function rv(e){const t=new Uint8Array(32).fill(0);return e?lh(e)||ft(fr(e)):qn(t)}function Uo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const r=new Uint8Array(fr(t).byteLength+2);let n=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=fr(i[s]);o.byteLength>255&&(o=fr(tv(rv(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function nv(e,{blockNumber:t,blockTag:r,coinType:n,name:i,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=oi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const a=Yr({abi:ml,functionName:"addr",...n!=null?{args:[Gs(i),BigInt(n)]}:{args:[Gs(i)]}}),u=await yr(e,{address:o,abi:zd,functionName:"resolve",args:[de(Uo(i)),a],blockNumber:t,blockTag:r});if(u[0]==="0x")return null;const l=lr(si({abi:ml,args:n!=null?[Gs(i),BigInt(n)]:void 0,functionName:"addr",data:u[0]}));return l==="0x"||lr(l)==="0x00"?null:l}catch(a){if(dc(a,"resolve"))return null;throw a}}class iv extends D{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class ci extends D{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class pc extends D{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class sv extends D{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const ov=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,av=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,uv=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,cv=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function lv(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function xl(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function fh({uri:e,gatewayUrls:t}){const r=uv.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=xl(t?.ipfs,"https://ipfs.io"),i=xl(t?.arweave,"https://arweave.net"),s=e.match(ov),{protocol:o,subpath:a,target:u,subtarget:l=""}=s?.groups||{},f=o==="ipns:/"||a==="ipns/",p=o==="ipfs:/"||a==="ipfs/"||av.test(e);if(e.startsWith("http")&&!f&&!p){let E=e;return t?.arweave&&(E=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:E,isOnChain:!1,isEncoded:!1}}if((f||p)&&u)return{uri:`${n}/${f?"ipns":"ipfs"}/${u}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&u)return{uri:`${i}/${u}${l||""}`,isOnChain:!1,isEncoded:!1};let g=e.replace(cv,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new pc({uri:e})}function dh(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new iv({data:e});return e.image||e.image_url||e.image_data}async function fv({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then(i=>i.json());return await yc({gatewayUrls:e,uri:dh(r)})}catch{throw new pc({uri:t})}}async function yc({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=fh({uri:t,gatewayUrls:e});if(n||await lv(r))return r;throw new pc({uri:t})}function dv(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=t.split("/"),[s,o]=r.split(":"),[a,u]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new ci({reason:"Only EIP-155 supported"});if(!o)throw new ci({reason:"Chain ID not found"});if(!u)throw new ci({reason:"Contract address not found"});if(!i)throw new ci({reason:"Token ID not found"});if(!a)throw new ci({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:a.toLowerCase(),contractAddress:u,tokenID:i}}async function hv(e,{nft:t}){if(t.namespace==="erc721")return yr(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return yr(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new sv({namespace:t.namespace})}async function pv(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?yv(e,{gatewayUrls:t,record:r}):yc({uri:r,gatewayUrls:t})}async function yv(e,{gatewayUrls:t,record:r}){const n=dv(r),i=await hv(e,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=fh({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,f=JSON.parse(l);return yc({uri:dh(f),gatewayUrls:t})}let u=n.tokenID;return n.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),fv({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,u)})}async function hh(e,{blockNumber:t,blockTag:r,name:n,key:i,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=oi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const a=await yr(e,{address:o,abi:zd,functionName:"resolve",args:[de(Uo(n)),Yr({abi:yl,functionName:"text",args:[Gs(n),i]})],blockNumber:t,blockTag:r});if(a[0]==="0x")return null;const u=si({abi:yl,functionName:"text",data:a[0]});return u===""?null:u}catch(a){if(dc(a,"resolve"))return null;throw a}}async function mv(e,{blockNumber:t,blockTag:r,gatewayUrls:n,name:i,universalResolverAddress:s}){const o=await hh(e,{blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:s});if(!o)return null;try{return await pv(e,{record:o,gatewayUrls:n})}catch{return null}}async function gv(e,{address:t,blockNumber:r,blockTag:n,universalResolverAddress:i}){let s=i;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=oi({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{return(await yr(e,{address:s,abi:c1,functionName:"reverse",args:[de(Uo(o))],blockNumber:r,blockTag:n}))[0]}catch(a){if(dc(a,"reverse"))return null;throw a}}async function bv(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:i}){let s=i;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=oi({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await yr(e,{address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[de(Uo(n))],blockNumber:t,blockTag:r});return o}async function vv(e){const t=ko(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}async function ph(e,{address:t,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const u=i??(n?[n]:void 0),l=ko(e,{method:"eth_newFilter"});let f=[];u&&(f=[u.flatMap(g=>ms({abi:[g],eventName:g.name,args:r}))],n&&(f=f[0]));const p=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?ue(s):s,toBlock:typeof a=="bigint"?ue(a):a,...f.length?{topics:f}:{}}]});return{abi:u,args:r,eventName:n?n.name:void 0,fromBlock:s,id:p,request:l(p),strict:o,toBlock:a,type:"event"}}async function yh(e){const t=ko(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}async function wv(e,{address:t,blockNumber:r,blockTag:n="latest"}){const i=r?ue(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||n]});return BigInt(s)}async function xv(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?ue(r):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]}),it(s)}async function Ev(e,{address:t,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?ue(r):void 0,s=await e.request({method:"eth_getCode",params:[t,i||n]});if(s!=="0x")return s}function Av(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(r=>BigInt(r)))}}async function Tv(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=r?ue(r):void 0,o=await e.request({method:"eth_feeHistory",params:[ue(t),s||n,i]});return Av(o)}async function _v(e,{filter:t}){const r=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>{try{const{eventName:s,args:o}="abi"in t&&t.abi?xs({abi:t.abi,data:i.data,topics:i.topics,strict:r}):{eventName:void 0,args:void 0};return Ft(i,{args:o,eventName:s})}catch(s){let o,a;if(s instanceof hn||s instanceof ti){if("strict"in t&&t.strict)return;o=s.abiItem.name,a=s.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return Ft(i,{args:a?[]:{},eventName:o})}}).filter(Boolean)}async function Sv(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?ue(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||n]})}async function mc(e,{blockHash:t,blockNumber:r,blockTag:n,hash:i,index:s}){const o=n||"latest",a=r!==void 0?ue(r):void 0;let u=null;if(i?u=await e.request({method:"eth_getTransactionByHash",params:[i]}):t?u=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,ue(s)]}):(a||o)&&(u=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,ue(s)]})),!u)throw new Pd({blockHash:t,blockNumber:r,blockTag:o,hash:i,index:s});return(e.chain?.formatters?.transaction?.format||$d)(u)}async function Iv(e,{hash:t,transactionReceipt:r}){const[n,i]=await Promise.all([ws(e),t?mc(e,{hash:t}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}async function lu(e,{hash:t}){const r=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!r)throw new Md({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||z1)(r)}async function Nv(e,t){const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:s,contracts:o,multicallAddress:a}=t,u=n??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024),l=o;let f=a;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=oi({blockNumber:i,chain:e.chain,contract:"multicall3"})}const p=[[]];let g=0,E=0;for(let x=0;x<l.length;x++){const{abi:I,address:R,args:k,functionName:M}=l[x];try{const $=Yr({abi:I,args:k,functionName:M});E+=$.length,u>0&&E>u&&(g++,E=($.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:$,target:R}]}catch($){const B=Ri($,{abi:I,address:R,args:k,docsPath:"/docs/contract/multicall",functionName:M});if(!r)throw B;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:R}]}}return(await Promise.all(p.map(x=>yr(e,{abi:ou,address:f,args:[x],blockNumber:i,blockTag:s,functionName:"aggregate3"})))).flat().map(({returnData:x,success:I},R)=>{const k=p.flat(),{callData:M}=k[R],{abi:$,address:B,functionName:C,args:W}=l[R];try{if(M==="0x")throw new Io;if(!I)throw new tc({data:x});const V=si({abi:$,args:W,data:x,functionName:C});return r?{result:V,status:"success"}:V}catch(V){const ye=Ri(V,{abi:$,address:B,args:W,docsPath:"/docs/contract/multicall",functionName:C});if(!r)throw ye;return{error:ye,result:void 0,status:"failure"}}})}const Rv="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mh=BigInt(0),jo=BigInt(1),kv=BigInt(2),Fo=e=>e instanceof Uint8Array,Pv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zn(e){if(!Fo(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Pv[e[r]];return t}function gh(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function gc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Hn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const i=n*2,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function cn(e){return gc(Zn(e))}function bc(e){if(!Fo(e))throw new Error("Uint8Array expected");return gc(Zn(Uint8Array.from(e).reverse()))}function jn(e,t){return Hn(e.toString(16).padStart(t*2,"0"))}function bh(e,t){return jn(e,t).reverse()}function Mv(e){return Hn(gh(e))}function Rt(e,t,r){let n;if(typeof t=="string")try{n=Hn(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Fo(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Hi(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!Fo(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function vh(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Ov(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Bv(e){let t;for(t=0;e>mh;e>>=jo,t+=1);return t}function Cv(e,t){return e>>BigInt(t)&jo}const $v=(e,t,r)=>e|(r?jo:mh)<<BigInt(t),vc=e=>(kv<<BigInt(e-1))-jo,ga=e=>new Uint8Array(e),El=e=>Uint8Array.from(e);function wh(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ga(e),i=ga(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...p)=>r(i,n,...p),u=(p=ga())=>{i=a(El([0]),p),n=a(),p.length!==0&&(i=a(El([1]),p),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<t;){n=a();const E=n.slice();g.push(E),p+=n.length}return Hi(...g)};return(p,g)=>{o(),u(p);let E;for(;!(E=g(l()));)u();return o(),E}}const Uv={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Es(e,t,r={}){const n=(i,s,o)=>{const a=Uv[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(o&&u===void 0)&&!a(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const jv=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Cv,bitLen:Bv,bitMask:vc,bitSet:$v,bytesToHex:Zn,bytesToNumberBE:cn,bytesToNumberLE:bc,concatBytes:Hi,createHmacDrbg:wh,ensureBytes:Rt,equalBytes:vh,hexToBytes:Hn,hexToNumber:gc,numberToBytesBE:jn,numberToBytesLE:bh,numberToHexUnpadded:gh,numberToVarBytesBE:Mv,utf8ToBytes:Ov,validateObject:Es},Symbol.toStringTag,{value:"Module"}));function Fv(e,t){const r=Kt(e)?Jt(e):e,n=Kt(t)?Jt(t):t;return vh(r,n)}async function xh(e,{address:t,hash:r,signature:n,...i}){const s=Kt(n)?n:de(n);try{const{data:o}=await Bo(e,{data:eh({abi:l1,args:[t,r,s],bytecode:Rv}),...i});return Fv(o??"0x0","0x1")}catch(o){if(o instanceof Bd)return!1;throw o}}async function Lv(e,{address:t,message:r,signature:n,...i}){const s=uh(r);return xh(e,{address:t,hash:s,signature:n,...i})}async function Dv(e,{address:t,signature:r,message:n,primaryType:i,types:s,domain:o,...a}){const u=nh({message:n,primaryType:i,types:s,domain:o});return xh(e,{address:t,hash:u,signature:r,...a})}function Eh(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:e.transport.type!=="webSocket";let u;return a?(()=>{const p=ht(["watchBlockNumber",e.uid,t,r,o]);return ai(p,{onBlockNumber:n,onError:i},g=>vs(async()=>{try{const E=await ws(e,{cacheTime:0});if(u){if(E===u)return;if(E-u>1&&r)for(let v=u+1n;v<E;v++)g.onBlockNumber(v,u),u=v}(!u||E>u)&&(g.onBlockNumber(E,u),u=E)}catch(E){g.onError?.(E)}},{emitOnBegin:t,interval:o}))})():(()=>{let p=!0,g=()=>p=!1;return(async()=>{try{const{unsubscribe:E}=await e.transport.subscribe({params:["newHeads"],onData(v){if(!p)return;const x=Gn(v.result?.number);n(x,u),u=x},onError(v){i?.(v)}});g=E,p||g()}catch(E){i?.(E)}})(),g})()}async function Yv(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:i=e.pollingInterval,timeout:s}){const o=ht(["waitForTransactionReceipt",e.uid,r]);let a,u,l,f=!1;return new Promise((p,g)=>{s&&setTimeout(()=>g(new Od({hash:r})),s);const E=ai(o,{onReplaced:n,resolve:p,reject:g},v=>{const x=Eh(e,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(I){if(f)return;let R=I;const k=M=>{x(),M(),E()};try{if(l){if(R-l.blockNumber+1n<t)return;k(()=>v.resolve(l));return}if(a||(f=!0,await Wd(async()=>{a=await mc(e,{hash:r}),a.blockNumber&&(R=a.blockNumber)},{delay:({count:M})=>~~(1<<M)*200,retryCount:6}),f=!1),l=await lu(e,{hash:r}),t>0&&R-l.blockNumber+1n<t)return;k(()=>v.resolve(l))}catch(M){if(a&&(M instanceof Pd||M instanceof Md)){u=a;const B=(await Zi(e,{blockNumber:R,includeTransactions:!0})).transactions.find(({from:W,nonce:V})=>W===u.from&&V===u.nonce);if(!B||(l=await lu(e,{hash:B.hash}),R-l.blockNumber+1n<t))return;let C="replaced";B.to===u.to&&B.value===u.value?C="repriced":B.from===B.to&&B.value===0n&&(C="cancelled"),k(()=>{v.onReplaced?.({reason:C,replacedTransaction:u,transaction:B,transactionReceipt:l}),v.resolve(l)})}else k(()=>v.reject(M))}}})})})}function zv(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:u=e.pollingInterval}){const l=typeof a<"u"?a:e.transport.type!=="webSocket",f=o??!1;let p;return l?(()=>{const v=ht(["watchBlocks",e.uid,r,n,f,u]);return ai(v,{onBlock:i,onError:s},x=>vs(async()=>{try{const I=await Zi(e,{blockTag:t,includeTransactions:f});if(I.number&&p?.number){if(I.number===p.number)return;if(I.number-p.number>1&&r)for(let R=p?.number+1n;R<I.number;R++){const k=await Zi(e,{blockNumber:R,includeTransactions:f});x.onBlock(k,p),p=k}}(!p?.number||t==="pending"&&!I?.number||I.number&&I.number>p.number)&&(x.onBlock(I,p),p=I)}catch(I){x.onError?.(I)}},{emitOnBegin:n,interval:u}))})():(()=>{let v=!0,x=()=>v=!1;return(async()=>{try{const{unsubscribe:I}=await e.transport.subscribe({params:["newHeads"],onData(R){if(!v)return;const M=(e.chain?.formatters?.block?.format||Ud)(R.result);i(M,p),p=M},onError(R){s?.(R)}});x=I,v||x()}catch(I){s?.(I)}})(),x})()}function Gv(e,{address:t,args:r,batch:n=!0,event:i,events:s,onError:o,onLogs:a,poll:u,pollingInterval:l=e.pollingInterval,strict:f}){const p=typeof u<"u"?u:e.transport.type!=="webSocket",g=f??!1;return p?(()=>{const x=ht(["watchEvent",t,r,n,e.uid,i,l]);return ai(x,{onLogs:a,onError:o},I=>{let R,k,M=!1;const $=vs(async()=>{if(!M){try{k=await ph(e,{address:t,args:r,event:i,events:s,strict:g})}catch{}M=!0;return}try{let B;if(k)B=await Co(e,{filter:k});else{const C=await ws(e);R&&R!==C?B=await cc(e,{address:t,args:r,event:i,events:s,fromBlock:R+1n,toBlock:C}):B=[],R=C}if(B.length===0)return;n?I.onLogs(B):B.forEach(C=>I.onLogs([C]))}catch(B){k&&B instanceof Br&&(M=!1),I.onError?.(B)}},{emitOnBegin:!0,interval:l});return async()=>{k&&await $o(e,{filter:k}),$()}})})():(()=>{let x=!0,I=()=>x=!1;return(async()=>{try{const R=s??(i?[i]:void 0);let k=[];R&&(k=[R.flatMap($=>ms({abi:[$],eventName:$.name,args:r}))],i&&(k=k[0]));const{unsubscribe:M}=await e.transport.subscribe({params:["logs",{address:t,topics:k}],onData($){if(!x)return;const B=$.result;try{const{eventName:C,args:W}=xs({abi:R,data:B.data,topics:B.topics,strict:g}),V=Ft(B,{args:W,eventName:C});a([V])}catch(C){let W,V;if(C instanceof hn||C instanceof ti){if(f)return;W=C.abiItem.name,V=C.abiItem.inputs?.some(fe=>!("name"in fe&&fe.name))}const ye=Ft(B,{args:V?[]:{},eventName:W});a([ye])}},onError($){o?.($)}});I=M,x||I()}catch(R){o?.(R)}})(),I})()}function qv(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket")?(()=>{const l=ht(["watchPendingTransactions",e.uid,t,s]);return ai(l,{onTransactions:n,onError:r},f=>{let p;const g=vs(async()=>{try{if(!p)try{p=await yh(e);return}catch(v){throw g(),v}const E=await Co(e,{filter:p});if(E.length===0)return;t?f.onTransactions(E):E.forEach(v=>f.onTransactions([v]))}catch(E){f.onError?.(E)}},{emitOnBegin:!0,interval:s});return async()=>{p&&await $o(e,{filter:p}),g()}})})():(()=>{let l=!0,f=()=>l=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!l)return;const E=g.result;n([E])},onError(g){r?.(g)}});f=p,l||f()}catch(p){r?.(p)}})(),f})()}function Vv(e){return{call:t=>Bo(e,t),createBlockFilter:()=>vv(e),createContractEventFilter:t=>Qu(e,t),createEventFilter:t=>ph(e,t),createPendingTransactionFilter:()=>yh(e),estimateContractGas:t=>Dd(e,t),estimateGas:t=>oc(e,t),getBalance:t=>wv(e,t),getBlock:t=>Zi(e,t),getBlockNumber:t=>ws(e,t),getBlockTransactionCount:t=>xv(e,t),getBytecode:t=>Ev(e,t),getChainId:()=>so(e),getEnsAddress:t=>nv(e,t),getEnsAvatar:t=>mv(e,t),getEnsName:t=>gv(e,t),getEnsResolver:t=>bv(e,t),getEnsText:t=>hh(e,t),getFeeHistory:t=>Tv(e,t),getFilterChanges:t=>Co(e,t),getFilterLogs:t=>_v(e,t),getGasPrice:()=>jd(e),getLogs:t=>cc(e,t),getStorageAt:t=>Sv(e,t),getTransaction:t=>mc(e,t),getTransactionConfirmations:t=>Iv(e,t),getTransactionCount:t=>Fd(e,t),getTransactionReceipt:t=>lu(e,t),multicall:t=>Nv(e,t),readContract:t=>yr(e,t),simulateContract:t=>qd(e,t),verifyMessage:t=>Lv(e,t),verifyTypedData:t=>Dv(e,t),uninstallFilter:t=>$o(e,t),waitForTransactionReceipt:t=>Yv(e,t),watchBlocks:t=>zv(e,t),watchBlockNumber:t=>Eh(e,t),watchContractEvent:t=>Vd(e,t),watchEvent:t=>Gv(e,t),watchPendingTransactions:t=>qv(e,t)}}function Zv(e){const{key:t="public",name:r="Public Client"}=e;return Hd({...e,key:t,name:r,type:"publicClient"}).extend(Vv)}function Hv(e,{abi:t,args:r,bytecode:n,...i}){const s=eh({abi:t,args:r,bytecode:n});return lc(e,{...i,data:s})}async function Wv(e){return(await e.request({method:"eth_accounts"})).map(r=>Po(r))}async function Kv(e){return await e.request({method:"wallet_getPermissions"})}async function Jv(e){return(await e.request({method:"eth_requestAccounts"})).map(r=>Ir(r))}async function Xv(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function Qv(e,{account:t=e.account,message:r}){if(!t)throw new bs({docsPath:"/docs/actions/wallet/signMessage"});const n=Dt(t);if(n.type==="local")return n.signMessage({message:r});const i=(()=>typeof r=="string"?pn(r):r.raw instanceof Uint8Array?de(r.raw):r.raw)();return e.request({method:"personal_sign",params:[i,n.address]})}async function ew(e,{account:t=e.account,domain:r,message:n,primaryType:i,types:s}){if(!t)throw new bs({docsPath:"/docs/actions/wallet/signTypedData"});const o=Dt(t),a={EIP712Domain:[typeof r?.name=="string"&&{name:"name",type:"string"},r?.version&&{name:"version",type:"string"},typeof r?.chainId=="number"&&{name:"chainId",type:"uint256"},r?.verifyingContract&&{name:"verifyingContract",type:"address"},r?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...s};if(Qd({domain:r,message:n,primaryType:i,types:a}),o.type==="local")return o.signTypedData({domain:r,primaryType:i,types:a,message:n});const u=ht({domain:r??{},primaryType:i,types:a,message:n},(l,f)=>Kt(f)?f.toLowerCase():f);return e.request({method:"eth_signTypedData_v4",params:[o.address,u]})}async function tw(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:ue(t)}]})}async function rw(e,t){return await e.request({method:"wallet_watchAsset",params:t})}function nw(e){return{addChain:t=>R1(e,t),deployContract:t=>Hv(e,t),getAddresses:()=>Wv(e),getChainId:()=>so(e),getPermissions:()=>Kv(e),requestAddresses:()=>Jv(e),requestPermissions:t=>Xv(e,t),sendTransaction:t=>lc(e,t),signMessage:t=>Qv(e,t),signTypedData:t=>ew(e,t),switchChain:t=>tw(e,t),watchAsset:t=>rw(e,t),writeContract:t=>Zd(e,t)}}function iw(e){const{key:t="wallet",name:r="Wallet Client",transport:n}=e;return Hd({...e,key:t,name:r,transport:s=>n({...s,retryCount:0}),type:"walletClient"}).extend(nw)}function sw(e,t={}){const{key:r="webSocket",name:n="WebSocket JSON-RPC",retryDelay:i}=t;return({chain:s,retryCount:o,timeout:a})=>{const u=t.retryCount??o,l=a??t.timeout??1e4,f=e||s?.rpcUrls.default.webSocket?.[0];if(!f)throw new Jd;return fc({key:r,name:n,async request({method:p,params:g}){const E={method:p,params:g},v=await ya(f),{error:x,result:I}=await Un.webSocketAsync(v,{body:E,timeout:l});if(x)throw new Mo({body:E,error:x,url:f});return I},retryCount:u,retryDelay:i,timeout:l,type:"webSocket"},{getSocket(){return ya(f)},async subscribe({params:p,onData:g,onError:E}){const v=await ya(f),{result:x}=await new Promise((I,R)=>Un.webSocket(v,{body:{method:"eth_subscribe",params:p},onResponse(k){if(k.error){R(k.error),E?.(k.error);return}if(typeof k.id=="number"){I(k);return}k.method==="eth_subscription"&&g(k.params)}}));return{subscriptionId:x,async unsubscribe(){return new Promise(I=>Un.webSocket(v,{body:{method:"eth_unsubscribe",params:[x]},onResponse:I}))}}}})}}function fu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ow(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Ah(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function aw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fu(e.outputLen),fu(e.blockLen)}function uw(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function cw(e,t){Ah(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const an={number:fu,bool:ow,bytes:Ah,hash:aw,exists:uw,output:cw},ba=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Th=e=>e instanceof Uint8Array,va=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),zt=(e,t)=>e<<32-t|e>>>t,lw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lw)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function fw(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function wc(e){if(typeof e=="string"&&(e=fw(e)),!Th(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function dw(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!Th(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}class _h{clone(){return this._cloneInto()}}function Sh(e){const t=n=>e().update(wc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function hw(e=32){if(ba&&typeof ba.getRandomValues=="function")return ba.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function pw(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+l,a,n)}class yw extends _h{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=va(this.buffer)}update(t){an.exists(this);const{view:r,buffer:n,blockLen:i}=this;t=wc(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=va(t);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){an.exists(this),an.output(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let p=o;p<i;p++)r[p]=0;pw(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=va(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<l;p++)a.setUint32(4*p,f[p],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const mw=(e,t,r)=>e&t^~e&r,gw=(e,t,r)=>e&t^e&r^t&r,bw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_r=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sr=new Uint32Array(64);class Ih extends yw{constructor(){super(64,32,8,!1),this.A=_r[0]|0,this.B=_r[1]|0,this.C=_r[2]|0,this.D=_r[3]|0,this.E=_r[4]|0,this.F=_r[5]|0,this.G=_r[6]|0,this.H=_r[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[t,r,n,i,s,o,a,u]}set(t,r,n,i,s,o,a,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(t,r){for(let p=0;p<16;p++,r+=4)Sr[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const g=Sr[p-15],E=Sr[p-2],v=zt(g,7)^zt(g,18)^g>>>3,x=zt(E,17)^zt(E,19)^E>>>10;Sr[p]=x+Sr[p-7]+v+Sr[p-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:l,H:f}=this;for(let p=0;p<64;p++){const g=zt(a,6)^zt(a,11)^zt(a,25),E=f+g+mw(a,u,l)+bw[p]+Sr[p]|0,x=(zt(n,2)^zt(n,13)^zt(n,22))+gw(n,i,s)|0;f=l,l=u,u=a,a=o+E|0,o=s,s=i,i=n,n=E+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(n,i,s,o,a,u,l,f)}roundClean(){Sr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class vw extends Ih{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ww=Sh(()=>new Ih);Sh(()=>new vw);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ut=BigInt(0),rt=BigInt(1),sn=BigInt(2),xw=BigInt(3),du=BigInt(4),Al=BigInt(5),Tl=BigInt(8);BigInt(9);BigInt(16);function gt(e,t){const r=e%t;return r>=ut?r:t+r}function Ew(e,t,r){if(r<=ut||t<ut)throw new Error("Expected power/modulo > 0");if(r===rt)return ut;let n=rt;for(;t>ut;)t&rt&&(n=n*e%r),e=e*e%r,t>>=rt;return n}function It(e,t,r){let n=e;for(;t-- >ut;)n*=n,n%=r;return n}function hu(e,t){if(e===ut||t<=ut)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=gt(e,t),n=t,i=ut,s=rt;for(;r!==ut;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==rt)throw new Error("invert: does not exist");return gt(i,t)}function Aw(e){const t=(e-rt)/sn;let r,n,i;for(r=e-rt,n=0;r%sn===ut;r/=sn,n++);for(i=sn;i<e&&Ew(i,t,e)!==e-rt;i++);if(n===1){const o=(e+rt)/du;return function(u,l){const f=u.pow(l,o);if(!u.eql(u.sqr(f),l))throw new Error("Cannot find square root");return f}}const s=(r+rt)/sn;return function(a,u){if(a.pow(u,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,f=a.pow(a.mul(a.ONE,i),r),p=a.pow(u,s),g=a.pow(u,r);for(;!a.eql(g,a.ONE);){if(a.eql(g,a.ZERO))return a.ZERO;let E=1;for(let x=a.sqr(g);E<l&&!a.eql(x,a.ONE);E++)x=a.sqr(x);const v=a.pow(f,rt<<BigInt(l-E-1));f=a.sqr(v),p=a.mul(p,v),g=a.mul(g,f),l=E}return p}}function Tw(e){if(e%du===xw){const t=(e+rt)/du;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Tl===Al){const t=(e-Al)/Tl;return function(n,i){const s=n.mul(i,sn),o=n.pow(s,t),a=n.mul(i,o),u=n.mul(n.mul(a,sn),o),l=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return Aw(e)}const _w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sw(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=_w.reduce((n,i)=>(n[i]="function",n),t);return Es(e,r)}function Iw(e,t,r){if(r<ut)throw new Error("Expected power > 0");if(r===ut)return e.ONE;if(r===rt)return t;let n=e.ONE,i=t;for(;r>ut;)r&rt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=rt;return n}function Nw(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function xc(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Rw(e,t,r=!1,n={}){if(e<=ut)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=xc(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Tw(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:vc(i),ZERO:ut,ONE:rt,create:u=>gt(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ut<=u&&u<e},is0:u=>u===ut,isOdd:u=>(u&rt)===rt,neg:u=>gt(-u,e),eql:(u,l)=>u===l,sqr:u=>gt(u*u,e),add:(u,l)=>gt(u+l,e),sub:(u,l)=>gt(u-l,e),mul:(u,l)=>gt(u*l,e),pow:(u,l)=>Iw(a,u,l),div:(u,l)=>gt(u*hu(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>hu(u,e),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>Nw(a,u),cmov:(u,l,f)=>f?l:u,toBytes:u=>r?bh(u,s):jn(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?bc(u):cn(u)}});return Object.freeze(a)}function kw(e,t,r=!1){e=Rt("privateHash",e);const n=e.length,i=xc(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?bc(e):cn(e);return gt(s,t-rt)+rt}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pw=BigInt(0),wa=BigInt(1);function Mw(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>Pw;)s&wa&&(o=o.add(a)),a=a.double(),s>>=wa;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,f=l;for(let p=0;p<o;p++){f=l,u.push(f);for(let g=1;g<a;g++)f=f.add(l),u.push(f);l=f.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=e.ZERO,f=e.BASE;const p=BigInt(2**i-1),g=2**i,E=BigInt(i);for(let v=0;v<a;v++){const x=v*u;let I=Number(o&p);o>>=E,I>u&&(I-=g,o+=wa);const R=x,k=x+Math.abs(I)-1,M=v%2!==0,$=I<0;I===0?f=f.add(r(M,s[R])):l=l.add(r($,s[k]))}return{p:l,f}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function Nh(e){return Sw(e.Fp),Es(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ow(e){const t=Nh(e);Es(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Bw,hexToBytes:Cw}=jv,un={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=un;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Bw(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=un,r=typeof e=="string"?Cw(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=un._parseInt(r.subarray(2)),{d:o,l:a}=un._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const f=l.toString(16);return f.length&1?`0${f}`:f},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},sr=BigInt(0),kt=BigInt(1);BigInt(2);const _l=BigInt(3);BigInt(4);function $w(e){const t=Ow(e),{Fp:r}=t,n=t.toBytes||((v,x,I)=>{const R=x.toAffine();return Hi(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=t.fromBytes||(v=>{const x=v.subarray(1),I=r.fromBytes(x.subarray(0,r.BYTES)),R=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:I,y:R}});function s(v){const{a:x,b:I}=t,R=r.sqr(v),k=r.mul(R,v);return r.add(r.add(k,r.mul(v,x)),I)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(v){return typeof v=="bigint"&&sr<v&&v<t.n}function a(v){if(!o(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(v){const{allowedPrivateKeyLengths:x,nByteLength:I,wrapPrivateKey:R,n:k}=t;if(x&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=Zn(v)),typeof v!="string"||!x.includes(v.length))throw new Error("Invalid key");v=v.padStart(I*2,"0")}let M;try{M=typeof v=="bigint"?v:cn(Rt("private key",v,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof v}`)}return R&&(M=gt(M,k)),a(M),M}const l=new Map;function f(v){if(!(v instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(x,I,R){if(this.px=x,this.py=I,this.pz=R,x==null||!r.isValid(x))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(x){const{x:I,y:R}=x||{};if(!x||!r.isValid(I)||!r.isValid(R))throw new Error("invalid affine point");if(x instanceof p)throw new Error("projective point not allowed");const k=M=>r.eql(M,r.ZERO);return k(I)&&k(R)?p.ZERO:new p(I,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const I=r.invertBatch(x.map(R=>R.pz));return x.map((R,k)=>R.toAffine(I[k])).map(p.fromAffine)}static fromHex(x){const I=p.fromAffine(i(Rt("pointHex",x)));return I.assertValidity(),I}static fromPrivateKey(x){return p.BASE.multiply(u(x))}_setWindowSize(x){this._WINDOW_SIZE=x,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x,y:I}=this.toAffine();if(!r.isValid(x)||!r.isValid(I))throw new Error("bad point: x or y not FE");const R=r.sqr(I),k=s(x);if(!r.eql(R,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){f(x);const{px:I,py:R,pz:k}=this,{px:M,py:$,pz:B}=x,C=r.eql(r.mul(I,B),r.mul(M,k)),W=r.eql(r.mul(R,B),r.mul($,k));return C&&W}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:I}=t,R=r.mul(I,_l),{px:k,py:M,pz:$}=this;let B=r.ZERO,C=r.ZERO,W=r.ZERO,V=r.mul(k,k),ye=r.mul(M,M),fe=r.mul($,$),ee=r.mul(k,M);return ee=r.add(ee,ee),W=r.mul(k,$),W=r.add(W,W),B=r.mul(x,W),C=r.mul(R,fe),C=r.add(B,C),B=r.sub(ye,C),C=r.add(ye,C),C=r.mul(B,C),B=r.mul(ee,B),W=r.mul(R,W),fe=r.mul(x,fe),ee=r.sub(V,fe),ee=r.mul(x,ee),ee=r.add(ee,W),W=r.add(V,V),V=r.add(W,V),V=r.add(V,fe),V=r.mul(V,ee),C=r.add(C,V),fe=r.mul(M,$),fe=r.add(fe,fe),V=r.mul(fe,ee),B=r.sub(B,V),W=r.mul(fe,ye),W=r.add(W,W),W=r.add(W,W),new p(B,C,W)}add(x){f(x);const{px:I,py:R,pz:k}=this,{px:M,py:$,pz:B}=x;let C=r.ZERO,W=r.ZERO,V=r.ZERO;const ye=t.a,fe=r.mul(t.b,_l);let ee=r.mul(I,M),Ke=r.mul(R,$),_=r.mul(k,B),c=r.add(I,R),h=r.add(M,$);c=r.mul(c,h),h=r.add(ee,Ke),c=r.sub(c,h),h=r.add(I,k);let m=r.add(M,B);return h=r.mul(h,m),m=r.add(ee,_),h=r.sub(h,m),m=r.add(R,k),C=r.add($,B),m=r.mul(m,C),C=r.add(Ke,_),m=r.sub(m,C),V=r.mul(ye,h),C=r.mul(fe,_),V=r.add(C,V),C=r.sub(Ke,V),V=r.add(Ke,V),W=r.mul(C,V),Ke=r.add(ee,ee),Ke=r.add(Ke,ee),_=r.mul(ye,_),h=r.mul(fe,h),Ke=r.add(Ke,_),_=r.sub(ee,_),_=r.mul(ye,_),h=r.add(h,_),ee=r.mul(Ke,h),W=r.add(W,ee),ee=r.mul(m,h),C=r.mul(c,C),C=r.sub(C,ee),ee=r.mul(c,Ke),V=r.mul(m,V),V=r.add(V,ee),new p(C,W,V)}subtract(x){return this.add(x.negate())}is0(){return this.equals(p.ZERO)}wNAF(x){return E.wNAFCached(this,l,x,I=>{const R=r.invertBatch(I.map(k=>k.pz));return I.map((k,M)=>k.toAffine(R[M])).map(p.fromAffine)})}multiplyUnsafe(x){const I=p.ZERO;if(x===sr)return I;if(a(x),x===kt)return this;const{endo:R}=t;if(!R)return E.unsafeLadder(this,x);let{k1neg:k,k1:M,k2neg:$,k2:B}=R.splitScalar(x),C=I,W=I,V=this;for(;M>sr||B>sr;)M&kt&&(C=C.add(V)),B&kt&&(W=W.add(V)),V=V.double(),M>>=kt,B>>=kt;return k&&(C=C.negate()),$&&(W=W.negate()),W=new p(r.mul(W.px,R.beta),W.py,W.pz),C.add(W)}multiply(x){a(x);let I=x,R,k;const{endo:M}=t;if(M){const{k1neg:$,k1:B,k2neg:C,k2:W}=M.splitScalar(I);let{p:V,f:ye}=this.wNAF(B),{p:fe,f:ee}=this.wNAF(W);V=E.constTimeNegate($,V),fe=E.constTimeNegate(C,fe),fe=new p(r.mul(fe.px,M.beta),fe.py,fe.pz),R=V.add(fe),k=ye.add(ee)}else{const{p:$,f:B}=this.wNAF(I);R=$,k=B}return p.normalizeZ([R,k])[0]}multiplyAndAddUnsafe(x,I,R){const k=p.BASE,M=(B,C)=>C===sr||C===kt||!B.equals(k)?B.multiplyUnsafe(C):B.multiply(C),$=M(this,I).add(M(x,R));return $.is0()?void 0:$}toAffine(x){const{px:I,py:R,pz:k}=this,M=this.is0();x==null&&(x=M?r.ONE:r.inv(k));const $=r.mul(I,x),B=r.mul(R,x),C=r.mul(k,x);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x:$,y:B}}isTorsionFree(){const{h:x,isTorsionFree:I}=t;if(x===kt)return!0;if(I)return I(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:I}=t;return x===kt?this:I?I(p,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return this.assertValidity(),n(p,this,x)}toHex(x=!0){return Zn(this.toRawBytes(x))}}p.BASE=new p(t.Gx,t.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);const g=t.nBitLength,E=Mw(p,t.endo?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function Uw(e){const t=Nh(e);return Es(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function jw(e){const t=Uw(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(h){return sr<h&&h<r.ORDER}function a(h){return gt(h,n)}function u(h){return hu(h,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:g}=$w({...t,toBytes(h,m,b){const A=m.toAffine(),S=r.toBytes(A.x),P=Hi;return b?P(Uint8Array.from([m.hasEvenY()?2:3]),S):P(Uint8Array.from([4]),S,r.toBytes(A.y))},fromBytes(h){const m=h.length,b=h[0],A=h.subarray(1);if(m===i&&(b===2||b===3)){const S=cn(A);if(!o(S))throw new Error("Point is not on curve");const P=p(S);let w=r.sqrt(P);const d=(w&kt)===kt;return(b&1)===1!==d&&(w=r.neg(w)),{x:S,y:w}}else if(m===s&&b===4){const S=r.fromBytes(A.subarray(0,r.BYTES)),P=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:S,y:P}}else throw new Error(`Point of length ${m} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),E=h=>Zn(jn(h,t.nByteLength));function v(h){const m=n>>kt;return h>m}function x(h){return v(h)?a(-h):h}const I=(h,m,b)=>cn(h.slice(m,b));class R{constructor(m,b,A){this.r=m,this.s=b,this.recovery=A,this.assertValidity()}static fromCompact(m){const b=t.nByteLength;return m=Rt("compactSignature",m,b*2),new R(I(m,0,b),I(m,b,2*b))}static fromDER(m){const{r:b,s:A}=un.toSig(Rt("DER",m));return new R(b,A)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new R(this.r,this.s,m)}recoverPublicKey(m){const{r:b,s:A,recovery:S}=this,P=W(Rt("msgHash",m));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const w=S===2||S===3?b+t.n:b;if(w>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=S&1?"03":"02",T=l.fromHex(d+E(w)),J=u(w),y=a(-P*J),O=a(A*J),U=l.BASE.multiplyAndAddUnsafe(T,y,O);if(!U)throw new Error("point at infinify");return U.assertValidity(),U}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Hn(this.toDERHex())}toDERHex(){return un.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hn(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const k={isValidPrivateKey(h){try{return f(h),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const h=t.randomBytes(r.BYTES+8),m=kw(h,n);return jn(m,t.nByteLength)},precompute(h=8,m=l.BASE){return m._setWindowSize(h),m.multiply(BigInt(3)),m}};function M(h,m=!0){return l.fromPrivateKey(h).toRawBytes(m)}function $(h){const m=h instanceof Uint8Array,b=typeof h=="string",A=(m||b)&&h.length;return m?A===i||A===s:b?A===2*i||A===2*s:h instanceof l}function B(h,m,b=!0){if($(h))throw new Error("first arg must be private key");if(!$(m))throw new Error("second arg must be public key");return l.fromHex(m).multiply(f(h)).toRawBytes(b)}const C=t.bits2int||function(h){const m=cn(h),b=h.length*8-t.nBitLength;return b>0?m>>BigInt(b):m},W=t.bits2int_modN||function(h){return a(C(h))},V=vc(t.nBitLength);function ye(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(sr<=h&&h<V))throw new Error(`bigint expected < 2^${t.nBitLength}`);return jn(h,t.nByteLength)}function fe(h,m,b=ee){if(["recovered","canonical"].some(L=>L in b))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:S}=t;let{lowS:P,prehash:w,extraEntropy:d}=b;P==null&&(P=!0),h=Rt("msgHash",h),w&&(h=Rt("prehashed msgHash",A(h)));const T=W(h),J=f(m),y=[ye(J),ye(T)];if(d!=null){const L=d===!0?S(r.BYTES):d;y.push(Rt("extraEntropy",L,r.BYTES))}const O=Hi(...y),U=T;function j(L){const X=C(L);if(!g(X))return;const G=u(X),Y=l.BASE.multiply(X).toAffine(),me=a(Y.x);if(me===sr)return;const q=a(G*a(U+me*J));if(q===sr)return;let ne=(Y.x===me?0:2)|Number(Y.y&kt),Yt=q;return P&&v(q)&&(Yt=x(q),ne^=1),new R(me,Yt,ne)}return{seed:O,k2sig:j}}const ee={lowS:t.lowS,prehash:!1},Ke={lowS:t.lowS,prehash:!1};function _(h,m,b=ee){const{seed:A,k2sig:S}=fe(h,m,b),P=t;return wh(P.hash.outputLen,P.nByteLength,P.hmac)(A,S)}l.BASE._setWindowSize(8);function c(h,m,b,A=Ke){const S=h;if(m=Rt("msgHash",m),b=Rt("publicKey",b),"strict"in A)throw new Error("options.strict was renamed to lowS");const{lowS:P,prehash:w}=A;let d,T;try{if(typeof S=="string"||S instanceof Uint8Array)try{d=R.fromDER(S)}catch(Y){if(!(Y instanceof un.Err))throw Y;d=R.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:Y,s:me}=S;d=new R(Y,me)}else throw new Error("PARSE");T=l.fromHex(b)}catch(Y){if(Y.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&d.hasHighS())return!1;w&&(m=t.hash(m));const{r:J,s:y}=d,O=W(m),U=u(y),j=a(O*U),L=a(J*U),X=l.BASE.multiplyAndAddUnsafe(T,j,L)?.toAffine();return X?a(X.x)===J:!1}return{CURVE:t,getPublicKey:M,getSharedSecret:B,sign:_,verify:c,ProjectivePoint:l,Signature:R,utils:k}}class Rh extends _h{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,an.hash(t);const n=wc(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return an.exists(this),this.iHash.update(t),this}digestInto(t){an.exists(this),an.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const kh=(e,t,r)=>new Rh(e,t).update(r).digest();kh.create=(e,t)=>new Rh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fw(e){return{hash:e,hmac:(t,...r)=>kh(e,t,dw(...r)),randomBytes:hw}}function Lw(e,t){const r=n=>jw({...e,...Fw(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ph=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sl=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dw=BigInt(1),pu=BigInt(2),Il=(e,t)=>(e+t/pu)/t;function Yw(e){const t=Ph,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),l=e*e*e%t,f=l*l*e%t,p=It(f,r,t)*f%t,g=It(p,r,t)*f%t,E=It(g,pu,t)*l%t,v=It(E,i,t)*E%t,x=It(v,s,t)*v%t,I=It(x,a,t)*x%t,R=It(I,u,t)*I%t,k=It(R,a,t)*x%t,M=It(k,r,t)*f%t,$=It(M,o,t)*v%t,B=It($,n,t)*l%t,C=It(B,pu,t);if(!yu.eql(yu.sqr(C),e))throw new Error("Cannot find square root");return C}const yu=Rw(Ph,void 0,void 0,{sqrt:Yw}),As=Lw({a:BigInt(0),b:BigInt(7),Fp:yu,n:Sl,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Sl,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Dw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Il(s*e,t),u=Il(-n*e,t);let l=gt(e-a*r-u*i,t),f=gt(-a*n-u*s,t);const p=l>o,g=f>o;if(p&&(l=t-l),g&&(f=t-f),l>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:l,k2neg:g,k2:f}}}},ww);BigInt(0);As.ProjectivePoint;function Mh({r:e,s:t,v:r}){return`0x${new As.Signature(Gn(e),Gn(t)).toCompactHex()}${de(r).slice(2)}`}function Oh(e,t){throw new Error(t??`Unexpected value: ${e}`)}function Nl(...e){return e.reduce((t,r)=>r<t?r:t)}function zw(e,t){return e<t?-1:e>t?1:0}function*Gw(e,t){for(let r=0;r<e.length;r+=t)yield e.slice(r,r+t)}function oo(e){return e!==void 0}function qw(e){return new Promise(t=>setTimeout(()=>t(),e))}var _n=class extends Error{name="MUDError"};function Rl(e){let t=[],r=[];for(let n of e)Wf(n)?r.push(n):t.push(n);return{staticFields:t,dynamicFields:r}}var Bh=class extends _n{name="InvalidHexValueError";constructor(t){super(`Hex value "${t}" is an odd length (${t.length-2}). It must be an even length.`)}},Vw=class extends _n{name="InvalidHexLengthForSchemaError";constructor(t){super(`Hex value "${t}" has length of ${t.length-2}, but expected length of 64 for a schema.`)}},Zw=class extends _n{name="InvalidHexLengthForPackedCounterError";constructor(t){super(`Hex value "${t}" has length of ${t.length-2}, but expected length of 64 for a packed counter.`)}},Hw=class extends _n{name="InvalidHexLengthForStaticFieldError";constructor(t,r){super(`Hex value "${r}" has length of ${r.length-2}, but expected length of ${En[t]*2} for ${t} type.`)}},Ww=class extends _n{name="InvalidHexLengthForArrayFieldError";constructor(t,r){super(`Hex value "${r}" has length of ${r.length-2}, but expected a multiple of ${En[t]*2} for ${t}[] type.`)}},Kw=class extends _n{name="SchemaStaticLengthMismatchError";constructor(t,r,n){super(`Schema "${t}" static data length (${r}) did not match the summed length of all static fields (${n}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},Jw=class extends _n{name="PackedCounterLengthMismatchError";constructor(t,r,n){super(`PackedCounter "${t}" total bytes length (${r}) did not match the summed length of all field byte lengths (${n}).`)}};function Lo(e,t){if(t.length>3&&t.length%2!==0)throw new Bh(t);if((t.length-2)/2!==En[e])throw new Hw(e,t);switch(e){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let r=Gn(t,{signed:e.startsWith("int")}),n=typeof Kf[e];if(n==="number")return Number(r);if(n==="bigint")return r;throw new Error(`Unexpected default value type (${n}) for ABI type (${e})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return t;case"bool":return dd(t);case"address":return Ir(t)}return Oh(e,`Unsupported static ABI type: ${e}`)}function Ec(e,t){if(e==="bytes")return t;if(e==="string")return eo(t);if(t.length>3&&t.length%2!==0)throw new Bh(t);let r=(t.length-2)/2;switch(e){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let n=Am(e),i=En[n];if(r%i!==0)throw new Ww(n,t);return new Array(r/i).fill(void 0).map((s,o)=>{let a=bt(t,o*i,(o+1)*i);return Lo(n,a)})}}return Oh(e,`Unsupported dynamic ABI type: ${e}`)}function Xw(e,t){return Wf(e)?Ec(e,t):Lo(e,t)}function Qw(e,t){if(e.staticFields.length!==t.length)throw new Error(`key tuple length ${t.length} does not match key schema length ${e.staticFields.length}`);return t.map((r,n)=>yn([{type:e.staticFields[n]}],r)[0])}function e2(e){if(e.length!==66)throw new Zw(e);let t=Lo("uint56",bt(e,32-7,32)),r=Ec("uint40[]",bt(e,0,32-7)),n=Object.freeze([...r].reverse()),i=BigInt(n.reduce((s,o)=>s+o,0));if(i!==t)throw new Jw(e,t,i);return{totalByteLength:t,fieldByteLengths:n}}function t2(e){return e.reduce((t,r)=>t+En[r],0)}function kl(e,t){let r=[],n=0;e.staticFields.forEach(o=>{let a=En[o],u=Lo(o,bt(t,n,n+a));n+=a,r.push(u)});let i=t2(e.staticFields),s=n;if(s!==i&&console.warn("Decoded static data length does not match schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:i,actualLength:s,bytesOffset:n}),e.dynamicFields.length>0){let o=e2(bt(t,n,n+32));n+=32,e.dynamicFields.forEach((u,l)=>{let f=o.fieldByteLengths[l];if(f>0){let p=Ec(u,bt(t,n,n+f));n+=f,r.push(p)}else r.push(Hf[u])});let a=n-32-s;BigInt(a)!==o.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:o.totalByteLength,actualLength:a,bytesOffset:n})}return r}function Pl(e){if(e.length!==66)throw new Vw(e);let t=it(bt(e,0,2)),r=it(bt(e,2,3)),n=it(bt(e,3,4)),i=[],s=[];for(let a=4;a<4+r;a++){let u=it(bt(e,a,a+1));i.push(Va[u])}for(let a=4+r;a<4+r+n;a++){let u=it(bt(e,a,a+1));s.push(Va[u])}let o=i.reduce((a,u)=>a+En[u],0);if(o!==t)throw console.warn(`Schema "${e}" static data length (${t}) did not match the summed length of all static fields (${o}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new Kw(e,t,o);return{staticFields:i,dynamicFields:s}}var ao={},r2={get exports(){return ao},set exports(e){ao=e}},xa,Ml;function n2(){if(Ml)return xa;Ml=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;xa=function(f,p){p=p||{};var g=typeof f;if(g==="string"&&f.length>0)return o(f);if(g==="number"&&isFinite(f))return p.long?u(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var g=parseFloat(p[1]),E=(p[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function a(f){var p=Math.abs(f);return p>=n?Math.round(f/n)+"d":p>=r?Math.round(f/r)+"h":p>=t?Math.round(f/t)+"m":p>=e?Math.round(f/e)+"s":f+"ms"}function u(f){var p=Math.abs(f);return p>=n?l(f,p,n,"day"):p>=r?l(f,p,r,"hour"):p>=t?l(f,p,t,"minute"):p>=e?l(f,p,e,"second"):f+" ms"}function l(f,p,g,E){var v=p>=g*1.5;return Math.round(f/g)+" "+E+(v?"s":"")}return xa}function i2(e){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=n2(),r.destroy=l,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let p=0;for(let g=0;g<f.length;g++)p=(p<<5)-p+f.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=t;function r(f){let p,g=null,E,v;function x(...I){if(!x.enabled)return;const R=x,k=Number(new Date),M=k-(p||k);R.diff=M,R.prev=p,R.curr=k,p=k,I[0]=r.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let $=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(C,W)=>{if(C==="%%")return"%";$++;const V=r.formatters[W];if(typeof V=="function"){const ye=I[$];C=V.call(R,ye),I.splice($,1),$--}return C}),r.formatArgs.call(R,I),(R.log||r.log).apply(R,I)}return x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(E!==r.namespaces&&(E=r.namespaces,v=r.enabled(f)),v),set:I=>{g=I}}),typeof r.init=="function"&&r.init(x),x}function n(f,p){const g=r(this.namespace+(typeof p>"u"?":":p)+f);return g.log=this.log,g}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let p;const g=(typeof f=="string"?f:"").split(/[\s,]+/),E=g.length;for(p=0;p<E;p++)g[p]&&(f=g[p].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){const f=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(f))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var s2=i2;(function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;u.splice(1,0,l,"color: inherit");let f=0,p=0;u[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(f++,g==="%c"&&(p=f))}),u.splice(p,0,l)}t.log=console.debug||console.log||(()=>{});function i(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function s(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}function o(){try{return localStorage}catch{}}e.exports=s2(t);const{formatters:a}=e.exports;a.j=function(u){try{return JSON.stringify(u)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(r2,ao);const Ac=ao;function o2(){return de(As.utils.randomPrivateKey())}function a2(e){if(typeof e=="string"){if(!Pt(e))throw new jt({address:e});return{address:e,type:"json-rpc"}}if(!Pt(e.address))throw new jt({address:e.address});return{address:e.address,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}async function Tc({hash:e,privateKey:t}){const{r,s:n,recovery:i}=As.sign(e.slice(2),t.slice(2));return{r:de(r),s:de(n),v:i?28n:27n}}async function u2({message:e,privateKey:t}){const r=await Tc({hash:uh(e),privateKey:t});return Mh(r)}async function c2({privateKey:e,transaction:t,serializer:r=J1}){const n=await Tc({hash:ft(r(t)),privateKey:e});return r(t,n)}async function l2({privateKey:e,...t}){const r=await Tc({hash:nh(t),privateKey:e});return Mh(r)}function _c(e){const t=de(As.getPublicKey(e.slice(2),!1)),r=k1(t);return{...a2({address:r,async signMessage({message:i}){return u2({message:i,privateKey:e})},async signTransaction(i,{serializer:s}={}){return c2({privateKey:e,transaction:i,serializer:s})},async signTypedData(i){return l2({...i,privateKey:e})}}),publicKey:t,source:"privateKey"}}var mu={},f2={get exports(){return mu},set exports(e){mu=e}},Ch={};function Mt(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var d2=Mt;Mt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Mt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Mt.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Mt.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Mt.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Mt.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Mt.prototype.start=Mt.prototype.try;Mt.prototype.errors=function(){return this._errors};Mt.prototype.attempts=function(){return this._attempts};Mt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t};(function(e){var t=d2;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<n.retries;o++)s.push(this.createTimeout(o,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,n)),s.sort(function(a,u){return a-u}),s},e.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},e.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],u=r[a];r[a]=function(f){var p=e.operation(n),g=Array.prototype.slice.call(arguments,1),E=g.pop();g.push(function(v){p.retry(v)||(v&&(arguments[0]=p.mainError()),E.apply(this,arguments))}),p.attempt(function(){f.apply(r,g)})}.bind(r,u),r[a].options=n}}})(Ch);(function(e){e.exports=Ch})(f2);const h2=M0(mu),p2=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);class y2 extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const m2=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},g2=e=>p2.has(e),Ol=e=>globalThis.DOMException===void 0?new Error(e):new DOMException(e);async function $h(e,t){return new Promise((r,n)=>{t={onFailedAttempt(){},retries:10,...t};const i=h2.operation(t);i.attempt(async s=>{try{r(await e(s))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof y2)i.stop(),n(o.originalError);else if(o instanceof TypeError&&!g2(o.message))i.stop(),n(o);else{m2(o,s,t);try{await t.onFailedAttempt(o)}catch(a){n(a);return}i.retry(o)||n(i.mainError())}}}),t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",()=>{i.stop();const s=t.signal.reason===void 0?Ol("The operation was aborted."):t.signal.reason;n(s instanceof Error?s:Ol(s))},{once:!0})})}function b2(e){return{..._c(e)}}var Sc=Ac("mud:common"),Bl=Sc.extend("createNonceManager");function v2({publicClient:e,address:t,blockTag:r}){let n={current:-1},i=typeof BroadcastChannel<"u"?new BroadcastChannel(`mud:createNonceManager:${e.chain?.id}:${t}`):null;i&&i.addEventListener("message",l=>{let f=JSON.parse(l.data);Bl("got nonce from broadcast channel",f),n.current=f});function s(){return n.current>=0}function o(){if(!s())throw new Error("call resetNonce before using nextNonce");let l=n.current++;return i?.postMessage(JSON.stringify(n.current)),l}async function a(){let l=await e.getTransactionCount({address:t,blockTag:r});n.current=l,i?.postMessage(JSON.stringify(n.current)),Bl("reset nonce to",n.current)}function u(l){return l instanceof D&&l.walk(f=>f instanceof no||f instanceof ro)!=null}return{hasNonce:s,nextNonce:o,resetNonce:a,shouldResetNonce:u}}var Us=Sc.extend("createContract");function w2(e){let t=e.length&&Array.isArray(e[0]),r=t?e[0]:[],n=(t?e[1]:e[0])??{};return{args:r,options:n}}function x2({abi:e,address:t,publicClient:r,walletClient:n,onWrite:i}){let s=N1({abi:e,address:t,publicClient:r,walletClient:n});if(s.write){let o=0,a=v2({publicClient:r,address:n.account.address});s.write=new Proxy({},{get(u,l){async function f(g){if(g.gas)return Us("gas provided, skipping simulate",l,g),g;Us("simulating write",l,g);let{request:E}=await r.simulateContract({...g,account:g.account??n.account});return E}async function p(g){let E=await f(g);return await $h(async()=>{a.hasNonce()||await a.resetNonce();let v=a.nextNonce();return Us("calling write function with nonce",v,E),await n.writeContract({nonce:v,...E})},{retries:3,onFailedAttempt:async v=>{if(a.shouldResetNonce(v)){Us("got nonce error, retrying",v),await a.resetNonce();return}throw v}})}return(...g)=>{let E=`${n.chain.id}:${n.account.address}:${o++}`,{args:v,options:x}=w2(g),I={address:t,abi:e,functionName:l,args:v,...x},R=p(I);return i?.({id:E,request:I,result:R}),R}}})}return s}function E2(e,t){if(!Kt(e))throw console.error("Private key found in cache is not valid hex",{privateKey:e,cacheKey:t}),new Error(`Private key found in cache (${t}) is not valid hex`);_c(e)}function A2(e="mud:burnerWallet"){let t=localStorage.getItem(e);if(t!=null)return E2(t,e),t;let r=o2();return console.log("New burner wallet created:",_c(r)),localStorage.setItem(e,r),r}function Ea(e){let t=eo(bt(e,0,16)).replace(/\0+$/,""),r=eo(bt(e,16,32)).replace(/\0+$/,"");return{namespace:t,name:r}}function Ic(e,t){return Tn([pn(e.substring(0,16),{size:16}),pn(t.substring(0,16),{size:16})])}var T2=Sc.extend("transportObserver");function _2(e){return t=>{let r=e(t);return{...r,request:async n=>{if(n.method==="eth_sendRawTransaction"&&n.params instanceof Array){let i=n.params.map(s=>ft(s));T2("saw txs",i)}return r.request(n)}}}}var S2=(e=>(e[e.UINT8=0]="UINT8",e[e.UINT16=1]="UINT16",e[e.UINT24=2]="UINT24",e[e.UINT32=3]="UINT32",e[e.UINT40=4]="UINT40",e[e.UINT48=5]="UINT48",e[e.UINT56=6]="UINT56",e[e.UINT64=7]="UINT64",e[e.UINT72=8]="UINT72",e[e.UINT80=9]="UINT80",e[e.UINT88=10]="UINT88",e[e.UINT96=11]="UINT96",e[e.UINT104=12]="UINT104",e[e.UINT112=13]="UINT112",e[e.UINT120=14]="UINT120",e[e.UINT128=15]="UINT128",e[e.UINT136=16]="UINT136",e[e.UINT144=17]="UINT144",e[e.UINT152=18]="UINT152",e[e.UINT160=19]="UINT160",e[e.UINT168=20]="UINT168",e[e.UINT176=21]="UINT176",e[e.UINT184=22]="UINT184",e[e.UINT192=23]="UINT192",e[e.UINT200=24]="UINT200",e[e.UINT208=25]="UINT208",e[e.UINT216=26]="UINT216",e[e.UINT224=27]="UINT224",e[e.UINT232=28]="UINT232",e[e.UINT240=29]="UINT240",e[e.UINT248=30]="UINT248",e[e.UINT256=31]="UINT256",e[e.INT8=32]="INT8",e[e.INT16=33]="INT16",e[e.INT24=34]="INT24",e[e.INT32=35]="INT32",e[e.INT40=36]="INT40",e[e.INT48=37]="INT48",e[e.INT56=38]="INT56",e[e.INT64=39]="INT64",e[e.INT72=40]="INT72",e[e.INT80=41]="INT80",e[e.INT88=42]="INT88",e[e.INT96=43]="INT96",e[e.INT104=44]="INT104",e[e.INT112=45]="INT112",e[e.INT120=46]="INT120",e[e.INT128=47]="INT128",e[e.INT136=48]="INT136",e[e.INT144=49]="INT144",e[e.INT152=50]="INT152",e[e.INT160=51]="INT160",e[e.INT168=52]="INT168",e[e.INT176=53]="INT176",e[e.INT184=54]="INT184",e[e.INT192=55]="INT192",e[e.INT200=56]="INT200",e[e.INT208=57]="INT208",e[e.INT216=58]="INT216",e[e.INT224=59]="INT224",e[e.INT232=60]="INT232",e[e.INT240=61]="INT240",e[e.INT248=62]="INT248",e[e.INT256=63]="INT256",e[e.BYTES1=64]="BYTES1",e[e.BYTES2=65]="BYTES2",e[e.BYTES3=66]="BYTES3",e[e.BYTES4=67]="BYTES4",e[e.BYTES5=68]="BYTES5",e[e.BYTES6=69]="BYTES6",e[e.BYTES7=70]="BYTES7",e[e.BYTES8=71]="BYTES8",e[e.BYTES9=72]="BYTES9",e[e.BYTES10=73]="BYTES10",e[e.BYTES11=74]="BYTES11",e[e.BYTES12=75]="BYTES12",e[e.BYTES13=76]="BYTES13",e[e.BYTES14=77]="BYTES14",e[e.BYTES15=78]="BYTES15",e[e.BYTES16=79]="BYTES16",e[e.BYTES17=80]="BYTES17",e[e.BYTES18=81]="BYTES18",e[e.BYTES19=82]="BYTES19",e[e.BYTES20=83]="BYTES20",e[e.BYTES21=84]="BYTES21",e[e.BYTES22=85]="BYTES22",e[e.BYTES23=86]="BYTES23",e[e.BYTES24=87]="BYTES24",e[e.BYTES25=88]="BYTES25",e[e.BYTES26=89]="BYTES26",e[e.BYTES27=90]="BYTES27",e[e.BYTES28=91]="BYTES28",e[e.BYTES29=92]="BYTES29",e[e.BYTES30=93]="BYTES30",e[e.BYTES31=94]="BYTES31",e[e.BYTES32=95]="BYTES32",e[e.BOOL=96]="BOOL",e[e.ADDRESS=97]="ADDRESS",e[e.UINT8_ARRAY=98]="UINT8_ARRAY",e[e.UINT16_ARRAY=99]="UINT16_ARRAY",e[e.UINT24_ARRAY=100]="UINT24_ARRAY",e[e.UINT32_ARRAY=101]="UINT32_ARRAY",e[e.UINT40_ARRAY=102]="UINT40_ARRAY",e[e.UINT48_ARRAY=103]="UINT48_ARRAY",e[e.UINT56_ARRAY=104]="UINT56_ARRAY",e[e.UINT64_ARRAY=105]="UINT64_ARRAY",e[e.UINT72_ARRAY=106]="UINT72_ARRAY",e[e.UINT80_ARRAY=107]="UINT80_ARRAY",e[e.UINT88_ARRAY=108]="UINT88_ARRAY",e[e.UINT96_ARRAY=109]="UINT96_ARRAY",e[e.UINT104_ARRAY=110]="UINT104_ARRAY",e[e.UINT112_ARRAY=111]="UINT112_ARRAY",e[e.UINT120_ARRAY=112]="UINT120_ARRAY",e[e.UINT128_ARRAY=113]="UINT128_ARRAY",e[e.UINT136_ARRAY=114]="UINT136_ARRAY",e[e.UINT144_ARRAY=115]="UINT144_ARRAY",e[e.UINT152_ARRAY=116]="UINT152_ARRAY",e[e.UINT160_ARRAY=117]="UINT160_ARRAY",e[e.UINT168_ARRAY=118]="UINT168_ARRAY",e[e.UINT176_ARRAY=119]="UINT176_ARRAY",e[e.UINT184_ARRAY=120]="UINT184_ARRAY",e[e.UINT192_ARRAY=121]="UINT192_ARRAY",e[e.UINT200_ARRAY=122]="UINT200_ARRAY",e[e.UINT208_ARRAY=123]="UINT208_ARRAY",e[e.UINT216_ARRAY=124]="UINT216_ARRAY",e[e.UINT224_ARRAY=125]="UINT224_ARRAY",e[e.UINT232_ARRAY=126]="UINT232_ARRAY",e[e.UINT240_ARRAY=127]="UINT240_ARRAY",e[e.UINT248_ARRAY=128]="UINT248_ARRAY",e[e.UINT256_ARRAY=129]="UINT256_ARRAY",e[e.INT8_ARRAY=130]="INT8_ARRAY",e[e.INT16_ARRAY=131]="INT16_ARRAY",e[e.INT24_ARRAY=132]="INT24_ARRAY",e[e.INT32_ARRAY=133]="INT32_ARRAY",e[e.INT40_ARRAY=134]="INT40_ARRAY",e[e.INT48_ARRAY=135]="INT48_ARRAY",e[e.INT56_ARRAY=136]="INT56_ARRAY",e[e.INT64_ARRAY=137]="INT64_ARRAY",e[e.INT72_ARRAY=138]="INT72_ARRAY",e[e.INT80_ARRAY=139]="INT80_ARRAY",e[e.INT88_ARRAY=140]="INT88_ARRAY",e[e.INT96_ARRAY=141]="INT96_ARRAY",e[e.INT104_ARRAY=142]="INT104_ARRAY",e[e.INT112_ARRAY=143]="INT112_ARRAY",e[e.INT120_ARRAY=144]="INT120_ARRAY",e[e.INT128_ARRAY=145]="INT128_ARRAY",e[e.INT136_ARRAY=146]="INT136_ARRAY",e[e.INT144_ARRAY=147]="INT144_ARRAY",e[e.INT152_ARRAY=148]="INT152_ARRAY",e[e.INT160_ARRAY=149]="INT160_ARRAY",e[e.INT168_ARRAY=150]="INT168_ARRAY",e[e.INT176_ARRAY=151]="INT176_ARRAY",e[e.INT184_ARRAY=152]="INT184_ARRAY",e[e.INT192_ARRAY=153]="INT192_ARRAY",e[e.INT200_ARRAY=154]="INT200_ARRAY",e[e.INT208_ARRAY=155]="INT208_ARRAY",e[e.INT216_ARRAY=156]="INT216_ARRAY",e[e.INT224_ARRAY=157]="INT224_ARRAY",e[e.INT232_ARRAY=158]="INT232_ARRAY",e[e.INT240_ARRAY=159]="INT240_ARRAY",e[e.INT248_ARRAY=160]="INT248_ARRAY",e[e.INT256_ARRAY=161]="INT256_ARRAY",e[e.BYTES1_ARRAY=162]="BYTES1_ARRAY",e[e.BYTES2_ARRAY=163]="BYTES2_ARRAY",e[e.BYTES3_ARRAY=164]="BYTES3_ARRAY",e[e.BYTES4_ARRAY=165]="BYTES4_ARRAY",e[e.BYTES5_ARRAY=166]="BYTES5_ARRAY",e[e.BYTES6_ARRAY=167]="BYTES6_ARRAY",e[e.BYTES7_ARRAY=168]="BYTES7_ARRAY",e[e.BYTES8_ARRAY=169]="BYTES8_ARRAY",e[e.BYTES9_ARRAY=170]="BYTES9_ARRAY",e[e.BYTES10_ARRAY=171]="BYTES10_ARRAY",e[e.BYTES11_ARRAY=172]="BYTES11_ARRAY",e[e.BYTES12_ARRAY=173]="BYTES12_ARRAY",e[e.BYTES13_ARRAY=174]="BYTES13_ARRAY",e[e.BYTES14_ARRAY=175]="BYTES14_ARRAY",e[e.BYTES15_ARRAY=176]="BYTES15_ARRAY",e[e.BYTES16_ARRAY=177]="BYTES16_ARRAY",e[e.BYTES17_ARRAY=178]="BYTES17_ARRAY",e[e.BYTES18_ARRAY=179]="BYTES18_ARRAY",e[e.BYTES19_ARRAY=180]="BYTES19_ARRAY",e[e.BYTES20_ARRAY=181]="BYTES20_ARRAY",e[e.BYTES21_ARRAY=182]="BYTES21_ARRAY",e[e.BYTES22_ARRAY=183]="BYTES22_ARRAY",e[e.BYTES23_ARRAY=184]="BYTES23_ARRAY",e[e.BYTES24_ARRAY=185]="BYTES24_ARRAY",e[e.BYTES25_ARRAY=186]="BYTES25_ARRAY",e[e.BYTES26_ARRAY=187]="BYTES26_ARRAY",e[e.BYTES27_ARRAY=188]="BYTES27_ARRAY",e[e.BYTES28_ARRAY=189]="BYTES28_ARRAY",e[e.BYTES29_ARRAY=190]="BYTES29_ARRAY",e[e.BYTES30_ARRAY=191]="BYTES30_ARRAY",e[e.BYTES31_ARRAY=192]="BYTES31_ARRAY",e[e.BYTES32_ARRAY=193]="BYTES32_ARRAY",e[e.BOOL_ARRAY=194]="BOOL_ARRAY",e[e.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",e[e.BYTES=196]="BYTES",e[e.STRING=197]="STRING",e))(S2||{}),Uh={[0]:"uint8",[1]:"uint16",[2]:"uint24",[3]:"uint32",[4]:"uint40",[5]:"uint48",[6]:"uint56",[7]:"uint64",[8]:"uint72",[9]:"uint80",[10]:"uint88",[11]:"uint96",[12]:"uint104",[13]:"uint112",[14]:"uint120",[15]:"uint128",[16]:"uint136",[17]:"uint144",[18]:"uint152",[19]:"uint160",[20]:"uint168",[21]:"uint176",[22]:"uint184",[23]:"uint192",[24]:"uint200",[25]:"uint208",[26]:"uint216",[27]:"uint224",[28]:"uint232",[29]:"uint240",[30]:"uint248",[31]:"uint256",[32]:"int8",[33]:"int16",[34]:"int24",[35]:"int32",[36]:"int40",[37]:"int48",[38]:"int56",[39]:"int64",[40]:"int72",[41]:"int80",[42]:"int88",[43]:"int96",[44]:"int104",[45]:"int112",[46]:"int120",[47]:"int128",[48]:"int136",[49]:"int144",[50]:"int152",[51]:"int160",[52]:"int168",[53]:"int176",[54]:"int184",[55]:"int192",[56]:"int200",[57]:"int208",[58]:"int216",[59]:"int224",[60]:"int232",[61]:"int240",[62]:"int248",[63]:"int256",[64]:"bytes1",[65]:"bytes2",[66]:"bytes3",[67]:"bytes4",[68]:"bytes5",[69]:"bytes6",[70]:"bytes7",[71]:"bytes8",[72]:"bytes9",[73]:"bytes10",[74]:"bytes11",[75]:"bytes12",[76]:"bytes13",[77]:"bytes14",[78]:"bytes15",[79]:"bytes16",[80]:"bytes17",[81]:"bytes18",[82]:"bytes19",[83]:"bytes20",[84]:"bytes21",[85]:"bytes22",[86]:"bytes23",[87]:"bytes24",[88]:"bytes25",[89]:"bytes26",[90]:"bytes27",[91]:"bytes28",[92]:"bytes29",[93]:"bytes30",[94]:"bytes31",[95]:"bytes32",[96]:"bool",[97]:"address",[98]:"uint8[]",[99]:"uint16[]",[100]:"uint24[]",[101]:"uint32[]",[102]:"uint40[]",[103]:"uint48[]",[104]:"uint56[]",[105]:"uint64[]",[106]:"uint72[]",[107]:"uint80[]",[108]:"uint88[]",[109]:"uint96[]",[110]:"uint104[]",[111]:"uint112[]",[112]:"uint120[]",[113]:"uint128[]",[114]:"uint136[]",[115]:"uint144[]",[116]:"uint152[]",[117]:"uint160[]",[118]:"uint168[]",[119]:"uint176[]",[120]:"uint184[]",[121]:"uint192[]",[122]:"uint200[]",[123]:"uint208[]",[124]:"uint216[]",[125]:"uint224[]",[126]:"uint232[]",[127]:"uint240[]",[128]:"uint248[]",[129]:"uint256[]",[130]:"int8[]",[131]:"int16[]",[132]:"int24[]",[133]:"int32[]",[134]:"int40[]",[135]:"int48[]",[136]:"int56[]",[137]:"int64[]",[138]:"int72[]",[139]:"int80[]",[140]:"int88[]",[141]:"int96[]",[142]:"int104[]",[143]:"int112[]",[144]:"int120[]",[145]:"int128[]",[146]:"int136[]",[147]:"int144[]",[148]:"int152[]",[149]:"int160[]",[150]:"int168[]",[151]:"int176[]",[152]:"int184[]",[153]:"int192[]",[154]:"int200[]",[155]:"int208[]",[156]:"int216[]",[157]:"int224[]",[158]:"int232[]",[159]:"int240[]",[160]:"int248[]",[161]:"int256[]",[162]:"bytes1[]",[163]:"bytes2[]",[164]:"bytes3[]",[165]:"bytes4[]",[166]:"bytes5[]",[167]:"bytes6[]",[168]:"bytes7[]",[169]:"bytes8[]",[170]:"bytes9[]",[171]:"bytes10[]",[172]:"bytes11[]",[173]:"bytes12[]",[174]:"bytes13[]",[175]:"bytes14[]",[176]:"bytes15[]",[177]:"bytes16[]",[178]:"bytes17[]",[179]:"bytes18[]",[180]:"bytes19[]",[181]:"bytes20[]",[182]:"bytes21[]",[183]:"bytes22[]",[184]:"bytes23[]",[185]:"bytes24[]",[186]:"bytes25[]",[187]:"bytes26[]",[188]:"bytes27[]",[189]:"bytes28[]",[190]:"bytes29[]",[191]:"bytes30[]",[192]:"bytes31[]",[193]:"bytes32[]",[194]:"bool[]",[195]:"address[]",[196]:"bytes",[197]:"string"},jh=Object.values(Uh),I2=Object.fromEntries(Object.entries(Uh).map(([e,t])=>[t,parseInt(e)]));function N2(e){let t=e.valueOf();return t<32?t+1:t<64?t+1-32:t<96?t+1-64:e==96?1:e==97?20:0}var R2=jh.filter(e=>N2(I2[e])>0),pe;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(pe||(pe={}));var gu;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(gu||(gu={}));const Z=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Rr=e=>{switch(typeof e){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(e)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(e)?Z.array:e===null?Z.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Z.promise:typeof Map<"u"&&e instanceof Map?Z.map:typeof Set<"u"&&e instanceof Set?Z.set:typeof Date<"u"&&e instanceof Date?Z.date:Z.object;default:return Z.unknown}},F=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),k2=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Tt extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Tt.create=e=>new Tt(e);const Wi=(e,t)=>{let r;switch(e.code){case F.invalid_type:e.received===Z.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case F.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,pe.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:r=`Unrecognized key(s) in object: ${pe.joinValues(e.keys,", ")}`;break;case F.invalid_union:r="Invalid input";break;case F.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pe.joinValues(e.options)}`;break;case F.invalid_enum_value:r=`Invalid enum value. Expected ${pe.joinValues(e.options)}, received '${e.received}'`;break;case F.invalid_arguments:r="Invalid function arguments";break;case F.invalid_return_type:r="Invalid function return type";break;case F.invalid_date:r="Invalid date";break;case F.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:pe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case F.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case F.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case F.custom:r="Invalid input";break;case F.invalid_intersection_types:r="Intersection results could not be merged";break;case F.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case F.not_finite:r="Number must be finite";break;default:r=t.defaultError,pe.assertNever(e)}return{message:r}};let Fh=Wi;function P2(e){Fh=e}function uo(){return Fh}const co=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};let a="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)a=l(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}},M2=[];function H(e,t){const r=co({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,uo(),Wi].filter(n=>!!n)});e.common.issues.push(r)}class dt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return ie;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return dt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ie;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const ie=Object.freeze({status:"aborted"}),Lh=e=>({status:"dirty",value:e}),yt=e=>({status:"valid",value:e}),bu=e=>e.status==="aborted",vu=e=>e.status==="dirty",Ki=e=>e.status==="valid",lo=e=>typeof Promise<"u"&&e instanceof Promise;var te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(te||(te={}));class Qt{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Cl=(e,t)=>{if(Ki(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Tt(e.common.issues);return this._error=r,this._error}}};function se(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class oe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Rr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Rr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dt,ctx:{common:t.parent.common,data:t.data,parsedType:Rr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(lo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Rr(t)},s=this._parseSync({data:t,path:i.path,parent:i});return Cl(i,s)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Rr(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(lo(i)?i:Promise.resolve(i));return Cl(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:F.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Lt({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return dr.create(this,this._def)}nullable(){return vn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ut.create(this,this._def)}promise(){return Kn.create(this,this._def)}or(t){return es.create([this,t],this._def)}and(t){return ts.create(this,t,this._def)}transform(t){return new Lt({...se(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new os({...se(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new Yh({typeName:re.ZodBranded,type:this,...se(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new yo({...se(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ts.create(this,t)}readonly(){return go.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const O2=/^c[^\s-]{8,}$/i,B2=/^[a-z][a-z0-9]*$/,C2=/[0-9A-HJKMNP-TV-Z]{26}/,$2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U2=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,j2=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,F2=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,L2=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,D2=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Y2(e,t){return!!((t==="v4"||!t)&&F2.test(e)||(t==="v6"||!t)&&L2.test(e))}class $t extends oe{constructor(){super(...arguments),this._regex=(t,r,n)=>this.refinement(i=>t.test(i),{validation:r,code:F.invalid_string,...te.errToObj(n)}),this.nonempty=t=>this.min(1,te.errToObj(t)),this.trim=()=>new $t({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new $t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new $t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Z.string){const s=this._getOrReturnCtx(t);return H(s,{code:F.invalid_type,expected:Z.string,received:s.parsedType}),ie}const n=new dt;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:F.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:F.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?H(i,{code:F.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&H(i,{code:F.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")U2.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"email",code:F.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")j2.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"emoji",code:F.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")$2.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"uuid",code:F.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")O2.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"cuid",code:F.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")B2.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"cuid2",code:F.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")C2.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"ulid",code:F.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),H(i,{validation:"url",code:F.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"regex",code:F.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),H(i,{code:F.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),H(i,{code:F.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),H(i,{code:F.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?D2(s).test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:F.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Y2(t.data,s.version)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"ip",code:F.invalid_string,message:s.message}),n.dirty()):pe.assertNever(s);return{status:n.value,value:t.data}}_addCheck(t){return new $t({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...te.errToObj(t)})}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,...te.errToObj(t?.message)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...te.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...te.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...te.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...te.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...te.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...te.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...te.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$t.create=e=>{var t;return new $t({checks:[],typeName:re.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...se(e)})};function z2(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Cr extends oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Z.number){const s=this._getOrReturnCtx(t);return H(s,{code:F.invalid_type,expected:Z.number,received:s.parsedType}),ie}let n;const i=new dt;for(const s of this._def.checks)s.kind==="int"?pe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),H(n,{code:F.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?z2(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),H(n,{code:F.not_finite,message:s.message}),i.dirty()):pe.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,te.toString(r))}setLimit(t,r,n,i){return new Cr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:te.toString(i)}]})}_addCheck(t){return new Cr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Cr.create=e=>new Cr({checks:[],typeName:re.ZodNumber,coerce:e?.coerce||!1,...se(e)});class $r extends oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Z.bigint){const s=this._getOrReturnCtx(t);return H(s,{code:F.invalid_type,expected:Z.bigint,received:s.parsedType}),ie}let n;const i=new dt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):pe.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,te.toString(r))}setLimit(t,r,n,i){return new $r({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:te.toString(i)}]})}_addCheck(t){return new $r({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$r.create=e=>{var t;return new $r({checks:[],typeName:re.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...se(e)})};class Ji extends oe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Z.boolean){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:Z.boolean,received:n.parsedType}),ie}return yt(t.data)}}Ji.create=e=>new Ji({typeName:re.ZodBoolean,coerce:e?.coerce||!1,...se(e)});class gn extends oe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Z.date){const s=this._getOrReturnCtx(t);return H(s,{code:F.invalid_type,expected:Z.date,received:s.parsedType}),ie}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return H(s,{code:F.invalid_date}),ie}const n=new dt;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:F.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:F.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):pe.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new gn({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:te.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:te.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}gn.create=e=>new gn({checks:[],coerce:e?.coerce||!1,typeName:re.ZodDate,...se(e)});class fo extends oe{_parse(t){if(this._getType(t)!==Z.symbol){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:Z.symbol,received:n.parsedType}),ie}return yt(t.data)}}fo.create=e=>new fo({typeName:re.ZodSymbol,...se(e)});class Xi extends oe{_parse(t){if(this._getType(t)!==Z.undefined){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:Z.undefined,received:n.parsedType}),ie}return yt(t.data)}}Xi.create=e=>new Xi({typeName:re.ZodUndefined,...se(e)});class Qi extends oe{_parse(t){if(this._getType(t)!==Z.null){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:Z.null,received:n.parsedType}),ie}return yt(t.data)}}Qi.create=e=>new Qi({typeName:re.ZodNull,...se(e)});class Wn extends oe{constructor(){super(...arguments),this._any=!0}_parse(t){return yt(t.data)}}Wn.create=e=>new Wn({typeName:re.ZodAny,...se(e)});class ln extends oe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yt(t.data)}}ln.create=e=>new ln({typeName:re.ZodUnknown,...se(e)});class mr extends oe{_parse(t){const r=this._getOrReturnCtx(t);return H(r,{code:F.invalid_type,expected:Z.never,received:r.parsedType}),ie}}mr.create=e=>new mr({typeName:re.ZodNever,...se(e)});class ho extends oe{_parse(t){if(this._getType(t)!==Z.undefined){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:Z.void,received:n.parsedType}),ie}return yt(t.data)}}ho.create=e=>new ho({typeName:re.ZodVoid,...se(e)});class Ut extends oe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Z.array)return H(r,{code:F.invalid_type,expected:Z.array,received:r.parsedType}),ie;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(H(r,{code:o?F.too_big:F.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(H(r,{code:F.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(H(r,{code:F.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Qt(r,o,r.path,a)))).then(o=>dt.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Qt(r,o,r.path,a)));return dt.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Ut({...this._def,minLength:{value:t,message:te.toString(r)}})}max(t,r){return new Ut({...this._def,maxLength:{value:t,message:te.toString(r)}})}length(t,r){return new Ut({...this._def,exactLength:{value:t,message:te.toString(r)}})}nonempty(t){return this.min(1,t)}}Ut.create=(e,t)=>new Ut({type:e,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...se(t)});function Nn(e){if(e instanceof Xe){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=dr.create(Nn(n))}return new Xe({...e._def,shape:()=>t})}else return e instanceof Ut?new Ut({...e._def,type:Nn(e.element)}):e instanceof dr?dr.create(Nn(e.unwrap())):e instanceof vn?vn.create(Nn(e.unwrap())):e instanceof er?er.create(e.items.map(t=>Nn(t))):e}class Xe extends oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=pe.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Z.object){const l=this._getOrReturnCtx(t);return H(l,{code:F.invalid_type,expected:Z.object,received:l.parsedType}),ie}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof mr&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const u=[];for(const l of o){const f=s[l],p=i.data[l];u.push({key:{status:"valid",value:l},value:f._parse(new Qt(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof mr){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of a)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(l==="strict")a.length>0&&(H(i,{code:F.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of a){const p=i.data[f];u.push({key:{status:"valid",value:f},value:l._parse(new Qt(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of u){const p=await f.key;l.push({key:p,value:await f.value,alwaysSet:f.alwaysSet})}return l}).then(l=>dt.mergeObjectSync(n,l)):dt.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return te.errToObj,new Xe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=te.errToObj(t).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Xe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Xe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:re.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Xe({...this._def,catchall:t})}pick(t){const r={};return pe.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}omit(t){const r={};return pe.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}deepPartial(){return Nn(this)}partial(t){const r={};return pe.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Xe({...this._def,shape:()=>r})}required(t){const r={};return pe.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof dr;)s=s._def.innerType;r[n]=s}}),new Xe({...this._def,shape:()=>r})}keyof(){return Dh(pe.objectKeys(this.shape))}}Xe.create=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strip",catchall:mr.create(),typeName:re.ZodObject,...se(t)});Xe.strictCreate=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strict",catchall:mr.create(),typeName:re.ZodObject,...se(t)});Xe.lazycreate=(e,t)=>new Xe({shape:e,unknownKeys:"strip",catchall:mr.create(),typeName:re.ZodObject,...se(t)});class es extends oe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Tt(a.ctx.common.issues));return H(r,{code:F.invalid_union,unionErrors:o}),ie}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new Tt(u));return H(r,{code:F.invalid_union,unionErrors:a}),ie}}get options(){return this._def.options}}es.create=(e,t)=>new es({options:e,typeName:re.ZodUnion,...se(t)});const qs=e=>e instanceof ns?qs(e.schema):e instanceof Lt?qs(e.innerType()):e instanceof is?[e.value]:e instanceof Ur?e.options:e instanceof ss?Object.keys(e.enum):e instanceof os?qs(e._def.innerType):e instanceof Xi?[void 0]:e instanceof Qi?[null]:null;class Do extends oe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.object)return H(r,{code:F.invalid_type,expected:Z.object,received:r.parsedType}),ie;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(H(r,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=qs(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Do({typeName:re.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...se(n)})}}function wu(e,t){const r=Rr(e),n=Rr(t);if(e===t)return{valid:!0,data:e};if(r===Z.object&&n===Z.object){const i=pe.objectKeys(t),s=pe.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const u=wu(e[a],t[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===Z.array&&n===Z.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],u=wu(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Z.date&&n===Z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ts extends oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(bu(s)||bu(o))return ie;const a=wu(s.value,o.value);return a.valid?((vu(s)||vu(o))&&r.dirty(),{status:r.value,value:a.data}):(H(n,{code:F.invalid_intersection_types}),ie)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ts.create=(e,t,r)=>new ts({left:e,right:t,typeName:re.ZodIntersection,...se(r)});class er extends oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.array)return H(n,{code:F.invalid_type,expected:Z.array,received:n.parsedType}),ie;if(n.data.length<this._def.items.length)return H(n,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&n.data.length>this._def.items.length&&(H(n,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new Qt(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>dt.mergeArray(r,o)):dt.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new er({...this._def,rest:t})}}er.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new er({items:e,typeName:re.ZodTuple,rest:null,...se(t)})};class rs extends oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.object)return H(n,{code:F.invalid_type,expected:Z.object,received:n.parsedType}),ie;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Qt(n,a,n.path,a)),value:o._parse(new Qt(n,n.data[a],n.path,a))});return n.common.async?dt.mergeObjectAsync(r,i):dt.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof oe?new rs({keyType:t,valueType:r,typeName:re.ZodRecord,...se(n)}):new rs({keyType:$t.create(),valueType:t,typeName:re.ZodRecord,...se(r)})}}class po extends oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.map)return H(n,{code:F.invalid_type,expected:Z.map,received:n.parsedType}),ie;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],l)=>({key:i._parse(new Qt(n,a,n.path,[l,"key"])),value:s._parse(new Qt(n,u,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,f=await u.value;if(l.status==="aborted"||f.status==="aborted")return ie;(l.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(l.value,f.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const u of o){const l=u.key,f=u.value;if(l.status==="aborted"||f.status==="aborted")return ie;(l.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(l.value,f.value)}return{status:r.value,value:a}}}}po.create=(e,t,r)=>new po({valueType:t,keyType:e,typeName:re.ZodMap,...se(r)});class bn extends oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.set)return H(n,{code:F.invalid_type,expected:Z.set,received:n.parsedType}),ie;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(H(n,{code:F.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(H(n,{code:F.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(u){const l=new Set;for(const f of u){if(f.status==="aborted")return ie;f.status==="dirty"&&r.dirty(),l.add(f.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((u,l)=>s._parse(new Qt(n,u,n.path,l)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(t,r){return new bn({...this._def,minSize:{value:t,message:te.toString(r)}})}max(t,r){return new bn({...this._def,maxSize:{value:t,message:te.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}bn.create=(e,t)=>new bn({valueType:e,minSize:null,maxSize:null,typeName:re.ZodSet,...se(t)});class Fn extends oe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.function)return H(r,{code:F.invalid_type,expected:Z.function,received:r.parsedType}),ie;function n(a,u){return co({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uo(),Wi].filter(l=>!!l),issueData:{code:F.invalid_arguments,argumentsError:u}})}function i(a,u){return co({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uo(),Wi].filter(l=>!!l),issueData:{code:F.invalid_return_type,returnTypeError:u}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Kn){const a=this;return yt(async function(...u){const l=new Tt([]),f=await a._def.args.parseAsync(u,s).catch(E=>{throw l.addIssue(n(u,E)),l}),p=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(p,s).catch(E=>{throw l.addIssue(i(p,E)),l})})}else{const a=this;return yt(function(...u){const l=a._def.args.safeParse(u,s);if(!l.success)throw new Tt([n(u,l.error)]);const f=Reflect.apply(o,this,l.data),p=a._def.returns.safeParse(f,s);if(!p.success)throw new Tt([i(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Fn({...this._def,args:er.create(t).rest(ln.create())})}returns(t){return new Fn({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Fn({args:t||er.create([]).rest(ln.create()),returns:r||ln.create(),typeName:re.ZodFunction,...se(n)})}}class ns extends oe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ns.create=(e,t)=>new ns({getter:e,typeName:re.ZodLazy,...se(t)});class is extends oe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return H(r,{received:r.data,code:F.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:t.data}}get value(){return this._def.value}}is.create=(e,t)=>new is({value:e,typeName:re.ZodLiteral,...se(t)});function Dh(e,t){return new Ur({values:e,typeName:re.ZodEnum,...se(t)})}class Ur extends oe{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return H(r,{expected:pe.joinValues(n),received:r.parsedType,code:F.invalid_type}),ie}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return H(r,{received:r.data,code:F.invalid_enum_value,options:n}),ie}return yt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return Ur.create(t)}exclude(t){return Ur.create(this.options.filter(r=>!t.includes(r)))}}Ur.create=Dh;class ss extends oe{_parse(t){const r=pe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const i=pe.objectValues(r);return H(n,{expected:pe.joinValues(i),received:n.parsedType,code:F.invalid_type}),ie}if(r.indexOf(t.data)===-1){const i=pe.objectValues(r);return H(n,{received:n.data,code:F.invalid_enum_value,options:i}),ie}return yt(t.data)}get enum(){return this._def.values}}ss.create=(e,t)=>new ss({values:e,typeName:re.ZodNativeEnum,...se(t)});class Kn extends oe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.promise&&r.common.async===!1)return H(r,{code:F.invalid_type,expected:Z.promise,received:r.parsedType}),ie;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return yt(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kn.create=(e,t)=>new Kn({type:e,typeName:re.ZodPromise,...se(t)});class Lt extends oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{H(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ie:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ie:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ki(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ki(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);pe.assertNever(i)}}Lt.create=(e,t,r)=>new Lt({schema:e,typeName:re.ZodEffects,effect:t,...se(r)});Lt.createWithPreprocess=(e,t,r)=>new Lt({schema:t,effect:{type:"preprocess",transform:e},typeName:re.ZodEffects,...se(r)});class dr extends oe{_parse(t){return this._getType(t)===Z.undefined?yt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dr.create=(e,t)=>new dr({innerType:e,typeName:re.ZodOptional,...se(t)});class vn extends oe{_parse(t){return this._getType(t)===Z.null?yt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vn.create=(e,t)=>new vn({innerType:e,typeName:re.ZodNullable,...se(t)});class os extends oe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}os.create=(e,t)=>new os({innerType:e,typeName:re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...se(t)});class yo extends oe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return lo(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tt(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yo.create=(e,t)=>new yo({innerType:e,typeName:re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...se(t)});class mo extends oe{_parse(t){if(this._getType(t)!==Z.nan){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:Z.nan,received:n.parsedType}),ie}return{status:"valid",value:t.data}}}mo.create=e=>new mo({typeName:re.ZodNaN,...se(e)});const G2=Symbol("zod_brand");class Yh extends oe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ts extends oe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ie:s.status==="dirty"?(r.dirty(),Lh(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ie:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Ts({in:t,out:r,typeName:re.ZodPipeline})}}class go extends oe{_parse(t){const r=this._def.innerType._parse(t);return Ki(r)&&(r.value=Object.freeze(r.value)),r}}go.create=(e,t)=>new go({innerType:e,typeName:re.ZodReadonly,...se(t)});const zh=(e,t={},r)=>e?Wn.create().superRefine((n,i)=>{var s,o;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:u})}}):Wn.create(),q2={object:Xe.lazycreate};var re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(re||(re={}));const V2=(e,t={message:`Input not instance of ${e.name}`})=>zh(r=>r instanceof e,t),Gh=$t.create,qh=Cr.create,Z2=mo.create,H2=$r.create,Vh=Ji.create,W2=gn.create,K2=fo.create,J2=Xi.create,X2=Qi.create,Q2=Wn.create,ex=ln.create,tx=mr.create,rx=ho.create,nx=Ut.create,ix=Xe.create,sx=Xe.strictCreate,ox=es.create,ax=Do.create,ux=ts.create,cx=er.create,lx=rs.create,fx=po.create,dx=bn.create,hx=Fn.create,px=ns.create,yx=is.create,mx=Ur.create,gx=ss.create,bx=Kn.create,$l=Lt.create,vx=dr.create,wx=vn.create,xx=Lt.createWithPreprocess,Ex=Ts.create,Ax=()=>Gh().optional(),Tx=()=>qh().optional(),_x=()=>Vh().optional(),Sx={string:e=>$t.create({...e,coerce:!0}),number:e=>Cr.create({...e,coerce:!0}),boolean:e=>Ji.create({...e,coerce:!0}),bigint:e=>$r.create({...e,coerce:!0}),date:e=>gn.create({...e,coerce:!0})},Ix=ie;var K=Object.freeze({__proto__:null,defaultErrorMap:Wi,setErrorMap:P2,getErrorMap:uo,makeIssue:co,EMPTY_PATH:M2,addIssueToContext:H,ParseStatus:dt,INVALID:ie,DIRTY:Lh,OK:yt,isAborted:bu,isDirty:vu,isValid:Ki,isAsync:lo,get util(){return pe},get objectUtil(){return gu},ZodParsedType:Z,getParsedType:Rr,ZodType:oe,ZodString:$t,ZodNumber:Cr,ZodBigInt:$r,ZodBoolean:Ji,ZodDate:gn,ZodSymbol:fo,ZodUndefined:Xi,ZodNull:Qi,ZodAny:Wn,ZodUnknown:ln,ZodNever:mr,ZodVoid:ho,ZodArray:Ut,ZodObject:Xe,ZodUnion:es,ZodDiscriminatedUnion:Do,ZodIntersection:ts,ZodTuple:er,ZodRecord:rs,ZodMap:po,ZodSet:bn,ZodFunction:Fn,ZodLazy:ns,ZodLiteral:is,ZodEnum:Ur,ZodNativeEnum:ss,ZodPromise:Kn,ZodEffects:Lt,ZodTransformer:Lt,ZodOptional:dr,ZodNullable:vn,ZodDefault:os,ZodCatch:yo,ZodNaN:mo,BRAND:G2,ZodBranded:Yh,ZodPipeline:Ts,ZodReadonly:go,custom:zh,Schema:oe,ZodSchema:oe,late:q2,get ZodFirstPartyTypeKind(){return re},coerce:Sx,any:Q2,array:nx,bigint:H2,boolean:Vh,date:W2,discriminatedUnion:ax,effect:$l,enum:mx,function:hx,instanceof:V2,intersection:ux,lazy:px,literal:yx,map:fx,nan:Z2,nativeEnum:gx,never:tx,null:X2,nullable:wx,number:qh,object:ix,oboolean:_x,onumber:Tx,optional:vx,ostring:Ax,pipeline:Ex,preprocess:xx,promise:bx,record:lx,set:dx,strictObject:sx,string:Gh,symbol:K2,transformer:$l,tuple:cx,undefined:J2,union:ox,unknown:ex,void:rx,NEVER:Ix,ZodIssueCode:F,quotelessJson:k2,ZodError:Tt});const Aa=10,Ul=(e=0)=>t=>`\x1B[${t+e}m`,jl=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Fl=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,We={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(We.modifier);const Nx=Object.keys(We.color),Rx=Object.keys(We.bgColor);[...Nx,...Rx];function kx(){const e=new Map;for(const[t,r]of Object.entries(We)){for(const[n,i]of Object.entries(r))We[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=We[n],e.set(i[0],i[1]);Object.defineProperty(We,t,{value:r,enumerable:!1})}return Object.defineProperty(We,"codes",{value:e,enumerable:!1}),We.color.close="\x1B[39m",We.bgColor.close="\x1B[49m",We.color.ansi=Ul(),We.color.ansi256=jl(),We.color.ansi16m=Fl(),We.bgColor.ansi=Ul(Aa),We.bgColor.ansi256=jl(Aa),We.bgColor.ansi16m=Fl(Aa),Object.defineProperties(We,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>We.rgbToAnsi256(...We.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;const a=t%36;r=Math.floor(t/36)/5,n=Math.floor(a/6)/5,i=a%6/5}const s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>We.ansi256ToAnsi(We.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>We.ansi256ToAnsi(We.hexToAnsi256(t)),enumerable:!1}}),We}const Px=kx(),qt=Px,js=(()=>{if(navigator.userAgentData){const e=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),Ll=js!==0&&{level:js,hasBasic:!0,has256:js>=2,has16m:js>=3},Mx={stdout:Ll,stderr:Ll},Ox=Mx;function Bx(e,t,r){let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.slice(s,n)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.slice(s),o}function Cx(e,t,r,n){let i=0,s="";do{const o=e[n-1]==="\r";s+=e.slice(i,o?n-1:n)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.slice(i),s}const{stdout:Dl,stderr:Yl}=Ox,xu=Symbol("GENERATOR"),Jn=Symbol("STYLER"),as=Symbol("IS_EMPTY"),zl=["ansi","ansi","ansi256","ansi16m"],Xn=Object.create(null),$x=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=Dl?Dl.level:0;e.level=t.level===void 0?r:t.level},Ux=e=>{const t=(...r)=>r.join(" ");return $x(t,e),Object.setPrototypeOf(t,_s.prototype),t};function _s(e){return Ux(e)}Object.setPrototypeOf(_s.prototype,Function.prototype);for(const[e,t]of Object.entries(qt))Xn[e]={get(){const r=bo(this,Au(t.open,t.close,this[Jn]),this[as]);return Object.defineProperty(this,e,{value:r}),r}};Xn.visible={get(){const e=bo(this,this[Jn],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Eu=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?qt[r].ansi16m(...n):t==="ansi256"?qt[r].ansi256(qt.rgbToAnsi256(...n)):qt[r].ansi(qt.rgbToAnsi(...n)):e==="hex"?Eu("rgb",t,r,...qt.hexToRgb(...n)):qt[r][e](...n),jx=["rgb","hex","ansi256"];for(const e of jx){Xn[e]={get(){const{level:r}=this;return function(...n){const i=Au(Eu(e,zl[r],"color",...n),qt.color.close,this[Jn]);return bo(this,i,this[as])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);Xn[t]={get(){const{level:r}=this;return function(...n){const i=Au(Eu(e,zl[r],"bgColor",...n),qt.bgColor.close,this[Jn]);return bo(this,i,this[as])}}}}const Fx=Object.defineProperties(()=>{},{...Xn,level:{enumerable:!0,get(){return this[xu].level},set(e){this[xu].level=e}}}),Au=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},bo=(e,t,r)=>{const n=(...i)=>Lx(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,Fx),n[xu]=e,n[Jn]=t,n[as]=r,n},Lx=(e,t)=>{if(e.level<=0||!t)return e[as]?"":t;let r=e[Jn];if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=Bx(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=Cx(t,i,n,s)),n+t+i};Object.defineProperties(_s.prototype,Xn);const Dx=_s();_s({level:Yl?Yl.level:0});const Yx=Dx,zx=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function Gx(e){return e.length===1?e[0].toString():e.reduce((t,r)=>{if(typeof r=="number")return t+"["+r.toString()+"]";if(r.includes('"'))return t+'["'+qx(r)+'"]';if(!zx.test(r))return t+'["'+r+'"]';const n=t.length===0?"":".";return t+n+r},"")}function qx(e){return e.replace(/"/g,'\\"')}function Vx(e){return e.length!==0}const Zx=99,Hx="; ",Wx=", or ",Zh="Validation error",Kx=": ";class Jx extends Error{details;name;constructor(t,r=[]){super(t),this.details=r,this.name="ZodValidationError"}toString(){return this.message}}function Hh(e,t,r){if(e.code==="invalid_union")return e.unionErrors.reduce((n,i)=>{const s=i.issues.map(o=>Hh(o,t,r)).join(t);return n.includes(s)||n.push(s),n},[]).join(r);if(Vx(e.path)){if(e.path.length===1){const n=e.path[0];if(typeof n=="number")return`${e.message} at index ${n}`}return`${e.message} at "${Gx(e.path)}"`}return e.message}function Xx(e,t,r){return t!==null?e.length>0?[t,e].join(r):t:e.length>0?e:Zh}function Qx(e,t={}){const{maxIssuesInMessage:r=Zx,issueSeparator:n=Hx,unionSeparator:i=Wx,prefixSeparator:s=Kx,prefix:o=Zh}=t,a=e.errors.slice(0,r).map(l=>Hh(l,n,i)).join(n),u=Xx(a,o,s);return new Jx(u,e.errors)}var eE=Object.defineProperty,tE=(e,t,r)=>t in e?eE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rE=(e,t,r)=>(tE(e,typeof t!="symbol"?t+"":t,r),r),nE=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},iE=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function Wh(e,t){return Qx(e,{prefix:Yx.red(t),prefixSeparator:`
- `,issueSeparator:`
- `})}var Tu=16;function Nc(e,t){/^\w+$/.test(e)||t.addIssue({code:F.custom,message:"Name must contain only alphanumeric & underscore characters"})}function sE(e,t){Nc(e,t),/^[A-Z]/.test(e)||t.addIssue({code:F.custom,message:"Name must start with a capital letter"})}function oE(e,t){Nc(e,t),/^[a-z]/.test(e)||t.addIssue({code:F.custom,message:"Name must start with a lowercase letter"})}function aE(e,t){e.length===0&&t.addIssue({code:F.custom,message:"Enum must not be empty"}),e.length>=256&&t.addIssue({code:F.custom,message:"Length of enum must be < 256"});let r=Vs(e);r.length>0&&t.addIssue({code:F.custom,message:`Enum must not have duplicate names for: ${r.join(", ")}`})}function Rc(e,t){return(r,n)=>{if(r===""){e&&n.addIssue({code:F.custom,message:"Route must not be empty"});return}r[0]!=="/"&&n.addIssue({code:F.custom,message:'Route must start with "/"'}),r[r.length-1]==="/"&&n.addIssue({code:F.custom,message:'Route must not end with "/"'});let i=r.split("/");t&&i.length>2&&n.addIssue({code:F.custom,message:'Route must only have one level (e.g. "/foo")'});for(let s=1;s<i.length;s++)i[s]===""&&n.addIssue({code:F.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(i[s])||n.addIssue({code:F.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var uE=Rc(!0,!1),cE=Rc(!1,!1),lE=Rc(!0,!0);function fE(e,t){cy(e)||t.addIssue({code:F.custom,message:"Address must be a valid Ethereum address"})}function Vs(e){let t=new Set,r=new Set;for(let n of e)t.has(n)&&r.add(n),t.add(n);return[...r]}function dE(e,t){e.length>Tu&&t.addIssue({code:F.custom,message:`Selector must be <= ${Tu} characters`}),/^\w*$/.test(e)||t.addIssue({code:F.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function hE(e){let t=e.match(/^(\w+)\[(\d+)\]$/);return t?{elementType:t[1],staticLength:Number.parseInt(t[2])}:null}var Ss=K.string().superRefine(sE),Kh=K.string().superRefine(oE);K.string().superRefine(Nc);var pE=K.array(Ss).superRefine(aE);K.string().superRefine(uE);K.string().superRefine(lE);K.string().superRefine(cE);var yE=K.string().superRefine(fE),kc=K.string().superRefine(dE),Jh=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new nE;let t=this._global,r=new Jh;return t.__mudCoreContext=r,r}static getContext(){let t=this._global.__mudCoreContext;if(t===void 0)throw new iE;return t}configExtenders=[]},us=Jh;rE(us,"_global",typeof global>"u"?window.global??{}:global);function mE(e){let t=e,r=us.getContext();for(let n of r.configExtenders)t=n(t);return t}function Xh(e){us.getContext().configExtenders.push(e)}var Qh=(e=>(e[e.TABLE_ID=0]="TABLE_ID",e[e.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",e))(Qh||{});function Fs(e){return{type:0,input:e}}var Ta={storeImportPath:"@latticexyz/store/src/",userTypesPath:"Types",codegenDirectory:"codegen"},e0={namespace:"",enums:{}},hi={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!0,ephemeral:!1},gE=Ss,bE=Kh,vE=Kh,wE=Ss,Pc=K.string(),xE=K.string(),EE=K.record(bE,xE).default(hi.keySchema),t0=K.record(vE,Pc).refine(e=>Object.keys(e).length>0,"Table schema may not be empty"),AE=Pc.transform(e=>t0.parse({value:e})),TE=t0.or(AE),r0=K.object({directory:K.string().default(hi.directory),name:kc.optional(),tableIdArgument:K.boolean().default(hi.tableIdArgument),storeArgument:K.boolean().default(hi.storeArgument),dataStruct:K.boolean().optional(),keySchema:EE,schema:TE,ephemeral:K.boolean().default(hi.ephemeral)}).transform(e=>(Object.keys(e.schema).length===1?e.dataStruct??=!1:e.dataStruct??=!0,e)),_E=Pc.transform(e=>r0.parse({schema:{value:e}})),SE=r0.or(_E),IE=K.record(gE,SE).transform(e=>{for(let t of Object.keys(e)){let r=e[t];r.name=t.slice(0,Tu),e[t]=r}return e}),NE=K.object({enums:K.record(wE,pE).default(e0.enums)}),n0=K.object({namespace:kc.default(e0.namespace),storeImportPath:K.string().default(Ta.storeImportPath),tables:IE,userTypesPath:K.string().default(Ta.userTypesPath),codegenDirectory:K.string().default(Ta.codegenDirectory)}).merge(NE);n0.superRefine(i0);var RE=n0.catchall(K.any()).superRefine(i0);function i0(e,t){for(let l of Object.values(e.tables)){let f=Object.keys(l.keySchema),p=Object.keys(l.schema),g=Vs([...f,...p]);g.length>0&&t.addIssue({code:F.custom,message:`Field and key names within one table must be unique: ${g.join(", ")}`})}let r=Object.keys(e.tables),n=Object.keys(e.enums),i=n,s=[...r,...i],o=Vs(s);o.length>0&&t.addIssue({code:F.custom,message:`Table library names, enum names must be globally unique: ${o.join(", ")}`});let a=Object.values(e.tables).map(({name:l})=>l),u=Vs(a);u.length>0&&t.addIssue({code:F.custom,message:`Table names must be unique: ${u.join(", ")}`});for(let l of Object.values(e.tables)){for(let f of Object.values(l.keySchema))s0(n,f,t);for(let f of Object.values(l.schema))kE(i,n,f,t)}}function kE(e,t,r,n){if(!jh.includes(r)&&!e.includes(r)){let i=hE(r);i?PE(t,i.elementType,i.staticLength,n):n.addIssue({code:F.custom,message:`${r} is not a valid abi type, and is not defined in userTypes`})}}function s0(e,t,r){!R2.includes(t)&&!e.includes(t)&&r.addIssue({code:F.custom,message:`${t} is not a static type`})}function PE(e,t,r,n){s0(e,t,n),r===0?n.addIssue({code:F.custom,message:"Static array length must not be 0"}):r>=2**16&&n.addIssue({code:F.custom,message:"Static array length must be less than 2**16"})}us.isCreated()||us.createContext();Xh(e=>{try{return RE.parse(e)}catch(t){throw t instanceof Tt?Wh(t,"StoreConfig Validation Error"):t}});function Mc(e){return mE(e)}var Oc=Mc({storeImportPath:"../../",namespace:"mudstore",enums:{ExampleEnum:["None","First","Second","Third"]},tables:{Hooks:"address[]",Callbacks:"bytes24[]",Tables:{keySchema:{tableId:"bytes32"},schema:{keySchema:"bytes32",valueSchema:"bytes32",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},Mixed:{schema:{u32:"uint32",u128:"uint128",a32:"uint32[]",s:"string"}},Vector2:{schema:{x:"uint32",y:"uint32"}},KeyEncoding:{keySchema:{k1:"uint256",k2:"int32",k3:"bytes16",k4:"address",k5:"bool",k6:"ExampleEnum"},schema:"bool"}}}),vo=Ac("mud:store-sync"),_u=Oc.tables.Tables,ME=Ic(Oc.namespace,_u.name);function OE({registerTables:e,getTables:t,storeOperations:r}){return async n=>{let i=n.logs.map(u=>{if(u.eventName!=="StoreSetRecord"||u.args.table!==ME)return;let[l,...f]=u.args.key;f.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",u);let p=Ea(l),g=kl(Rl(Object.values(_u.schema)),u.args.data),E=Object.fromEntries(Object.keys(_u.schema).map((M,$)=>[M,g[$]])),v=Pl(E.keySchema),x=Pl(E.valueSchema),I=yn(cl("string[]"),E.abiEncodedKeyNames)[0],R=yn(cl("string[]"),E.abiEncodedFieldNames)[0],k=[...x.staticFields,...x.dynamicFields];return{address:u.address,tableId:l,namespace:p.namespace,name:p.name,keySchema:Object.fromEntries(v.staticFields.map((M,$)=>[I[$],M])),valueSchema:Object.fromEntries(k.map((M,$)=>[R[$],M]))}}).filter(oo);i.length>0&&await e({blockNumber:n.blockNumber,tables:i});let s=Array.from(new Set(n.logs.map(u=>JSON.stringify({address:Ir(u.address),tableId:u.args.table,...Ea(u.args.table)})))).map(u=>JSON.parse(u)),o=Object.fromEntries((await t({blockNumber:n.blockNumber,tables:s})).map(u=>[`${Ir(u.address)}:${u.tableId}`,u])),a=n.logs.map(u=>{let l=o[`${Ir(u.address)}:${u.args.table}`];if(!l){vo("no table found for event, skipping",Ea(u.args.table),u);return}let f=Object.keys(l.keySchema),p=Qw({staticFields:Object.values(l.keySchema),dynamicFields:[]},u.args.key),g=Object.fromEntries(p.map((I,R)=>[f[R],I])),E=Object.values(l.valueSchema),v=Rl(E),x=Object.keys(l.valueSchema);if(u.eventName==="StoreSetRecord"||u.eventName==="StoreEphemeralRecord"){let I=kl(v,u.args.data),R=Object.fromEntries(x.map((k,M)=>[k,I[M]]));return{log:u,address:Ir(u.address),namespace:l.namespace,name:l.name,type:"SetRecord",key:g,value:R}}if(u.eventName==="StoreSetField"){let I=x[u.args.schemaIndex],R=Xw(E[u.args.schemaIndex],u.args.data);return{log:u,address:Ir(u.address),namespace:l.namespace,name:l.name,type:"SetField",key:g,fieldName:I,fieldValue:R}}if(u.eventName==="StoreDeleteRecord")return{log:u,address:Ir(u.address),namespace:l.namespace,name:l.name,type:"DeleteRecord",key:g};vo("unknown store event or log, skipping",u)}).filter(oo);return await r({blockNumber:n.blockNumber,operations:a}),{blockNumber:n.blockNumber,operations:a}}}var BE=(e=>(e.INITIALIZE="initialize",e.SNAPSHOT="snapshot",e.RPC="rpc",e.LIVE="live",e))(BE||{});function o0(e){const t=Object.create(null);for(const r in e){const n=e[r];t[n]=r}return t}const a0={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};o0(a0);o0(a0);const u0=()=>{};function c0(e,t){return new Proxy(u0,{get(n,i){if(!(typeof i!="string"||i==="then"))return c0(e,[...t,i])},apply(n,i,s){const o=t[t.length-1]==="apply";return e({args:o?s.length>=2?s[1]:[]:s,path:o?t.slice(0,-1):t})}})}const CE=e=>c0(e,[]),$E=e=>new Proxy(u0,{get(t,r){if(!(typeof r!="string"||r==="then"))return e(r)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var UE=function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)},e.prototype.getByKey=function(t){return this.keyToValue.get(t)},e.prototype.getByValue=function(t){return this.valueToKey.get(t)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e}(),l0=function(){function e(t){this.generateIdentifier=t,this.kv=new UE}return e.prototype.register=function(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(t){return this.kv.getByValue(t)},e.prototype.getValue=function(t){return this.kv.getByKey(t)},e}(),jE=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FE=function(e){jE(t,e);function t(){var r=e.call(this,function(n){return n.name})||this;return r.classToAllowedProps=new Map,r}return t.prototype.register=function(r,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(r,n.allowProps),e.prototype.register.call(this,r,n.identifier)):e.prototype.register.call(this,r,n)},t.prototype.getAllowedProps=function(r){return this.classToAllowedProps.get(r)},t}(l0),LE=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s};function DE(e){if("values"in Object)return Object.values(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function YE(e,t){var r=DE(e);if("find"in r)return r.find(t);for(var n=r,i=0;i<n.length;i++){var s=n[i];if(t(s))return s}}function Qn(e,t){Object.entries(e).forEach(function(r){var n=LE(r,2),i=n[0],s=n[1];return t(s,i)})}function Zs(e,t){return e.indexOf(t)!==-1}function Gl(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n))return n}}var zE=function(){function e(){this.transfomers={}}return e.prototype.register=function(t){this.transfomers[t.name]=t},e.prototype.findApplicable=function(t){return YE(this.transfomers,function(r){return r.isApplicable(t)})},e.prototype.findByName=function(t){return this.transfomers[t]},e}(),GE=function(e){return Object.prototype.toString.call(e).slice(8,-1)},f0=function(e){return typeof e>"u"},qE=function(e){return e===null},cs=function(e){return typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype},Su=function(e){return cs(e)&&Object.keys(e).length===0},jr=function(e){return Array.isArray(e)},VE=function(e){return typeof e=="string"},ZE=function(e){return typeof e=="number"&&!isNaN(e)},HE=function(e){return typeof e=="boolean"},WE=function(e){return e instanceof RegExp},ls=function(e){return e instanceof Map},fs=function(e){return e instanceof Set},d0=function(e){return GE(e)==="Symbol"},KE=function(e){return e instanceof Date&&!isNaN(e.valueOf())},JE=function(e){return e instanceof Error},ql=function(e){return typeof e=="number"&&isNaN(e)},XE=function(e){return HE(e)||qE(e)||f0(e)||ZE(e)||VE(e)||d0(e)},QE=function(e){return typeof e=="bigint"},eA=function(e){return e===1/0||e===-1/0},tA=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},rA=function(e){return e instanceof URL},h0=function(e){return e.replace(/\./g,"\\.")},_a=function(e){return e.map(String).map(h0).join(".")},gi=function(e){for(var t=[],r="",n=0;n<e.length;n++){var i=e.charAt(n),s=i==="\\"&&e.charAt(n+1)===".";if(s){r+=".",n++;continue}var o=i===".";if(o){t.push(r),r="";continue}r+=i}var a=r;return t.push(a),t},Iu=globalThis&&globalThis.__assign||function(){return Iu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Iu.apply(this,arguments)},Nu=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},Ru=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function Gt(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}var p0=[Gt(f0,"undefined",function(){return null},function(){}),Gt(QE,"bigint",function(e){return e.toString()},function(e){return typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),Gt(KE,"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),Gt(JE,"Error",function(e,t){var r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(function(n){r[n]=e[n]}),r},function(e,t){var r=new Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(function(n){r[n]=e[n]}),r}),Gt(WE,"regexp",function(e){return""+e},function(e){var t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),Gt(fs,"set",function(e){return Ru([],Nu(e.values()))},function(e){return new Set(e)}),Gt(ls,"map",function(e){return Ru([],Nu(e.entries()))},function(e){return new Map(e)}),Gt(function(e){return ql(e)||eA(e)},"number",function(e){return ql(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),Gt(function(e){return e===0&&1/e===-1/0},"number",function(){return"-0"},Number),Gt(rA,"URL",function(e){return e.toString()},function(e){return new URL(e)})];function Yo(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}var y0=Yo(function(e,t){if(d0(e)){var r=!!t.symbolRegistry.getIdentifier(e);return r}return!1},function(e,t){var r=t.symbolRegistry.getIdentifier(e);return["symbol",r]},function(e){return e.description},function(e,t,r){var n=r.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),nA=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,t){return e[t.name]=t,e},{}),m0=Yo(tA,function(e){return["typed-array",e.constructor.name]},function(e){return Ru([],Nu(e))},function(e,t){var r=nA[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function g0(e,t){if(e?.constructor){var r=!!t.classRegistry.getIdentifier(e.constructor);return r}return!1}var b0=Yo(g0,function(e,t){var r=t.classRegistry.getIdentifier(e.constructor);return["class",r]},function(e,t){var r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return Iu({},e);var n={};return r.forEach(function(i){n[i]=e[i]}),n},function(e,t,r){var n=r.classRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),e)}),v0=Yo(function(e,t){return!!t.customTransformerRegistry.findApplicable(e)},function(e,t){var r=t.customTransformerRegistry.findApplicable(e);return["custom",r.name]},function(e,t){var r=t.customTransformerRegistry.findApplicable(e);return r.serialize(e)},function(e,t,r){var n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),iA=[b0,y0,v0,m0],Vl=function(e,t){var r=Gl(iA,function(i){return i.isApplicable(e,t)});if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};var n=Gl(p0,function(i){return i.isApplicable(e,t)});if(n)return{value:n.transform(e,t),type:n.annotation}},w0={};p0.forEach(function(e){w0[e.annotation]=e});var sA=function(e,t,r){if(jr(t))switch(t[0]){case"symbol":return y0.untransform(e,t,r);case"class":return b0.untransform(e,t,r);case"custom":return v0.untransform(e,t,r);case"typed-array":return m0.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{var n=w0[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,r)}},Mn=function(e,t){for(var r=e.keys();t>0;)r.next(),t--;return r.next().value};function x0(e){if(Zs(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Zs(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Zs(e,"constructor"))throw new Error("constructor is not allowed as a property")}var oA=function(e,t){x0(t);for(var r=0;r<t.length;r++){var n=t[r];if(fs(e))e=Mn(e,+n);else if(ls(e)){var i=+n,s=+t[++r]==0?"key":"value",o=Mn(e,i);switch(s){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[n]}return e},ku=function(e,t,r){if(x0(t),t.length===0)return r(e);for(var n=e,i=0;i<t.length-1;i++){var s=t[i];if(jr(n)){var o=+s;n=n[o]}else if(cs(n))n=n[s];else if(fs(n)){var a=+s;n=Mn(n,a)}else if(ls(n)){var u=i===t.length-2;if(u)break;var a=+s,l=+t[++i]==0?"key":"value",f=Mn(n,a);switch(l){case"key":n=f;break;case"value":n=n.get(f);break}}}var p=t[t.length-1];if(jr(n)?n[+p]=r(n[+p]):cs(n)&&(n[p]=r(n[p])),fs(n)){var g=Mn(n,+p),E=r(g);g!==E&&(n.delete(g),n.add(E))}if(ls(n)){var a=+t[t.length-2],v=Mn(n,a),l=+p==0?"key":"value";switch(l){case"key":{var x=r(v);n.set(x,n.get(v)),x!==v&&n.delete(v);break}case"value":{n.set(v,r(n.get(v)));break}}}return e},or=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},Mr=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function Pu(e,t,r){if(r===void 0&&(r=[]),!!e){if(!jr(e)){Qn(e,function(o,a){return Pu(o,t,Mr(Mr([],or(r)),or(gi(a))))});return}var n=or(e,2),i=n[0],s=n[1];s&&Qn(s,function(o,a){Pu(o,t,Mr(Mr([],or(r)),or(gi(a))))}),t(i,r)}}function aA(e,t,r){return Pu(t,function(n,i){e=ku(e,i,function(s){return sA(s,n,r)})}),e}function uA(e,t){function r(o,a){var u=oA(e,gi(a));o.map(gi).forEach(function(l){e=ku(e,l,function(){return u})})}if(jr(t)){var n=or(t,2),i=n[0],s=n[1];i.forEach(function(o){e=ku(e,gi(o),function(){return e})}),s&&Qn(s,r)}else Qn(t,r);return e}var cA=function(e,t){return cs(e)||jr(e)||ls(e)||fs(e)||g0(e,t)};function lA(e,t,r){var n=r.get(e);n?n.push(t):r.set(e,[t])}function fA(e){var t={},r=void 0;return e.forEach(function(n){if(!(n.length<=1)){var i=or(n.map(function(a){return a.map(String)}).sort(function(a,u){return a.length-u.length})),s=i[0],o=i.slice(1);s.length===0?r=o.map(_a):t[_a(s)]=o.map(_a)}}),r?Su(t)?[r]:[r,t]:Su(t)?void 0:t}var E0=function(e,t,r,n,i,s,o){var a;i===void 0&&(i=[]),s===void 0&&(s=[]),o===void 0&&(o=new Map);var u=XE(e);if(!u){lA(e,i,t);var l=o.get(e);if(l)return n?{transformedValue:null}:l}if(!cA(e,r)){var f=Vl(e,r),p=f?{transformedValue:f.value,annotations:[f.type]}:{transformedValue:e};return u||o.set(e,p),p}if(Zs(s,e))return{transformedValue:null};var g=Vl(e,r),E=(a=g?.value)!==null&&a!==void 0?a:e,v=jr(E)?[]:{},x={};Qn(E,function(R,k){var M=E0(R,t,r,n,Mr(Mr([],or(i)),[k]),Mr(Mr([],or(s)),[e]),o);v[k]=M.transformedValue,jr(M.annotations)?x[k]=M.annotations:cs(M.annotations)&&Qn(M.annotations,function($,B){x[h0(k)+"."+B]=$})});var I=Su(x)?{transformedValue:v,annotations:g?[g.type]:void 0}:{transformedValue:v,annotations:g?[g.type,x]:x};return u||o.set(e,I),I};function A0(e){return Object.prototype.toString.call(e).slice(8,-1)}function dA(e){if(A0(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function Zl(e){return A0(e)==="Array"}function hA(e,t,r,n,i){const s={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=r),i&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function Mu(e,t={}){if(Zl(e))return e.map(i=>Mu(i,t));if(!dA(e))return e;const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((i,s)=>{if(Zl(t.props)&&!t.props.includes(s))return i;const o=e[s],a=Mu(o,t);return hA(i,s,a,e,t.nonenumerable),i},{})}var on=globalThis&&globalThis.__assign||function(){return on=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},on.apply(this,arguments)},pA=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},yA=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},vr=function(){function e(t){var r=t===void 0?{}:t,n=r.dedupe,i=n===void 0?!1:n;this.classRegistry=new FE,this.symbolRegistry=new l0(function(s){var o;return(o=s.description)!==null&&o!==void 0?o:""}),this.customTransformerRegistry=new zE,this.allowedErrorProps=[],this.dedupe=i}return e.prototype.serialize=function(t){var r=new Map,n=E0(t,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta=on(on({},i.meta),{values:n.annotations}));var s=fA(r);return s&&(i.meta=on(on({},i.meta),{referentialEqualities:s})),i},e.prototype.deserialize=function(t){var r=t.json,n=t.meta,i=Mu(r);return n?.values&&(i=aA(i,n.values,this)),n?.referentialEqualities&&(i=uA(i,n.referentialEqualities)),i},e.prototype.stringify=function(t){return JSON.stringify(this.serialize(t))},e.prototype.parse=function(t){return this.deserialize(JSON.parse(t))},e.prototype.registerClass=function(t,r){this.classRegistry.register(t,r)},e.prototype.registerSymbol=function(t,r){this.symbolRegistry.register(t,r)},e.prototype.registerCustom=function(t,r){this.customTransformerRegistry.register(on({name:r},t))},e.prototype.allowErrorProps=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];(t=this.allowedErrorProps).push.apply(t,yA([],pA(r)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e}();vr.serialize;vr.deserialize;vr.stringify;vr.parse;vr.registerClass;vr.registerCustom;vr.registerSymbol;vr.allowErrorProps;function mA(e){return e}function gA(e){return e.length===0?mA:e.length===1?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}function T0(e){const t={subscribe(r){let n=null,i=!1,s=!1,o=!1;function a(){if(n===null){o=!0;return}s||(s=!0,typeof n=="function"?n():n&&n.unsubscribe())}return n=e({next(u){i||r.next?.(u)},error(u){i||(i=!0,r.error?.(u),a())},complete(){i||(i=!0,r.complete?.(),a())}}),o&&a(),{unsubscribe:a}},pipe(...r){return gA(r)(t)}};return t}function bA(e){return t=>{let r=0,n=null;const i=[];function s(){n||(n=t.subscribe({next(a){for(const u of i)u.next?.(a)},error(a){for(const u of i)u.error?.(a)},complete(){for(const a of i)a.complete?.()}}))}function o(){if(r===0&&n){const a=n;n=null,a.unsubscribe()}}return{subscribe(a){return r++,i.push(a),s(),{unsubscribe(){r--,o();const u=i.findIndex(l=>l===a);u>-1&&i.splice(u,1)}}}}}}class Bc extends Error{constructor(t){super(t),this.name="ObservableAbortError",Object.setPrototypeOf(this,Bc.prototype)}}function vA(e){let t;return{promise:new Promise((n,i)=>{let s=!1;function o(){s||(s=!0,i(new Bc("This operation was aborted.")),a.unsubscribe())}const a=e.subscribe({next(u){s=!0,n(u),o()},error(u){s=!0,i(u),o()},complete(){s=!0,o()}});t=o}),abort:t}}function wA(e){return T0(t=>{function r(i=0,s=e.op){const o=e.links[i];if(!o)throw new Error("No more links to execute - did you forget to add an ending link?");return o({op:s,next(u){return r(i+1,u)}})}return r().subscribe(t)})}function xA(e){return e instanceof hr||e.name==="TRPCClientError"}class hr extends Error{static from(t,r={}){return t instanceof Error?xA(t)?(r.meta&&(t.meta={...t.meta,...r.meta}),t):new hr(t.message,{...r,cause:t,result:null}):new hr(t.error.message??"",{...r,cause:void 0,result:t})}constructor(t,r){const n=r?.cause;super(t,{cause:n}),this.meta=r?.meta,this.cause=n,this.shape=r?.result?.error,this.data=r?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,hr.prototype)}}const Hl=e=>typeof e=="function";function EA(e){if(e)return e;if(typeof window<"u"&&Hl(window.fetch))return window.fetch;if(typeof globalThis<"u"&&Hl(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function AA(e){return e||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function TA(e){return{url:e.url,fetch:e.fetch,AbortController:AA(e.AbortController)}}function _A(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[r]=n}return t}const SA={query:"GET",mutation:"POST"};function _0(e){return"input"in e?e.runtime.transformer.serialize(e.input):_A(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}const S0=e=>{let t=e.url+"/"+e.path;const r=[];if("inputs"in e&&r.push("batch=1"),e.type==="query"){const n=_0(e);n!==void 0&&r.push(`input=${encodeURIComponent(JSON.stringify(n))}`)}return r.length&&(t+="?"+r.join("&")),t},IA=e=>{if(e.type==="query")return;const t=_0(e);return t!==void 0?JSON.stringify(t):void 0},NA=e=>kA({...e,contentTypeHeader:"application/json",getUrl:S0,getBody:IA});async function RA(e,t){const r=e.getUrl(e),n=e.getBody(e),{type:i}=e,s=await e.headers();/* istanbul ignore if -- @preserve */if(i==="subscription")throw new Error("Subscriptions should use wsLink");const o={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...s};return EA(e.fetch)(r,{method:SA[i],signal:t?.signal,body:n,headers:o})}function kA(e){const t=e.AbortController?new e.AbortController:null,r={};return{promise:new Promise((s,o)=>{RA(e,t).then(a=>(r.response=a,a.json())).then(a=>{r.responseJSON=a,s({json:a,meta:r})}).catch(a=>{o(hr.from(a,{meta:r}))})}),cancel:()=>{t?.abort()}}}function Wl(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function PA(e,t){if("error"in e){const n=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:n}}}return{ok:!0,result:{...e.result,...(!e.result.type||e.result.type==="data")&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}class Sa extends Error{constructor(){super("Unable to transform response from server")}}function MA(e,t){let r;try{r=PA(e,t)}catch{throw new Sa}if(!r.ok&&(!Wl(r.error.error)||typeof r.error.error.code!="number"))throw new Sa;if(r.ok&&!Wl(r.result))throw new Sa;return r}const Ia=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function Na(e){let t=null,r=null;const n=()=>{clearTimeout(r),r=null,t=null};function i(a){const u=[[]];let l=0;for(;;){const f=a[l];if(!f)break;const p=u[u.length-1];if(f.aborted){f.reject?.(new Error("Aborted")),l++;continue}if(e.validate(p.concat(f).map(E=>E.key))){p.push(f),l++;continue}if(p.length===0){f.reject?.(new Error("Input is too big for a single dispatch")),l++;continue}u.push([])}return u}function s(){const a=i(t);n();for(const u of a){if(!u.length)continue;const l={items:u,cancel:Ia};for(const E of u)E.batch=l;const f=(E,v)=>{const x=l.items[E];x.resolve?.(v),x.batch=null,x.reject=null,x.resolve=null},{promise:p,cancel:g}=e.fetch(l.items.map(E=>E.key),f);l.cancel=g,p.then(E=>{for(let v=0;v<E.length;v++){const x=E[v];f(v,x)}for(const v of l.items)v.reject?.(new Error("Missing result")),v.batch=null}).catch(E=>{for(const v of l.items)v.reject?.(E),v.batch=null})}}function o(a){const u={aborted:!1,key:a,batch:null,resolve:Ia,reject:Ia},l=new Promise((p,g)=>{u.reject=g,u.resolve=p,t||(t=[]),t.push(u)});return r||(r=setTimeout(s)),{promise:l,cancel:()=>{u.aborted=!0,u.batch?.items.every(p=>p.aborted)&&(u.batch.cancel(),u.batch=null)}}}return{load:o}}function OA(e){return function(r){const n=TA(r),i=r.maxURLLength??1/0;return s=>{const o=p=>{const g=v=>{if(i===1/0)return!0;const x=v.map(k=>k.path).join(","),I=v.map(k=>k.input);return S0({...n,runtime:s,type:p,path:x,inputs:I}).length<=i},E=e({...n,runtime:s,type:p,opts:r});return{validate:g,fetch:E}},a=Na(o("query")),u=Na(o("mutation")),l=Na(o("subscription")),f={query:a,subscription:l,mutation:u};return({op:p})=>T0(g=>{const E=f[p.type],{promise:v,cancel:x}=E.load(p);let I;return v.then(R=>{I=R;const k=MA(R.json,s);if(!k.ok){g.error(hr.from(k.error,{meta:R.meta}));return}g.next({context:R.meta,result:k.result}),g.complete()}).catch(R=>{g.error(hr.from(R,{meta:I?.meta}))}),()=>{x()}})}}}const BA=e=>t=>{const r=t.map(o=>o.path).join(","),n=t.map(o=>o.input),{promise:i,cancel:s}=NA({...e,path:r,inputs:n,headers(){return e.opts.headers?typeof e.opts.headers=="function"?e.opts.headers({opList:t}):e.opts.headers:{}}});return{promise:i.then(o=>(Array.isArray(o.json)?o.json:t.map(()=>o.json)).map(l=>({meta:o.meta,json:l}))),cancel:s}},CA=OA(BA);class $A{$request({type:t,input:r,path:n,context:i={}}){return wA({links:this.links,op:{id:++this.requestId,type:t,path:n,input:r,context:i}}).pipe(bA())}requestAsPromise(t){const r=this.$request(t),{promise:n,abort:i}=vA(r);return new Promise((o,a)=>{t.signal?.addEventListener("abort",i),n.then(u=>{o(u.result.data)}).catch(u=>{a(hr.from(u))})})}query(t,r,n){return this.requestAsPromise({type:"query",path:t,input:r,context:n?.context,signal:n?.signal})}mutation(t,r,n){return this.requestAsPromise({type:"mutation",path:t,input:r,context:n?.context,signal:n?.signal})}subscription(t,r,n){return this.$request({type:"subscription",path:t,input:r,context:n?.context}).subscribe({next(s){s.result.type==="started"?n.onStarted?.():s.result.type==="stopped"?n.onStopped?.():n.onData?.(s.result.data)},error(s){n.onError?.(s)},complete(){n.onComplete?.()}})}constructor(t){this.requestId=0;const r=(()=>{const n=t.transformer;return n?"input"in n?t.transformer:{input:n,output:n}:{input:{serialize:i=>i,deserialize:i=>i},output:{serialize:i=>i,deserialize:i=>i}}})();this.runtime={transformer:{serialize:n=>r.input.serialize(n),deserialize:n=>r.output.deserialize(n)},combinedTransformer:r},this.links=t.links.map(n=>n(this.runtime))}}const UA={query:"query",mutate:"mutation",subscribe:"subscription"},jA=e=>UA[e];function FA(e){return $E(t=>e.hasOwnProperty(t)?e[t]:t==="__untypedClient"?e:CE(({path:r,args:n})=>{const i=[t,...r],s=jA(i.pop()),o=i.join(".");return e[s](o,...n)}))}function LA(e){const t=new $A(e);return FA(t)}function DA({url:e}){return LA({transformer:vr,links:[CA({url:e})]})}var YA=["event StoreDeleteRecord(bytes32 table, bytes32[] key)","event StoreSetField(bytes32 table, bytes32[] key, uint8 schemaIndex, bytes data)","event StoreSetRecord(bytes32 table, bytes32[] key, bytes data)","event StoreEphemeralRecord(bytes32 table, bytes32[] key, bytes data)"],zA=ug(YA),Kl=Ac("mud:block-events-stream");async function*GA({maxBlockRange:e=1000n,maxRetryCount:t=3,publicClient:r,...n}){let i=n.fromBlock,s=Nl(e,n.toBlock-i),o=0;for(;i<=n.toBlock;)try{let a=i+s,u=await r.getLogs({...n,fromBlock:i,toBlock:a,strict:!0});yield{fromBlock:i,toBlock:a,logs:u},i=a+1n,s=Nl(e,n.toBlock-i)}catch(a){if(!(a instanceof Error))throw a;if(a.message.includes("rate limit exceeded")&&o<t){let u=2*o;Kl(`too many requests, retrying in ${u}s`,a),await qw(1e3*u),o+=1;continue}if(a.message.includes("block range exceeded")){if(s/=2n,s<=0n)throw new Error("can't reduce block range any further");Kl("block range exceeded, trying a smaller block range",a);continue}throw a}}function qA({publicClient:e,address:t,events:r,maxBlockRange:n}){let i,s;return D0(Rn(({endBlock:o,startBlock:a})=>{i??=a,s=o}),Ba(()=>i>s?cf:xn(GA({publicClient:e,address:t,events:r,fromBlock:i,toBlock:s,maxBlockRange:n})).pipe(Rn(({toBlock:o})=>{i=o+1n}))))}function VA({publicClient:e,blockTag:t}){return new pt(function(r){return e.watchBlocks({blockTag:t,emitOnBegin:!0,onBlock:n=>r.next(n),onError:n=>r.error(n)})})}function ZA(e,t){let r=Array.from(new Set(e.map(s=>s.blockNumber)));r.sort(zw);let n=r.map(s=>{let o=e.filter(a=>a.blockNumber===s);if(o.length&&(o.sort((a,u)=>a.logIndex<u.logIndex?-1:a.logIndex>u.logIndex?1:0),!!o.length))return{blockNumber:s,logs:o}}).filter(oo),i=r.length>0?r[r.length-1]:null;return t!=null&&(i==null||t>i)&&n.push({blockNumber:t,logs:[]}),n}function HA(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,_m[r]]))}var Bt=vo.extend("createStoreSync");async function WA({storageAdapter:e,onProgress:t,address:r,publicClient:n,startBlock:i=0n,maxBlockRange:s,initialState:o,indexerUrl:a}){let u=Np(async()=>{if(o)return o;if(!a)return;Bt("fetching initial state from indexer",a),t?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetching snapshot from indexer"});let M=DA({url:a}),$=n.chain?.id??await n.getChainId(),B=await M.findAll.query({chainId:$,address:r});return t?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetched snapshot from indexer"}),B}).pipe(Tf(M=>(Bt("error fetching initial state from indexer",M),t?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:i,message:"Failed to fetch snapshot from indexer"}),cp(void 0))),Ns(1)),l=u.pipe(pi(M=>M?.blockNumber??i),Rn(M=>Bt("starting sync from block",M))),f=u.pipe(Yc(M=>M!=null&&M.blockNumber!=null&&M.tables.length>0),Ba(async({blockNumber:M,tables:$})=>{Bt("hydrating from initial state to block",M),t?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:M,message:"Hydrating from snapshot"}),await e.registerTables({blockNumber:M,tables:$});let B=$.flatMap(V=>V.records.map(ye=>({type:"SetRecord",address:V.address,namespace:V.namespace,name:V.name,key:ye.key,value:ye.value}))),C=Math.max(100,Math.floor(B.length/50)),W=Array.from(Gw(B,C));for(let[V,ye]of W.entries())await e.storeOperations({blockNumber:M,operations:ye}),t?.({step:"snapshot",percentage:(V+ye.length)/W.length,latestBlockNumber:0n,lastBlockNumberProcessed:M,message:"Hydrating from snapshot"});return t?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:M,message:"Hydrated from snapshot"}),{blockNumber:M,operations:B}}),Ns(1)),p=VA({publicClient:n,blockTag:"latest"}).pipe(Ns(1)),g=p.pipe(pi(M=>M.number),Rn(M=>{Bt("latest block number",M)}),Ns(1)),E=null,v=null,x=Ep([l,g]).pipe(pi(([M,$])=>({startBlock:M,endBlock:$})),Rn(M=>{E=M.startBlock,v=M.endBlock}),qA({publicClient:n,address:r,events:zA,maxBlockRange:s}),vi(({toBlock:M,logs:$})=>xn(ZA($,M))),Hs()),I=null,R=Ip(f,x.pipe(Ba(OE(e)),Rn(({blockNumber:M,operations:$})=>{if(Bt("stored",$.length,"operations for block",M),I=M,E!=null&&v!=null)if(M<v){let B=v-E,C=I-E;t?.({step:"rpc",percentage:Number(C*1000n/B)/1e3,latestBlockNumber:v,lastBlockNumberProcessed:I,message:"Hydrating from RPC"})}else t?.({step:"live",percentage:100,latestBlockNumber:v,lastBlockNumberProcessed:I,message:"All caught up!"})}))).pipe(Hs());async function k(M){let $=await $h(B=>(Bt("waiting for tx receipt",M,"attempt",B),n.waitForTransactionReceipt({hash:M,timeout:n.pollingInterval*2*B})),{retries:3,onFailedAttempt:B=>{if(B instanceof Od){Bt("timed out waiting for tx receipt, trying again",M);return}throw B}});return Bt("got tx receipt",M,$),(I==null||I<$.blockNumber)&&(Bt("waiting for tx block to be processed",M,$.blockNumber),await fp(R.pipe(Yc(({blockNumber:B})=>B>=$.blockNumber)))),Bt("tx block was processed",M,$.blockNumber),{receipt:$}}return{latestBlock$:p,latestBlockNumber$:g,blockLogs$:x,blockStorageOperations$:R,waitForTransaction:k}}var Ou={registerFunctionSelector:!0,openAccess:!0,accessList:[]},tr={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},Bu=Ss,KA=Ss,JA=K.array(Bu.or(yE)).default(Ou.accessList),XA=K.intersection(K.object({name:kc.optional(),registerFunctionSelectors:K.boolean().default(Ou.registerFunctionSelector)}),K.discriminatedUnion("openAccess",[K.object({openAccess:K.literal(!0).default(Ou.openAccess)}),K.object({openAccess:K.literal(!1),accessList:JA})])),QA=K.object({value:K.union([K.string(),K.number(),K.instanceof(Uint8Array)]),type:K.string()}),e6=K.object({type:K.nativeEnum(Qh),input:K.string()}),t6=K.object({name:KA,root:K.boolean().default(!1),args:K.array(K.union([QA,e6])).default([])}),r6=K.object({worldContractName:K.string().optional(),worldInterfaceName:K.string().default(tr.worldInterfaceName),systems:K.record(Bu,XA).default(tr.systems),excludeSystems:K.array(Bu).default(tr.excludeSystems),postDeployScript:K.string().default(tr.postDeployScript),deploysDirectory:K.string().default(tr.deploysDirectory),worldsFile:K.string().default(tr.worldsFile),worldgenDirectory:K.string().default(tr.worldgenDirectory),worldImportPath:K.string().default(tr.worldImportPath),modules:K.array(t6).default(tr.modules)}),n6=r6.catchall(K.any());Xh(e=>{try{return n6.parse(e)}catch(t){throw t instanceof Tt?Wh(t,"WorldConfig Validation Error"):t}});var i6=Mc({worldImportPath:"../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",codegenDirectory:"",tables:{NamespaceOwner:{keySchema:{namespace:"bytes16"},schema:{owner:"address"}},ResourceAccess:{keySchema:{resourceSelector:"bytes32",caller:"address"},schema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},schema:{moduleAddress:"address"},dataStruct:!0},Systems:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{directory:"modules/core/tables",keySchema:{system:"address"},schema:{resourceSelector:"bytes32"}},SystemHooks:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:"address[]"},ResourceType:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{resourceType:"Resource"}},FunctionSelectors:{directory:"modules/core/tables",keySchema:{functionSelector:"bytes4"},schema:{resourceSelector:"bytes32",systemFunctionSelector:"bytes4"},dataStruct:!1},KeysWithValue:{directory:"modules/keyswithvalue/tables",keySchema:{valueHash:"bytes32"},schema:{keysWithValue:"bytes32[]"},tableIdArgument:!0},KeysInTable:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32"},schema:{keys0:"bytes32[]",keys1:"bytes32[]",keys2:"bytes32[]",keys3:"bytes32[]",keys4:"bytes32[]"}},UsedKeysIndex:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32",keysHash:"bytes32"},schema:{has:"bool",index:"uint40"},dataStruct:!1},UniqueEntity:{directory:"modules/uniqueentity/tables",keySchema:{},schema:"uint256",tableIdArgument:!0,storeArgument:!0},Bool:{directory:"../test/tables",keySchema:{},schema:{value:"bool"},tableIdArgument:!0},AddressArray:{directory:"../test/tables",schema:"address[]",tableIdArgument:!0}},enums:{Resource:["NONE","NAMESPACE","TABLE","SYSTEM"]},excludeSystems:["UniqueEntitySystem","StoreRegistrationSystem","EphemeralRecordSystem"]});function I0(e){return Tn(e)}function Cc(e,t){if(Object.keys(e).length!==Object.keys(t).length)throw new Error(`key length ${Object.keys(t).length} does not match key schema length ${Object.keys(e).length}`);return I0(Object.entries(e).map(([r,n])=>ni([{type:n}],[t[r]])))}var li=vo.extend("recs");function Ra(e){return Cc({address:"address",namespace:"bytes16",name:"bytes16"},{address:e.address,namespace:pn(e.namespace,{size:16}),name:pn(e.name,{size:16})})}function s6({components:e}){let t=Object.fromEntries(Object.entries(e).map(([r,n])=>[n.id,n]));return{async registerTables({tables:r}){for(let n of r)Ii(e.RegisteredTables,Ra(n),{table:n})},async getTables({tables:r}){return r.map(n=>lt(e.RegisteredTables,Ra(n))?.table).filter(oo)},async storeOperations({operations:r}){for(let n of r){let i=lt(e.RegisteredTables,Ra({address:n.address,namespace:n.namespace,name:n.name}))?.table;if(!i){li(`skipping update for unknown table: ${n.namespace}:${n.name} at ${n.address}`);continue}let s=Ic(n.namespace,n.name),o=t[s];if(!o){li(`skipping update for unknown component: ${s}. Available components: ${Object.keys(e)}`);continue}let a=Cc(i.keySchema,n.key);n.type==="SetRecord"?(li("setting component",s,a,n.value),Ii(o,a,n.value)):n.type==="SetField"?(li("updating component",s,a,{[n.fieldName]:n.fieldValue}),pm(o,a,{[n.fieldName]:n.fieldValue},HA(i.valueSchema))):n.type==="DeleteRecord"&&(li("deleting component",s,a),Gf(o,a))}}}}var kr=I0([]);function o6(e){return{RegisteredTables:Da(e,{table:N.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:Da(e,{step:N.String,message:N.String,percentage:N.Number,latestBlockNumber:N.BigInt,lastBlockNumberProcessed:N.BigInt},{metadata:{componentName:"SyncProgress"}})}}var a6={uint8:N.Number,uint16:N.Number,uint24:N.Number,uint32:N.Number,uint40:N.Number,uint48:N.Number,uint56:N.BigInt,uint64:N.BigInt,uint72:N.BigInt,uint80:N.BigInt,uint88:N.BigInt,uint96:N.BigInt,uint104:N.BigInt,uint112:N.BigInt,uint120:N.BigInt,uint128:N.BigInt,uint136:N.BigInt,uint144:N.BigInt,uint152:N.BigInt,uint160:N.BigInt,uint168:N.BigInt,uint176:N.BigInt,uint184:N.BigInt,uint192:N.BigInt,uint200:N.BigInt,uint208:N.BigInt,uint216:N.BigInt,uint224:N.BigInt,uint232:N.BigInt,uint240:N.BigInt,uint248:N.BigInt,uint256:N.BigInt,int8:N.Number,int16:N.Number,int24:N.Number,int32:N.Number,int40:N.Number,int48:N.Number,int56:N.BigInt,int64:N.BigInt,int72:N.BigInt,int80:N.BigInt,int88:N.BigInt,int96:N.BigInt,int104:N.BigInt,int112:N.BigInt,int120:N.BigInt,int128:N.BigInt,int136:N.BigInt,int144:N.BigInt,int152:N.BigInt,int160:N.BigInt,int168:N.BigInt,int176:N.BigInt,int184:N.BigInt,int192:N.BigInt,int200:N.BigInt,int208:N.BigInt,int216:N.BigInt,int224:N.BigInt,int232:N.BigInt,int240:N.BigInt,int248:N.BigInt,int256:N.BigInt,bytes1:N.String,bytes2:N.String,bytes3:N.String,bytes4:N.String,bytes5:N.String,bytes6:N.String,bytes7:N.String,bytes8:N.String,bytes9:N.String,bytes10:N.String,bytes11:N.String,bytes12:N.String,bytes13:N.String,bytes14:N.String,bytes15:N.String,bytes16:N.String,bytes17:N.String,bytes18:N.String,bytes19:N.String,bytes20:N.String,bytes21:N.String,bytes22:N.String,bytes23:N.String,bytes24:N.String,bytes25:N.String,bytes26:N.String,bytes27:N.String,bytes28:N.String,bytes29:N.String,bytes30:N.String,bytes31:N.String,bytes32:N.String,bool:N.Boolean,address:N.String,"uint8[]":N.NumberArray,"uint16[]":N.NumberArray,"uint24[]":N.NumberArray,"uint32[]":N.NumberArray,"uint40[]":N.NumberArray,"uint48[]":N.NumberArray,"uint56[]":N.BigIntArray,"uint64[]":N.BigIntArray,"uint72[]":N.BigIntArray,"uint80[]":N.BigIntArray,"uint88[]":N.BigIntArray,"uint96[]":N.BigIntArray,"uint104[]":N.BigIntArray,"uint112[]":N.BigIntArray,"uint120[]":N.BigIntArray,"uint128[]":N.BigIntArray,"uint136[]":N.BigIntArray,"uint144[]":N.BigIntArray,"uint152[]":N.BigIntArray,"uint160[]":N.BigIntArray,"uint168[]":N.BigIntArray,"uint176[]":N.BigIntArray,"uint184[]":N.BigIntArray,"uint192[]":N.BigIntArray,"uint200[]":N.BigIntArray,"uint208[]":N.BigIntArray,"uint216[]":N.BigIntArray,"uint224[]":N.BigIntArray,"uint232[]":N.BigIntArray,"uint240[]":N.BigIntArray,"uint248[]":N.BigIntArray,"uint256[]":N.BigIntArray,"int8[]":N.NumberArray,"int16[]":N.NumberArray,"int24[]":N.NumberArray,"int32[]":N.NumberArray,"int40[]":N.NumberArray,"int48[]":N.NumberArray,"int56[]":N.BigIntArray,"int64[]":N.BigIntArray,"int72[]":N.BigIntArray,"int80[]":N.BigIntArray,"int88[]":N.BigIntArray,"int96[]":N.BigIntArray,"int104[]":N.BigIntArray,"int112[]":N.BigIntArray,"int120[]":N.BigIntArray,"int128[]":N.BigIntArray,"int136[]":N.BigIntArray,"int144[]":N.BigIntArray,"int152[]":N.BigIntArray,"int160[]":N.BigIntArray,"int168[]":N.BigIntArray,"int176[]":N.BigIntArray,"int184[]":N.BigIntArray,"int192[]":N.BigIntArray,"int200[]":N.BigIntArray,"int208[]":N.BigIntArray,"int216[]":N.BigIntArray,"int224[]":N.BigIntArray,"int232[]":N.BigIntArray,"int240[]":N.BigIntArray,"int248[]":N.BigIntArray,"int256[]":N.BigIntArray,"bytes1[]":N.StringArray,"bytes2[]":N.StringArray,"bytes3[]":N.StringArray,"bytes4[]":N.StringArray,"bytes5[]":N.StringArray,"bytes6[]":N.StringArray,"bytes7[]":N.StringArray,"bytes8[]":N.StringArray,"bytes9[]":N.StringArray,"bytes10[]":N.StringArray,"bytes11[]":N.StringArray,"bytes12[]":N.StringArray,"bytes13[]":N.StringArray,"bytes14[]":N.StringArray,"bytes15[]":N.StringArray,"bytes16[]":N.StringArray,"bytes17[]":N.StringArray,"bytes18[]":N.StringArray,"bytes19[]":N.StringArray,"bytes20[]":N.StringArray,"bytes21[]":N.StringArray,"bytes22[]":N.StringArray,"bytes23[]":N.StringArray,"bytes24[]":N.StringArray,"bytes25[]":N.StringArray,"bytes26[]":N.StringArray,"bytes27[]":N.StringArray,"bytes28[]":N.StringArray,"bytes29[]":N.StringArray,"bytes30[]":N.StringArray,"bytes31[]":N.StringArray,"bytes32[]":N.StringArray,"bool[]":N.T,"address[]":N.StringArray,bytes:N.String,string:N.String};function ka(e,t){return Object.fromEntries(Object.entries(t.tables).map(([r,n])=>[r,Da(e,Object.fromEntries(Object.entries(n.schema).map(([i,s])=>[i,a6[s]])),{id:Ic(t.namespace,r),metadata:{componentName:r,tableName:`${t.namespace}:${r}`,keySchema:n.keySchema,valueSchema:n.schema}})]))}async function u6({world:e,config:t,address:r,publicClient:n,startBlock:i,maxBlockRange:s,initialState:o,indexerUrl:a,startSync:u=!0}){let l={...ka(e,t),...ka(e,Oc),...ka(e,i6),...o6(e)};e.registerEntity({id:kr});let f=await WA({storageAdapter:s6({components:l,config:t}),config:t,address:r,publicClient:n,startBlock:i,maxBlockRange:s,indexerUrl:a,initialState:o,onProgress:({step:E,percentage:v,latestBlockNumber:x,lastBlockNumberProcessed:I,message:R})=>{lt(l.SyncProgress,kr)?.step!=="live"&&Ii(l.SyncProgress,kr,{step:E,percentage:v,latestBlockNumber:x,lastBlockNumberProcessed:I,message:R})}}),p=u?f.blockStorageOperations$.subscribe():null,g=()=>{p?.unsubscribe()};return e.registerDisposer(g),{...f,components:l,stopSync:g}}function c6({worldContract:e,waitForTransaction:t},{Counter:r,GameState:n,Game:i,IsPlayer:s,Player:o,AssetsList:a}){return{increment:async()=>{const k=await e.write.increment();return await t(k),lt(r,kr)},joinGame:async()=>{const k=await e.write.joinGame();return await t(k),lt(s,kr)},askStart:async()=>{const k=await e.write.askStart();return await t(k),lt(n,kr)},move:async(k,M)=>{const $=await e.write.move([k,M]);return await t($),lt(o,kr)},pickAsset:async k=>{const M=await e.write.pickAsset([k]);return await t(M),lt(a,kr)},pickFund:async()=>{const k=await e.write.pickFund();await t(k)},trade:async(k,M,$)=>{const B=await e.write.trade([k,M,$]);return await t(B)},acceptTrade:async()=>{const k=await e.write.acceptTrade();return await t(k)},rejectTrade:async()=>{const k=await e.write.rejectTrade();return await t(k)},finishGame:async()=>{const k=await e.write.finishGame();return await t(k)}}}const l6={4242:{address:"0xbEff2091e5a91A4788f1362FA306a70045C5b1FC",blockNumber:29111964},31337:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}};var f6={id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}};const d6=y1(f6);var h6={name:"Lattice Testnet",id:4242,network:"lattice-testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]},public:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]}},blockExplorers:{otterscan:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"},default:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},p6={...d6,fees:{defaultPriorityFee:0n}};const Jl=[p6,h6],y6=l6;async function m6(){const e=new URLSearchParams(window.location.search),t=Number(e.get("chainId")||e.get("chainid")||"31337"),r=Jl.findIndex(a=>a.id===t),n=Jl[r];if(!n)throw new Error(`Chain ${t} not found`);const i=y6[n.id.toString()],s=e.get("worldAddress")||i?.address;if(!s)throw new Error(`No world address found for chain ${t}. Did you run \`mud deploy\`?`);const o=e.has("initialBlockNumber")?Number(e.get("initialBlockNumber")):i?.blockNumber??0n;return{privateKey:A2(),chainId:t,chain:n,faucetServiceUrl:e.get("faucet")??n.faucetUrl,worldAddress:s,initialBlockNumber:o}}const Xl=xm(),Cu=[{inputs:[{internalType:"string",name:"resource",type:"string"},{internalType:"address",name:"caller",type:"address"}],name:"AccessDenied",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorExists",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorNotFound",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"InvalidSelector",type:"error"},{inputs:[{internalType:"string",name:"module",type:"string"}],name:"ModuleAlreadyInstalled",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceExists",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_DataIndexOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidDataLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidFieldNamesLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidKeyNamesLength",type:"error"},{inputs:[],name:"StoreCore_NotDynamicField",type:"error"},{inputs:[],name:"StoreCore_NotImplemented",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableAlreadyExists",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableNotFound",type:"error"},{inputs:[{internalType:"address",name:"system",type:"address"}],name:"SystemExists",type:"error"},{anonymous:!1,inputs:[],name:"HelloWorld",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"}],name:"StoreDeleteRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreEphemeralRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"uint8",name:"schemaIndex",type:"uint8"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetField",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetRecord",type:"event"},{inputs:[],name:"acceptTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"askStart",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes",name:"funcSelectorAndArgs",type:"bytes"}],name:"call",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"str",type:"string"},{internalType:"uint256",name:"num",type:"uint256"}],name:"concatenate",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"deleteRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"emitEphemeralRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"finishGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"getFieldSlice",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getKeySchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getRecord",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getValueSchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"grantAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"increment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installRootModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"joinGame",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"targetX",type:"uint256"},{internalType:"uint256",name:"targetY",type:"uint256"}],name:"move",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"assetKind",type:"uint8"}],name:"pickAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pickFund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"byteLengthToPop",type:"uint256"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"popFromField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"dataToPush",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"pushToField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"string",name:"systemFunctionName",type:"string"},{internalType:"string",name:"systemFunctionArguments",type:"string"}],name:"registerFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes16",name:"namespace",type:"bytes16"}],name:"registerNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"},{internalType:"bytes4",name:"systemFunctionSelector",type:"bytes4"}],name:"registerRootFunctionSelector",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"contract IStoreHook",name:"hook",type:"address"}],name:"registerStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract System",name:"system",type:"address"},{internalType:"bool",name:"publicAccess",type:"bool"}],name:"registerSystem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract ISystemHook",name:"hook",type:"address"}],name:"registerSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"Schema",name:"keySchema",type:"bytes32"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"string[]",name:"keyNames",type:"string[]"},{internalType:"string[]",name:"fieldNames",type:"string[]"}],name:"registerTable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rejectTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"revokeAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"targetPlayer",type:"bytes32"},{internalType:"uint8",name:"assetKind",type:"uint8"},{internalType:"uint32",name:"money",type:"uint32"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"startByteIndex",type:"uint256"},{internalType:"bytes",name:"dataToSet",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"updateInField",outputs:[],stateMutability:"nonpayable",type:"function"}];class N0{static createInterface(){return new La(Cu)}static connect(t,r){return new em(t,Cu,r)}}N0.abi=Cu;const g6=Mc({enums:{},modules:[{name:"UniqueEntityModule",root:!0,args:[]},{name:"KeysInTableModule",root:!0,args:[Fs("Player")]},{name:"KeysWithValueModule",root:!0,args:[Fs("Player")]},{name:"KeysInTableModule",root:!0,args:[Fs("MapItem")]},{name:"KeysWithValueModule",root:!0,args:[Fs("MapItem")]}],tables:{Counter:{keySchema:{},schema:"uint32"},Game:{keySchema:{},schema:{gameId:"uint256",startTime:"uint256",endTime:"uint256"}},GameState:{keySchema:{},schema:"uint32"},GameMap:{keySchema:{},schema:{width:"uint256",height:"uint256",mapArray:"bytes"}},MapItem:{schema:{x:"uint256",y:"uint256"}},MapItemValue:{schema:"uint32"},IsPlayer:{dataStruct:!1,schema:"bool"},Player:{dataStruct:!0,schema:{gameId:"uint256",state:"uint32",money:"uint32",x:"uint256",y:"uint256"}},RaiseColddown:{dataStruct:!0,schema:{start:"uint256",end:"uint256"}},AssetsList:{dataStruct:!0,schema:{gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},Log:{dataStruct:!0,schema:"uint8"},TransactionList:{dataStruct:!0,schema:{list:"bytes32[]"}},TradeList:{dataStruct:!0,schema:{list:"bytes"}},IsTrading:{dataStruct:!1,schema:"bool"},PlayerGameResult:{dataStruct:!0,schema:{rank:"int32",points:"int32",gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},UnsolicitedTransaction:{dataStruct:!0,schema:{asset:"uint8",money:"uint32",to:"bytes32"}},PassiveTransaction:{dataStruct:!0,schema:{asset:"uint8",money:"uint32",from:"bytes32"}}}});async function b6(){const e=await m6(),t={chain:e.chain,transport:_2(O1([sw(),j1()])),pollingInterval:1e3},r=Zv(t),n=b2(e.privateKey),i=iw({...t,account:n}),s=new hs,o=x2({address:e.worldAddress,abi:N0.abi,publicClient:r,walletClient:i,onWrite:p=>s.next(p)}),{components:a,latestBlock$:u,blockStorageOperations$:l,waitForTransaction:f}=await u6({world:Xl,config:g6,address:e.worldAddress,publicClient:r,startBlock:BigInt(e.initialBlockNumber)});return console.info("networkConfig.faucetServiceUrl is:",e.faucetServiceUrl),{world:Xl,components:a,playerEntity:Cc({address:"address"},{address:i.account.address}),publicClient:r,walletClient:i,latestBlock$:u,blockStorageOperations$:l,waitForTransaction:f,worldContract:o,write$:s.asObservable().pipe(Hs())}}async function v6(){const e=await b6(),t=P0(e),r=c6(e,t);return{network:e,components:t,systemCalls:r}}const{components:ot,systemCalls:{increment:w6,joinGame:x6,askStart:E6,move:A6,pickAsset:T6,pickFund:_6,trade:S6,acceptTrade:I6,rejectTrade:N6,finishGame:R6},network:k6}=await v6();globalThis.ponzi={counter:0,currentPlayer:k6.playerEntity,gameState:null,game:null,gameMap:null,mapItems:null,players:null};globalThis.env={components:ot};ot.GameState.update$.subscribe(e=>{const[t,r]=e.value;console.log("GameState updated",e,{nextValue:t,prevValue:r}),globalThis.ponzi.gameState=t.value,globalThis.ponzi.gamestate_update?.(r?.value,t?.value)});ot.Game.update$.subscribe(e=>{const[t,r]=e.value;console.log("Game updated",e,{nextValue:t,prevValue:r}),globalThis.ponzi.game=t,globalThis.ponzi.game_update?.(r,t)});ot.Player.update$.subscribe(e=>{const[t,r]=e.value;console.log("Player updated",e,{nextValue:t,prevValue:r}),globalThis.ponzi.player_update?.(e)});ot.GameMap.update$.subscribe(e=>{const[t,r]=e.value;console.log("GameMap updated",{nextValue:t,prevValue:r}),globalThis.ponzi.gameMap=t,globalThis.ponzi.gamemap_update?.(r,t)});ot.MapItem.update$.subscribe(e=>{const[t,r]=e.value;globalThis.ponzi.mapitems_update?.(r,t)});ot.IsPlayer.update$.subscribe(e=>{e.value,console.log("IsPlayer updated",e),globalThis.ponzi.isplayer_update?.(e)});ot.TransactionList.update$.subscribe(e=>{e.value,console.log("TransactionList updated",e),globalThis.ponzi.transactionlist_update?.(e)});ot.Log.update$.subscribe(e=>{e.value,console.log("Log updated",e)});ot.AssetsList.update$.subscribe(e=>{e.value,console.log("AssetsList updated",e),globalThis.ponzi.assetslist_update?.(e)});ot.RaiseColddown.update$.subscribe(e=>{e.value,console.log("RaiseColddown updated",e),globalThis.ponzi.raiseColddown_update?.(e)});ot.PassiveTransaction.update$.subscribe(e=>{e.value,console.log("PassiveTransaction updated",e),globalThis.ponzi.passivetransaction_update?.(e)});ot.TradeList.update$.subscribe(e=>{e.value,console.log("TradeList updated",e),globalThis.ponzi.tradelist_update?.(e)});ot.PlayerGameResult.update$.subscribe(e=>{e.value,console.log("PlayerGameResult updated",e),globalThis.ponzi.playergameresult_update?.(e)});window.getPlayers=()=>ot.Player.values;window.getIsPlayers=()=>ot.IsPlayer.values;window.getMapItems=()=>ot.MapItem.values;window.getAssetsList=()=>ot.AssetsList.values;window.queryValue=async(e,t)=>{const r=ym(e,t);return console.log("getValueByComAndEntity:",r),r};window.queryAssetsList=async()=>wm([gm(ot.AssetsList)]);window.increment=async()=>{let e=await w6();return console.log("new counter value:",e),e};window.joinGame=async()=>{let e=await x6();return console.log("joinGame:",e),e};window.askStart=async()=>{let e=await E6();return console.log("askStart:",e),e};window.move=async(e,t)=>{let r=await A6(e,t);return console.log("move:",r),r};window.pickAsset=async e=>{console.log("send pickAsset:",e),await T6(e)};window.pickFund=async e=>{console.log("send pickFund:",e),await _6()};window.trade=async(e,t,r)=>{console.log("send trade:",e,r,t),await S6(e,t,r)};window.acceptTrade=async()=>{let e=await I6();console.log("send acceptTrade:"+e)};window.rejectTrade=async()=>{let e=await N6();console.log("send rejectTrade:"+e)};window.finishGame=async()=>{let e=await R6();console.log("send finishGame:"+e)};window.mudutils={};window.mudutils.hexToArray=function(e,t,r){const n=Array.from(am(r)).map((s,o)=>s),i=[];for(let s=0;s<n.length;s+=Number(e)){const o=n.slice(s,s+Number(e));i.push(o)}return i};export{D as B,mi as H,jt as I,Xt as a,Kt as b,Bo as c,qb as d,ni as e,So as g,Pt as i,ht as s};
//# sourceMappingURL=index-e3016ced.js.map
