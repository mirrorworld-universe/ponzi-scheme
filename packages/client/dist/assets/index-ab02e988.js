(function(){const ee=document.createElement("link").relList;if(ee&&ee.supports&&ee.supports("modulepreload"))return;for(const ae of document.querySelectorAll('link[rel="modulepreload"]'))oe(ae);new MutationObserver(ae=>{for(const he of ae)if(he.type==="childList")for(const pe of he.addedNodes)pe.tagName==="LINK"&&pe.rel==="modulepreload"&&oe(pe)}).observe(document,{childList:!0,subtree:!0});function ne(ae){const he={};return ae.integrity&&(he.integrity=ae.integrity),ae.referrerPolicy&&(he.referrerPolicy=ae.referrerPolicy),ae.crossOrigin==="use-credentials"?he.credentials="include":ae.crossOrigin==="anonymous"?he.credentials="omit":he.credentials="same-origin",he}function oe(ae){if(ae.ep)return;ae.ep=!0;const he=ne(ae);fetch(ae.href,he)}})();const style="",scriptRel="modulepreload",assetsURL=function(re){return"/"+re},seen={},__vitePreload=function(ee,ne,oe){if(!ne||ne.length===0)return ee();const ae=document.getElementsByTagName("link");return Promise.all(ne.map(he=>{if(he=assetsURL(he),he in seen)return;seen[he]=!0;const pe=he.endsWith(".css"),ge=pe?'[rel="stylesheet"]':"";if(!!oe)for(let Ee=ae.length-1;Ee>=0;Ee--){const _e=ae[Ee];if(_e.href===he&&(!pe||_e.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${he}"]${ge}`))return;const we=document.createElement("link");if(we.rel=pe?"stylesheet":scriptRel,pe||(we.as="script",we.crossOrigin=""),we.href=he,document.head.appendChild(we),pe)return new Promise((Ee,_e)=>{we.addEventListener("load",Ee),we.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${he}`)))})})).then(()=>ee())};function createClientComponents({components:re}){return{...re}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(re){return re&&re.__esModule&&Object.prototype.hasOwnProperty.call(re,"default")?re.default:re}function getAugmentedNamespace(re){if(re.__esModule)return re;var ee=re.default;if(typeof ee=="function"){var ne=function oe(){if(this instanceof oe){var ae=[null];ae.push.apply(ae,arguments);var he=Function.bind.apply(ee,ae);return new he}return ee.apply(this,arguments)};ne.prototype=ee.prototype}else ne={};return Object.defineProperty(ne,"__esModule",{value:!0}),Object.keys(re).forEach(function(oe){var ae=Object.getOwnPropertyDescriptor(re,oe);Object.defineProperty(ne,oe,ae.get?ae:{enumerable:!0,get:function(){return re[oe]}})}),ne}var extendStatics=function(re,ee){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,oe){ne.__proto__=oe}||function(ne,oe){for(var ae in oe)Object.prototype.hasOwnProperty.call(oe,ae)&&(ne[ae]=oe[ae])},extendStatics(re,ee)};function __extends$1(re,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");extendStatics(re,ee);function ne(){this.constructor=re}re.prototype=ee===null?Object.create(ee):(ne.prototype=ee.prototype,new ne)}function __awaiter$4(re,ee,ne,oe){function ae(he){return he instanceof ne?he:new ne(function(pe){pe(he)})}return new(ne||(ne=Promise))(function(he,pe){function ge(Ee){try{we(oe.next(Ee))}catch(_e){pe(_e)}}function ve(Ee){try{we(oe.throw(Ee))}catch(_e){pe(_e)}}function we(Ee){Ee.done?he(Ee.value):ae(Ee.value).then(ge,ve)}we((oe=oe.apply(re,ee||[])).next())})}function __generator(re,ee){var ne={label:0,sent:function(){if(he[0]&1)throw he[1];return he[1]},trys:[],ops:[]},oe,ae,he,pe;return pe={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(pe[Symbol.iterator]=function(){return this}),pe;function ge(we){return function(Ee){return ve([we,Ee])}}function ve(we){if(oe)throw new TypeError("Generator is already executing.");for(;pe&&(pe=0,we[0]&&(ne=0)),ne;)try{if(oe=1,ae&&(he=we[0]&2?ae.return:we[0]?ae.throw||((he=ae.return)&&he.call(ae),0):ae.next)&&!(he=he.call(ae,we[1])).done)return he;switch(ae=0,he&&(we=[we[0]&2,he.value]),we[0]){case 0:case 1:he=we;break;case 4:return ne.label++,{value:we[1],done:!1};case 5:ne.label++,ae=we[1],we=[0];continue;case 7:we=ne.ops.pop(),ne.trys.pop();continue;default:if(he=ne.trys,!(he=he.length>0&&he[he.length-1])&&(we[0]===6||we[0]===2)){ne=0;continue}if(we[0]===3&&(!he||we[1]>he[0]&&we[1]<he[3])){ne.label=we[1];break}if(we[0]===6&&ne.label<he[1]){ne.label=he[1],he=we;break}if(he&&ne.label<he[2]){ne.label=he[2],ne.ops.push(we);break}he[2]&&ne.ops.pop(),ne.trys.pop();continue}we=ee.call(re,ne)}catch(Ee){we=[6,Ee],ae=0}finally{oe=he=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}}function __values(re){var ee=typeof Symbol=="function"&&Symbol.iterator,ne=ee&&re[ee],oe=0;if(ne)return ne.call(re);if(re&&typeof re.length=="number")return{next:function(){return re&&oe>=re.length&&(re=void 0),{value:re&&re[oe++],done:!re}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$4(re,ee){var ne=typeof Symbol=="function"&&re[Symbol.iterator];if(!ne)return re;var oe=ne.call(re),ae,he=[],pe;try{for(;(ee===void 0||ee-- >0)&&!(ae=oe.next()).done;)he.push(ae.value)}catch(ge){pe={error:ge}}finally{try{ae&&!ae.done&&(ne=oe.return)&&ne.call(oe)}finally{if(pe)throw pe.error}}return he}function __spreadArray$3(re,ee,ne){if(ne||arguments.length===2)for(var oe=0,ae=ee.length,he;oe<ae;oe++)(he||!(oe in ee))&&(he||(he=Array.prototype.slice.call(ee,0,oe)),he[oe]=ee[oe]);return re.concat(he||Array.prototype.slice.call(ee))}function __await(re){return this instanceof __await?(this.v=re,this):new __await(re)}function __asyncGenerator(re,ee,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe=ne.apply(re,ee||[]),ae,he=[];return ae={},pe("next"),pe("throw"),pe("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function pe(Te){oe[Te]&&(ae[Te]=function(Pe){return new Promise(function(Ae,Se){he.push([Te,Pe,Ae,Se])>1||ge(Te,Pe)})})}function ge(Te,Pe){try{ve(oe[Te](Pe))}catch(Ae){_e(he[0][3],Ae)}}function ve(Te){Te.value instanceof __await?Promise.resolve(Te.value.v).then(we,Ee):_e(he[0][2],Te)}function we(Te){ge("next",Te)}function Ee(Te){ge("throw",Te)}function _e(Te,Pe){Te(Pe),he.shift(),he.length&&ge(he[0][0],he[0][1])}}function __asyncValues(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee=re[Symbol.asyncIterator],ne;return ee?ee.call(re):(re=typeof __values=="function"?__values(re):re[Symbol.iterator](),ne={},oe("next"),oe("throw"),oe("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function oe(he){ne[he]=re[he]&&function(pe){return new Promise(function(ge,ve){pe=re[he](pe),ae(ge,ve,pe.done,pe.value)})}}function ae(he,pe,ge,ve){Promise.resolve(ve).then(function(we){he({value:we,done:ge})},pe)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$2(re){return typeof re=="function"}function createErrorClass(re){var ee=function(oe){Error.call(oe),oe.stack=new Error().stack},ne=re(ee);return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}var UnsubscriptionError=createErrorClass(function(re){return function(ne){re(this),this.message=ne?ne.length+` errors occurred during unsubscription:
`+ne.map(function(oe,ae){return ae+1+") "+oe.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=ne}});function arrRemove(re,ee){if(re){var ne=re.indexOf(ee);0<=ne&&re.splice(ne,1)}}var Subscription=function(){function re(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}return re.prototype.unsubscribe=function(){var ee,ne,oe,ae,he;if(!this.closed){this.closed=!0;var pe=this._parentage;if(pe)if(this._parentage=null,Array.isArray(pe))try{for(var ge=__values(pe),ve=ge.next();!ve.done;ve=ge.next()){var we=ve.value;we.remove(this)}}catch(Se){ee={error:Se}}finally{try{ve&&!ve.done&&(ne=ge.return)&&ne.call(ge)}finally{if(ee)throw ee.error}}else pe.remove(this);var Ee=this.initialTeardown;if(isFunction$2(Ee))try{Ee()}catch(Se){he=Se instanceof UnsubscriptionError?Se.errors:[Se]}var _e=this._finalizers;if(_e){this._finalizers=null;try{for(var Te=__values(_e),Pe=Te.next();!Pe.done;Pe=Te.next()){var Ae=Pe.value;try{execFinalizer(Ae)}catch(Se){he=he??[],Se instanceof UnsubscriptionError?he=__spreadArray$3(__spreadArray$3([],__read$4(he)),__read$4(Se.errors)):he.push(Se)}}}catch(Se){oe={error:Se}}finally{try{Pe&&!Pe.done&&(ae=Te.return)&&ae.call(Te)}finally{if(oe)throw oe.error}}}if(he)throw new UnsubscriptionError(he)}},re.prototype.add=function(ee){var ne;if(ee&&ee!==this)if(this.closed)execFinalizer(ee);else{if(ee instanceof re){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=(ne=this._finalizers)!==null&&ne!==void 0?ne:[]).push(ee)}},re.prototype._hasParent=function(ee){var ne=this._parentage;return ne===ee||Array.isArray(ne)&&ne.includes(ee)},re.prototype._addParent=function(ee){var ne=this._parentage;this._parentage=Array.isArray(ne)?(ne.push(ee),ne):ne?[ne,ee]:ee},re.prototype._removeParent=function(ee){var ne=this._parentage;ne===ee?this._parentage=null:Array.isArray(ne)&&arrRemove(ne,ee)},re.prototype.remove=function(ee){var ne=this._finalizers;ne&&arrRemove(ne,ee),ee instanceof re&&ee._removeParent(this)},re.EMPTY=function(){var ee=new re;return ee.closed=!0,ee}(),re}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(re){return re instanceof Subscription||re&&"closed"in re&&isFunction$2(re.remove)&&isFunction$2(re.add)&&isFunction$2(re.unsubscribe)}function execFinalizer(re){isFunction$2(re)?re():re.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(re,ee){for(var ne=[],oe=2;oe<arguments.length;oe++)ne[oe-2]=arguments[oe];var ae=timeoutProvider.delegate;return ae?.setTimeout?ae.setTimeout.apply(ae,__spreadArray$3([re,ee],__read$4(ne))):setTimeout.apply(void 0,__spreadArray$3([re,ee],__read$4(ne)))},clearTimeout:function(re){var ee=timeoutProvider.delegate;return(ee?.clearTimeout||clearTimeout)(re)},delegate:void 0};function reportUnhandledError(re){timeoutProvider.setTimeout(function(){throw re})}function noop$2(){}function errorContext(re){re()}var Subscriber=function(re){__extends$1(ee,re);function ee(ne){var oe=re.call(this)||this;return oe.isStopped=!1,ne?(oe.destination=ne,isSubscription(ne)&&ne.add(oe)):oe.destination=EMPTY_OBSERVER,oe}return ee.create=function(ne,oe,ae){return new SafeSubscriber(ne,oe,ae)},ee.prototype.next=function(ne){this.isStopped||this._next(ne)},ee.prototype.error=function(ne){this.isStopped||(this.isStopped=!0,this._error(ne))},ee.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},ee.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,re.prototype.unsubscribe.call(this),this.destination=null)},ee.prototype._next=function(ne){this.destination.next(ne)},ee.prototype._error=function(ne){try{this.destination.error(ne)}finally{this.unsubscribe()}},ee.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},ee}(Subscription),_bind=Function.prototype.bind;function bind(re,ee){return _bind.call(re,ee)}var ConsumerObserver=function(){function re(ee){this.partialObserver=ee}return re.prototype.next=function(ee){var ne=this.partialObserver;if(ne.next)try{ne.next(ee)}catch(oe){handleUnhandledError(oe)}},re.prototype.error=function(ee){var ne=this.partialObserver;if(ne.error)try{ne.error(ee)}catch(oe){handleUnhandledError(oe)}else handleUnhandledError(ee)},re.prototype.complete=function(){var ee=this.partialObserver;if(ee.complete)try{ee.complete()}catch(ne){handleUnhandledError(ne)}},re}(),SafeSubscriber=function(re){__extends$1(ee,re);function ee(ne,oe,ae){var he=re.call(this)||this,pe;if(isFunction$2(ne)||!ne)pe={next:ne??void 0,error:oe??void 0,complete:ae??void 0};else{var ge;he&&config.useDeprecatedNextContext?(ge=Object.create(ne),ge.unsubscribe=function(){return he.unsubscribe()},pe={next:ne.next&&bind(ne.next,ge),error:ne.error&&bind(ne.error,ge),complete:ne.complete&&bind(ne.complete,ge)}):pe=ne}return he.destination=new ConsumerObserver(pe),he}return ee}(Subscriber);function handleUnhandledError(re){reportUnhandledError(re)}function defaultErrorHandler(re){throw re}var EMPTY_OBSERVER={closed:!0,next:noop$2,error:defaultErrorHandler,complete:noop$2},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(re){return re}function pipe(){for(var re=[],ee=0;ee<arguments.length;ee++)re[ee]=arguments[ee];return pipeFromArray$1(re)}function pipeFromArray$1(re){return re.length===0?identity$1:re.length===1?re[0]:function(ne){return re.reduce(function(oe,ae){return ae(oe)},ne)}}var Observable=function(){function re(ee){ee&&(this._subscribe=ee)}return re.prototype.lift=function(ee){var ne=new re;return ne.source=this,ne.operator=ee,ne},re.prototype.subscribe=function(ee,ne,oe){var ae=this,he=isSubscriber(ee)?ee:new SafeSubscriber(ee,ne,oe);return errorContext(function(){var pe=ae,ge=pe.operator,ve=pe.source;he.add(ge?ge.call(he,ve):ve?ae._subscribe(he):ae._trySubscribe(he))}),he},re.prototype._trySubscribe=function(ee){try{return this._subscribe(ee)}catch(ne){ee.error(ne)}},re.prototype.forEach=function(ee,ne){var oe=this;return ne=getPromiseCtor(ne),new ne(function(ae,he){var pe=new SafeSubscriber({next:function(ge){try{ee(ge)}catch(ve){he(ve),pe.unsubscribe()}},error:he,complete:ae});oe.subscribe(pe)})},re.prototype._subscribe=function(ee){var ne;return(ne=this.source)===null||ne===void 0?void 0:ne.subscribe(ee)},re.prototype[observable$1]=function(){return this},re.prototype.pipe=function(){for(var ee=[],ne=0;ne<arguments.length;ne++)ee[ne]=arguments[ne];return pipeFromArray$1(ee)(this)},re.prototype.toPromise=function(ee){var ne=this;return ee=getPromiseCtor(ee),new ee(function(oe,ae){var he;ne.subscribe(function(pe){return he=pe},function(pe){return ae(pe)},function(){return oe(he)})})},re.create=function(ee){return new re(ee)},re}();function getPromiseCtor(re){var ee;return(ee=re??config.Promise)!==null&&ee!==void 0?ee:Promise}function isObserver(re){return re&&isFunction$2(re.next)&&isFunction$2(re.error)&&isFunction$2(re.complete)}function isSubscriber(re){return re&&re instanceof Subscriber||isObserver(re)&&isSubscription(re)}function hasLift(re){return isFunction$2(re?.lift)}function operate(re){return function(ee){if(hasLift(ee))return ee.lift(function(ne){try{return re(ne,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(re,ee,ne,oe,ae){return new OperatorSubscriber(re,ee,ne,oe,ae)}var OperatorSubscriber=function(re){__extends$1(ee,re);function ee(ne,oe,ae,he,pe,ge){var ve=re.call(this,ne)||this;return ve.onFinalize=pe,ve.shouldUnsubscribe=ge,ve._next=oe?function(we){try{oe(we)}catch(Ee){ne.error(Ee)}}:re.prototype._next,ve._error=he?function(we){try{he(we)}catch(Ee){ne.error(Ee)}finally{this.unsubscribe()}}:re.prototype._error,ve._complete=ae?function(){try{ae()}catch(we){ne.error(we)}finally{this.unsubscribe()}}:re.prototype._complete,ve}return ee.prototype.unsubscribe=function(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var oe=this.closed;re.prototype.unsubscribe.call(this),!oe&&((ne=this.onFinalize)===null||ne===void 0||ne.call(this))}},ee}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(re){return function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(re){__extends$1(ee,re);function ee(){var ne=re.call(this)||this;return ne.closed=!1,ne.currentObservers=null,ne.observers=[],ne.isStopped=!1,ne.hasError=!1,ne.thrownError=null,ne}return ee.prototype.lift=function(ne){var oe=new AnonymousSubject(this,this);return oe.operator=ne,oe},ee.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},ee.prototype.next=function(ne){var oe=this;errorContext(function(){var ae,he;if(oe._throwIfClosed(),!oe.isStopped){oe.currentObservers||(oe.currentObservers=Array.from(oe.observers));try{for(var pe=__values(oe.currentObservers),ge=pe.next();!ge.done;ge=pe.next()){var ve=ge.value;ve.next(ne)}}catch(we){ae={error:we}}finally{try{ge&&!ge.done&&(he=pe.return)&&he.call(pe)}finally{if(ae)throw ae.error}}}})},ee.prototype.error=function(ne){var oe=this;errorContext(function(){if(oe._throwIfClosed(),!oe.isStopped){oe.hasError=oe.isStopped=!0,oe.thrownError=ne;for(var ae=oe.observers;ae.length;)ae.shift().error(ne)}})},ee.prototype.complete=function(){var ne=this;errorContext(function(){if(ne._throwIfClosed(),!ne.isStopped){ne.isStopped=!0;for(var oe=ne.observers;oe.length;)oe.shift().complete()}})},ee.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(ee.prototype,"observed",{get:function(){var ne;return((ne=this.observers)===null||ne===void 0?void 0:ne.length)>0},enumerable:!1,configurable:!0}),ee.prototype._trySubscribe=function(ne){return this._throwIfClosed(),re.prototype._trySubscribe.call(this,ne)},ee.prototype._subscribe=function(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)},ee.prototype._innerSubscribe=function(ne){var oe=this,ae=this,he=ae.hasError,pe=ae.isStopped,ge=ae.observers;return he||pe?EMPTY_SUBSCRIPTION:(this.currentObservers=null,ge.push(ne),new Subscription(function(){oe.currentObservers=null,arrRemove(ge,ne)}))},ee.prototype._checkFinalizedStatuses=function(ne){var oe=this,ae=oe.hasError,he=oe.thrownError,pe=oe.isStopped;ae?ne.error(he):pe&&ne.complete()},ee.prototype.asObservable=function(){var ne=new Observable;return ne.source=this,ne},ee.create=function(ne,oe){return new AnonymousSubject(ne,oe)},ee}(Observable),AnonymousSubject=function(re){__extends$1(ee,re);function ee(ne,oe){var ae=re.call(this)||this;return ae.destination=ne,ae.source=oe,ae}return ee.prototype.next=function(ne){var oe,ae;(ae=(oe=this.destination)===null||oe===void 0?void 0:oe.next)===null||ae===void 0||ae.call(oe,ne)},ee.prototype.error=function(ne){var oe,ae;(ae=(oe=this.destination)===null||oe===void 0?void 0:oe.error)===null||ae===void 0||ae.call(oe,ne)},ee.prototype.complete=function(){var ne,oe;(oe=(ne=this.destination)===null||ne===void 0?void 0:ne.complete)===null||oe===void 0||oe.call(ne)},ee.prototype._subscribe=function(ne){var oe,ae;return(ae=(oe=this.source)===null||oe===void 0?void 0:oe.subscribe(ne))!==null&&ae!==void 0?ae:EMPTY_SUBSCRIPTION},ee}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(re){__extends$1(ee,re);function ee(ne,oe,ae){ne===void 0&&(ne=1/0),oe===void 0&&(oe=1/0),ae===void 0&&(ae=dateTimestampProvider);var he=re.call(this)||this;return he._bufferSize=ne,he._windowTime=oe,he._timestampProvider=ae,he._buffer=[],he._infiniteTimeWindow=!0,he._infiniteTimeWindow=oe===1/0,he._bufferSize=Math.max(1,ne),he._windowTime=Math.max(1,oe),he}return ee.prototype.next=function(ne){var oe=this,ae=oe.isStopped,he=oe._buffer,pe=oe._infiniteTimeWindow,ge=oe._timestampProvider,ve=oe._windowTime;ae||(he.push(ne),!pe&&he.push(ge.now()+ve)),this._trimBuffer(),re.prototype.next.call(this,ne)},ee.prototype._subscribe=function(ne){this._throwIfClosed(),this._trimBuffer();for(var oe=this._innerSubscribe(ne),ae=this,he=ae._infiniteTimeWindow,pe=ae._buffer,ge=pe.slice(),ve=0;ve<ge.length&&!ne.closed;ve+=he?1:2)ne.next(ge[ve]);return this._checkFinalizedStatuses(ne),oe},ee.prototype._trimBuffer=function(){var ne=this,oe=ne._bufferSize,ae=ne._timestampProvider,he=ne._buffer,pe=ne._infiniteTimeWindow,ge=(pe?1:2)*oe;if(oe<1/0&&ge<he.length&&he.splice(0,he.length-ge),!pe){for(var ve=ae.now(),we=0,Ee=1;Ee<he.length&&he[Ee]<=ve;Ee+=2)we=Ee;we&&he.splice(0,we+1)}},ee}(Subject),EMPTY=new Observable(function(re){return re.complete()});function isScheduler(re){return re&&isFunction$2(re.schedule)}function last(re){return re[re.length-1]}function popResultSelector(re){return isFunction$2(last(re))?re.pop():void 0}function popScheduler(re){return isScheduler(last(re))?re.pop():void 0}var isArrayLike=function(re){return re&&typeof re.length=="number"&&typeof re!="function"};function isPromise(re){return isFunction$2(re?.then)}function isInteropObservable(re){return isFunction$2(re[observable$1])}function isAsyncIterable$2(re){return Symbol.asyncIterator&&isFunction$2(re?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(re){return new TypeError("You provided "+(re!==null&&typeof re=="object"?"an invalid object":"'"+re+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable$1(re){return isFunction$2(re?.[iterator])}function readableStreamLikeToAsyncGenerator(re){return __asyncGenerator(this,arguments,function(){var ne,oe,ae,he;return __generator(this,function(pe){switch(pe.label){case 0:ne=re.getReader(),pe.label=1;case 1:pe.trys.push([1,,9,10]),pe.label=2;case 2:return[4,__await(ne.read())];case 3:return oe=pe.sent(),ae=oe.value,he=oe.done,he?[4,__await(void 0)]:[3,5];case 4:return[2,pe.sent()];case 5:return[4,__await(ae)];case 6:return[4,pe.sent()];case 7:return pe.sent(),[3,2];case 8:return[3,10];case 9:return ne.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(re){return isFunction$2(re?.getReader)}function innerFrom(re){if(re instanceof Observable)return re;if(re!=null){if(isInteropObservable(re))return fromInteropObservable(re);if(isArrayLike(re))return fromArrayLike(re);if(isPromise(re))return fromPromise(re);if(isAsyncIterable$2(re))return fromAsyncIterable(re);if(isIterable$1(re))return fromIterable(re);if(isReadableStreamLike(re))return fromReadableStreamLike(re)}throw createInvalidObservableTypeError(re)}function fromInteropObservable(re){return new Observable(function(ee){var ne=re[observable$1]();if(isFunction$2(ne.subscribe))return ne.subscribe(ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(re){return new Observable(function(ee){for(var ne=0;ne<re.length&&!ee.closed;ne++)ee.next(re[ne]);ee.complete()})}function fromPromise(re){return new Observable(function(ee){re.then(function(ne){ee.closed||(ee.next(ne),ee.complete())},function(ne){return ee.error(ne)}).then(null,reportUnhandledError)})}function fromIterable(re){return new Observable(function(ee){var ne,oe;try{for(var ae=__values(re),he=ae.next();!he.done;he=ae.next()){var pe=he.value;if(ee.next(pe),ee.closed)return}}catch(ge){ne={error:ge}}finally{try{he&&!he.done&&(oe=ae.return)&&oe.call(ae)}finally{if(ne)throw ne.error}}ee.complete()})}function fromAsyncIterable(re){return new Observable(function(ee){process$1(re,ee).catch(function(ne){return ee.error(ne)})})}function fromReadableStreamLike(re){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(re))}function process$1(re,ee){var ne,oe,ae,he;return __awaiter$4(this,void 0,void 0,function(){var pe,ge;return __generator(this,function(ve){switch(ve.label){case 0:ve.trys.push([0,5,6,11]),ne=__asyncValues(re),ve.label=1;case 1:return[4,ne.next()];case 2:if(oe=ve.sent(),!!oe.done)return[3,4];if(pe=oe.value,ee.next(pe),ee.closed)return[2];ve.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ge=ve.sent(),ae={error:ge},[3,11];case 6:return ve.trys.push([6,,9,10]),oe&&!oe.done&&(he=ne.return)?[4,he.call(ne)]:[3,8];case 7:ve.sent(),ve.label=8;case 8:return[3,10];case 9:if(ae)throw ae.error;return[7];case 10:return[7];case 11:return ee.complete(),[2]}})})}function executeSchedule(re,ee,ne,oe,ae){oe===void 0&&(oe=0),ae===void 0&&(ae=!1);var he=ee.schedule(function(){ne(),ae?re.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(re.add(he),!ae)return he}function observeOn(re,ee){return ee===void 0&&(ee=0),operate(function(ne,oe){ne.subscribe(createOperatorSubscriber(oe,function(ae){return executeSchedule(oe,re,function(){return oe.next(ae)},ee)},function(){return executeSchedule(oe,re,function(){return oe.complete()},ee)},function(ae){return executeSchedule(oe,re,function(){return oe.error(ae)},ee)}))})}function subscribeOn(re,ee){return ee===void 0&&(ee=0),operate(function(ne,oe){oe.add(re.schedule(function(){return ne.subscribe(oe)},ee))})}function scheduleObservable(re,ee){return innerFrom(re).pipe(subscribeOn(ee),observeOn(ee))}function schedulePromise(re,ee){return innerFrom(re).pipe(subscribeOn(ee),observeOn(ee))}function scheduleArray(re,ee){return new Observable(function(ne){var oe=0;return ee.schedule(function(){oe===re.length?ne.complete():(ne.next(re[oe++]),ne.closed||this.schedule())})})}function scheduleIterable(re,ee){return new Observable(function(ne){var oe;return executeSchedule(ne,ee,function(){oe=re[iterator](),executeSchedule(ne,ee,function(){var ae,he,pe;try{ae=oe.next(),he=ae.value,pe=ae.done}catch(ge){ne.error(ge);return}pe?ne.complete():ne.next(he)},0,!0)}),function(){return isFunction$2(oe?.return)&&oe.return()}})}function scheduleAsyncIterable(re,ee){if(!re)throw new Error("Iterable cannot be null");return new Observable(function(ne){executeSchedule(ne,ee,function(){var oe=re[Symbol.asyncIterator]();executeSchedule(ne,ee,function(){oe.next().then(function(ae){ae.done?ne.complete():ne.next(ae.value)})},0,!0)})})}function scheduleReadableStreamLike(re,ee){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(re),ee)}function scheduled(re,ee){if(re!=null){if(isInteropObservable(re))return scheduleObservable(re,ee);if(isArrayLike(re))return scheduleArray(re,ee);if(isPromise(re))return schedulePromise(re,ee);if(isAsyncIterable$2(re))return scheduleAsyncIterable(re,ee);if(isIterable$1(re))return scheduleIterable(re,ee);if(isReadableStreamLike(re))return scheduleReadableStreamLike(re,ee)}throw createInvalidObservableTypeError(re)}function from(re,ee){return ee?scheduled(re,ee):innerFrom(re)}function of(){for(var re=[],ee=0;ee<arguments.length;ee++)re[ee]=arguments[ee];var ne=popScheduler(re);return from(re,ne)}var EmptyError=createErrorClass(function(re){return function(){re(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(re,ee){var ne=typeof ee=="object";return new Promise(function(oe,ae){var he=new SafeSubscriber({next:function(pe){oe(pe),he.unsubscribe()},error:ae,complete:function(){ne?oe(ee.defaultValue):ae(new EmptyError)}});re.subscribe(he)})}function map(re,ee){return operate(function(ne,oe){var ae=0;ne.subscribe(createOperatorSubscriber(oe,function(he){oe.next(re.call(ee,he,ae++))}))})}var isArray$3=Array.isArray;function callOrApply(re,ee){return isArray$3(ee)?re.apply(void 0,__spreadArray$3([],__read$4(ee))):re(ee)}function mapOneOrManyArgs(re){return map(function(ee){return callOrApply(re,ee)})}var isArray$2=Array.isArray,getPrototypeOf$1=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(re){if(re.length===1){var ee=re[0];if(isArray$2(ee))return{args:ee,keys:null};if(isPOJO(ee)){var ne=getKeys(ee);return{args:ne.map(function(oe){return ee[oe]}),keys:ne}}}return{args:re,keys:null}}function isPOJO(re){return re&&typeof re=="object"&&getPrototypeOf$1(re)===objectProto}function createObject(re,ee){return re.reduce(function(ne,oe,ae){return ne[oe]=ee[ae],ne},{})}function combineLatest(){for(var re=[],ee=0;ee<arguments.length;ee++)re[ee]=arguments[ee];var ne=popScheduler(re),oe=popResultSelector(re),ae=argsArgArrayOrObject(re),he=ae.args,pe=ae.keys;if(he.length===0)return from([],ne);var ge=new Observable(combineLatestInit(he,ne,pe?function(ve){return createObject(pe,ve)}:identity$1));return oe?ge.pipe(mapOneOrManyArgs(oe)):ge}function combineLatestInit(re,ee,ne){return ne===void 0&&(ne=identity$1),function(oe){maybeSchedule(ee,function(){for(var ae=re.length,he=new Array(ae),pe=ae,ge=ae,ve=function(Ee){maybeSchedule(ee,function(){var _e=from(re[Ee],ee),Te=!1;_e.subscribe(createOperatorSubscriber(oe,function(Pe){he[Ee]=Pe,Te||(Te=!0,ge--),ge||oe.next(ne(he.slice()))},function(){--pe||oe.complete()}))},oe)},we=0;we<ae;we++)ve(we)},oe)}}function maybeSchedule(re,ee,ne){re?executeSchedule(ne,re,ee):ee()}function mergeInternals(re,ee,ne,oe,ae,he,pe,ge){var ve=[],we=0,Ee=0,_e=!1,Te=function(){_e&&!ve.length&&!we&&ee.complete()},Pe=function(Se){return we<oe?Ae(Se):ve.push(Se)},Ae=function(Se){he&&ee.next(Se),we++;var Re=!1;innerFrom(ne(Se,Ee++)).subscribe(createOperatorSubscriber(ee,function(Ne){ae?.(Ne),he?Pe(Ne):ee.next(Ne)},function(){Re=!0},void 0,function(){if(Re)try{we--;for(var Ne=function(){var Me=ve.shift();pe?executeSchedule(ee,pe,function(){return Ae(Me)}):Ae(Me)};ve.length&&we<oe;)Ne();Te()}catch(Me){ee.error(Me)}}))};return re.subscribe(createOperatorSubscriber(ee,Pe,function(){_e=!0,Te()})),function(){ge?.()}}function mergeMap(re,ee,ne){return ne===void 0&&(ne=1/0),isFunction$2(ee)?mergeMap(function(oe,ae){return map(function(he,pe){return ee(oe,he,ae,pe)})(innerFrom(re(oe,ae)))},ne):(typeof ee=="number"&&(ne=ee),operate(function(oe,ae){return mergeInternals(oe,ae,re,ne)}))}function mergeAll(re){return re===void 0&&(re=1/0),mergeMap(identity$1,re)}function concatAll(){return mergeAll(1)}function concat$3(){for(var re=[],ee=0;ee<arguments.length;ee++)re[ee]=arguments[ee];return concatAll()(from(re,popScheduler(re)))}function defer(re){return new Observable(function(ee){innerFrom(re()).subscribe(ee)})}function filter(re,ee){return operate(function(ne,oe){var ae=0;ne.subscribe(createOperatorSubscriber(oe,function(he){return re.call(ee,he,ae++)&&oe.next(he)}))})}function catchError(re){return operate(function(ee,ne){var oe=null,ae=!1,he;oe=ee.subscribe(createOperatorSubscriber(ne,void 0,void 0,function(pe){he=innerFrom(re(pe,catchError(re)(ee))),oe?(oe.unsubscribe(),oe=null,he.subscribe(ne)):ae=!0})),ae&&(oe.unsubscribe(),oe=null,he.subscribe(ne))})}function scanInternals(re,ee,ne,oe,ae){return function(he,pe){var ge=ne,ve=ee,we=0;he.subscribe(createOperatorSubscriber(pe,function(Ee){var _e=we++;ve=ge?re(ve,Ee,_e):(ge=!0,Ee),oe&&pe.next(ve)},ae&&function(){ge&&pe.next(ve),pe.complete()}))}}function concatMap(re,ee){return isFunction$2(ee)?mergeMap(re,ee,1):mergeMap(re,1)}function take(re){return re<=0?function(){return EMPTY}:operate(function(ee,ne){var oe=0;ee.subscribe(createOperatorSubscriber(ne,function(ae){++oe<=re&&(ne.next(ae),re<=oe&&ne.complete())}))})}function scan(re,ee){return operate(scanInternals(re,ee,arguments.length>=2,!0))}function share$1(re){re===void 0&&(re={});var ee=re.connector,ne=ee===void 0?function(){return new Subject}:ee,oe=re.resetOnError,ae=oe===void 0?!0:oe,he=re.resetOnComplete,pe=he===void 0?!0:he,ge=re.resetOnRefCountZero,ve=ge===void 0?!0:ge;return function(we){var Ee=null,_e=null,Te=null,Pe=0,Ae=!1,Se=!1,Re=function(){_e?.unsubscribe(),_e=null},Ne=function(){Re(),Ee=Te=null,Ae=Se=!1},Me=function(){var Le=Ee;Ne(),Le?.unsubscribe()};return operate(function(Le,qe){Pe++,!Se&&!Ae&&Re();var We=Te=Te??ne();qe.add(function(){Pe--,Pe===0&&!Se&&!Ae&&(_e=handleReset(Me,ve))}),We.subscribe(qe),Ee||(Ee=new SafeSubscriber({next:function(Qe){return We.next(Qe)},error:function(Qe){Se=!0,Re(),_e=handleReset(Ne,ae,Qe),We.error(Qe)},complete:function(){Ae=!0,Re(),_e=handleReset(Ne,pe),We.complete()}}),from(Le).subscribe(Ee))})(we)}}function handleReset(re,ee){for(var ne=[],oe=2;oe<arguments.length;oe++)ne[oe-2]=arguments[oe];return ee===!0?(re(),null):ee===!1?null:ee.apply(void 0,__spreadArray$3([],__read$4(ne))).pipe(take(1)).subscribe(function(){return re()})}function shareReplay(re,ee,ne){var oe,ae,he,pe,ge=!1;return re&&typeof re=="object"?(oe=re.bufferSize,pe=oe===void 0?1/0:oe,ae=re.windowTime,ee=ae===void 0?1/0:ae,he=re.refCount,ge=he===void 0?!1:he,ne=re.scheduler):pe=re??1/0,share$1({connector:function(){return new ReplaySubject(pe,ee,ne)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ge})}function tap(re,ee,ne){var oe=isFunction$2(re)||ee||ne?{next:re,error:ee,complete:ne}:re;return oe?operate(function(ae,he){var pe;(pe=oe.subscribe)===null||pe===void 0||pe.call(oe);var ge=!0;ae.subscribe(createOperatorSubscriber(he,function(ve){var we;(we=oe.next)===null||we===void 0||we.call(oe,ve),he.next(ve)},function(){var ve;ge=!1,(ve=oe.complete)===null||ve===void 0||ve.call(oe),he.complete()},function(ve){var we;ge=!1,(we=oe.error)===null||we===void 0||we.call(oe,ve),he.error(ve)},function(){var ve,we;ge&&((ve=oe.unsubscribe)===null||ve===void 0||ve.call(oe)),(we=oe.finalize)===null||we===void 0||we.call(oe)}))}):identity$1}var bnExports={},bn={get exports(){return bnExports},set exports(re){bnExports=re}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(re){(function(ee,ne){function oe(Ze,$e){if(!Ze)throw new Error($e||"Assertion failed")}function ae(Ze,$e){Ze.super_=$e;var Ie=function(){};Ie.prototype=$e.prototype,Ze.prototype=new Ie,Ze.prototype.constructor=Ze}function he(Ze,$e,Ie){if(he.isBN(Ze))return Ze;this.negative=0,this.words=null,this.length=0,this.red=null,Ze!==null&&(($e==="le"||$e==="be")&&(Ie=$e,$e=10),this._init(Ze||0,$e||10,Ie||"be"))}typeof ee=="object"?ee.exports=he:ne.BN=he,he.BN=he,he.wordSize=26;var pe;try{typeof window<"u"&&typeof window.Buffer<"u"?pe=window.Buffer:pe=require$$0.Buffer}catch{}he.isBN=function($e){return $e instanceof he?!0:$e!==null&&typeof $e=="object"&&$e.constructor.wordSize===he.wordSize&&Array.isArray($e.words)},he.max=function($e,Ie){return $e.cmp(Ie)>0?$e:Ie},he.min=function($e,Ie){return $e.cmp(Ie)<0?$e:Ie},he.prototype._init=function($e,Ie,Oe){if(typeof $e=="number")return this._initNumber($e,Ie,Oe);if(typeof $e=="object")return this._initArray($e,Ie,Oe);Ie==="hex"&&(Ie=16),oe(Ie===(Ie|0)&&Ie>=2&&Ie<=36),$e=$e.toString().replace(/\s+/g,"");var ke=0;$e[0]==="-"&&(ke++,this.negative=1),ke<$e.length&&(Ie===16?this._parseHex($e,ke,Oe):(this._parseBase($e,Ie,ke),Oe==="le"&&this._initArray(this.toArray(),Ie,Oe)))},he.prototype._initNumber=function($e,Ie,Oe){$e<0&&(this.negative=1,$e=-$e),$e<67108864?(this.words=[$e&67108863],this.length=1):$e<4503599627370496?(this.words=[$e&67108863,$e/67108864&67108863],this.length=2):(oe($e<9007199254740992),this.words=[$e&67108863,$e/67108864&67108863,1],this.length=3),Oe==="le"&&this._initArray(this.toArray(),Ie,Oe)},he.prototype._initArray=function($e,Ie,Oe){if(oe(typeof $e.length=="number"),$e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil($e.length/3),this.words=new Array(this.length);for(var ke=0;ke<this.length;ke++)this.words[ke]=0;var Ue,He,Ge=0;if(Oe==="be")for(ke=$e.length-1,Ue=0;ke>=0;ke-=3)He=$e[ke]|$e[ke-1]<<8|$e[ke-2]<<16,this.words[Ue]|=He<<Ge&67108863,this.words[Ue+1]=He>>>26-Ge&67108863,Ge+=24,Ge>=26&&(Ge-=26,Ue++);else if(Oe==="le")for(ke=0,Ue=0;ke<$e.length;ke+=3)He=$e[ke]|$e[ke+1]<<8|$e[ke+2]<<16,this.words[Ue]|=He<<Ge&67108863,this.words[Ue+1]=He>>>26-Ge&67108863,Ge+=24,Ge>=26&&(Ge-=26,Ue++);return this._strip()};function ge(Ze,$e){var Ie=Ze.charCodeAt($e);if(Ie>=48&&Ie<=57)return Ie-48;if(Ie>=65&&Ie<=70)return Ie-55;if(Ie>=97&&Ie<=102)return Ie-87;oe(!1,"Invalid character in "+Ze)}function ve(Ze,$e,Ie){var Oe=ge(Ze,Ie);return Ie-1>=$e&&(Oe|=ge(Ze,Ie-1)<<4),Oe}he.prototype._parseHex=function($e,Ie,Oe){this.length=Math.ceil(($e.length-Ie)/6),this.words=new Array(this.length);for(var ke=0;ke<this.length;ke++)this.words[ke]=0;var Ue=0,He=0,Ge;if(Oe==="be")for(ke=$e.length-1;ke>=Ie;ke-=2)Ge=ve($e,Ie,ke)<<Ue,this.words[He]|=Ge&67108863,Ue>=18?(Ue-=18,He+=1,this.words[He]|=Ge>>>26):Ue+=8;else{var Fe=$e.length-Ie;for(ke=Fe%2===0?Ie+1:Ie;ke<$e.length;ke+=2)Ge=ve($e,Ie,ke)<<Ue,this.words[He]|=Ge&67108863,Ue>=18?(Ue-=18,He+=1,this.words[He]|=Ge>>>26):Ue+=8}this._strip()};function we(Ze,$e,Ie,Oe){for(var ke=0,Ue=0,He=Math.min(Ze.length,Ie),Ge=$e;Ge<He;Ge++){var Fe=Ze.charCodeAt(Ge)-48;ke*=Oe,Fe>=49?Ue=Fe-49+10:Fe>=17?Ue=Fe-17+10:Ue=Fe,oe(Fe>=0&&Ue<Oe,"Invalid character"),ke+=Ue}return ke}he.prototype._parseBase=function($e,Ie,Oe){this.words=[0],this.length=1;for(var ke=0,Ue=1;Ue<=67108863;Ue*=Ie)ke++;ke--,Ue=Ue/Ie|0;for(var He=$e.length-Oe,Ge=He%ke,Fe=Math.min(He,He-Ge)+Oe,xe=0,De=Oe;De<Fe;De+=ke)xe=we($e,De,De+ke,Ie),this.imuln(Ue),this.words[0]+xe<67108864?this.words[0]+=xe:this._iaddn(xe);if(Ge!==0){var at=1;for(xe=we($e,De,$e.length,Ie),De=0;De<Ge;De++)at*=Ie;this.imuln(at),this.words[0]+xe<67108864?this.words[0]+=xe:this._iaddn(xe)}this._strip()},he.prototype.copy=function($e){$e.words=new Array(this.length);for(var Ie=0;Ie<this.length;Ie++)$e.words[Ie]=this.words[Ie];$e.length=this.length,$e.negative=this.negative,$e.red=this.red};function Ee(Ze,$e){Ze.words=$e.words,Ze.length=$e.length,Ze.negative=$e.negative,Ze.red=$e.red}if(he.prototype._move=function($e){Ee($e,this)},he.prototype.clone=function(){var $e=new he(null);return this.copy($e),$e},he.prototype._expand=function($e){for(;this.length<$e;)this.words[this.length++]=0;return this},he.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},he.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{he.prototype[Symbol.for("nodejs.util.inspect.custom")]=_e}catch{he.prototype.inspect=_e}else he.prototype.inspect=_e;function _e(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Te=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Pe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ae=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];he.prototype.toString=function($e,Ie){$e=$e||10,Ie=Ie|0||1;var Oe;if($e===16||$e==="hex"){Oe="";for(var ke=0,Ue=0,He=0;He<this.length;He++){var Ge=this.words[He],Fe=((Ge<<ke|Ue)&16777215).toString(16);Ue=Ge>>>24-ke&16777215,ke+=2,ke>=26&&(ke-=26,He--),Ue!==0||He!==this.length-1?Oe=Te[6-Fe.length]+Fe+Oe:Oe=Fe+Oe}for(Ue!==0&&(Oe=Ue.toString(16)+Oe);Oe.length%Ie!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}if($e===($e|0)&&$e>=2&&$e<=36){var xe=Pe[$e],De=Ae[$e];Oe="";var at=this.clone();for(at.negative=0;!at.isZero();){var Ce=at.modrn(De).toString($e);at=at.idivn(De),at.isZero()?Oe=Ce+Oe:Oe=Te[xe-Ce.length]+Ce+Oe}for(this.isZero()&&(Oe="0"+Oe);Oe.length%Ie!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}oe(!1,"Base should be between 2 and 36")},he.prototype.toNumber=function(){var $e=this.words[0];return this.length===2?$e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?$e+=4503599627370496+this.words[1]*67108864:this.length>2&&oe(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-$e:$e},he.prototype.toJSON=function(){return this.toString(16,2)},pe&&(he.prototype.toBuffer=function($e,Ie){return this.toArrayLike(pe,$e,Ie)}),he.prototype.toArray=function($e,Ie){return this.toArrayLike(Array,$e,Ie)};var Se=function($e,Ie){return $e.allocUnsafe?$e.allocUnsafe(Ie):new $e(Ie)};he.prototype.toArrayLike=function($e,Ie,Oe){this._strip();var ke=this.byteLength(),Ue=Oe||Math.max(1,ke);oe(ke<=Ue,"byte array longer than desired length"),oe(Ue>0,"Requested array length <= 0");var He=Se($e,Ue),Ge=Ie==="le"?"LE":"BE";return this["_toArrayLike"+Ge](He,ke),He},he.prototype._toArrayLikeLE=function($e,Ie){for(var Oe=0,ke=0,Ue=0,He=0;Ue<this.length;Ue++){var Ge=this.words[Ue]<<He|ke;$e[Oe++]=Ge&255,Oe<$e.length&&($e[Oe++]=Ge>>8&255),Oe<$e.length&&($e[Oe++]=Ge>>16&255),He===6?(Oe<$e.length&&($e[Oe++]=Ge>>24&255),ke=0,He=0):(ke=Ge>>>24,He+=2)}if(Oe<$e.length)for($e[Oe++]=ke;Oe<$e.length;)$e[Oe++]=0},he.prototype._toArrayLikeBE=function($e,Ie){for(var Oe=$e.length-1,ke=0,Ue=0,He=0;Ue<this.length;Ue++){var Ge=this.words[Ue]<<He|ke;$e[Oe--]=Ge&255,Oe>=0&&($e[Oe--]=Ge>>8&255),Oe>=0&&($e[Oe--]=Ge>>16&255),He===6?(Oe>=0&&($e[Oe--]=Ge>>24&255),ke=0,He=0):(ke=Ge>>>24,He+=2)}if(Oe>=0)for($e[Oe--]=ke;Oe>=0;)$e[Oe--]=0},Math.clz32?he.prototype._countBits=function($e){return 32-Math.clz32($e)}:he.prototype._countBits=function($e){var Ie=$e,Oe=0;return Ie>=4096&&(Oe+=13,Ie>>>=13),Ie>=64&&(Oe+=7,Ie>>>=7),Ie>=8&&(Oe+=4,Ie>>>=4),Ie>=2&&(Oe+=2,Ie>>>=2),Oe+Ie},he.prototype._zeroBits=function($e){if($e===0)return 26;var Ie=$e,Oe=0;return Ie&8191||(Oe+=13,Ie>>>=13),Ie&127||(Oe+=7,Ie>>>=7),Ie&15||(Oe+=4,Ie>>>=4),Ie&3||(Oe+=2,Ie>>>=2),Ie&1||Oe++,Oe},he.prototype.bitLength=function(){var $e=this.words[this.length-1],Ie=this._countBits($e);return(this.length-1)*26+Ie};function Re(Ze){for(var $e=new Array(Ze.bitLength()),Ie=0;Ie<$e.length;Ie++){var Oe=Ie/26|0,ke=Ie%26;$e[Ie]=Ze.words[Oe]>>>ke&1}return $e}he.prototype.zeroBits=function(){if(this.isZero())return 0;for(var $e=0,Ie=0;Ie<this.length;Ie++){var Oe=this._zeroBits(this.words[Ie]);if($e+=Oe,Oe!==26)break}return $e},he.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},he.prototype.toTwos=function($e){return this.negative!==0?this.abs().inotn($e).iaddn(1):this.clone()},he.prototype.fromTwos=function($e){return this.testn($e-1)?this.notn($e).iaddn(1).ineg():this.clone()},he.prototype.isNeg=function(){return this.negative!==0},he.prototype.neg=function(){return this.clone().ineg()},he.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},he.prototype.iuor=function($e){for(;this.length<$e.length;)this.words[this.length++]=0;for(var Ie=0;Ie<$e.length;Ie++)this.words[Ie]=this.words[Ie]|$e.words[Ie];return this._strip()},he.prototype.ior=function($e){return oe((this.negative|$e.negative)===0),this.iuor($e)},he.prototype.or=function($e){return this.length>$e.length?this.clone().ior($e):$e.clone().ior(this)},he.prototype.uor=function($e){return this.length>$e.length?this.clone().iuor($e):$e.clone().iuor(this)},he.prototype.iuand=function($e){var Ie;this.length>$e.length?Ie=$e:Ie=this;for(var Oe=0;Oe<Ie.length;Oe++)this.words[Oe]=this.words[Oe]&$e.words[Oe];return this.length=Ie.length,this._strip()},he.prototype.iand=function($e){return oe((this.negative|$e.negative)===0),this.iuand($e)},he.prototype.and=function($e){return this.length>$e.length?this.clone().iand($e):$e.clone().iand(this)},he.prototype.uand=function($e){return this.length>$e.length?this.clone().iuand($e):$e.clone().iuand(this)},he.prototype.iuxor=function($e){var Ie,Oe;this.length>$e.length?(Ie=this,Oe=$e):(Ie=$e,Oe=this);for(var ke=0;ke<Oe.length;ke++)this.words[ke]=Ie.words[ke]^Oe.words[ke];if(this!==Ie)for(;ke<Ie.length;ke++)this.words[ke]=Ie.words[ke];return this.length=Ie.length,this._strip()},he.prototype.ixor=function($e){return oe((this.negative|$e.negative)===0),this.iuxor($e)},he.prototype.xor=function($e){return this.length>$e.length?this.clone().ixor($e):$e.clone().ixor(this)},he.prototype.uxor=function($e){return this.length>$e.length?this.clone().iuxor($e):$e.clone().iuxor(this)},he.prototype.inotn=function($e){oe(typeof $e=="number"&&$e>=0);var Ie=Math.ceil($e/26)|0,Oe=$e%26;this._expand(Ie),Oe>0&&Ie--;for(var ke=0;ke<Ie;ke++)this.words[ke]=~this.words[ke]&67108863;return Oe>0&&(this.words[ke]=~this.words[ke]&67108863>>26-Oe),this._strip()},he.prototype.notn=function($e){return this.clone().inotn($e)},he.prototype.setn=function($e,Ie){oe(typeof $e=="number"&&$e>=0);var Oe=$e/26|0,ke=$e%26;return this._expand(Oe+1),Ie?this.words[Oe]=this.words[Oe]|1<<ke:this.words[Oe]=this.words[Oe]&~(1<<ke),this._strip()},he.prototype.iadd=function($e){var Ie;if(this.negative!==0&&$e.negative===0)return this.negative=0,Ie=this.isub($e),this.negative^=1,this._normSign();if(this.negative===0&&$e.negative!==0)return $e.negative=0,Ie=this.isub($e),$e.negative=1,Ie._normSign();var Oe,ke;this.length>$e.length?(Oe=this,ke=$e):(Oe=$e,ke=this);for(var Ue=0,He=0;He<ke.length;He++)Ie=(Oe.words[He]|0)+(ke.words[He]|0)+Ue,this.words[He]=Ie&67108863,Ue=Ie>>>26;for(;Ue!==0&&He<Oe.length;He++)Ie=(Oe.words[He]|0)+Ue,this.words[He]=Ie&67108863,Ue=Ie>>>26;if(this.length=Oe.length,Ue!==0)this.words[this.length]=Ue,this.length++;else if(Oe!==this)for(;He<Oe.length;He++)this.words[He]=Oe.words[He];return this},he.prototype.add=function($e){var Ie;return $e.negative!==0&&this.negative===0?($e.negative=0,Ie=this.sub($e),$e.negative^=1,Ie):$e.negative===0&&this.negative!==0?(this.negative=0,Ie=$e.sub(this),this.negative=1,Ie):this.length>$e.length?this.clone().iadd($e):$e.clone().iadd(this)},he.prototype.isub=function($e){if($e.negative!==0){$e.negative=0;var Ie=this.iadd($e);return $e.negative=1,Ie._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd($e),this.negative=1,this._normSign();var Oe=this.cmp($e);if(Oe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ke,Ue;Oe>0?(ke=this,Ue=$e):(ke=$e,Ue=this);for(var He=0,Ge=0;Ge<Ue.length;Ge++)Ie=(ke.words[Ge]|0)-(Ue.words[Ge]|0)+He,He=Ie>>26,this.words[Ge]=Ie&67108863;for(;He!==0&&Ge<ke.length;Ge++)Ie=(ke.words[Ge]|0)+He,He=Ie>>26,this.words[Ge]=Ie&67108863;if(He===0&&Ge<ke.length&&ke!==this)for(;Ge<ke.length;Ge++)this.words[Ge]=ke.words[Ge];return this.length=Math.max(this.length,Ge),ke!==this&&(this.negative=1),this._strip()},he.prototype.sub=function($e){return this.clone().isub($e)};function Ne(Ze,$e,Ie){Ie.negative=$e.negative^Ze.negative;var Oe=Ze.length+$e.length|0;Ie.length=Oe,Oe=Oe-1|0;var ke=Ze.words[0]|0,Ue=$e.words[0]|0,He=ke*Ue,Ge=He&67108863,Fe=He/67108864|0;Ie.words[0]=Ge;for(var xe=1;xe<Oe;xe++){for(var De=Fe>>>26,at=Fe&67108863,Ce=Math.min(xe,$e.length-1),Ke=Math.max(0,xe-Ze.length+1);Ke<=Ce;Ke++){var ze=xe-Ke|0;ke=Ze.words[ze]|0,Ue=$e.words[Ke]|0,He=ke*Ue+at,De+=He/67108864|0,at=He&67108863}Ie.words[xe]=at|0,Fe=De|0}return Fe!==0?Ie.words[xe]=Fe|0:Ie.length--,Ie._strip()}var Me=function($e,Ie,Oe){var ke=$e.words,Ue=Ie.words,He=Oe.words,Ge=0,Fe,xe,De,at=ke[0]|0,Ce=at&8191,Ke=at>>>13,ze=ke[1]|0,Ve=ze&8191,Je=ze>>>13,ot=ke[2]|0,rt=ot&8191,et=ot>>>13,pt=ke[3]|0,it=pt&8191,dt=pt>>>13,Kt=ke[4]|0,yt=Kt&8191,mt=Kt>>>13,nr=ke[5]|0,gt=nr&8191,bt=nr>>>13,ir=ke[6]|0,vt=ir&8191,wt=ir>>>13,or=ke[7]|0,Et=or&8191,_t=or>>>13,sr=ke[8]|0,$t=sr&8191,Tt=sr>>>13,ar=ke[9]|0,xt=ar&8191,At=ar>>>13,ur=Ue[0]|0,It=ur&8191,St=ur>>>13,cr=Ue[1]|0,Rt=cr&8191,Ct=cr>>>13,lr=Ue[2]|0,Nt=lr&8191,Bt=lr>>>13,dr=Ue[3]|0,Ot=dr&8191,Mt=dr>>>13,hr=Ue[4]|0,Ft=hr&8191,Lt=hr>>>13,pr=Ue[5]|0,Ut=pr&8191,Dt=pr>>>13,yr=Ue[6]|0,jt=yr&8191,Zt=yr>>>13,gr=Ue[7]|0,Ht=gr&8191,Gt=gr>>>13,br=Ue[8]|0,qt=br&8191,Vt=br>>>13,vr=Ue[9]|0,Yt=vr&8191,Wt=vr>>>13;Oe.negative=$e.negative^Ie.negative,Oe.length=19,Fe=Math.imul(Ce,It),xe=Math.imul(Ce,St),xe=xe+Math.imul(Ke,It)|0,De=Math.imul(Ke,St);var Qt=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,Fe=Math.imul(Ve,It),xe=Math.imul(Ve,St),xe=xe+Math.imul(Je,It)|0,De=Math.imul(Je,St),Fe=Fe+Math.imul(Ce,Rt)|0,xe=xe+Math.imul(Ce,Ct)|0,xe=xe+Math.imul(Ke,Rt)|0,De=De+Math.imul(Ke,Ct)|0;var Jt=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,Fe=Math.imul(rt,It),xe=Math.imul(rt,St),xe=xe+Math.imul(et,It)|0,De=Math.imul(et,St),Fe=Fe+Math.imul(Ve,Rt)|0,xe=xe+Math.imul(Ve,Ct)|0,xe=xe+Math.imul(Je,Rt)|0,De=De+Math.imul(Je,Ct)|0,Fe=Fe+Math.imul(Ce,Nt)|0,xe=xe+Math.imul(Ce,Bt)|0,xe=xe+Math.imul(Ke,Nt)|0,De=De+Math.imul(Ke,Bt)|0;var er=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(er>>>26)|0,er&=67108863,Fe=Math.imul(it,It),xe=Math.imul(it,St),xe=xe+Math.imul(dt,It)|0,De=Math.imul(dt,St),Fe=Fe+Math.imul(rt,Rt)|0,xe=xe+Math.imul(rt,Ct)|0,xe=xe+Math.imul(et,Rt)|0,De=De+Math.imul(et,Ct)|0,Fe=Fe+Math.imul(Ve,Nt)|0,xe=xe+Math.imul(Ve,Bt)|0,xe=xe+Math.imul(Je,Nt)|0,De=De+Math.imul(Je,Bt)|0,Fe=Fe+Math.imul(Ce,Ot)|0,xe=xe+Math.imul(Ce,Mt)|0,xe=xe+Math.imul(Ke,Ot)|0,De=De+Math.imul(Ke,Mt)|0;var tr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(tr>>>26)|0,tr&=67108863,Fe=Math.imul(yt,It),xe=Math.imul(yt,St),xe=xe+Math.imul(mt,It)|0,De=Math.imul(mt,St),Fe=Fe+Math.imul(it,Rt)|0,xe=xe+Math.imul(it,Ct)|0,xe=xe+Math.imul(dt,Rt)|0,De=De+Math.imul(dt,Ct)|0,Fe=Fe+Math.imul(rt,Nt)|0,xe=xe+Math.imul(rt,Bt)|0,xe=xe+Math.imul(et,Nt)|0,De=De+Math.imul(et,Bt)|0,Fe=Fe+Math.imul(Ve,Ot)|0,xe=xe+Math.imul(Ve,Mt)|0,xe=xe+Math.imul(Je,Ot)|0,De=De+Math.imul(Je,Mt)|0,Fe=Fe+Math.imul(Ce,Ft)|0,xe=xe+Math.imul(Ce,Lt)|0,xe=xe+Math.imul(Ke,Ft)|0,De=De+Math.imul(Ke,Lt)|0;var rr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(rr>>>26)|0,rr&=67108863,Fe=Math.imul(gt,It),xe=Math.imul(gt,St),xe=xe+Math.imul(bt,It)|0,De=Math.imul(bt,St),Fe=Fe+Math.imul(yt,Rt)|0,xe=xe+Math.imul(yt,Ct)|0,xe=xe+Math.imul(mt,Rt)|0,De=De+Math.imul(mt,Ct)|0,Fe=Fe+Math.imul(it,Nt)|0,xe=xe+Math.imul(it,Bt)|0,xe=xe+Math.imul(dt,Nt)|0,De=De+Math.imul(dt,Bt)|0,Fe=Fe+Math.imul(rt,Ot)|0,xe=xe+Math.imul(rt,Mt)|0,xe=xe+Math.imul(et,Ot)|0,De=De+Math.imul(et,Mt)|0,Fe=Fe+Math.imul(Ve,Ft)|0,xe=xe+Math.imul(Ve,Lt)|0,xe=xe+Math.imul(Je,Ft)|0,De=De+Math.imul(Je,Lt)|0,Fe=Fe+Math.imul(Ce,Ut)|0,xe=xe+Math.imul(Ce,Dt)|0,xe=xe+Math.imul(Ke,Ut)|0,De=De+Math.imul(Ke,Dt)|0;var wr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(wr>>>26)|0,wr&=67108863,Fe=Math.imul(vt,It),xe=Math.imul(vt,St),xe=xe+Math.imul(wt,It)|0,De=Math.imul(wt,St),Fe=Fe+Math.imul(gt,Rt)|0,xe=xe+Math.imul(gt,Ct)|0,xe=xe+Math.imul(bt,Rt)|0,De=De+Math.imul(bt,Ct)|0,Fe=Fe+Math.imul(yt,Nt)|0,xe=xe+Math.imul(yt,Bt)|0,xe=xe+Math.imul(mt,Nt)|0,De=De+Math.imul(mt,Bt)|0,Fe=Fe+Math.imul(it,Ot)|0,xe=xe+Math.imul(it,Mt)|0,xe=xe+Math.imul(dt,Ot)|0,De=De+Math.imul(dt,Mt)|0,Fe=Fe+Math.imul(rt,Ft)|0,xe=xe+Math.imul(rt,Lt)|0,xe=xe+Math.imul(et,Ft)|0,De=De+Math.imul(et,Lt)|0,Fe=Fe+Math.imul(Ve,Ut)|0,xe=xe+Math.imul(Ve,Dt)|0,xe=xe+Math.imul(Je,Ut)|0,De=De+Math.imul(Je,Dt)|0,Fe=Fe+Math.imul(Ce,jt)|0,xe=xe+Math.imul(Ce,Zt)|0,xe=xe+Math.imul(Ke,jt)|0,De=De+Math.imul(Ke,Zt)|0;var Er=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Er>>>26)|0,Er&=67108863,Fe=Math.imul(Et,It),xe=Math.imul(Et,St),xe=xe+Math.imul(_t,It)|0,De=Math.imul(_t,St),Fe=Fe+Math.imul(vt,Rt)|0,xe=xe+Math.imul(vt,Ct)|0,xe=xe+Math.imul(wt,Rt)|0,De=De+Math.imul(wt,Ct)|0,Fe=Fe+Math.imul(gt,Nt)|0,xe=xe+Math.imul(gt,Bt)|0,xe=xe+Math.imul(bt,Nt)|0,De=De+Math.imul(bt,Bt)|0,Fe=Fe+Math.imul(yt,Ot)|0,xe=xe+Math.imul(yt,Mt)|0,xe=xe+Math.imul(mt,Ot)|0,De=De+Math.imul(mt,Mt)|0,Fe=Fe+Math.imul(it,Ft)|0,xe=xe+Math.imul(it,Lt)|0,xe=xe+Math.imul(dt,Ft)|0,De=De+Math.imul(dt,Lt)|0,Fe=Fe+Math.imul(rt,Ut)|0,xe=xe+Math.imul(rt,Dt)|0,xe=xe+Math.imul(et,Ut)|0,De=De+Math.imul(et,Dt)|0,Fe=Fe+Math.imul(Ve,jt)|0,xe=xe+Math.imul(Ve,Zt)|0,xe=xe+Math.imul(Je,jt)|0,De=De+Math.imul(Je,Zt)|0,Fe=Fe+Math.imul(Ce,Ht)|0,xe=xe+Math.imul(Ce,Gt)|0,xe=xe+Math.imul(Ke,Ht)|0,De=De+Math.imul(Ke,Gt)|0;var _r=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(_r>>>26)|0,_r&=67108863,Fe=Math.imul($t,It),xe=Math.imul($t,St),xe=xe+Math.imul(Tt,It)|0,De=Math.imul(Tt,St),Fe=Fe+Math.imul(Et,Rt)|0,xe=xe+Math.imul(Et,Ct)|0,xe=xe+Math.imul(_t,Rt)|0,De=De+Math.imul(_t,Ct)|0,Fe=Fe+Math.imul(vt,Nt)|0,xe=xe+Math.imul(vt,Bt)|0,xe=xe+Math.imul(wt,Nt)|0,De=De+Math.imul(wt,Bt)|0,Fe=Fe+Math.imul(gt,Ot)|0,xe=xe+Math.imul(gt,Mt)|0,xe=xe+Math.imul(bt,Ot)|0,De=De+Math.imul(bt,Mt)|0,Fe=Fe+Math.imul(yt,Ft)|0,xe=xe+Math.imul(yt,Lt)|0,xe=xe+Math.imul(mt,Ft)|0,De=De+Math.imul(mt,Lt)|0,Fe=Fe+Math.imul(it,Ut)|0,xe=xe+Math.imul(it,Dt)|0,xe=xe+Math.imul(dt,Ut)|0,De=De+Math.imul(dt,Dt)|0,Fe=Fe+Math.imul(rt,jt)|0,xe=xe+Math.imul(rt,Zt)|0,xe=xe+Math.imul(et,jt)|0,De=De+Math.imul(et,Zt)|0,Fe=Fe+Math.imul(Ve,Ht)|0,xe=xe+Math.imul(Ve,Gt)|0,xe=xe+Math.imul(Je,Ht)|0,De=De+Math.imul(Je,Gt)|0,Fe=Fe+Math.imul(Ce,qt)|0,xe=xe+Math.imul(Ce,Vt)|0,xe=xe+Math.imul(Ke,qt)|0,De=De+Math.imul(Ke,Vt)|0;var $r=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+($r>>>26)|0,$r&=67108863,Fe=Math.imul(xt,It),xe=Math.imul(xt,St),xe=xe+Math.imul(At,It)|0,De=Math.imul(At,St),Fe=Fe+Math.imul($t,Rt)|0,xe=xe+Math.imul($t,Ct)|0,xe=xe+Math.imul(Tt,Rt)|0,De=De+Math.imul(Tt,Ct)|0,Fe=Fe+Math.imul(Et,Nt)|0,xe=xe+Math.imul(Et,Bt)|0,xe=xe+Math.imul(_t,Nt)|0,De=De+Math.imul(_t,Bt)|0,Fe=Fe+Math.imul(vt,Ot)|0,xe=xe+Math.imul(vt,Mt)|0,xe=xe+Math.imul(wt,Ot)|0,De=De+Math.imul(wt,Mt)|0,Fe=Fe+Math.imul(gt,Ft)|0,xe=xe+Math.imul(gt,Lt)|0,xe=xe+Math.imul(bt,Ft)|0,De=De+Math.imul(bt,Lt)|0,Fe=Fe+Math.imul(yt,Ut)|0,xe=xe+Math.imul(yt,Dt)|0,xe=xe+Math.imul(mt,Ut)|0,De=De+Math.imul(mt,Dt)|0,Fe=Fe+Math.imul(it,jt)|0,xe=xe+Math.imul(it,Zt)|0,xe=xe+Math.imul(dt,jt)|0,De=De+Math.imul(dt,Zt)|0,Fe=Fe+Math.imul(rt,Ht)|0,xe=xe+Math.imul(rt,Gt)|0,xe=xe+Math.imul(et,Ht)|0,De=De+Math.imul(et,Gt)|0,Fe=Fe+Math.imul(Ve,qt)|0,xe=xe+Math.imul(Ve,Vt)|0,xe=xe+Math.imul(Je,qt)|0,De=De+Math.imul(Je,Vt)|0,Fe=Fe+Math.imul(Ce,Yt)|0,xe=xe+Math.imul(Ce,Wt)|0,xe=xe+Math.imul(Ke,Yt)|0,De=De+Math.imul(Ke,Wt)|0;var Tr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,Fe=Math.imul(xt,Rt),xe=Math.imul(xt,Ct),xe=xe+Math.imul(At,Rt)|0,De=Math.imul(At,Ct),Fe=Fe+Math.imul($t,Nt)|0,xe=xe+Math.imul($t,Bt)|0,xe=xe+Math.imul(Tt,Nt)|0,De=De+Math.imul(Tt,Bt)|0,Fe=Fe+Math.imul(Et,Ot)|0,xe=xe+Math.imul(Et,Mt)|0,xe=xe+Math.imul(_t,Ot)|0,De=De+Math.imul(_t,Mt)|0,Fe=Fe+Math.imul(vt,Ft)|0,xe=xe+Math.imul(vt,Lt)|0,xe=xe+Math.imul(wt,Ft)|0,De=De+Math.imul(wt,Lt)|0,Fe=Fe+Math.imul(gt,Ut)|0,xe=xe+Math.imul(gt,Dt)|0,xe=xe+Math.imul(bt,Ut)|0,De=De+Math.imul(bt,Dt)|0,Fe=Fe+Math.imul(yt,jt)|0,xe=xe+Math.imul(yt,Zt)|0,xe=xe+Math.imul(mt,jt)|0,De=De+Math.imul(mt,Zt)|0,Fe=Fe+Math.imul(it,Ht)|0,xe=xe+Math.imul(it,Gt)|0,xe=xe+Math.imul(dt,Ht)|0,De=De+Math.imul(dt,Gt)|0,Fe=Fe+Math.imul(rt,qt)|0,xe=xe+Math.imul(rt,Vt)|0,xe=xe+Math.imul(et,qt)|0,De=De+Math.imul(et,Vt)|0,Fe=Fe+Math.imul(Ve,Yt)|0,xe=xe+Math.imul(Ve,Wt)|0,xe=xe+Math.imul(Je,Yt)|0,De=De+Math.imul(Je,Wt)|0;var xr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(xr>>>26)|0,xr&=67108863,Fe=Math.imul(xt,Nt),xe=Math.imul(xt,Bt),xe=xe+Math.imul(At,Nt)|0,De=Math.imul(At,Bt),Fe=Fe+Math.imul($t,Ot)|0,xe=xe+Math.imul($t,Mt)|0,xe=xe+Math.imul(Tt,Ot)|0,De=De+Math.imul(Tt,Mt)|0,Fe=Fe+Math.imul(Et,Ft)|0,xe=xe+Math.imul(Et,Lt)|0,xe=xe+Math.imul(_t,Ft)|0,De=De+Math.imul(_t,Lt)|0,Fe=Fe+Math.imul(vt,Ut)|0,xe=xe+Math.imul(vt,Dt)|0,xe=xe+Math.imul(wt,Ut)|0,De=De+Math.imul(wt,Dt)|0,Fe=Fe+Math.imul(gt,jt)|0,xe=xe+Math.imul(gt,Zt)|0,xe=xe+Math.imul(bt,jt)|0,De=De+Math.imul(bt,Zt)|0,Fe=Fe+Math.imul(yt,Ht)|0,xe=xe+Math.imul(yt,Gt)|0,xe=xe+Math.imul(mt,Ht)|0,De=De+Math.imul(mt,Gt)|0,Fe=Fe+Math.imul(it,qt)|0,xe=xe+Math.imul(it,Vt)|0,xe=xe+Math.imul(dt,qt)|0,De=De+Math.imul(dt,Vt)|0,Fe=Fe+Math.imul(rt,Yt)|0,xe=xe+Math.imul(rt,Wt)|0,xe=xe+Math.imul(et,Yt)|0,De=De+Math.imul(et,Wt)|0;var Ar=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Fe=Math.imul(xt,Ot),xe=Math.imul(xt,Mt),xe=xe+Math.imul(At,Ot)|0,De=Math.imul(At,Mt),Fe=Fe+Math.imul($t,Ft)|0,xe=xe+Math.imul($t,Lt)|0,xe=xe+Math.imul(Tt,Ft)|0,De=De+Math.imul(Tt,Lt)|0,Fe=Fe+Math.imul(Et,Ut)|0,xe=xe+Math.imul(Et,Dt)|0,xe=xe+Math.imul(_t,Ut)|0,De=De+Math.imul(_t,Dt)|0,Fe=Fe+Math.imul(vt,jt)|0,xe=xe+Math.imul(vt,Zt)|0,xe=xe+Math.imul(wt,jt)|0,De=De+Math.imul(wt,Zt)|0,Fe=Fe+Math.imul(gt,Ht)|0,xe=xe+Math.imul(gt,Gt)|0,xe=xe+Math.imul(bt,Ht)|0,De=De+Math.imul(bt,Gt)|0,Fe=Fe+Math.imul(yt,qt)|0,xe=xe+Math.imul(yt,Vt)|0,xe=xe+Math.imul(mt,qt)|0,De=De+Math.imul(mt,Vt)|0,Fe=Fe+Math.imul(it,Yt)|0,xe=xe+Math.imul(it,Wt)|0,xe=xe+Math.imul(dt,Yt)|0,De=De+Math.imul(dt,Wt)|0;var Pr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,Fe=Math.imul(xt,Ft),xe=Math.imul(xt,Lt),xe=xe+Math.imul(At,Ft)|0,De=Math.imul(At,Lt),Fe=Fe+Math.imul($t,Ut)|0,xe=xe+Math.imul($t,Dt)|0,xe=xe+Math.imul(Tt,Ut)|0,De=De+Math.imul(Tt,Dt)|0,Fe=Fe+Math.imul(Et,jt)|0,xe=xe+Math.imul(Et,Zt)|0,xe=xe+Math.imul(_t,jt)|0,De=De+Math.imul(_t,Zt)|0,Fe=Fe+Math.imul(vt,Ht)|0,xe=xe+Math.imul(vt,Gt)|0,xe=xe+Math.imul(wt,Ht)|0,De=De+Math.imul(wt,Gt)|0,Fe=Fe+Math.imul(gt,qt)|0,xe=xe+Math.imul(gt,Vt)|0,xe=xe+Math.imul(bt,qt)|0,De=De+Math.imul(bt,Vt)|0,Fe=Fe+Math.imul(yt,Yt)|0,xe=xe+Math.imul(yt,Wt)|0,xe=xe+Math.imul(mt,Yt)|0,De=De+Math.imul(mt,Wt)|0;var Ir=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,Fe=Math.imul(xt,Ut),xe=Math.imul(xt,Dt),xe=xe+Math.imul(At,Ut)|0,De=Math.imul(At,Dt),Fe=Fe+Math.imul($t,jt)|0,xe=xe+Math.imul($t,Zt)|0,xe=xe+Math.imul(Tt,jt)|0,De=De+Math.imul(Tt,Zt)|0,Fe=Fe+Math.imul(Et,Ht)|0,xe=xe+Math.imul(Et,Gt)|0,xe=xe+Math.imul(_t,Ht)|0,De=De+Math.imul(_t,Gt)|0,Fe=Fe+Math.imul(vt,qt)|0,xe=xe+Math.imul(vt,Vt)|0,xe=xe+Math.imul(wt,qt)|0,De=De+Math.imul(wt,Vt)|0,Fe=Fe+Math.imul(gt,Yt)|0,xe=xe+Math.imul(gt,Wt)|0,xe=xe+Math.imul(bt,Yt)|0,De=De+Math.imul(bt,Wt)|0;var Sr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Fe=Math.imul(xt,jt),xe=Math.imul(xt,Zt),xe=xe+Math.imul(At,jt)|0,De=Math.imul(At,Zt),Fe=Fe+Math.imul($t,Ht)|0,xe=xe+Math.imul($t,Gt)|0,xe=xe+Math.imul(Tt,Ht)|0,De=De+Math.imul(Tt,Gt)|0,Fe=Fe+Math.imul(Et,qt)|0,xe=xe+Math.imul(Et,Vt)|0,xe=xe+Math.imul(_t,qt)|0,De=De+Math.imul(_t,Vt)|0,Fe=Fe+Math.imul(vt,Yt)|0,xe=xe+Math.imul(vt,Wt)|0,xe=xe+Math.imul(wt,Yt)|0,De=De+Math.imul(wt,Wt)|0;var Rr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Fe=Math.imul(xt,Ht),xe=Math.imul(xt,Gt),xe=xe+Math.imul(At,Ht)|0,De=Math.imul(At,Gt),Fe=Fe+Math.imul($t,qt)|0,xe=xe+Math.imul($t,Vt)|0,xe=xe+Math.imul(Tt,qt)|0,De=De+Math.imul(Tt,Vt)|0,Fe=Fe+Math.imul(Et,Yt)|0,xe=xe+Math.imul(Et,Wt)|0,xe=xe+Math.imul(_t,Yt)|0,De=De+Math.imul(_t,Wt)|0;var Nr=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,Fe=Math.imul(xt,qt),xe=Math.imul(xt,Vt),xe=xe+Math.imul(At,qt)|0,De=Math.imul(At,Vt),Fe=Fe+Math.imul($t,Yt)|0,xe=xe+Math.imul($t,Wt)|0,xe=xe+Math.imul(Tt,Yt)|0,De=De+Math.imul(Tt,Wt)|0;var Br=(Ge+Fe|0)+((xe&8191)<<13)|0;Ge=(De+(xe>>>13)|0)+(Br>>>26)|0,Br&=67108863,Fe=Math.imul(xt,Yt),xe=Math.imul(xt,Wt),xe=xe+Math.imul(At,Yt)|0,De=Math.imul(At,Wt);var Or=(Ge+Fe|0)+((xe&8191)<<13)|0;return Ge=(De+(xe>>>13)|0)+(Or>>>26)|0,Or&=67108863,He[0]=Qt,He[1]=Jt,He[2]=er,He[3]=tr,He[4]=rr,He[5]=wr,He[6]=Er,He[7]=_r,He[8]=$r,He[9]=Tr,He[10]=xr,He[11]=Ar,He[12]=Pr,He[13]=Ir,He[14]=Sr,He[15]=Rr,He[16]=Nr,He[17]=Br,He[18]=Or,Ge!==0&&(He[19]=Ge,Oe.length++),Oe};Math.imul||(Me=Ne);function Le(Ze,$e,Ie){Ie.negative=$e.negative^Ze.negative,Ie.length=Ze.length+$e.length;for(var Oe=0,ke=0,Ue=0;Ue<Ie.length-1;Ue++){var He=ke;ke=0;for(var Ge=Oe&67108863,Fe=Math.min(Ue,$e.length-1),xe=Math.max(0,Ue-Ze.length+1);xe<=Fe;xe++){var De=Ue-xe,at=Ze.words[De]|0,Ce=$e.words[xe]|0,Ke=at*Ce,ze=Ke&67108863;He=He+(Ke/67108864|0)|0,ze=ze+Ge|0,Ge=ze&67108863,He=He+(ze>>>26)|0,ke+=He>>>26,He&=67108863}Ie.words[Ue]=Ge,Oe=He,He=ke}return Oe!==0?Ie.words[Ue]=Oe:Ie.length--,Ie._strip()}function qe(Ze,$e,Ie){return Le(Ze,$e,Ie)}he.prototype.mulTo=function($e,Ie){var Oe,ke=this.length+$e.length;return this.length===10&&$e.length===10?Oe=Me(this,$e,Ie):ke<63?Oe=Ne(this,$e,Ie):ke<1024?Oe=Le(this,$e,Ie):Oe=qe(this,$e,Ie),Oe},he.prototype.mul=function($e){var Ie=new he(null);return Ie.words=new Array(this.length+$e.length),this.mulTo($e,Ie)},he.prototype.mulf=function($e){var Ie=new he(null);return Ie.words=new Array(this.length+$e.length),qe(this,$e,Ie)},he.prototype.imul=function($e){return this.clone().mulTo($e,this)},he.prototype.imuln=function($e){var Ie=$e<0;Ie&&($e=-$e),oe(typeof $e=="number"),oe($e<67108864);for(var Oe=0,ke=0;ke<this.length;ke++){var Ue=(this.words[ke]|0)*$e,He=(Ue&67108863)+(Oe&67108863);Oe>>=26,Oe+=Ue/67108864|0,Oe+=He>>>26,this.words[ke]=He&67108863}return Oe!==0&&(this.words[ke]=Oe,this.length++),Ie?this.ineg():this},he.prototype.muln=function($e){return this.clone().imuln($e)},he.prototype.sqr=function(){return this.mul(this)},he.prototype.isqr=function(){return this.imul(this.clone())},he.prototype.pow=function($e){var Ie=Re($e);if(Ie.length===0)return new he(1);for(var Oe=this,ke=0;ke<Ie.length&&Ie[ke]===0;ke++,Oe=Oe.sqr());if(++ke<Ie.length)for(var Ue=Oe.sqr();ke<Ie.length;ke++,Ue=Ue.sqr())Ie[ke]!==0&&(Oe=Oe.mul(Ue));return Oe},he.prototype.iushln=function($e){oe(typeof $e=="number"&&$e>=0);var Ie=$e%26,Oe=($e-Ie)/26,ke=67108863>>>26-Ie<<26-Ie,Ue;if(Ie!==0){var He=0;for(Ue=0;Ue<this.length;Ue++){var Ge=this.words[Ue]&ke,Fe=(this.words[Ue]|0)-Ge<<Ie;this.words[Ue]=Fe|He,He=Ge>>>26-Ie}He&&(this.words[Ue]=He,this.length++)}if(Oe!==0){for(Ue=this.length-1;Ue>=0;Ue--)this.words[Ue+Oe]=this.words[Ue];for(Ue=0;Ue<Oe;Ue++)this.words[Ue]=0;this.length+=Oe}return this._strip()},he.prototype.ishln=function($e){return oe(this.negative===0),this.iushln($e)},he.prototype.iushrn=function($e,Ie,Oe){oe(typeof $e=="number"&&$e>=0);var ke;Ie?ke=(Ie-Ie%26)/26:ke=0;var Ue=$e%26,He=Math.min(($e-Ue)/26,this.length),Ge=67108863^67108863>>>Ue<<Ue,Fe=Oe;if(ke-=He,ke=Math.max(0,ke),Fe){for(var xe=0;xe<He;xe++)Fe.words[xe]=this.words[xe];Fe.length=He}if(He!==0)if(this.length>He)for(this.length-=He,xe=0;xe<this.length;xe++)this.words[xe]=this.words[xe+He];else this.words[0]=0,this.length=1;var De=0;for(xe=this.length-1;xe>=0&&(De!==0||xe>=ke);xe--){var at=this.words[xe]|0;this.words[xe]=De<<26-Ue|at>>>Ue,De=at&Ge}return Fe&&De!==0&&(Fe.words[Fe.length++]=De),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},he.prototype.ishrn=function($e,Ie,Oe){return oe(this.negative===0),this.iushrn($e,Ie,Oe)},he.prototype.shln=function($e){return this.clone().ishln($e)},he.prototype.ushln=function($e){return this.clone().iushln($e)},he.prototype.shrn=function($e){return this.clone().ishrn($e)},he.prototype.ushrn=function($e){return this.clone().iushrn($e)},he.prototype.testn=function($e){oe(typeof $e=="number"&&$e>=0);var Ie=$e%26,Oe=($e-Ie)/26,ke=1<<Ie;if(this.length<=Oe)return!1;var Ue=this.words[Oe];return!!(Ue&ke)},he.prototype.imaskn=function($e){oe(typeof $e=="number"&&$e>=0);var Ie=$e%26,Oe=($e-Ie)/26;if(oe(this.negative===0,"imaskn works only with positive numbers"),this.length<=Oe)return this;if(Ie!==0&&Oe++,this.length=Math.min(Oe,this.length),Ie!==0){var ke=67108863^67108863>>>Ie<<Ie;this.words[this.length-1]&=ke}return this._strip()},he.prototype.maskn=function($e){return this.clone().imaskn($e)},he.prototype.iaddn=function($e){return oe(typeof $e=="number"),oe($e<67108864),$e<0?this.isubn(-$e):this.negative!==0?this.length===1&&(this.words[0]|0)<=$e?(this.words[0]=$e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn($e),this.negative=1,this):this._iaddn($e)},he.prototype._iaddn=function($e){this.words[0]+=$e;for(var Ie=0;Ie<this.length&&this.words[Ie]>=67108864;Ie++)this.words[Ie]-=67108864,Ie===this.length-1?this.words[Ie+1]=1:this.words[Ie+1]++;return this.length=Math.max(this.length,Ie+1),this},he.prototype.isubn=function($e){if(oe(typeof $e=="number"),oe($e<67108864),$e<0)return this.iaddn(-$e);if(this.negative!==0)return this.negative=0,this.iaddn($e),this.negative=1,this;if(this.words[0]-=$e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ie=0;Ie<this.length&&this.words[Ie]<0;Ie++)this.words[Ie]+=67108864,this.words[Ie+1]-=1;return this._strip()},he.prototype.addn=function($e){return this.clone().iaddn($e)},he.prototype.subn=function($e){return this.clone().isubn($e)},he.prototype.iabs=function(){return this.negative=0,this},he.prototype.abs=function(){return this.clone().iabs()},he.prototype._ishlnsubmul=function($e,Ie,Oe){var ke=$e.length+Oe,Ue;this._expand(ke);var He,Ge=0;for(Ue=0;Ue<$e.length;Ue++){He=(this.words[Ue+Oe]|0)+Ge;var Fe=($e.words[Ue]|0)*Ie;He-=Fe&67108863,Ge=(He>>26)-(Fe/67108864|0),this.words[Ue+Oe]=He&67108863}for(;Ue<this.length-Oe;Ue++)He=(this.words[Ue+Oe]|0)+Ge,Ge=He>>26,this.words[Ue+Oe]=He&67108863;if(Ge===0)return this._strip();for(oe(Ge===-1),Ge=0,Ue=0;Ue<this.length;Ue++)He=-(this.words[Ue]|0)+Ge,Ge=He>>26,this.words[Ue]=He&67108863;return this.negative=1,this._strip()},he.prototype._wordDiv=function($e,Ie){var Oe=this.length-$e.length,ke=this.clone(),Ue=$e,He=Ue.words[Ue.length-1]|0,Ge=this._countBits(He);Oe=26-Ge,Oe!==0&&(Ue=Ue.ushln(Oe),ke.iushln(Oe),He=Ue.words[Ue.length-1]|0);var Fe=ke.length-Ue.length,xe;if(Ie!=="mod"){xe=new he(null),xe.length=Fe+1,xe.words=new Array(xe.length);for(var De=0;De<xe.length;De++)xe.words[De]=0}var at=ke.clone()._ishlnsubmul(Ue,1,Fe);at.negative===0&&(ke=at,xe&&(xe.words[Fe]=1));for(var Ce=Fe-1;Ce>=0;Ce--){var Ke=(ke.words[Ue.length+Ce]|0)*67108864+(ke.words[Ue.length+Ce-1]|0);for(Ke=Math.min(Ke/He|0,67108863),ke._ishlnsubmul(Ue,Ke,Ce);ke.negative!==0;)Ke--,ke.negative=0,ke._ishlnsubmul(Ue,1,Ce),ke.isZero()||(ke.negative^=1);xe&&(xe.words[Ce]=Ke)}return xe&&xe._strip(),ke._strip(),Ie!=="div"&&Oe!==0&&ke.iushrn(Oe),{div:xe||null,mod:ke}},he.prototype.divmod=function($e,Ie,Oe){if(oe(!$e.isZero()),this.isZero())return{div:new he(0),mod:new he(0)};var ke,Ue,He;return this.negative!==0&&$e.negative===0?(He=this.neg().divmod($e,Ie),Ie!=="mod"&&(ke=He.div.neg()),Ie!=="div"&&(Ue=He.mod.neg(),Oe&&Ue.negative!==0&&Ue.iadd($e)),{div:ke,mod:Ue}):this.negative===0&&$e.negative!==0?(He=this.divmod($e.neg(),Ie),Ie!=="mod"&&(ke=He.div.neg()),{div:ke,mod:He.mod}):this.negative&$e.negative?(He=this.neg().divmod($e.neg(),Ie),Ie!=="div"&&(Ue=He.mod.neg(),Oe&&Ue.negative!==0&&Ue.isub($e)),{div:He.div,mod:Ue}):$e.length>this.length||this.cmp($e)<0?{div:new he(0),mod:this}:$e.length===1?Ie==="div"?{div:this.divn($e.words[0]),mod:null}:Ie==="mod"?{div:null,mod:new he(this.modrn($e.words[0]))}:{div:this.divn($e.words[0]),mod:new he(this.modrn($e.words[0]))}:this._wordDiv($e,Ie)},he.prototype.div=function($e){return this.divmod($e,"div",!1).div},he.prototype.mod=function($e){return this.divmod($e,"mod",!1).mod},he.prototype.umod=function($e){return this.divmod($e,"mod",!0).mod},he.prototype.divRound=function($e){var Ie=this.divmod($e);if(Ie.mod.isZero())return Ie.div;var Oe=Ie.div.negative!==0?Ie.mod.isub($e):Ie.mod,ke=$e.ushrn(1),Ue=$e.andln(1),He=Oe.cmp(ke);return He<0||Ue===1&&He===0?Ie.div:Ie.div.negative!==0?Ie.div.isubn(1):Ie.div.iaddn(1)},he.prototype.modrn=function($e){var Ie=$e<0;Ie&&($e=-$e),oe($e<=67108863);for(var Oe=(1<<26)%$e,ke=0,Ue=this.length-1;Ue>=0;Ue--)ke=(Oe*ke+(this.words[Ue]|0))%$e;return Ie?-ke:ke},he.prototype.modn=function($e){return this.modrn($e)},he.prototype.idivn=function($e){var Ie=$e<0;Ie&&($e=-$e),oe($e<=67108863);for(var Oe=0,ke=this.length-1;ke>=0;ke--){var Ue=(this.words[ke]|0)+Oe*67108864;this.words[ke]=Ue/$e|0,Oe=Ue%$e}return this._strip(),Ie?this.ineg():this},he.prototype.divn=function($e){return this.clone().idivn($e)},he.prototype.egcd=function($e){oe($e.negative===0),oe(!$e.isZero());var Ie=this,Oe=$e.clone();Ie.negative!==0?Ie=Ie.umod($e):Ie=Ie.clone();for(var ke=new he(1),Ue=new he(0),He=new he(0),Ge=new he(1),Fe=0;Ie.isEven()&&Oe.isEven();)Ie.iushrn(1),Oe.iushrn(1),++Fe;for(var xe=Oe.clone(),De=Ie.clone();!Ie.isZero();){for(var at=0,Ce=1;!(Ie.words[0]&Ce)&&at<26;++at,Ce<<=1);if(at>0)for(Ie.iushrn(at);at-- >0;)(ke.isOdd()||Ue.isOdd())&&(ke.iadd(xe),Ue.isub(De)),ke.iushrn(1),Ue.iushrn(1);for(var Ke=0,ze=1;!(Oe.words[0]&ze)&&Ke<26;++Ke,ze<<=1);if(Ke>0)for(Oe.iushrn(Ke);Ke-- >0;)(He.isOdd()||Ge.isOdd())&&(He.iadd(xe),Ge.isub(De)),He.iushrn(1),Ge.iushrn(1);Ie.cmp(Oe)>=0?(Ie.isub(Oe),ke.isub(He),Ue.isub(Ge)):(Oe.isub(Ie),He.isub(ke),Ge.isub(Ue))}return{a:He,b:Ge,gcd:Oe.iushln(Fe)}},he.prototype._invmp=function($e){oe($e.negative===0),oe(!$e.isZero());var Ie=this,Oe=$e.clone();Ie.negative!==0?Ie=Ie.umod($e):Ie=Ie.clone();for(var ke=new he(1),Ue=new he(0),He=Oe.clone();Ie.cmpn(1)>0&&Oe.cmpn(1)>0;){for(var Ge=0,Fe=1;!(Ie.words[0]&Fe)&&Ge<26;++Ge,Fe<<=1);if(Ge>0)for(Ie.iushrn(Ge);Ge-- >0;)ke.isOdd()&&ke.iadd(He),ke.iushrn(1);for(var xe=0,De=1;!(Oe.words[0]&De)&&xe<26;++xe,De<<=1);if(xe>0)for(Oe.iushrn(xe);xe-- >0;)Ue.isOdd()&&Ue.iadd(He),Ue.iushrn(1);Ie.cmp(Oe)>=0?(Ie.isub(Oe),ke.isub(Ue)):(Oe.isub(Ie),Ue.isub(ke))}var at;return Ie.cmpn(1)===0?at=ke:at=Ue,at.cmpn(0)<0&&at.iadd($e),at},he.prototype.gcd=function($e){if(this.isZero())return $e.abs();if($e.isZero())return this.abs();var Ie=this.clone(),Oe=$e.clone();Ie.negative=0,Oe.negative=0;for(var ke=0;Ie.isEven()&&Oe.isEven();ke++)Ie.iushrn(1),Oe.iushrn(1);do{for(;Ie.isEven();)Ie.iushrn(1);for(;Oe.isEven();)Oe.iushrn(1);var Ue=Ie.cmp(Oe);if(Ue<0){var He=Ie;Ie=Oe,Oe=He}else if(Ue===0||Oe.cmpn(1)===0)break;Ie.isub(Oe)}while(!0);return Oe.iushln(ke)},he.prototype.invm=function($e){return this.egcd($e).a.umod($e)},he.prototype.isEven=function(){return(this.words[0]&1)===0},he.prototype.isOdd=function(){return(this.words[0]&1)===1},he.prototype.andln=function($e){return this.words[0]&$e},he.prototype.bincn=function($e){oe(typeof $e=="number");var Ie=$e%26,Oe=($e-Ie)/26,ke=1<<Ie;if(this.length<=Oe)return this._expand(Oe+1),this.words[Oe]|=ke,this;for(var Ue=ke,He=Oe;Ue!==0&&He<this.length;He++){var Ge=this.words[He]|0;Ge+=Ue,Ue=Ge>>>26,Ge&=67108863,this.words[He]=Ge}return Ue!==0&&(this.words[He]=Ue,this.length++),this},he.prototype.isZero=function(){return this.length===1&&this.words[0]===0},he.prototype.cmpn=function($e){var Ie=$e<0;if(this.negative!==0&&!Ie)return-1;if(this.negative===0&&Ie)return 1;this._strip();var Oe;if(this.length>1)Oe=1;else{Ie&&($e=-$e),oe($e<=67108863,"Number is too big");var ke=this.words[0]|0;Oe=ke===$e?0:ke<$e?-1:1}return this.negative!==0?-Oe|0:Oe},he.prototype.cmp=function($e){if(this.negative!==0&&$e.negative===0)return-1;if(this.negative===0&&$e.negative!==0)return 1;var Ie=this.ucmp($e);return this.negative!==0?-Ie|0:Ie},he.prototype.ucmp=function($e){if(this.length>$e.length)return 1;if(this.length<$e.length)return-1;for(var Ie=0,Oe=this.length-1;Oe>=0;Oe--){var ke=this.words[Oe]|0,Ue=$e.words[Oe]|0;if(ke!==Ue){ke<Ue?Ie=-1:ke>Ue&&(Ie=1);break}}return Ie},he.prototype.gtn=function($e){return this.cmpn($e)===1},he.prototype.gt=function($e){return this.cmp($e)===1},he.prototype.gten=function($e){return this.cmpn($e)>=0},he.prototype.gte=function($e){return this.cmp($e)>=0},he.prototype.ltn=function($e){return this.cmpn($e)===-1},he.prototype.lt=function($e){return this.cmp($e)===-1},he.prototype.lten=function($e){return this.cmpn($e)<=0},he.prototype.lte=function($e){return this.cmp($e)<=0},he.prototype.eqn=function($e){return this.cmpn($e)===0},he.prototype.eq=function($e){return this.cmp($e)===0},he.red=function($e){return new st($e)},he.prototype.toRed=function($e){return oe(!this.red,"Already a number in reduction context"),oe(this.negative===0,"red works only with positives"),$e.convertTo(this)._forceRed($e)},he.prototype.fromRed=function(){return oe(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},he.prototype._forceRed=function($e){return this.red=$e,this},he.prototype.forceRed=function($e){return oe(!this.red,"Already a number in reduction context"),this._forceRed($e)},he.prototype.redAdd=function($e){return oe(this.red,"redAdd works only with red numbers"),this.red.add(this,$e)},he.prototype.redIAdd=function($e){return oe(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,$e)},he.prototype.redSub=function($e){return oe(this.red,"redSub works only with red numbers"),this.red.sub(this,$e)},he.prototype.redISub=function($e){return oe(this.red,"redISub works only with red numbers"),this.red.isub(this,$e)},he.prototype.redShl=function($e){return oe(this.red,"redShl works only with red numbers"),this.red.shl(this,$e)},he.prototype.redMul=function($e){return oe(this.red,"redMul works only with red numbers"),this.red._verify2(this,$e),this.red.mul(this,$e)},he.prototype.redIMul=function($e){return oe(this.red,"redMul works only with red numbers"),this.red._verify2(this,$e),this.red.imul(this,$e)},he.prototype.redSqr=function(){return oe(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},he.prototype.redISqr=function(){return oe(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},he.prototype.redSqrt=function(){return oe(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},he.prototype.redInvm=function(){return oe(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},he.prototype.redNeg=function(){return oe(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},he.prototype.redPow=function($e){return oe(this.red&&!$e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,$e)};var We={k256:null,p224:null,p192:null,p25519:null};function Qe(Ze,$e){this.name=Ze,this.p=new he($e,16),this.n=this.p.bitLength(),this.k=new he(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Qe.prototype._tmp=function(){var $e=new he(null);return $e.words=new Array(Math.ceil(this.n/13)),$e},Qe.prototype.ireduce=function($e){var Ie=$e,Oe;do this.split(Ie,this.tmp),Ie=this.imulK(Ie),Ie=Ie.iadd(this.tmp),Oe=Ie.bitLength();while(Oe>this.n);var ke=Oe<this.n?-1:Ie.ucmp(this.p);return ke===0?(Ie.words[0]=0,Ie.length=1):ke>0?Ie.isub(this.p):Ie.strip!==void 0?Ie.strip():Ie._strip(),Ie},Qe.prototype.split=function($e,Ie){$e.iushrn(this.n,0,Ie)},Qe.prototype.imulK=function($e){return $e.imul(this.k)};function Xe(){Qe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ae(Xe,Qe),Xe.prototype.split=function($e,Ie){for(var Oe=4194303,ke=Math.min($e.length,9),Ue=0;Ue<ke;Ue++)Ie.words[Ue]=$e.words[Ue];if(Ie.length=ke,$e.length<=9){$e.words[0]=0,$e.length=1;return}var He=$e.words[9];for(Ie.words[Ie.length++]=He&Oe,Ue=10;Ue<$e.length;Ue++){var Ge=$e.words[Ue]|0;$e.words[Ue-10]=(Ge&Oe)<<4|He>>>22,He=Ge}He>>>=22,$e.words[Ue-10]=He,He===0&&$e.length>10?$e.length-=10:$e.length-=9},Xe.prototype.imulK=function($e){$e.words[$e.length]=0,$e.words[$e.length+1]=0,$e.length+=2;for(var Ie=0,Oe=0;Oe<$e.length;Oe++){var ke=$e.words[Oe]|0;Ie+=ke*977,$e.words[Oe]=Ie&67108863,Ie=ke*64+(Ie/67108864|0)}return $e.words[$e.length-1]===0&&($e.length--,$e.words[$e.length-1]===0&&$e.length--),$e};function tt(){Qe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ae(tt,Qe);function lt(){Qe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ae(lt,Qe);function ct(){Qe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ae(ct,Qe),ct.prototype.imulK=function($e){for(var Ie=0,Oe=0;Oe<$e.length;Oe++){var ke=($e.words[Oe]|0)*19+Ie,Ue=ke&67108863;ke>>>=26,$e.words[Oe]=Ue,Ie=ke}return Ie!==0&&($e.words[$e.length++]=Ie),$e},he._prime=function($e){if(We[$e])return We[$e];var Ie;if($e==="k256")Ie=new Xe;else if($e==="p224")Ie=new tt;else if($e==="p192")Ie=new lt;else if($e==="p25519")Ie=new ct;else throw new Error("Unknown prime "+$e);return We[$e]=Ie,Ie};function st(Ze){if(typeof Ze=="string"){var $e=he._prime(Ze);this.m=$e.p,this.prime=$e}else oe(Ze.gtn(1),"modulus must be greater than 1"),this.m=Ze,this.prime=null}st.prototype._verify1=function($e){oe($e.negative===0,"red works only with positives"),oe($e.red,"red works only with red numbers")},st.prototype._verify2=function($e,Ie){oe(($e.negative|Ie.negative)===0,"red works only with positives"),oe($e.red&&$e.red===Ie.red,"red works only with red numbers")},st.prototype.imod=function($e){return this.prime?this.prime.ireduce($e)._forceRed(this):(Ee($e,$e.umod(this.m)._forceRed(this)),$e)},st.prototype.neg=function($e){return $e.isZero()?$e.clone():this.m.sub($e)._forceRed(this)},st.prototype.add=function($e,Ie){this._verify2($e,Ie);var Oe=$e.add(Ie);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe._forceRed(this)},st.prototype.iadd=function($e,Ie){this._verify2($e,Ie);var Oe=$e.iadd(Ie);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe},st.prototype.sub=function($e,Ie){this._verify2($e,Ie);var Oe=$e.sub(Ie);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe._forceRed(this)},st.prototype.isub=function($e,Ie){this._verify2($e,Ie);var Oe=$e.isub(Ie);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe},st.prototype.shl=function($e,Ie){return this._verify1($e),this.imod($e.ushln(Ie))},st.prototype.imul=function($e,Ie){return this._verify2($e,Ie),this.imod($e.imul(Ie))},st.prototype.mul=function($e,Ie){return this._verify2($e,Ie),this.imod($e.mul(Ie))},st.prototype.isqr=function($e){return this.imul($e,$e.clone())},st.prototype.sqr=function($e){return this.mul($e,$e)},st.prototype.sqrt=function($e){if($e.isZero())return $e.clone();var Ie=this.m.andln(3);if(oe(Ie%2===1),Ie===3){var Oe=this.m.add(new he(1)).iushrn(2);return this.pow($e,Oe)}for(var ke=this.m.subn(1),Ue=0;!ke.isZero()&&ke.andln(1)===0;)Ue++,ke.iushrn(1);oe(!ke.isZero());var He=new he(1).toRed(this),Ge=He.redNeg(),Fe=this.m.subn(1).iushrn(1),xe=this.m.bitLength();for(xe=new he(2*xe*xe).toRed(this);this.pow(xe,Fe).cmp(Ge)!==0;)xe.redIAdd(Ge);for(var De=this.pow(xe,ke),at=this.pow($e,ke.addn(1).iushrn(1)),Ce=this.pow($e,ke),Ke=Ue;Ce.cmp(He)!==0;){for(var ze=Ce,Ve=0;ze.cmp(He)!==0;Ve++)ze=ze.redSqr();oe(Ve<Ke);var Je=this.pow(De,new he(1).iushln(Ke-Ve-1));at=at.redMul(Je),De=Je.redSqr(),Ce=Ce.redMul(De),Ke=Ve}return at},st.prototype.invm=function($e){var Ie=$e._invmp(this.m);return Ie.negative!==0?(Ie.negative=0,this.imod(Ie).redNeg()):this.imod(Ie)},st.prototype.pow=function($e,Ie){if(Ie.isZero())return new he(1).toRed(this);if(Ie.cmpn(1)===0)return $e.clone();var Oe=4,ke=new Array(1<<Oe);ke[0]=new he(1).toRed(this),ke[1]=$e;for(var Ue=2;Ue<ke.length;Ue++)ke[Ue]=this.mul(ke[Ue-1],$e);var He=ke[0],Ge=0,Fe=0,xe=Ie.bitLength()%26;for(xe===0&&(xe=26),Ue=Ie.length-1;Ue>=0;Ue--){for(var De=Ie.words[Ue],at=xe-1;at>=0;at--){var Ce=De>>at&1;if(He!==ke[0]&&(He=this.sqr(He)),Ce===0&&Ge===0){Fe=0;continue}Ge<<=1,Ge|=Ce,Fe++,!(Fe!==Oe&&(Ue!==0||at!==0))&&(He=this.mul(He,ke[Ge]),Fe=0,Ge=0)}xe=26}return He},st.prototype.convertTo=function($e){var Ie=$e.umod(this.m);return Ie===$e?Ie.clone():Ie},st.prototype.convertFrom=function($e){var Ie=$e.clone();return Ie.red=null,Ie},he.mont=function($e){return new ht($e)};function ht(Ze){st.call(this,Ze),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new he(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae(ht,st),ht.prototype.convertTo=function($e){return this.imod($e.ushln(this.shift))},ht.prototype.convertFrom=function($e){var Ie=this.imod($e.mul(this.rinv));return Ie.red=null,Ie},ht.prototype.imul=function($e,Ie){if($e.isZero()||Ie.isZero())return $e.words[0]=0,$e.length=1,$e;var Oe=$e.imul(Ie),ke=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ue=Oe.isub(ke).iushrn(this.shift),He=Ue;return Ue.cmp(this.m)>=0?He=Ue.isub(this.m):Ue.cmpn(0)<0&&(He=Ue.iadd(this.m)),He._forceRed(this)},ht.prototype.mul=function($e,Ie){if($e.isZero()||Ie.isZero())return new he(0)._forceRed(this);var Oe=$e.mul(Ie),ke=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ue=Oe.isub(ke).iushrn(this.shift),He=Ue;return Ue.cmp(this.m)>=0?He=Ue.isub(this.m):Ue.cmpn(0)<0&&(He=Ue.iadd(this.m)),He._forceRed(this)},ht.prototype.invm=function($e){var Ie=this.imod($e._invmp(this.m).mul(this.r2));return Ie._forceRed(this)}})(re,commonjsGlobal)})(bn);const BN$1=bnExports,version$e="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const re=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{re.push(ee)}}),re.length)throw new Error("missing "+re.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(re){return re.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(re){re.DEBUG="DEBUG",re.INFO="INFO",re.WARNING="WARNING",re.ERROR="ERROR",re.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(re){re.UNKNOWN_ERROR="UNKNOWN_ERROR",re.NOT_IMPLEMENTED="NOT_IMPLEMENTED",re.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",re.NETWORK_ERROR="NETWORK_ERROR",re.SERVER_ERROR="SERVER_ERROR",re.TIMEOUT="TIMEOUT",re.BUFFER_OVERRUN="BUFFER_OVERRUN",re.NUMERIC_FAULT="NUMERIC_FAULT",re.MISSING_NEW="MISSING_NEW",re.INVALID_ARGUMENT="INVALID_ARGUMENT",re.MISSING_ARGUMENT="MISSING_ARGUMENT",re.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",re.CALL_EXCEPTION="CALL_EXCEPTION",re.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",re.NONCE_EXPIRED="NONCE_EXPIRED",re.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",re.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",re.TRANSACTION_REPLACED="TRANSACTION_REPLACED",re.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,ne){const oe=ee.toLowerCase();LogLevels[oe]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel>LogLevels[oe])&&console.log.apply(console,ne)}debug(...ee){this._log(Logger.levels.DEBUG,ee)}info(...ee){this._log(Logger.levels.INFO,ee)}warn(...ee){this._log(Logger.levels.WARNING,ee)}makeError(ee,ne,oe){if(_censorErrors)return this.makeError("censored error",ne,{});ne||(ne=Logger.errors.UNKNOWN_ERROR),oe||(oe={});const ae=[];Object.keys(oe).forEach(ve=>{const we=oe[ve];try{if(we instanceof Uint8Array){let Ee="";for(let _e=0;_e<we.length;_e++)Ee+=HEX[we[_e]>>4],Ee+=HEX[we[_e]&15];ae.push(ve+"=Uint8Array(0x"+Ee+")")}else ae.push(ve+"="+JSON.stringify(we))}catch{ae.push(ve+"="+JSON.stringify(oe[ve].toString()))}}),ae.push(`code=${ne}`),ae.push(`version=${this.version}`);const he=ee;let pe="";switch(ne){case ErrorCode.NUMERIC_FAULT:{pe="NUMERIC_FAULT";const ve=ee;switch(ve){case"overflow":case"underflow":case"division-by-zero":pe+="-"+ve;break;case"negative-power":case"negative-width":pe+="-unsupported";break;case"unbound-bitwise-result":pe+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:pe=ne;break}pe&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+pe+" ]"),ae.length&&(ee+=" ("+ae.join(", ")+")");const ge=new Error(ee);return ge.reason=he,ge.code=ne,Object.keys(oe).forEach(function(ve){ge[ve]=oe[ve]}),ge}throwError(ee,ne,oe){throw this.makeError(ee,ne,oe)}throwArgumentError(ee,ne,oe){return this.throwError(ee,Logger.errors.INVALID_ARGUMENT,{argument:ne,value:oe})}assert(ee,ne,oe,ae){ee||this.throwError(ne,oe,ae)}assertArgument(ee,ne,oe,ae){ee||this.throwArgumentError(ne,oe,ae)}checkNormalize(ee){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(ee,ne){typeof ee=="number"&&(ne==null&&(ne="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(ne,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(ne,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,ne,oe){oe?oe=": "+oe:oe="",ee<ne&&this.throwError("missing argument"+oe,Logger.errors.MISSING_ARGUMENT,{count:ee,expectedCount:ne}),ee>ne&&this.throwError("too many arguments"+oe,Logger.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:ne})}checkNew(ee,ne){(ee===Object||ee==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:ne.name})}checkAbstract(ee,ne){ee===ne?this.throwError("cannot instantiate abstract class "+JSON.stringify(ne.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:ne.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$e)),_globalLogger}static setCensorship(ee,ne){if(!ee&&ne&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!ee,_permanentCensorErrors=!!ne}static setLogLevel(ee){const ne=LogLevels[ee.toLowerCase()];if(ne==null){Logger.globalLogger().warn("invalid log level - "+ee);return}_logLevel=ne}static from(ee){return new Logger(ee)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$d="bytes/5.7.0",logger$e=new Logger(version$d);function isHexable(re){return!!re.toHexString}function addSlice(re){return re.slice||(re.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(re,ee)))}),re}function isBytesLike(re){return isHexString(re)&&!(re.length%2)||isBytes(re)}function isInteger(re){return typeof re=="number"&&re==re&&re%1===0}function isBytes(re){if(re==null)return!1;if(re.constructor===Uint8Array)return!0;if(typeof re=="string"||!isInteger(re.length)||re.length<0)return!1;for(let ee=0;ee<re.length;ee++){const ne=re[ee];if(!isInteger(ne)||ne<0||ne>=256)return!1}return!0}function arrayify(re,ee){if(ee||(ee={}),typeof re=="number"){logger$e.checkSafeUint53(re,"invalid arrayify value");const ne=[];for(;re;)ne.unshift(re&255),re=parseInt(String(re/256));return ne.length===0&&ne.push(0),addSlice(new Uint8Array(ne))}if(ee.allowMissingPrefix&&typeof re=="string"&&re.substring(0,2)!=="0x"&&(re="0x"+re),isHexable(re)&&(re=re.toHexString()),isHexString(re)){let ne=re.substring(2);ne.length%2&&(ee.hexPad==="left"?ne="0"+ne:ee.hexPad==="right"?ne+="0":logger$e.throwArgumentError("hex data is odd-length","value",re));const oe=[];for(let ae=0;ae<ne.length;ae+=2)oe.push(parseInt(ne.substring(ae,ae+2),16));return addSlice(new Uint8Array(oe))}return isBytes(re)?addSlice(new Uint8Array(re)):logger$e.throwArgumentError("invalid arrayify value","value",re)}function concat$2(re){const ee=re.map(ae=>arrayify(ae)),ne=ee.reduce((ae,he)=>ae+he.length,0),oe=new Uint8Array(ne);return ee.reduce((ae,he)=>(oe.set(he,ae),ae+he.length),0),addSlice(oe)}function stripZeros(re){let ee=arrayify(re);if(ee.length===0)return ee;let ne=0;for(;ne<ee.length&&ee[ne]===0;)ne++;return ne&&(ee=ee.slice(ne)),ee}function isHexString(re,ee){return!(typeof re!="string"||!re.match(/^0x[0-9A-Fa-f]*$/)||ee&&re.length!==2+2*ee)}const HexCharacters="0123456789abcdef";function hexlify(re,ee){if(ee||(ee={}),typeof re=="number"){logger$e.checkSafeUint53(re,"invalid hexlify value");let ne="";for(;re;)ne=HexCharacters[re&15]+ne,re=Math.floor(re/16);return ne.length?(ne.length%2&&(ne="0"+ne),"0x"+ne):"0x00"}if(typeof re=="bigint")return re=re.toString(16),re.length%2?"0x0"+re:"0x"+re;if(ee.allowMissingPrefix&&typeof re=="string"&&re.substring(0,2)!=="0x"&&(re="0x"+re),isHexable(re))return re.toHexString();if(isHexString(re))return re.length%2&&(ee.hexPad==="left"?re="0x0"+re.substring(2):ee.hexPad==="right"?re+="0":logger$e.throwArgumentError("hex data is odd-length","value",re)),re.toLowerCase();if(isBytes(re)){let ne="0x";for(let oe=0;oe<re.length;oe++){let ae=re[oe];ne+=HexCharacters[(ae&240)>>4]+HexCharacters[ae&15]}return ne}return logger$e.throwArgumentError("invalid hexlify value","value",re)}function hexDataLength(re){if(typeof re!="string")re=hexlify(re);else if(!isHexString(re)||re.length%2)return null;return(re.length-2)/2}function hexDataSlice(re,ee,ne){return typeof re!="string"?re=hexlify(re):(!isHexString(re)||re.length%2)&&logger$e.throwArgumentError("invalid hexData","value",re),ee=2+2*ee,ne!=null?"0x"+re.substring(ee,2+2*ne):"0x"+re.substring(ee)}function hexConcat(re){let ee="0x";return re.forEach(ne=>{ee+=hexlify(ne).substring(2)}),ee}function hexZeroPad(re,ee){for(typeof re!="string"?re=hexlify(re):isHexString(re)||logger$e.throwArgumentError("invalid hex string","value",re),re.length>2*ee+2&&logger$e.throwArgumentError("value out of range","value",arguments[1]);re.length<2*ee+2;)re="0x0"+re.substring(2);return re}const version$c="bignumber/5.7.0";var BN=BN$1.BN;const logger$d=new Logger(version$c),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(ee,ne){ee!==_constructorGuard$1&&logger$d.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=ne,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber(toBN(this).fromTwos(ee))}toTwos(ee){return toBigNumber(toBN(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(ee){return toBigNumber(toBN(this).add(toBN(ee)))}sub(ee){return toBigNumber(toBN(this).sub(toBN(ee)))}div(ee){return BigNumber.from(ee).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(ee)))}mul(ee){return toBigNumber(toBN(this).mul(toBN(ee)))}mod(ee){const ne=toBN(ee);return ne.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(ne))}pow(ee){const ne=toBN(ee);return ne.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(ne))}and(ee){const ne=toBN(ee);return(this.isNegative()||ne.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(ne))}or(ee){const ne=toBN(ee);return(this.isNegative()||ne.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(ne))}xor(ee){const ne=toBN(ee);return(this.isNegative()||ne.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(ne))}mask(ee){return(this.isNegative()||ee<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(ee))}eq(ee){return toBN(this).eq(toBN(ee))}lt(ee){return toBN(this).lt(toBN(ee))}lte(ee){return toBN(this).lte(toBN(ee))}gt(ee){return toBN(this).gt(toBN(ee))}gte(ee){return toBN(this).gte(toBN(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$d.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$d.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$d.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$d.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex$2(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex$2(new BN(ee))):logger$d.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault("underflow","BigNumber.from",ee),(ee>=MAX_SAFE||ee<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",ee),BigNumber.from(String(ee));const ne=ee;if(typeof ne=="bigint")return BigNumber.from(ne.toString());if(isBytes(ne))return BigNumber.from(hexlify(ne));if(ne)if(ne.toHexString){const oe=ne.toHexString();if(typeof oe=="string")return BigNumber.from(oe)}else{let oe=ne._hex;if(oe==null&&ne.type==="BigNumber"&&(oe=ne.hex),typeof oe=="string"&&(isHexString(oe)||oe[0]==="-"&&isHexString(oe.substring(1))))return BigNumber.from(oe)}return logger$d.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$2(re){if(typeof re!="string")return toHex$2(re.toString(16));if(re[0]==="-")return re=re.substring(1),re[0]==="-"&&logger$d.throwArgumentError("invalid hex","value",re),re=toHex$2(re),re==="0x00"?re:"-"+re;if(re.substring(0,2)!=="0x"&&(re="0x"+re),re==="0x")return"0x00";for(re.length%2&&(re="0x0"+re.substring(2));re.length>4&&re.substring(0,4)==="0x00";)re="0x"+re.substring(4);return re}function toBigNumber(re){return BigNumber.from(toHex$2(re))}function toBN(re){const ee=BigNumber.from(re).toHexString();return ee[0]==="-"?new BN("-"+ee.substring(3),16):new BN(ee.substring(2),16)}function throwFault(re,ee,ne){const oe={fault:re,operation:ee};return ne!=null&&(oe.value=ne),logger$d.throwError(re,Logger.errors.NUMERIC_FAULT,oe)}function _base36To16(re){return new BN(re,36).toString(16)}const version$b="properties/5.7.0";var __awaiter$3=globalThis&&globalThis.__awaiter||function(re,ee,ne,oe){function ae(he){return he instanceof ne?he:new ne(function(pe){pe(he)})}return new(ne||(ne=Promise))(function(he,pe){function ge(Ee){try{we(oe.next(Ee))}catch(_e){pe(_e)}}function ve(Ee){try{we(oe.throw(Ee))}catch(_e){pe(_e)}}function we(Ee){Ee.done?he(Ee.value):ae(Ee.value).then(ge,ve)}we((oe=oe.apply(re,ee||[])).next())})};const logger$c=new Logger(version$b);function defineReadOnly(re,ee,ne){Object.defineProperty(re,ee,{enumerable:!0,value:ne,writable:!1})}function getStatic(re,ee){for(let ne=0;ne<32;ne++){if(re[ee])return re[ee];if(!re.prototype||typeof re.prototype!="object")break;re=Object.getPrototypeOf(re.prototype).constructor}return null}function resolveProperties(re){return __awaiter$3(this,void 0,void 0,function*(){const ee=Object.keys(re).map(oe=>{const ae=re[oe];return Promise.resolve(ae).then(he=>({key:oe,value:he}))});return(yield Promise.all(ee)).reduce((oe,ae)=>(oe[ae.key]=ae.value,oe),{})})}function shallowCopy(re){const ee={};for(const ne in re)ee[ne]=re[ne];return ee}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(re){if(re==null||opaque[typeof re])return!0;if(Array.isArray(re)||typeof re=="object"){if(!Object.isFrozen(re))return!1;const ee=Object.keys(re);for(let ne=0;ne<ee.length;ne++){let oe=null;try{oe=re[ee[ne]]}catch{continue}if(!_isFrozen(oe))return!1}return!0}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof re}`,"object",re)}function _deepCopy(re){if(_isFrozen(re))return re;if(Array.isArray(re))return Object.freeze(re.map(ee=>deepCopy(ee)));if(typeof re=="object"){const ee={};for(const ne in re){const oe=re[ne];oe!==void 0&&defineReadOnly(ee,ne,deepCopy(oe))}return ee}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof re}`,"object",re)}function deepCopy(re){return _deepCopy(re)}class Description{constructor(ee){for(const ne in ee)this[ne]=deepCopy(ee[ne])}}const version$a="abi/5.7.0",logger$b=new Logger(version$a),_constructorGuard={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(re,ee){if(re==="bytes"||re==="string"){if(ModifiersBytes[ee])return!0}else if(re==="address"){if(ee==="payable")return!0}else if((re.indexOf("[")>=0||re==="tuple")&&ModifiersNest[ee])return!0;return(ModifiersBytes[ee]||ee==="payable")&&logger$b.throwArgumentError("invalid modifier","name",ee),!1}function parseParamType(re,ee){let ne=re;function oe(ge){logger$b.throwArgumentError(`unexpected character at position ${ge}`,"param",re)}re=re.replace(/\s/g," ");function ae(ge){let ve={type:"",name:"",parent:ge,state:{allowType:!0}};return ee&&(ve.indexed=!1),ve}let he={type:"",name:"",state:{allowType:!0}},pe=he;for(let ge=0;ge<re.length;ge++){let ve=re[ge];switch(ve){case"(":pe.state.allowType&&pe.type===""?pe.type="tuple":pe.state.allowParams||oe(ge),pe.state.allowType=!1,pe.type=verifyType(pe.type),pe.components=[ae(pe)],pe=pe.components[0];break;case")":delete pe.state,pe.name==="indexed"&&(ee||oe(ge),pe.indexed=!0,pe.name=""),checkModifier(pe.type,pe.name)&&(pe.name=""),pe.type=verifyType(pe.type);let we=pe;pe=pe.parent,pe||oe(ge),delete we.parent,pe.state.allowParams=!1,pe.state.allowName=!0,pe.state.allowArray=!0;break;case",":delete pe.state,pe.name==="indexed"&&(ee||oe(ge),pe.indexed=!0,pe.name=""),checkModifier(pe.type,pe.name)&&(pe.name=""),pe.type=verifyType(pe.type);let Ee=ae(pe.parent);pe.parent.components.push(Ee),delete pe.parent,pe=Ee;break;case" ":pe.state.allowType&&pe.type!==""&&(pe.type=verifyType(pe.type),delete pe.state.allowType,pe.state.allowName=!0,pe.state.allowParams=!0),pe.state.allowName&&pe.name!==""&&(pe.name==="indexed"?(ee||oe(ge),pe.indexed&&oe(ge),pe.indexed=!0,pe.name=""):checkModifier(pe.type,pe.name)?pe.name="":pe.state.allowName=!1);break;case"[":pe.state.allowArray||oe(ge),pe.type+=ve,pe.state.allowArray=!1,pe.state.allowName=!1,pe.state.readArray=!0;break;case"]":pe.state.readArray||oe(ge),pe.type+=ve,pe.state.readArray=!1,pe.state.allowArray=!0,pe.state.allowName=!0;break;default:pe.state.allowType?(pe.type+=ve,pe.state.allowParams=!0,pe.state.allowArray=!0):pe.state.allowName?(pe.name+=ve,delete pe.state.allowArray):pe.state.readArray?pe.type+=ve:oe(ge)}}return pe.parent&&logger$b.throwArgumentError("unexpected eof","param",re),delete he.state,pe.name==="indexed"?(ee||oe(ne.length-7),pe.indexed&&oe(ne.length-7),pe.indexed=!0,pe.name=""):checkModifier(pe.type,pe.name)&&(pe.name=""),he.type=verifyType(he.type),he}function populate(re,ee){for(let ne in ee)defineReadOnly(re,ne,ee[ne])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(ee,ne){ee!==_constructorGuard&&logger$b.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,ne);let oe=this.type.match(paramTypeArray);oe?populate(this,{arrayLength:parseInt(oe[2]||"-1"),arrayChildren:ParamType.fromObject({type:oe[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$b.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json){let oe={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(oe.indexed=this.indexed),this.components&&(oe.components=this.components.map(ae=>JSON.parse(ae.format(ee)))),JSON.stringify(oe)}let ne="";return this.baseType==="array"?(ne+=this.arrayChildren.format(ee),ne+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(ee!==FormatTypes.sighash&&(ne+=this.type),ne+="("+this.components.map(oe=>oe.format(ee)).join(ee===FormatTypes.full?", ":",")+")"):ne+=this.type,ee!==FormatTypes.sighash&&(this.indexed===!0&&(ne+=" indexed"),ee===FormatTypes.full&&this.name&&(ne+=" "+this.name)),ne}static from(ee,ne){return typeof ee=="string"?ParamType.fromString(ee,ne):ParamType.fromObject(ee)}static fromObject(ee){return ParamType.isParamType(ee)?ee:new ParamType(_constructorGuard,{name:ee.name||null,type:verifyType(ee.type),indexed:ee.indexed==null?null:!!ee.indexed,components:ee.components?ee.components.map(ParamType.fromObject):null})}static fromString(ee,ne){function oe(ae){return ParamType.fromObject({name:ae.name,type:ae.type,indexed:ae.indexed,components:ae.components})}return oe(parseParamType(ee,!!ne))}static isParamType(ee){return!!(ee!=null&&ee._isParamType)}}function parseParams(re,ee){return splitNesting(re).map(ne=>ParamType.fromString(ne,ee))}class Fragment{constructor(ee,ne){ee!==_constructorGuard&&logger$b.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,ne),this._isFragment=!0,Object.freeze(this)}static from(ee){return Fragment.isFragment(ee)?ee:typeof ee=="string"?Fragment.fromString(ee):Fragment.fromObject(ee)}static fromObject(ee){if(Fragment.isFragment(ee))return ee;switch(ee.type){case"function":return FunctionFragment.fromObject(ee);case"event":return EventFragment.fromObject(ee);case"constructor":return ConstructorFragment.fromObject(ee);case"error":return ErrorFragment.fromObject(ee);case"fallback":case"receive":return null}return logger$b.throwArgumentError("invalid fragment object","value",ee)}static fromString(ee){return ee=ee.replace(/\s/g," "),ee=ee.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),ee=ee.trim(),ee.split(" ")[0]==="event"?EventFragment.fromString(ee.substring(5).trim()):ee.split(" ")[0]==="function"?FunctionFragment.fromString(ee.substring(8).trim()):ee.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(ee.trim()):ee.split(" ")[0]==="error"?ErrorFragment.fromString(ee.substring(5).trim()):logger$b.throwArgumentError("unsupported fragment","value",ee)}static isFragment(ee){return!!(ee&&ee._isFragment)}}class EventFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$b.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(oe=>JSON.parse(oe.format(ee)))});let ne="";return ee!==FormatTypes.sighash&&(ne+="event "),ne+=this.name+"("+this.inputs.map(oe=>oe.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&this.anonymous&&(ne+="anonymous "),ne.trim()}static from(ee){return typeof ee=="string"?EventFragment.fromString(ee):EventFragment.fromObject(ee)}static fromObject(ee){if(EventFragment.isEventFragment(ee))return ee;ee.type!=="event"&&logger$b.throwArgumentError("invalid event object","value",ee);const ne={name:verifyIdentifier(ee.name),anonymous:ee.anonymous,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard,ne)}static fromString(ee){let ne=ee.match(regexParen);ne||logger$b.throwArgumentError("invalid event string","value",ee);let oe=!1;return ne[3].split(" ").forEach(ae=>{switch(ae.trim()){case"anonymous":oe=!0;break;case"":break;default:logger$b.warn("unknown modifier: "+ae)}}),EventFragment.fromObject({name:ne[1].trim(),anonymous:oe,inputs:parseParams(ne[2],!0),type:"event"})}static isEventFragment(ee){return ee&&ee._isFragment&&ee.type==="event"}}function parseGas(re,ee){ee.gas=null;let ne=re.split("@");return ne.length!==1?(ne.length>2&&logger$b.throwArgumentError("invalid human-readable ABI signature","value",re),ne[1].match(/^[0-9]+$/)||logger$b.throwArgumentError("invalid human-readable ABI signature gas","value",re),ee.gas=BigNumber.from(ne[1]),ne[0]):re}function parseModifiers(re,ee){ee.constant=!1,ee.payable=!1,ee.stateMutability="nonpayable",re.split(" ").forEach(ne=>{switch(ne.trim()){case"constant":ee.constant=!0;break;case"payable":ee.payable=!0,ee.stateMutability="payable";break;case"nonpayable":ee.payable=!1,ee.stateMutability="nonpayable";break;case"pure":ee.constant=!0,ee.stateMutability="pure";break;case"view":ee.constant=!0,ee.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+ne)}})}function verifyState(re){let ee={constant:!1,payable:!0,stateMutability:"payable"};return re.stateMutability!=null?(ee.stateMutability=re.stateMutability,ee.constant=ee.stateMutability==="view"||ee.stateMutability==="pure",re.constant!=null&&!!re.constant!==ee.constant&&logger$b.throwArgumentError("cannot have constant function with mutability "+ee.stateMutability,"value",re),ee.payable=ee.stateMutability==="payable",re.payable!=null&&!!re.payable!==ee.payable&&logger$b.throwArgumentError("cannot have payable function with mutability "+ee.stateMutability,"value",re)):re.payable!=null?(ee.payable=!!re.payable,re.constant==null&&!ee.payable&&re.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",re),ee.constant=!!re.constant,ee.constant?ee.stateMutability="view":ee.stateMutability=ee.payable?"payable":"nonpayable",ee.payable&&ee.constant&&logger$b.throwArgumentError("cannot have constant payable function","value",re)):re.constant!=null?(ee.constant=!!re.constant,ee.payable=!ee.constant,ee.stateMutability=ee.constant?"view":"payable"):re.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",re),ee}class ConstructorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$b.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(oe=>JSON.parse(oe.format(ee)))});ee===FormatTypes.sighash&&logger$b.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let ne="constructor("+this.inputs.map(oe=>oe.format(ee)).join(ee===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(ne+=this.stateMutability+" "),ne.trim()}static from(ee){return typeof ee=="string"?ConstructorFragment.fromString(ee):ConstructorFragment.fromObject(ee)}static fromObject(ee){if(ConstructorFragment.isConstructorFragment(ee))return ee;ee.type!=="constructor"&&logger$b.throwArgumentError("invalid constructor object","value",ee);let ne=verifyState(ee);ne.constant&&logger$b.throwArgumentError("constructor cannot be constant","value",ee);const oe={name:null,type:ee.type,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],payable:ne.payable,stateMutability:ne.stateMutability,gas:ee.gas?BigNumber.from(ee.gas):null};return new ConstructorFragment(_constructorGuard,oe)}static fromString(ee){let ne={type:"constructor"};ee=parseGas(ee,ne);let oe=ee.match(regexParen);return(!oe||oe[1].trim()!=="constructor")&&logger$b.throwArgumentError("invalid constructor string","value",ee),ne.inputs=parseParams(oe[2].trim(),!1),parseModifiers(oe[3].trim(),ne),ConstructorFragment.fromObject(ne)}static isConstructorFragment(ee){return ee&&ee._isFragment&&ee.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$b.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(oe=>JSON.parse(oe.format(ee))),outputs:this.outputs.map(oe=>JSON.parse(oe.format(ee)))});let ne="";return ee!==FormatTypes.sighash&&(ne+="function "),ne+=this.name+"("+this.inputs.map(oe=>oe.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(ne+=this.stateMutability+" "):this.constant&&(ne+="view "),this.outputs&&this.outputs.length&&(ne+="returns ("+this.outputs.map(oe=>oe.format(ee)).join(", ")+") "),this.gas!=null&&(ne+="@"+this.gas.toString()+" ")),ne.trim()}static from(ee){return typeof ee=="string"?FunctionFragment.fromString(ee):FunctionFragment.fromObject(ee)}static fromObject(ee){if(FunctionFragment.isFunctionFragment(ee))return ee;ee.type!=="function"&&logger$b.throwArgumentError("invalid function object","value",ee);let ne=verifyState(ee);const oe={type:ee.type,name:verifyIdentifier(ee.name),constant:ne.constant,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],outputs:ee.outputs?ee.outputs.map(ParamType.fromObject):[],payable:ne.payable,stateMutability:ne.stateMutability,gas:ee.gas?BigNumber.from(ee.gas):null};return new FunctionFragment(_constructorGuard,oe)}static fromString(ee){let ne={type:"function"};ee=parseGas(ee,ne);let oe=ee.split(" returns ");oe.length>2&&logger$b.throwArgumentError("invalid function string","value",ee);let ae=oe[0].match(regexParen);if(ae||logger$b.throwArgumentError("invalid function signature","value",ee),ne.name=ae[1].trim(),ne.name&&verifyIdentifier(ne.name),ne.inputs=parseParams(ae[2],!1),parseModifiers(ae[3].trim(),ne),oe.length>1){let he=oe[1].match(regexParen);(he[1].trim()!=""||he[3].trim()!="")&&logger$b.throwArgumentError("unexpected tokens","value",ee),ne.outputs=parseParams(he[2],!1)}else ne.outputs=[];return FunctionFragment.fromObject(ne)}static isFunctionFragment(ee){return ee&&ee._isFragment&&ee.type==="function"}}function checkForbidden(re){const ee=re.format();return(ee==="Error(string)"||ee==="Panic(uint256)")&&logger$b.throwArgumentError(`cannot specify user defined ${ee} error`,"fragment",re),re}class ErrorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$b.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(oe=>JSON.parse(oe.format(ee)))});let ne="";return ee!==FormatTypes.sighash&&(ne+="error "),ne+=this.name+"("+this.inputs.map(oe=>oe.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ne.trim()}static from(ee){return typeof ee=="string"?ErrorFragment.fromString(ee):ErrorFragment.fromObject(ee)}static fromObject(ee){if(ErrorFragment.isErrorFragment(ee))return ee;ee.type!=="error"&&logger$b.throwArgumentError("invalid error object","value",ee);const ne={type:ee.type,name:verifyIdentifier(ee.name),inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard,ne))}static fromString(ee){let ne={type:"error"},oe=ee.match(regexParen);return oe||logger$b.throwArgumentError("invalid error signature","value",ee),ne.name=oe[1].trim(),ne.name&&verifyIdentifier(ne.name),ne.inputs=parseParams(oe[2],!1),checkForbidden(ErrorFragment.fromObject(ne))}static isErrorFragment(ee){return ee&&ee._isFragment&&ee.type==="error"}}function verifyType(re){return re.match(/^uint($|[^1-9])/)?re="uint256"+re.substring(4):re.match(/^int($|[^1-9])/)&&(re="int256"+re.substring(3)),re}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(re){return(!re||!re.match(regexIdentifier))&&logger$b.throwArgumentError(`invalid identifier "${re}"`,"value",re),re}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(re){re=re.trim();let ee=[],ne="",oe=0;for(let ae=0;ae<re.length;ae++){let he=re[ae];he===","&&oe===0?(ee.push(ne),ne=""):(ne+=he,he==="("?oe++:he===")"&&(oe--,oe===-1&&logger$b.throwArgumentError("unbalanced parenthesis","value",re)))}return ne&&ee.push(ne),ee}const logger$a=new Logger(version$a);function checkResultErrors(re){const ee=[],ne=function(oe,ae){if(Array.isArray(ae))for(let he in ae){const pe=oe.slice();pe.push(he);try{ne(pe,ae[he])}catch(ge){ee.push({path:pe,error:ge})}}};return ne([],re),ee}class Coder{constructor(ee,ne,oe,ae){this.name=ee,this.type=ne,this.localName=oe,this.dynamic=ae}_throwError(ee,ne){logger$a.throwArgumentError(ee,this.localName,ne)}}let Writer$2=class{constructor(ee){defineReadOnly(this,"wordSize",ee||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(ee)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(ee){return this._data.push(ee),this._dataLength+=ee.length,ee.length}appendWriter(ee){return this._writeData(concat$2(ee._data))}writeBytes(ee){let ne=arrayify(ee);const oe=ne.length%this.wordSize;return oe&&(ne=concat$2([ne,this._padding.slice(oe)])),this._writeData(ne)}_getValue(ee){let ne=arrayify(BigNumber.from(ee));return ne.length>this.wordSize&&logger$a.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:ne.length}),ne.length%this.wordSize&&(ne=concat$2([this._padding.slice(ne.length%this.wordSize),ne])),ne}writeValue(ee){return this._writeData(this._getValue(ee))}writeUpdatableValue(){const ee=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,ne=>{this._data[ee]=this._getValue(ne)}}},Reader$2=class Mr{constructor(ee,ne,oe,ae){defineReadOnly(this,"_data",arrayify(ee)),defineReadOnly(this,"wordSize",ne||32),defineReadOnly(this,"_coerceFunc",oe),defineReadOnly(this,"allowLoose",ae),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(ee,ne){let oe=ee.match("^u?int([0-9]+)$");return oe&&parseInt(oe[1])<=48&&(ne=ne.toNumber()),ne}coerce(ee,ne){return this._coerceFunc?this._coerceFunc(ee,ne):Mr.coerce(ee,ne)}_peekBytes(ee,ne,oe){let ae=Math.ceil(ne/this.wordSize)*this.wordSize;return this._offset+ae>this._data.length&&(this.allowLoose&&oe&&this._offset+ne<=this._data.length?ae=ne:logger$a.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+ae})),this._data.slice(this._offset,this._offset+ae)}subReader(ee){return new Mr(this._data.slice(this._offset+ee),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(ee,ne){let oe=this._peekBytes(0,ee,!!ne);return this._offset+=oe.length,oe.slice(0,ee)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}};var sha3Exports={},sha3$1={get exports(){return sha3Exports},set exports(re){sha3Exports=re}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(re){(function(){var ee="input is invalid type",ne="finalize already called",oe=typeof window=="object",ae=oe?window:{};ae.JS_SHA3_NO_WINDOW&&(oe=!1);var he=!oe&&typeof self=="object",pe=!ae.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;pe?ae=commonjsGlobal:he&&(ae=self);var ge=!ae.JS_SHA3_NO_COMMON_JS&&!0&&re.exports,ve=!ae.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",we="0123456789abcdef".split(""),Ee=[31,7936,2031616,520093696],_e=[4,1024,262144,67108864],Te=[1,256,65536,16777216],Pe=[6,1536,393216,100663296],Ae=[0,8,16,24],Se=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Re=[224,256,384,512],Ne=[128,256],Me=["hex","buffer","arrayBuffer","array","digest"],Le={128:168,256:136};(ae.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Ce){return Object.prototype.toString.call(Ce)==="[object Array]"}),ve&&(ae.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Ce){return typeof Ce=="object"&&Ce.buffer&&Ce.buffer.constructor===ArrayBuffer});for(var qe=function(Ce,Ke,ze){return function(Ve){return new xe(Ce,Ke,Ce).update(Ve)[ze]()}},We=function(Ce,Ke,ze){return function(Ve,Je){return new xe(Ce,Ke,Je).update(Ve)[ze]()}},Qe=function(Ce,Ke,ze){return function(Ve,Je,ot,rt){return $e["cshake"+Ce].update(Ve,Je,ot,rt)[ze]()}},Xe=function(Ce,Ke,ze){return function(Ve,Je,ot,rt){return $e["kmac"+Ce].update(Ve,Je,ot,rt)[ze]()}},tt=function(Ce,Ke,ze,Ve){for(var Je=0;Je<Me.length;++Je){var ot=Me[Je];Ce[ot]=Ke(ze,Ve,ot)}return Ce},lt=function(Ce,Ke){var ze=qe(Ce,Ke,"hex");return ze.create=function(){return new xe(Ce,Ke,Ce)},ze.update=function(Ve){return ze.create().update(Ve)},tt(ze,qe,Ce,Ke)},ct=function(Ce,Ke){var ze=We(Ce,Ke,"hex");return ze.create=function(Ve){return new xe(Ce,Ke,Ve)},ze.update=function(Ve,Je){return ze.create(Je).update(Ve)},tt(ze,We,Ce,Ke)},st=function(Ce,Ke){var ze=Le[Ce],Ve=Qe(Ce,Ke,"hex");return Ve.create=function(Je,ot,rt){return!ot&&!rt?$e["shake"+Ce].create(Je):new xe(Ce,Ke,Je).bytepad([ot,rt],ze)},Ve.update=function(Je,ot,rt,et){return Ve.create(ot,rt,et).update(Je)},tt(Ve,Qe,Ce,Ke)},ht=function(Ce,Ke){var ze=Le[Ce],Ve=Xe(Ce,Ke,"hex");return Ve.create=function(Je,ot,rt){return new De(Ce,Ke,ot).bytepad(["KMAC",rt],ze).bytepad([Je],ze)},Ve.update=function(Je,ot,rt,et){return Ve.create(Je,rt,et).update(ot)},tt(Ve,Xe,Ce,Ke)},Ze=[{name:"keccak",padding:Te,bits:Re,createMethod:lt},{name:"sha3",padding:Pe,bits:Re,createMethod:lt},{name:"shake",padding:Ee,bits:Ne,createMethod:ct},{name:"cshake",padding:_e,bits:Ne,createMethod:st},{name:"kmac",padding:_e,bits:Ne,createMethod:ht}],$e={},Ie=[],Oe=0;Oe<Ze.length;++Oe)for(var ke=Ze[Oe],Ue=ke.bits,He=0;He<Ue.length;++He){var Ge=ke.name+"_"+Ue[He];if(Ie.push(Ge),$e[Ge]=ke.createMethod(Ue[He],ke.padding),ke.name!=="sha3"){var Fe=ke.name+Ue[He];Ie.push(Fe),$e[Fe]=$e[Ge]}}function xe(Ce,Ke,ze){this.blocks=[],this.s=[],this.padding=Ke,this.outputBits=ze,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Ce<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ze>>5,this.extraBytes=(ze&31)>>3;for(var Ve=0;Ve<50;++Ve)this.s[Ve]=0}xe.prototype.update=function(Ce){if(this.finalized)throw new Error(ne);var Ke,ze=typeof Ce;if(ze!=="string"){if(ze==="object"){if(Ce===null)throw new Error(ee);if(ve&&Ce.constructor===ArrayBuffer)Ce=new Uint8Array(Ce);else if(!Array.isArray(Ce)&&(!ve||!ArrayBuffer.isView(Ce)))throw new Error(ee)}else throw new Error(ee);Ke=!0}for(var Ve=this.blocks,Je=this.byteCount,ot=Ce.length,rt=this.blockCount,et=0,pt=this.s,it,dt;et<ot;){if(this.reset)for(this.reset=!1,Ve[0]=this.block,it=1;it<rt+1;++it)Ve[it]=0;if(Ke)for(it=this.start;et<ot&&it<Je;++et)Ve[it>>2]|=Ce[et]<<Ae[it++&3];else for(it=this.start;et<ot&&it<Je;++et)dt=Ce.charCodeAt(et),dt<128?Ve[it>>2]|=dt<<Ae[it++&3]:dt<2048?(Ve[it>>2]|=(192|dt>>6)<<Ae[it++&3],Ve[it>>2]|=(128|dt&63)<<Ae[it++&3]):dt<55296||dt>=57344?(Ve[it>>2]|=(224|dt>>12)<<Ae[it++&3],Ve[it>>2]|=(128|dt>>6&63)<<Ae[it++&3],Ve[it>>2]|=(128|dt&63)<<Ae[it++&3]):(dt=65536+((dt&1023)<<10|Ce.charCodeAt(++et)&1023),Ve[it>>2]|=(240|dt>>18)<<Ae[it++&3],Ve[it>>2]|=(128|dt>>12&63)<<Ae[it++&3],Ve[it>>2]|=(128|dt>>6&63)<<Ae[it++&3],Ve[it>>2]|=(128|dt&63)<<Ae[it++&3]);if(this.lastByteIndex=it,it>=Je){for(this.start=it-Je,this.block=Ve[rt],it=0;it<rt;++it)pt[it]^=Ve[it];at(pt),this.reset=!0}else this.start=it}return this},xe.prototype.encode=function(Ce,Ke){var ze=Ce&255,Ve=1,Je=[ze];for(Ce=Ce>>8,ze=Ce&255;ze>0;)Je.unshift(ze),Ce=Ce>>8,ze=Ce&255,++Ve;return Ke?Je.push(Ve):Je.unshift(Ve),this.update(Je),Je.length},xe.prototype.encodeString=function(Ce){var Ke,ze=typeof Ce;if(ze!=="string"){if(ze==="object"){if(Ce===null)throw new Error(ee);if(ve&&Ce.constructor===ArrayBuffer)Ce=new Uint8Array(Ce);else if(!Array.isArray(Ce)&&(!ve||!ArrayBuffer.isView(Ce)))throw new Error(ee)}else throw new Error(ee);Ke=!0}var Ve=0,Je=Ce.length;if(Ke)Ve=Je;else for(var ot=0;ot<Ce.length;++ot){var rt=Ce.charCodeAt(ot);rt<128?Ve+=1:rt<2048?Ve+=2:rt<55296||rt>=57344?Ve+=3:(rt=65536+((rt&1023)<<10|Ce.charCodeAt(++ot)&1023),Ve+=4)}return Ve+=this.encode(Ve*8),this.update(Ce),Ve},xe.prototype.bytepad=function(Ce,Ke){for(var ze=this.encode(Ke),Ve=0;Ve<Ce.length;++Ve)ze+=this.encodeString(Ce[Ve]);var Je=Ke-ze%Ke,ot=[];return ot.length=Je,this.update(ot),this},xe.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Ce=this.blocks,Ke=this.lastByteIndex,ze=this.blockCount,Ve=this.s;if(Ce[Ke>>2]|=this.padding[Ke&3],this.lastByteIndex===this.byteCount)for(Ce[0]=Ce[ze],Ke=1;Ke<ze+1;++Ke)Ce[Ke]=0;for(Ce[ze-1]|=2147483648,Ke=0;Ke<ze;++Ke)Ve[Ke]^=Ce[Ke];at(Ve)}},xe.prototype.toString=xe.prototype.hex=function(){this.finalize();for(var Ce=this.blockCount,Ke=this.s,ze=this.outputBlocks,Ve=this.extraBytes,Je=0,ot=0,rt="",et;ot<ze;){for(Je=0;Je<Ce&&ot<ze;++Je,++ot)et=Ke[Je],rt+=we[et>>4&15]+we[et&15]+we[et>>12&15]+we[et>>8&15]+we[et>>20&15]+we[et>>16&15]+we[et>>28&15]+we[et>>24&15];ot%Ce===0&&(at(Ke),Je=0)}return Ve&&(et=Ke[Je],rt+=we[et>>4&15]+we[et&15],Ve>1&&(rt+=we[et>>12&15]+we[et>>8&15]),Ve>2&&(rt+=we[et>>20&15]+we[et>>16&15])),rt},xe.prototype.arrayBuffer=function(){this.finalize();var Ce=this.blockCount,Ke=this.s,ze=this.outputBlocks,Ve=this.extraBytes,Je=0,ot=0,rt=this.outputBits>>3,et;Ve?et=new ArrayBuffer(ze+1<<2):et=new ArrayBuffer(rt);for(var pt=new Uint32Array(et);ot<ze;){for(Je=0;Je<Ce&&ot<ze;++Je,++ot)pt[ot]=Ke[Je];ot%Ce===0&&at(Ke)}return Ve&&(pt[Je]=Ke[Je],et=et.slice(0,rt)),et},xe.prototype.buffer=xe.prototype.arrayBuffer,xe.prototype.digest=xe.prototype.array=function(){this.finalize();for(var Ce=this.blockCount,Ke=this.s,ze=this.outputBlocks,Ve=this.extraBytes,Je=0,ot=0,rt=[],et,pt;ot<ze;){for(Je=0;Je<Ce&&ot<ze;++Je,++ot)et=ot<<2,pt=Ke[Je],rt[et]=pt&255,rt[et+1]=pt>>8&255,rt[et+2]=pt>>16&255,rt[et+3]=pt>>24&255;ot%Ce===0&&at(Ke)}return Ve&&(et=ot<<2,pt=Ke[Je],rt[et]=pt&255,Ve>1&&(rt[et+1]=pt>>8&255),Ve>2&&(rt[et+2]=pt>>16&255)),rt};function De(Ce,Ke,ze){xe.call(this,Ce,Ke,ze)}De.prototype=new xe,De.prototype.finalize=function(){return this.encode(this.outputBits,!0),xe.prototype.finalize.call(this)};var at=function(Ce){var Ke,ze,Ve,Je,ot,rt,et,pt,it,dt,Kt,yt,mt,nr,gt,bt,ir,vt,wt,or,Et,_t,sr,$t,Tt,ar,xt,At,ur,It,St,cr,Rt,Ct,lr,Nt,Bt,dr,Ot,Mt,hr,Ft,Lt,pr,Ut,Dt,yr,jt,Zt,gr,Ht,Gt,br,qt,Vt,vr,Yt,Wt,Qt,Jt,er,tr,rr;for(Ve=0;Ve<48;Ve+=2)Je=Ce[0]^Ce[10]^Ce[20]^Ce[30]^Ce[40],ot=Ce[1]^Ce[11]^Ce[21]^Ce[31]^Ce[41],rt=Ce[2]^Ce[12]^Ce[22]^Ce[32]^Ce[42],et=Ce[3]^Ce[13]^Ce[23]^Ce[33]^Ce[43],pt=Ce[4]^Ce[14]^Ce[24]^Ce[34]^Ce[44],it=Ce[5]^Ce[15]^Ce[25]^Ce[35]^Ce[45],dt=Ce[6]^Ce[16]^Ce[26]^Ce[36]^Ce[46],Kt=Ce[7]^Ce[17]^Ce[27]^Ce[37]^Ce[47],yt=Ce[8]^Ce[18]^Ce[28]^Ce[38]^Ce[48],mt=Ce[9]^Ce[19]^Ce[29]^Ce[39]^Ce[49],Ke=yt^(rt<<1|et>>>31),ze=mt^(et<<1|rt>>>31),Ce[0]^=Ke,Ce[1]^=ze,Ce[10]^=Ke,Ce[11]^=ze,Ce[20]^=Ke,Ce[21]^=ze,Ce[30]^=Ke,Ce[31]^=ze,Ce[40]^=Ke,Ce[41]^=ze,Ke=Je^(pt<<1|it>>>31),ze=ot^(it<<1|pt>>>31),Ce[2]^=Ke,Ce[3]^=ze,Ce[12]^=Ke,Ce[13]^=ze,Ce[22]^=Ke,Ce[23]^=ze,Ce[32]^=Ke,Ce[33]^=ze,Ce[42]^=Ke,Ce[43]^=ze,Ke=rt^(dt<<1|Kt>>>31),ze=et^(Kt<<1|dt>>>31),Ce[4]^=Ke,Ce[5]^=ze,Ce[14]^=Ke,Ce[15]^=ze,Ce[24]^=Ke,Ce[25]^=ze,Ce[34]^=Ke,Ce[35]^=ze,Ce[44]^=Ke,Ce[45]^=ze,Ke=pt^(yt<<1|mt>>>31),ze=it^(mt<<1|yt>>>31),Ce[6]^=Ke,Ce[7]^=ze,Ce[16]^=Ke,Ce[17]^=ze,Ce[26]^=Ke,Ce[27]^=ze,Ce[36]^=Ke,Ce[37]^=ze,Ce[46]^=Ke,Ce[47]^=ze,Ke=dt^(Je<<1|ot>>>31),ze=Kt^(ot<<1|Je>>>31),Ce[8]^=Ke,Ce[9]^=ze,Ce[18]^=Ke,Ce[19]^=ze,Ce[28]^=Ke,Ce[29]^=ze,Ce[38]^=Ke,Ce[39]^=ze,Ce[48]^=Ke,Ce[49]^=ze,nr=Ce[0],gt=Ce[1],Dt=Ce[11]<<4|Ce[10]>>>28,yr=Ce[10]<<4|Ce[11]>>>28,At=Ce[20]<<3|Ce[21]>>>29,ur=Ce[21]<<3|Ce[20]>>>29,Jt=Ce[31]<<9|Ce[30]>>>23,er=Ce[30]<<9|Ce[31]>>>23,Ft=Ce[40]<<18|Ce[41]>>>14,Lt=Ce[41]<<18|Ce[40]>>>14,Ct=Ce[2]<<1|Ce[3]>>>31,lr=Ce[3]<<1|Ce[2]>>>31,bt=Ce[13]<<12|Ce[12]>>>20,ir=Ce[12]<<12|Ce[13]>>>20,jt=Ce[22]<<10|Ce[23]>>>22,Zt=Ce[23]<<10|Ce[22]>>>22,It=Ce[33]<<13|Ce[32]>>>19,St=Ce[32]<<13|Ce[33]>>>19,tr=Ce[42]<<2|Ce[43]>>>30,rr=Ce[43]<<2|Ce[42]>>>30,qt=Ce[5]<<30|Ce[4]>>>2,Vt=Ce[4]<<30|Ce[5]>>>2,Nt=Ce[14]<<6|Ce[15]>>>26,Bt=Ce[15]<<6|Ce[14]>>>26,vt=Ce[25]<<11|Ce[24]>>>21,wt=Ce[24]<<11|Ce[25]>>>21,gr=Ce[34]<<15|Ce[35]>>>17,Ht=Ce[35]<<15|Ce[34]>>>17,cr=Ce[45]<<29|Ce[44]>>>3,Rt=Ce[44]<<29|Ce[45]>>>3,$t=Ce[6]<<28|Ce[7]>>>4,Tt=Ce[7]<<28|Ce[6]>>>4,vr=Ce[17]<<23|Ce[16]>>>9,Yt=Ce[16]<<23|Ce[17]>>>9,dr=Ce[26]<<25|Ce[27]>>>7,Ot=Ce[27]<<25|Ce[26]>>>7,or=Ce[36]<<21|Ce[37]>>>11,Et=Ce[37]<<21|Ce[36]>>>11,Gt=Ce[47]<<24|Ce[46]>>>8,br=Ce[46]<<24|Ce[47]>>>8,pr=Ce[8]<<27|Ce[9]>>>5,Ut=Ce[9]<<27|Ce[8]>>>5,ar=Ce[18]<<20|Ce[19]>>>12,xt=Ce[19]<<20|Ce[18]>>>12,Wt=Ce[29]<<7|Ce[28]>>>25,Qt=Ce[28]<<7|Ce[29]>>>25,Mt=Ce[38]<<8|Ce[39]>>>24,hr=Ce[39]<<8|Ce[38]>>>24,_t=Ce[48]<<14|Ce[49]>>>18,sr=Ce[49]<<14|Ce[48]>>>18,Ce[0]=nr^~bt&vt,Ce[1]=gt^~ir&wt,Ce[10]=$t^~ar&At,Ce[11]=Tt^~xt&ur,Ce[20]=Ct^~Nt&dr,Ce[21]=lr^~Bt&Ot,Ce[30]=pr^~Dt&jt,Ce[31]=Ut^~yr&Zt,Ce[40]=qt^~vr&Wt,Ce[41]=Vt^~Yt&Qt,Ce[2]=bt^~vt&or,Ce[3]=ir^~wt&Et,Ce[12]=ar^~At&It,Ce[13]=xt^~ur&St,Ce[22]=Nt^~dr&Mt,Ce[23]=Bt^~Ot&hr,Ce[32]=Dt^~jt&gr,Ce[33]=yr^~Zt&Ht,Ce[42]=vr^~Wt&Jt,Ce[43]=Yt^~Qt&er,Ce[4]=vt^~or&_t,Ce[5]=wt^~Et&sr,Ce[14]=At^~It&cr,Ce[15]=ur^~St&Rt,Ce[24]=dr^~Mt&Ft,Ce[25]=Ot^~hr&Lt,Ce[34]=jt^~gr&Gt,Ce[35]=Zt^~Ht&br,Ce[44]=Wt^~Jt&tr,Ce[45]=Qt^~er&rr,Ce[6]=or^~_t&nr,Ce[7]=Et^~sr&gt,Ce[16]=It^~cr&$t,Ce[17]=St^~Rt&Tt,Ce[26]=Mt^~Ft&Ct,Ce[27]=hr^~Lt&lr,Ce[36]=gr^~Gt&pr,Ce[37]=Ht^~br&Ut,Ce[46]=Jt^~tr&qt,Ce[47]=er^~rr&Vt,Ce[8]=_t^~nr&bt,Ce[9]=sr^~gt&ir,Ce[18]=cr^~$t&ar,Ce[19]=Rt^~Tt&xt,Ce[28]=Ft^~Ct&Nt,Ce[29]=Lt^~lr&Bt,Ce[38]=Gt^~pr&Dt,Ce[39]=br^~Ut&yr,Ce[48]=tr^~qt&vr,Ce[49]=rr^~Vt&Yt,Ce[0]^=Se[Ve],Ce[1]^=Se[Ve+1]};if(ge)re.exports=$e;else for(Oe=0;Oe<Ie.length;++Oe)ae[Ie[Oe]]=$e[Ie[Oe]]})()})(sha3$1);const sha3=sha3Exports;function keccak256$2(re){return"0x"+sha3.keccak_256(arrayify(re))}const version$9="rlp/5.7.0",logger$9=new Logger(version$9);function arrayifyInteger(re){const ee=[];for(;re;)ee.unshift(re&255),re>>=8;return ee}function _encode(re){if(Array.isArray(re)){let oe=[];if(re.forEach(function(he){oe=oe.concat(_encode(he))}),oe.length<=55)return oe.unshift(192+oe.length),oe;const ae=arrayifyInteger(oe.length);return ae.unshift(247+ae.length),ae.concat(oe)}isBytesLike(re)||logger$9.throwArgumentError("RLP object must be BytesLike","object",re);const ee=Array.prototype.slice.call(arrayify(re));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const ne=arrayifyInteger(ee.length);return ne.unshift(183+ne.length),ne.concat(ee)}function encode$1(re){return hexlify(_encode(re))}const version$8="address/5.7.0",logger$8=new Logger(version$8);function getChecksumAddress(re){isHexString(re,20)||logger$8.throwArgumentError("invalid address","address",re),re=re.toLowerCase();const ee=re.substring(2).split(""),ne=new Uint8Array(40);for(let ae=0;ae<40;ae++)ne[ae]=ee[ae].charCodeAt(0);const oe=arrayify(keccak256$2(ne));for(let ae=0;ae<40;ae+=2)oe[ae>>1]>>4>=8&&(ee[ae]=ee[ae].toUpperCase()),(oe[ae>>1]&15)>=8&&(ee[ae+1]=ee[ae+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(re){return Math.log10?Math.log10(re):Math.log(re)/Math.LN10}const ibanLookup={};for(let re=0;re<10;re++)ibanLookup[String(re)]=String(re);for(let re=0;re<26;re++)ibanLookup[String.fromCharCode(65+re)]=String(10+re);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(re){re=re.toUpperCase(),re=re.substring(4)+re.substring(0,2)+"00";let ee=re.split("").map(oe=>ibanLookup[oe]).join("");for(;ee.length>=safeDigits;){let oe=ee.substring(0,safeDigits);ee=parseInt(oe,10)%97+ee.substring(oe.length)}let ne=String(98-parseInt(ee,10)%97);for(;ne.length<2;)ne="0"+ne;return ne}function getAddress$2(re){let ee=null;if(typeof re!="string"&&logger$8.throwArgumentError("invalid address","address",re),re.match(/^(0x)?[0-9a-fA-F]{40}$/))re.substring(0,2)!=="0x"&&(re="0x"+re),ee=getChecksumAddress(re),re.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==re&&logger$8.throwArgumentError("bad address checksum","address",re);else if(re.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(re.substring(2,4)!==ibanChecksum(re)&&logger$8.throwArgumentError("bad icap checksum","address",re),ee=_base36To16(re.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress("0x"+ee)}else logger$8.throwArgumentError("invalid address","address",re);return ee}function isAddress$2(re){try{return getAddress$2(re),!0}catch{}return!1}function getContractAddress$2(re){let ee=null;try{ee=getAddress$2(re.from)}catch{logger$8.throwArgumentError("missing from address","transaction",re)}const ne=stripZeros(arrayify(BigNumber.from(re.nonce).toHexString()));return getAddress$2(hexDataSlice(keccak256$2(encode$1([ee,ne])),12))}class AddressCoder extends Coder{constructor(ee){super("address","address",ee,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(ee,ne){try{ne=getAddress$2(ne)}catch(oe){this._throwError(oe.message,ne)}return ee.writeValue(ne)}decode(ee){return getAddress$2(hexZeroPad(ee.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(ee){super(ee.name,ee.type,void 0,ee.dynamic),this.coder=ee}defaultValue(){return this.coder.defaultValue()}encode(ee,ne){return this.coder.encode(ee,ne)}decode(ee){return this.coder.decode(ee)}}const logger$7=new Logger(version$a);function pack(re,ee,ne){let oe=null;if(Array.isArray(ne))oe=ne;else if(ne&&typeof ne=="object"){let ve={};oe=ee.map(we=>{const Ee=we.localName;return Ee||logger$7.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:we,value:ne}),ve[Ee]&&logger$7.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:we,value:ne}),ve[Ee]=!0,ne[Ee]})}else logger$7.throwArgumentError("invalid tuple value","tuple",ne);ee.length!==oe.length&&logger$7.throwArgumentError("types/value length mismatch","tuple",ne);let ae=new Writer$2(re.wordSize),he=new Writer$2(re.wordSize),pe=[];ee.forEach((ve,we)=>{let Ee=oe[we];if(ve.dynamic){let _e=he.length;ve.encode(he,Ee);let Te=ae.writeUpdatableValue();pe.push(Pe=>{Te(Pe+_e)})}else ve.encode(ae,Ee)}),pe.forEach(ve=>{ve(ae.length)});let ge=re.appendWriter(ae);return ge+=re.appendWriter(he),ge}function unpack(re,ee){let ne=[],oe=re.subReader(0);ee.forEach(he=>{let pe=null;if(he.dynamic){let ge=re.readValue(),ve=oe.subReader(ge.toNumber());try{pe=he.decode(ve)}catch(we){if(we.code===Logger.errors.BUFFER_OVERRUN)throw we;pe=we,pe.baseType=he.name,pe.name=he.localName,pe.type=he.type}}else try{pe=he.decode(re)}catch(ge){if(ge.code===Logger.errors.BUFFER_OVERRUN)throw ge;pe=ge,pe.baseType=he.name,pe.name=he.localName,pe.type=he.type}pe!=null&&ne.push(pe)});const ae=ee.reduce((he,pe)=>{const ge=pe.localName;return ge&&(he[ge]||(he[ge]=0),he[ge]++),he},{});ee.forEach((he,pe)=>{let ge=he.localName;if(!ge||ae[ge]!==1||(ge==="length"&&(ge="_length"),ne[ge]!=null))return;const ve=ne[pe];ve instanceof Error?Object.defineProperty(ne,ge,{enumerable:!0,get:()=>{throw ve}}):ne[ge]=ve});for(let he=0;he<ne.length;he++){const pe=ne[he];pe instanceof Error&&Object.defineProperty(ne,he,{enumerable:!0,get:()=>{throw pe}})}return Object.freeze(ne)}class ArrayCoder extends Coder{constructor(ee,ne,oe){const ae=ee.type+"["+(ne>=0?ne:"")+"]",he=ne===-1||ee.dynamic;super("array",ae,oe,he),this.coder=ee,this.length=ne}defaultValue(){const ee=this.coder.defaultValue(),ne=[];for(let oe=0;oe<this.length;oe++)ne.push(ee);return ne}encode(ee,ne){Array.isArray(ne)||this._throwError("expected array value",ne);let oe=this.length;oe===-1&&(oe=ne.length,ee.writeValue(ne.length)),logger$7.checkArgumentCount(ne.length,oe,"coder array"+(this.localName?" "+this.localName:""));let ae=[];for(let he=0;he<ne.length;he++)ae.push(this.coder);return pack(ee,ae,ne)}decode(ee){let ne=this.length;ne===-1&&(ne=ee.readValue().toNumber(),ne*32>ee._data.length&&logger$7.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:ee._data.length,count:ne}));let oe=[];for(let ae=0;ae<ne;ae++)oe.push(new AnonymousCoder(this.coder));return ee.coerce(this.name,unpack(ee,oe))}}class BooleanCoder extends Coder{constructor(ee){super("bool","bool",ee,!1)}defaultValue(){return!1}encode(ee,ne){return ee.writeValue(ne?1:0)}decode(ee){return ee.coerce(this.type,!ee.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(ee,ne){super(ee,ee,ne,!0)}defaultValue(){return"0x"}encode(ee,ne){ne=arrayify(ne);let oe=ee.writeValue(ne.length);return oe+=ee.writeBytes(ne),oe}decode(ee){return ee.readBytes(ee.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(ee){super("bytes",ee)}decode(ee){return ee.coerce(this.name,hexlify(super.decode(ee)))}}class FixedBytesCoder extends Coder{constructor(ee,ne){let oe="bytes"+String(ee);super(oe,oe,ne,!1),this.size=ee}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(ee,ne){let oe=arrayify(ne);return oe.length!==this.size&&this._throwError("incorrect data length",ne),ee.writeBytes(oe)}decode(ee){return ee.coerce(this.name,hexlify(ee.readBytes(this.size)))}}class NullCoder extends Coder{constructor(ee){super("null","",ee,!1)}defaultValue(){return null}encode(ee,ne){return ne!=null&&this._throwError("not null",ne),ee.writeBytes([])}decode(ee){return ee.readBytes(0),ee.coerce(this.name,null)}}const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(ee,ne,oe){const ae=(ne?"int":"uint")+ee*8;super(ae,ae,oe,!1),this.size=ee,this.signed=ne}defaultValue(){return 0}encode(ee,ne){let oe=BigNumber.from(ne),ae=MaxUint256.mask(ee.wordSize*8);if(this.signed){let he=ae.mask(this.size*8-1);(oe.gt(he)||oe.lt(he.add(One).mul(NegativeOne)))&&this._throwError("value out-of-bounds",ne)}else(oe.lt(Zero)||oe.gt(ae.mask(this.size*8)))&&this._throwError("value out-of-bounds",ne);return oe=oe.toTwos(this.size*8).mask(this.size*8),this.signed&&(oe=oe.fromTwos(this.size*8).toTwos(8*ee.wordSize)),ee.writeValue(oe)}decode(ee){let ne=ee.readValue().mask(this.size*8);return this.signed&&(ne=ne.fromTwos(this.size*8)),ee.coerce(this.name,ne)}}const version$7="strings/5.7.0",logger$6=new Logger(version$7);var UnicodeNormalizationForm;(function(re){re.current="",re.NFC="NFC",re.NFD="NFD",re.NFKC="NFKC",re.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(re){re.UNEXPECTED_CONTINUE="unexpected continuation byte",re.BAD_PREFIX="bad codepoint prefix",re.OVERRUN="string overrun",re.MISSING_CONTINUE="missing continuation byte",re.OUT_OF_RANGE="out of UTF-8 range",re.UTF16_SURROGATE="UTF-16 surrogate",re.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(re,ee,ne,oe,ae){return logger$6.throwArgumentError(`invalid codepoint at offset ${ee}; ${re}`,"bytes",ne)}function ignoreFunc(re,ee,ne,oe,ae){if(re===Utf8ErrorReason.BAD_PREFIX||re===Utf8ErrorReason.UNEXPECTED_CONTINUE){let he=0;for(let pe=ee+1;pe<ne.length&&ne[pe]>>6===2;pe++)he++;return he}return re===Utf8ErrorReason.OVERRUN?ne.length-ee-1:0}function replaceFunc(re,ee,ne,oe,ae){return re===Utf8ErrorReason.OVERLONG?(oe.push(ae),0):(oe.push(65533),ignoreFunc(re,ee,ne))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(re,ee){ee==null&&(ee=Utf8ErrorFuncs.error),re=arrayify(re);const ne=[];let oe=0;for(;oe<re.length;){const ae=re[oe++];if(!(ae>>7)){ne.push(ae);continue}let he=null,pe=null;if((ae&224)===192)he=1,pe=127;else if((ae&240)===224)he=2,pe=2047;else if((ae&248)===240)he=3,pe=65535;else{(ae&192)===128?oe+=ee(Utf8ErrorReason.UNEXPECTED_CONTINUE,oe-1,re,ne):oe+=ee(Utf8ErrorReason.BAD_PREFIX,oe-1,re,ne);continue}if(oe-1+he>=re.length){oe+=ee(Utf8ErrorReason.OVERRUN,oe-1,re,ne);continue}let ge=ae&(1<<8-he-1)-1;for(let ve=0;ve<he;ve++){let we=re[oe];if((we&192)!=128){oe+=ee(Utf8ErrorReason.MISSING_CONTINUE,oe,re,ne),ge=null;break}ge=ge<<6|we&63,oe++}if(ge!==null){if(ge>1114111){oe+=ee(Utf8ErrorReason.OUT_OF_RANGE,oe-1-he,re,ne,ge);continue}if(ge>=55296&&ge<=57343){oe+=ee(Utf8ErrorReason.UTF16_SURROGATE,oe-1-he,re,ne,ge);continue}if(ge<=pe){oe+=ee(Utf8ErrorReason.OVERLONG,oe-1-he,re,ne,ge);continue}ne.push(ge)}}return ne}function toUtf8Bytes(re,ee=UnicodeNormalizationForm.current){ee!=UnicodeNormalizationForm.current&&(logger$6.checkNormalize(),re=re.normalize(ee));let ne=[];for(let oe=0;oe<re.length;oe++){const ae=re.charCodeAt(oe);if(ae<128)ne.push(ae);else if(ae<2048)ne.push(ae>>6|192),ne.push(ae&63|128);else if((ae&64512)==55296){oe++;const he=re.charCodeAt(oe);if(oe>=re.length||(he&64512)!==56320)throw new Error("invalid utf-8 string");const pe=65536+((ae&1023)<<10)+(he&1023);ne.push(pe>>18|240),ne.push(pe>>12&63|128),ne.push(pe>>6&63|128),ne.push(pe&63|128)}else ne.push(ae>>12|224),ne.push(ae>>6&63|128),ne.push(ae&63|128)}return arrayify(ne)}function _toUtf8String(re){return re.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8String(re,ee){return _toUtf8String(getUtf8CodePoints(re,ee))}class StringCoder extends DynamicBytesCoder{constructor(ee){super("string",ee)}defaultValue(){return""}encode(ee,ne){return super.encode(ee,toUtf8Bytes(ne))}decode(ee){return toUtf8String(super.decode(ee))}}class TupleCoder extends Coder{constructor(ee,ne){let oe=!1;const ae=[];ee.forEach(pe=>{pe.dynamic&&(oe=!0),ae.push(pe.type)});const he="tuple("+ae.join(",")+")";super("tuple",he,ne,oe),this.coders=ee}defaultValue(){const ee=[];this.coders.forEach(oe=>{ee.push(oe.defaultValue())});const ne=this.coders.reduce((oe,ae)=>{const he=ae.localName;return he&&(oe[he]||(oe[he]=0),oe[he]++),oe},{});return this.coders.forEach((oe,ae)=>{let he=oe.localName;!he||ne[he]!==1||(he==="length"&&(he="_length"),ee[he]==null&&(ee[he]=ee[ae]))}),Object.freeze(ee)}encode(ee,ne){return pack(ee,this.coders,ne)}decode(ee){return ee.coerce(this.name,unpack(ee,this.coders))}}const logger$5=new Logger(version$a),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(ee){defineReadOnly(this,"coerceFunc",ee||null)}_getCoder(ee){switch(ee.baseType){case"address":return new AddressCoder(ee.name);case"bool":return new BooleanCoder(ee.name);case"string":return new StringCoder(ee.name);case"bytes":return new BytesCoder(ee.name);case"array":return new ArrayCoder(this._getCoder(ee.arrayChildren),ee.arrayLength,ee.name);case"tuple":return new TupleCoder((ee.components||[]).map(oe=>this._getCoder(oe)),ee.name);case"":return new NullCoder(ee.name)}let ne=ee.type.match(paramTypeNumber);if(ne){let oe=parseInt(ne[2]||"256");return(oe===0||oe>256||oe%8!==0)&&logger$5.throwArgumentError("invalid "+ne[1]+" bit length","param",ee),new NumberCoder(oe/8,ne[1]==="int",ee.name)}if(ne=ee.type.match(paramTypeBytes),ne){let oe=parseInt(ne[1]);return(oe===0||oe>32)&&logger$5.throwArgumentError("invalid bytes length","param",ee),new FixedBytesCoder(oe,ee.name)}return logger$5.throwArgumentError("invalid type","type",ee.type)}_getWordSize(){return 32}_getReader(ee,ne){return new Reader$2(ee,this._getWordSize(),this.coerceFunc,ne)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(ee){const ne=ee.map(ae=>this._getCoder(ParamType.from(ae)));return new TupleCoder(ne,"_").defaultValue()}encode(ee,ne){ee.length!==ne.length&&logger$5.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:ee.length,values:ne.length},value:{types:ee,values:ne}});const oe=ee.map(pe=>this._getCoder(ParamType.from(pe))),ae=new TupleCoder(oe,"_"),he=this._getWriter();return ae.encode(he,ne),he.data}decode(ee,ne,oe){const ae=ee.map(pe=>this._getCoder(ParamType.from(pe)));return new TupleCoder(ae,"_").decode(this._getReader(arrayify(ne),oe))}}const defaultAbiCoder=new AbiCoder;function id$1(re){return keccak256$2(toUtf8Bytes(re))}const logger$4=new Logger(version$a);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(ee){return!!(ee&&ee._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(re,ee){const ne=new Error(`deferred error during ABI decoding triggered accessing ${re}`);return ne.error=ee,ne}class Interface{constructor(ee){let ne=[];typeof ee=="string"?ne=JSON.parse(ee):ne=ee,defineReadOnly(this,"fragments",ne.map(oe=>Fragment.from(oe)).filter(oe=>oe!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(oe=>{let ae=null;switch(oe.type){case"constructor":if(this.deploy){logger$4.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",oe);return;case"function":ae=this.functions;break;case"event":ae=this.events;break;case"error":ae=this.errors;break;default:return}let he=oe.format();if(ae[he]){logger$4.warn("duplicate definition - "+he);return}ae[he]=oe}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(ee){ee||(ee=FormatTypes.full),ee===FormatTypes.sighash&&logger$4.throwArgumentError("interface does not support formatting sighash","format",ee);const ne=this.fragments.map(oe=>oe.format(ee));return ee===FormatTypes.json?JSON.stringify(ne.map(oe=>JSON.parse(oe))):ne}static getAbiCoder(){return defaultAbiCoder}static getAddress(ee){return getAddress$2(ee)}static getSighash(ee){return hexDataSlice(id$1(ee.format()),0,4)}static getEventTopic(ee){return id$1(ee.format())}getFunction(ee){if(isHexString(ee)){for(const oe in this.functions)if(ee===this.getSighash(oe))return this.functions[oe];logger$4.throwArgumentError("no matching function","sighash",ee)}if(ee.indexOf("(")===-1){const oe=ee.trim(),ae=Object.keys(this.functions).filter(he=>he.split("(")[0]===oe);return ae.length===0?logger$4.throwArgumentError("no matching function","name",oe):ae.length>1&&logger$4.throwArgumentError("multiple matching functions","name",oe),this.functions[ae[0]]}const ne=this.functions[FunctionFragment.fromString(ee).format()];return ne||logger$4.throwArgumentError("no matching function","signature",ee),ne}getEvent(ee){if(isHexString(ee)){const oe=ee.toLowerCase();for(const ae in this.events)if(oe===this.getEventTopic(ae))return this.events[ae];logger$4.throwArgumentError("no matching event","topichash",oe)}if(ee.indexOf("(")===-1){const oe=ee.trim(),ae=Object.keys(this.events).filter(he=>he.split("(")[0]===oe);return ae.length===0?logger$4.throwArgumentError("no matching event","name",oe):ae.length>1&&logger$4.throwArgumentError("multiple matching events","name",oe),this.events[ae[0]]}const ne=this.events[EventFragment.fromString(ee).format()];return ne||logger$4.throwArgumentError("no matching event","signature",ee),ne}getError(ee){if(isHexString(ee)){const oe=getStatic(this.constructor,"getSighash");for(const ae in this.errors){const he=this.errors[ae];if(ee===oe(he))return this.errors[ae]}logger$4.throwArgumentError("no matching error","sighash",ee)}if(ee.indexOf("(")===-1){const oe=ee.trim(),ae=Object.keys(this.errors).filter(he=>he.split("(")[0]===oe);return ae.length===0?logger$4.throwArgumentError("no matching error","name",oe):ae.length>1&&logger$4.throwArgumentError("multiple matching errors","name",oe),this.errors[ae[0]]}const ne=this.errors[FunctionFragment.fromString(ee).format()];return ne||logger$4.throwArgumentError("no matching error","signature",ee),ne}getSighash(ee){if(typeof ee=="string")try{ee=this.getFunction(ee)}catch(ne){try{ee=this.getError(ee)}catch{throw ne}}return getStatic(this.constructor,"getSighash")(ee)}getEventTopic(ee){return typeof ee=="string"&&(ee=this.getEvent(ee)),getStatic(this.constructor,"getEventTopic")(ee)}_decodeParams(ee,ne){return this._abiCoder.decode(ee,ne)}_encodeParams(ee,ne){return this._abiCoder.encode(ee,ne)}encodeDeploy(ee){return this._encodeParams(this.deploy.inputs,ee||[])}decodeErrorResult(ee,ne){typeof ee=="string"&&(ee=this.getError(ee));const oe=arrayify(ne);return hexlify(oe.slice(0,4))!==this.getSighash(ee)&&logger$4.throwArgumentError(`data signature does not match error ${ee.name}.`,"data",hexlify(oe)),this._decodeParams(ee.inputs,oe.slice(4))}encodeErrorResult(ee,ne){return typeof ee=="string"&&(ee=this.getError(ee)),hexlify(concat$2([this.getSighash(ee),this._encodeParams(ee.inputs,ne||[])]))}decodeFunctionData(ee,ne){typeof ee=="string"&&(ee=this.getFunction(ee));const oe=arrayify(ne);return hexlify(oe.slice(0,4))!==this.getSighash(ee)&&logger$4.throwArgumentError(`data signature does not match function ${ee.name}.`,"data",hexlify(oe)),this._decodeParams(ee.inputs,oe.slice(4))}encodeFunctionData(ee,ne){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify(concat$2([this.getSighash(ee),this._encodeParams(ee.inputs,ne||[])]))}decodeFunctionResult(ee,ne){typeof ee=="string"&&(ee=this.getFunction(ee));let oe=arrayify(ne),ae=null,he="",pe=null,ge=null,ve=null;switch(oe.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(ee.outputs,oe)}catch{}break;case 4:{const we=hexlify(oe.slice(0,4)),Ee=BuiltinErrors[we];if(Ee)pe=this._abiCoder.decode(Ee.inputs,oe.slice(4)),ge=Ee.name,ve=Ee.signature,Ee.reason&&(ae=pe[0]),ge==="Error"?he=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(pe[0])}`:ge==="Panic"&&(he=`; VM Exception while processing transaction: reverted with panic code ${pe[0]}`);else try{const _e=this.getError(we);pe=this._abiCoder.decode(_e.inputs,oe.slice(4)),ge=_e.name,ve=_e.format()}catch{}break}}return logger$4.throwError("call revert exception"+he,Logger.errors.CALL_EXCEPTION,{method:ee.format(),data:hexlify(ne),errorArgs:pe,errorName:ge,errorSignature:ve,reason:ae})}encodeFunctionResult(ee,ne){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify(this._abiCoder.encode(ee.outputs,ne||[]))}encodeFilterTopics(ee,ne){typeof ee=="string"&&(ee=this.getEvent(ee)),ne.length>ee.inputs.length&&logger$4.throwError("too many arguments for "+ee.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:ne});let oe=[];ee.anonymous||oe.push(this.getEventTopic(ee));const ae=(he,pe)=>he.type==="string"?id$1(pe):he.type==="bytes"?keccak256$2(hexlify(pe)):(he.type==="bool"&&typeof pe=="boolean"&&(pe=pe?"0x01":"0x00"),he.type.match(/^u?int/)&&(pe=BigNumber.from(pe).toHexString()),he.type==="address"&&this._abiCoder.encode(["address"],[pe]),hexZeroPad(hexlify(pe),32));for(ne.forEach((he,pe)=>{let ge=ee.inputs[pe];if(!ge.indexed){he!=null&&logger$4.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ge.name,he);return}he==null?oe.push(null):ge.baseType==="array"||ge.baseType==="tuple"?logger$4.throwArgumentError("filtering with tuples or arrays not supported","contract."+ge.name,he):Array.isArray(he)?oe.push(he.map(ve=>ae(ge,ve))):oe.push(ae(ge,he))});oe.length&&oe[oe.length-1]===null;)oe.pop();return oe}encodeEventLog(ee,ne){typeof ee=="string"&&(ee=this.getEvent(ee));const oe=[],ae=[],he=[];return ee.anonymous||oe.push(this.getEventTopic(ee)),ne.length!==ee.inputs.length&&logger$4.throwArgumentError("event arguments/values mismatch","values",ne),ee.inputs.forEach((pe,ge)=>{const ve=ne[ge];if(pe.indexed)if(pe.type==="string")oe.push(id$1(ve));else if(pe.type==="bytes")oe.push(keccak256$2(ve));else{if(pe.baseType==="tuple"||pe.baseType==="array")throw new Error("not implemented");oe.push(this._abiCoder.encode([pe.type],[ve]))}else ae.push(pe),he.push(ve)}),{data:this._abiCoder.encode(ae,he),topics:oe}}decodeEventLog(ee,ne,oe){if(typeof ee=="string"&&(ee=this.getEvent(ee)),oe!=null&&!ee.anonymous){let Te=this.getEventTopic(ee);(!isHexString(oe[0],32)||oe[0].toLowerCase()!==Te)&&logger$4.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:Te,value:oe[0]}),oe=oe.slice(1)}let ae=[],he=[],pe=[];ee.inputs.forEach((Te,Pe)=>{Te.indexed?Te.type==="string"||Te.type==="bytes"||Te.baseType==="tuple"||Te.baseType==="array"?(ae.push(ParamType.fromObject({type:"bytes32",name:Te.name})),pe.push(!0)):(ae.push(Te),pe.push(!1)):(he.push(Te),pe.push(!1))});let ge=oe!=null?this._abiCoder.decode(ae,concat$2(oe)):null,ve=this._abiCoder.decode(he,ne,!0),we=[],Ee=0,_e=0;ee.inputs.forEach((Te,Pe)=>{if(Te.indexed)if(ge==null)we[Pe]=new Indexed({_isIndexed:!0,hash:null});else if(pe[Pe])we[Pe]=new Indexed({_isIndexed:!0,hash:ge[_e++]});else try{we[Pe]=ge[_e++]}catch(Ae){we[Pe]=Ae}else try{we[Pe]=ve[Ee++]}catch(Ae){we[Pe]=Ae}if(Te.name&&we[Te.name]==null){const Ae=we[Pe];Ae instanceof Error?Object.defineProperty(we,Te.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(Te.name)}`,Ae)}}):we[Te.name]=Ae}});for(let Te=0;Te<we.length;Te++){const Pe=we[Te];Pe instanceof Error&&Object.defineProperty(we,Te,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${Te}`,Pe)}})}return Object.freeze(we)}parseTransaction(ee){let ne=this.getFunction(ee.data.substring(0,10).toLowerCase());return ne?new TransactionDescription({args:this._abiCoder.decode(ne.inputs,"0x"+ee.data.substring(10)),functionFragment:ne,name:ne.name,signature:ne.format(),sighash:this.getSighash(ne),value:BigNumber.from(ee.value||"0")}):null}parseLog(ee){let ne=this.getEvent(ee.topics[0]);return!ne||ne.anonymous?null:new LogDescription({eventFragment:ne,name:ne.name,signature:ne.format(),topic:this.getEventTopic(ne),args:this.decodeEventLog(ne,ee.data,ee.topics)})}parseError(ee){const ne=hexlify(ee);let oe=this.getError(ne.substring(0,10).toLowerCase());return oe?new ErrorDescription({args:this._abiCoder.decode(oe.inputs,"0x"+ne.substring(10)),errorFragment:oe,name:oe.name,signature:oe.format(),sighash:this.getSighash(oe)}):null}static isInterface(ee){return!!(ee&&ee._isInterface)}}const version$6="abstract-provider/5.7.0";var __awaiter$2=globalThis&&globalThis.__awaiter||function(re,ee,ne,oe){function ae(he){return he instanceof ne?he:new ne(function(pe){pe(he)})}return new(ne||(ne=Promise))(function(he,pe){function ge(Ee){try{we(oe.next(Ee))}catch(_e){pe(_e)}}function ve(Ee){try{we(oe.throw(Ee))}catch(_e){pe(_e)}}function we(Ee){Ee.done?he(Ee.value):ae(Ee.value).then(ge,ve)}we((oe=oe.apply(re,ee||[])).next())})};const logger$3=new Logger(version$6);class Provider{constructor(){logger$3.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$2(this,void 0,void 0,function*(){const{block:ee,gasPrice:ne}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(pe=>null)});let oe=null,ae=null,he=null;return ee&&ee.baseFeePerGas&&(oe=ee.baseFeePerGas,he=BigNumber.from("1500000000"),ae=ee.baseFeePerGas.mul(2).add(he)),{lastBaseFeePerGas:oe,maxFeePerGas:ae,maxPriorityFeePerGas:he,gasPrice:ne}})}addListener(ee,ne){return this.on(ee,ne)}removeListener(ee,ne){return this.off(ee,ne)}static isProvider(ee){return!!(ee&&ee._isProvider)}}const version$5="abstract-signer/5.7.0";var __awaiter$1=globalThis&&globalThis.__awaiter||function(re,ee,ne,oe){function ae(he){return he instanceof ne?he:new ne(function(pe){pe(he)})}return new(ne||(ne=Promise))(function(he,pe){function ge(Ee){try{we(oe.next(Ee))}catch(_e){pe(_e)}}function ve(Ee){try{we(oe.throw(Ee))}catch(_e){pe(_e)}}function we(Ee){Ee.done?he(Ee.value):ae(Ee.value).then(ge,ve)}we((oe=oe.apply(re,ee||[])).next())})};const logger$2=new Logger(version$5),allowedTransactionKeys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$2.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(ee){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),ee)})}getTransactionCount(ee){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),ee)})}estimateGas(ee){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const ne=yield resolveProperties(this.checkTransaction(ee));return yield this.provider.estimateGas(ne)})}call(ee,ne){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("call");const oe=yield resolveProperties(this.checkTransaction(ee));return yield this.provider.call(oe,ne)})}sendTransaction(ee){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const ne=yield this.populateTransaction(ee),oe=yield this.signTransaction(ne);return yield this.provider.sendTransaction(oe)})}getChainId(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(ee){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(ee)})}checkTransaction(ee){for(const oe in ee)allowedTransactionKeys.indexOf(oe)===-1&&logger$2.throwArgumentError("invalid transaction key: "+oe,"transaction",ee);const ne=shallowCopy(ee);return ne.from==null?ne.from=this.getAddress():ne.from=Promise.all([Promise.resolve(ne.from),this.getAddress()]).then(oe=>(oe[0].toLowerCase()!==oe[1].toLowerCase()&&logger$2.throwArgumentError("from address mismatch","transaction",ee),oe[0])),ne}populateTransaction(ee){return __awaiter$1(this,void 0,void 0,function*(){const ne=yield resolveProperties(this.checkTransaction(ee));ne.to!=null&&(ne.to=Promise.resolve(ne.to).then(ae=>__awaiter$1(this,void 0,void 0,function*(){if(ae==null)return null;const he=yield this.resolveName(ae);return he==null&&logger$2.throwArgumentError("provided ENS name resolves to null","tx.to",ae),he})),ne.to.catch(ae=>{}));const oe=ne.maxFeePerGas!=null||ne.maxPriorityFeePerGas!=null;if(ne.gasPrice!=null&&(ne.type===2||oe)?logger$2.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",ee):(ne.type===0||ne.type===1)&&oe&&logger$2.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",ee),(ne.type===2||ne.type==null)&&ne.maxFeePerGas!=null&&ne.maxPriorityFeePerGas!=null)ne.type=2;else if(ne.type===0||ne.type===1)ne.gasPrice==null&&(ne.gasPrice=this.getGasPrice());else{const ae=yield this.getFeeData();if(ne.type==null)if(ae.maxFeePerGas!=null&&ae.maxPriorityFeePerGas!=null)if(ne.type=2,ne.gasPrice!=null){const he=ne.gasPrice;delete ne.gasPrice,ne.maxFeePerGas=he,ne.maxPriorityFeePerGas=he}else ne.maxFeePerGas==null&&(ne.maxFeePerGas=ae.maxFeePerGas),ne.maxPriorityFeePerGas==null&&(ne.maxPriorityFeePerGas=ae.maxPriorityFeePerGas);else ae.gasPrice!=null?(oe&&logger$2.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),ne.gasPrice==null&&(ne.gasPrice=ae.gasPrice),ne.type=0):logger$2.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else ne.type===2&&(ne.maxFeePerGas==null&&(ne.maxFeePerGas=ae.maxFeePerGas),ne.maxPriorityFeePerGas==null&&(ne.maxPriorityFeePerGas=ae.maxPriorityFeePerGas))}return ne.nonce==null&&(ne.nonce=this.getTransactionCount("pending")),ne.gasLimit==null&&(ne.gasLimit=this.estimateGas(ne).catch(ae=>{if(forwardErrors.indexOf(ae.code)>=0)throw ae;return logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:ae,tx:ne})})),ne.chainId==null?ne.chainId=this.getChainId():ne.chainId=Promise.all([Promise.resolve(ne.chainId),this.getChainId()]).then(ae=>(ae[1]!==0&&ae[0]!==ae[1]&&logger$2.throwArgumentError("chainId address mismatch","transaction",ee),ae[0])),yield resolveProperties(ne)})}_checkProvider(ee){this.provider||logger$2.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:ee||"_checkProvider"})}static isSigner(ee){return!!(ee&&ee._isSigner)}}class VoidSigner extends Signer{constructor(ee,ne){super(),defineReadOnly(this,"address",ee),defineReadOnly(this,"provider",ne||null)}getAddress(){return Promise.resolve(this.address)}_fail(ee,ne){return Promise.resolve().then(()=>{logger$2.throwError(ee,Logger.errors.UNSUPPORTED_OPERATION,{operation:ne})})}signMessage(ee){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(ee){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(ee,ne,oe){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(ee){return new VoidSigner(this.address,ee)}}const version$4="transactions/5.7.0",logger$1=new Logger(version$4);var TransactionTypes;(function(re){re[re.legacy=0]="legacy",re[re.eip2930=1]="eip2930",re[re.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function accessSetify(re,ee){return{address:getAddress$2(re),storageKeys:(ee||[]).map((ne,oe)=>(hexDataLength(ne)!==32&&logger$1.throwArgumentError("invalid access list storageKey",`accessList[${re}:${oe}]`,ne),ne.toLowerCase()))}}function accessListify(re){if(Array.isArray(re))return re.map((ne,oe)=>Array.isArray(ne)?(ne.length>2&&logger$1.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${oe}]`,ne),accessSetify(ne[0],ne[1])):accessSetify(ne.address,ne.storageKeys));const ee=Object.keys(re).map(ne=>{const oe=re[ne].reduce((ae,he)=>(ae[he]=!0,ae),{});return accessSetify(ne,Object.keys(oe).sort())});return ee.sort((ne,oe)=>ne.address.localeCompare(oe.address)),ee}const version$3="contracts/5.7.0";var __awaiter=globalThis&&globalThis.__awaiter||function(re,ee,ne,oe){function ae(he){return he instanceof ne?he:new ne(function(pe){pe(he)})}return new(ne||(ne=Promise))(function(he,pe){function ge(Ee){try{we(oe.next(Ee))}catch(_e){pe(_e)}}function ve(Ee){try{we(oe.throw(Ee))}catch(_e){pe(_e)}}function we(Ee){Ee.done?he(Ee.value):ae(Ee.value).then(ge,ve)}we((oe=oe.apply(re,ee||[])).next())})};const logger=new Logger(version$3);function resolveName(re,ee){return __awaiter(this,void 0,void 0,function*(){const ne=yield ee;typeof ne!="string"&&logger.throwArgumentError("invalid address or ENS name","name",ne);try{return getAddress$2(ne)}catch{}re||logger.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const oe=yield re.resolveName(ne);return oe==null&&logger.throwArgumentError("resolver or addr is not configured for ENS name","name",ne),oe})}function resolveAddresses(re,ee,ne){return __awaiter(this,void 0,void 0,function*(){return Array.isArray(ne)?yield Promise.all(ne.map((oe,ae)=>resolveAddresses(re,Array.isArray(ee)?ee[ae]:ee[oe.name],oe))):ne.type==="address"?yield resolveName(re,ee):ne.type==="tuple"?yield resolveAddresses(re,ee,ne.components):ne.baseType==="array"?Array.isArray(ee)?yield Promise.all(ee.map(oe=>resolveAddresses(re,oe,ne.arrayChildren))):Promise.reject(logger.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:ee})):ee})}function populateTransaction(re,ee,ne){return __awaiter(this,void 0,void 0,function*(){let oe={};ne.length===ee.inputs.length+1&&typeof ne[ne.length-1]=="object"&&(oe=shallowCopy(ne.pop())),logger.checkArgumentCount(ne.length,ee.inputs.length,"passed to contract"),re.signer?oe.from?oe.from=resolveProperties({override:resolveName(re.signer,oe.from),signer:re.signer.getAddress()}).then(we=>__awaiter(this,void 0,void 0,function*(){return getAddress$2(we.signer)!==we.override&&logger.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),we.override})):oe.from=re.signer.getAddress():oe.from&&(oe.from=resolveName(re.provider,oe.from));const ae=yield resolveProperties({args:resolveAddresses(re.signer||re.provider,ne,ee.inputs),address:re.resolvedAddress,overrides:resolveProperties(oe)||{}}),he=re.interface.encodeFunctionData(ee,ae.args),pe={data:he,to:ae.address},ge=ae.overrides;if(ge.nonce!=null&&(pe.nonce=BigNumber.from(ge.nonce).toNumber()),ge.gasLimit!=null&&(pe.gasLimit=BigNumber.from(ge.gasLimit)),ge.gasPrice!=null&&(pe.gasPrice=BigNumber.from(ge.gasPrice)),ge.maxFeePerGas!=null&&(pe.maxFeePerGas=BigNumber.from(ge.maxFeePerGas)),ge.maxPriorityFeePerGas!=null&&(pe.maxPriorityFeePerGas=BigNumber.from(ge.maxPriorityFeePerGas)),ge.from!=null&&(pe.from=ge.from),ge.type!=null&&(pe.type=ge.type),ge.accessList!=null&&(pe.accessList=accessListify(ge.accessList)),pe.gasLimit==null&&ee.gas!=null){let we=21e3;const Ee=arrayify(he);for(let _e=0;_e<Ee.length;_e++)we+=4,Ee[_e]&&(we+=64);pe.gasLimit=BigNumber.from(ee.gas).add(we)}if(ge.value){const we=BigNumber.from(ge.value);!we.isZero()&&!ee.payable&&logger.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:oe.value}),pe.value=we}ge.customData&&(pe.customData=shallowCopy(ge.customData)),ge.ccipReadEnabled&&(pe.ccipReadEnabled=!!ge.ccipReadEnabled),delete oe.nonce,delete oe.gasLimit,delete oe.gasPrice,delete oe.from,delete oe.value,delete oe.type,delete oe.accessList,delete oe.maxFeePerGas,delete oe.maxPriorityFeePerGas,delete oe.customData,delete oe.ccipReadEnabled;const ve=Object.keys(oe).filter(we=>oe[we]!=null);return ve.length&&logger.throwError(`cannot override ${ve.map(we=>JSON.stringify(we)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ve}),pe})}function buildPopulate(re,ee){return function(...ne){return populateTransaction(re,ee,ne)}}function buildEstimate(re,ee){const ne=re.signer||re.provider;return function(...oe){return __awaiter(this,void 0,void 0,function*(){ne||logger.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const ae=yield populateTransaction(re,ee,oe);return yield ne.estimateGas(ae)})}}function addContractWait(re,ee){const ne=ee.wait.bind(ee);ee.wait=oe=>ne(oe).then(ae=>(ae.events=ae.logs.map(he=>{let pe=deepCopy(he),ge=null;try{ge=re.interface.parseLog(he)}catch{}return ge&&(pe.args=ge.args,pe.decode=(ve,we)=>re.interface.decodeEventLog(ge.eventFragment,ve,we),pe.event=ge.name,pe.eventSignature=ge.signature),pe.removeListener=()=>re.provider,pe.getBlock=()=>re.provider.getBlock(ae.blockHash),pe.getTransaction=()=>re.provider.getTransaction(ae.transactionHash),pe.getTransactionReceipt=()=>Promise.resolve(ae),pe}),ae))}function buildCall(re,ee,ne){const oe=re.signer||re.provider;return function(...ae){return __awaiter(this,void 0,void 0,function*(){let he;if(ae.length===ee.inputs.length+1&&typeof ae[ae.length-1]=="object"){const ve=shallowCopy(ae.pop());ve.blockTag!=null&&(he=yield ve.blockTag),delete ve.blockTag,ae.push(ve)}re.deployTransaction!=null&&(yield re._deployed(he));const pe=yield populateTransaction(re,ee,ae),ge=yield oe.call(pe,he);try{let ve=re.interface.decodeFunctionResult(ee,ge);return ne&&ee.outputs.length===1&&(ve=ve[0]),ve}catch(ve){throw ve.code===Logger.errors.CALL_EXCEPTION&&(ve.address=re.address,ve.args=ae,ve.transaction=pe),ve}})}}function buildSend(re,ee){return function(...ne){return __awaiter(this,void 0,void 0,function*(){re.signer||logger.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),re.deployTransaction!=null&&(yield re._deployed());const oe=yield populateTransaction(re,ee,ne),ae=yield re.signer.sendTransaction(oe);return addContractWait(re,ae),ae})}}function buildDefault(re,ee,ne){return ee.constant?buildCall(re,ee,ne):buildSend(re,ee)}function getEventTag(re){return re.address&&(re.topics==null||re.topics.length===0)?"*":(re.address||"*")+"@"+(re.topics?re.topics.map(ee=>Array.isArray(ee)?ee.join("|"):ee).join(":"):"")}class RunningEvent{constructor(ee,ne){defineReadOnly(this,"tag",ee),defineReadOnly(this,"filter",ne),this._listeners=[]}addListener(ee,ne){this._listeners.push({listener:ee,once:ne})}removeListener(ee){let ne=!1;this._listeners=this._listeners.filter(oe=>ne||oe.listener!==ee?!0:(ne=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(ee=>ee.listener)}listenerCount(){return this._listeners.length}run(ee){const ne=this.listenerCount();return this._listeners=this._listeners.filter(oe=>{const ae=ee.slice();return setTimeout(()=>{oe.listener.apply(this,ae)},0),!oe.once}),ne}prepareEvent(ee){}getEmit(ee){return[ee]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(ee,ne,oe,ae){const he={address:ee};let pe=ne.getEventTopic(oe);ae?(pe!==ae[0]&&logger.throwArgumentError("topic mismatch","topics",ae),he.topics=ae.slice()):he.topics=[pe],super(getEventTag(he),he),defineReadOnly(this,"address",ee),defineReadOnly(this,"interface",ne),defineReadOnly(this,"fragment",oe)}prepareEvent(ee){super.prepareEvent(ee),ee.event=this.fragment.name,ee.eventSignature=this.fragment.format(),ee.decode=(ne,oe)=>this.interface.decodeEventLog(this.fragment,ne,oe);try{ee.args=this.interface.decodeEventLog(this.fragment,ee.data,ee.topics)}catch(ne){ee.args=null,ee.decodeError=ne}}getEmit(ee){const ne=checkResultErrors(ee.args);if(ne.length)throw ne[0].error;const oe=(ee.args||[]).slice();return oe.push(ee),oe}}class WildcardRunningEvent extends RunningEvent{constructor(ee,ne){super("*",{address:ee}),defineReadOnly(this,"address",ee),defineReadOnly(this,"interface",ne)}prepareEvent(ee){super.prepareEvent(ee);try{const ne=this.interface.parseLog(ee);ee.event=ne.name,ee.eventSignature=ne.signature,ee.decode=(oe,ae)=>this.interface.decodeEventLog(ne.eventFragment,oe,ae),ee.args=ne.args}catch{}}}class BaseContract{constructor(ee,ne,oe){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(ne)),oe==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(oe)?(defineReadOnly(this,"provider",oe.provider||null),defineReadOnly(this,"signer",oe)):Provider.isProvider(oe)?(defineReadOnly(this,"provider",oe),defineReadOnly(this,"signer",null)):logger.throwArgumentError("invalid signer or provider","signerOrProvider",oe),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const pe={};Object.keys(this.interface.events).forEach(ge=>{const ve=this.interface.events[ge];defineReadOnly(this.filters,ge,(...we)=>({address:this.address,topics:this.interface.encodeFilterTopics(ve,we)})),pe[ve.name]||(pe[ve.name]=[]),pe[ve.name].push(ge)}),Object.keys(pe).forEach(ge=>{const ve=pe[ge];ve.length===1?defineReadOnly(this.filters,ge,this.filters[ve[0]]):logger.warn(`Duplicate definition of ${ge} (${ve.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),ee==null&&logger.throwArgumentError("invalid contract address or ENS name","addressOrName",ee),defineReadOnly(this,"address",ee),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,ee));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress$2(ee)))}catch{logger.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(pe=>{});const ae={},he={};Object.keys(this.interface.functions).forEach(pe=>{const ge=this.interface.functions[pe];if(he[pe]){logger.warn(`Duplicate ABI entry for ${JSON.stringify(pe)}`);return}he[pe]=!0;{const ve=ge.name;ae[`%${ve}`]||(ae[`%${ve}`]=[]),ae[`%${ve}`].push(pe)}this[pe]==null&&defineReadOnly(this,pe,buildDefault(this,ge,!0)),this.functions[pe]==null&&defineReadOnly(this.functions,pe,buildDefault(this,ge,!1)),this.callStatic[pe]==null&&defineReadOnly(this.callStatic,pe,buildCall(this,ge,!0)),this.populateTransaction[pe]==null&&defineReadOnly(this.populateTransaction,pe,buildPopulate(this,ge)),this.estimateGas[pe]==null&&defineReadOnly(this.estimateGas,pe,buildEstimate(this,ge))}),Object.keys(ae).forEach(pe=>{const ge=ae[pe];if(ge.length>1)return;pe=pe.substring(1);const ve=ge[0];try{this[pe]==null&&defineReadOnly(this,pe,this[ve])}catch{}this.functions[pe]==null&&defineReadOnly(this.functions,pe,this.functions[ve]),this.callStatic[pe]==null&&defineReadOnly(this.callStatic,pe,this.callStatic[ve]),this.populateTransaction[pe]==null&&defineReadOnly(this.populateTransaction,pe,this.populateTransaction[ve]),this.estimateGas[pe]==null&&defineReadOnly(this.estimateGas,pe,this.estimateGas[ve])})}static getContractAddress(ee){return getContractAddress$2(ee)}static getInterface(ee){return Interface.isInterface(ee)?ee:new Interface(ee)}deployed(){return this._deployed()}_deployed(ee){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,ee).then(ne=>(ne==="0x"&&logger.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(ee){this.signer||logger.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const ne=shallowCopy(ee||{});return["from","to"].forEach(function(oe){ne[oe]!=null&&logger.throwError("cannot override "+oe,Logger.errors.UNSUPPORTED_OPERATION,{operation:oe})}),ne.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(ne))}connect(ee){typeof ee=="string"&&(ee=new VoidSigner(ee,this.provider));const ne=new this.constructor(this.address,this.interface,ee);return this.deployTransaction&&defineReadOnly(ne,"deployTransaction",this.deployTransaction),ne}attach(ee){return new this.constructor(ee,this.interface,this.signer||this.provider)}static isIndexed(ee){return Indexed.isIndexed(ee)}_normalizeRunningEvent(ee){return this._runningEvents[ee.tag]?this._runningEvents[ee.tag]:ee}_getRunningEvent(ee){if(typeof ee=="string"){if(ee==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(ee==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(ee==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const ne=this.interface.getEvent(ee);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,ne))}if(ee.topics&&ee.topics.length>0){try{const oe=ee.topics[0];if(typeof oe!="string")throw new Error("invalid topic");const ae=this.interface.getEvent(oe);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,ae,ee.topics))}catch{}const ne={address:this.address,topics:ee.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(ne),ne))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(ee){if(ee.listenerCount()===0){delete this._runningEvents[ee.tag];const ne=this._wrappedEmits[ee.tag];ne&&ee.filter&&(this.provider.off(ee.filter,ne),delete this._wrappedEmits[ee.tag])}}_wrapEvent(ee,ne,oe){const ae=deepCopy(ne);return ae.removeListener=()=>{oe&&(ee.removeListener(oe),this._checkRunningEvents(ee))},ae.getBlock=()=>this.provider.getBlock(ne.blockHash),ae.getTransaction=()=>this.provider.getTransaction(ne.transactionHash),ae.getTransactionReceipt=()=>this.provider.getTransactionReceipt(ne.transactionHash),ee.prepareEvent(ae),ae}_addEventListener(ee,ne,oe){if(this.provider||logger.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),ee.addListener(ne,oe),this._runningEvents[ee.tag]=ee,!this._wrappedEmits[ee.tag]){const ae=he=>{let pe=this._wrapEvent(ee,he,ne);if(pe.decodeError==null)try{const ge=ee.getEmit(pe);this.emit(ee.filter,...ge)}catch(ge){pe.decodeError=ge.error}ee.filter!=null&&this.emit("event",pe),pe.decodeError!=null&&this.emit("error",pe.decodeError,pe)};this._wrappedEmits[ee.tag]=ae,ee.filter!=null&&this.provider.on(ee.filter,ae)}}queryFilter(ee,ne,oe){const ae=this._getRunningEvent(ee),he=shallowCopy(ae.filter);return typeof ne=="string"&&isHexString(ne,32)?(oe!=null&&logger.throwArgumentError("cannot specify toBlock with blockhash","toBlock",oe),he.blockHash=ne):(he.fromBlock=ne??0,he.toBlock=oe??"latest"),this.provider.getLogs(he).then(pe=>pe.map(ge=>this._wrapEvent(ae,ge,null)))}on(ee,ne){return this._addEventListener(this._getRunningEvent(ee),ne,!1),this}once(ee,ne){return this._addEventListener(this._getRunningEvent(ee),ne,!0),this}emit(ee,...ne){if(!this.provider)return!1;const oe=this._getRunningEvent(ee),ae=oe.run(ne)>0;return this._checkRunningEvents(oe),ae}listenerCount(ee){return this.provider?ee==null?Object.keys(this._runningEvents).reduce((ne,oe)=>ne+this._runningEvents[oe].listenerCount(),0):this._getRunningEvent(ee).listenerCount():0}listeners(ee){if(!this.provider)return[];if(ee==null){const ne=[];for(let oe in this._runningEvents)this._runningEvents[oe].listeners().forEach(ae=>{ne.push(ae)});return ne}return this._getRunningEvent(ee).listeners()}removeAllListeners(ee){if(!this.provider)return this;if(ee==null){for(const oe in this._runningEvents){const ae=this._runningEvents[oe];ae.removeAllListeners(),this._checkRunningEvents(ae)}return this}const ne=this._getRunningEvent(ee);return ne.removeAllListeners(),this._checkRunningEvents(ne),this}off(ee,ne){if(!this.provider)return this;const oe=this._getRunningEvent(ee);return oe.removeListener(ne),this._checkRunningEvents(oe),this}removeListener(ee,ne){return this.off(ee,ne)}}class Contract extends BaseContract{}function Jr(re,ee){let ne={};for(let oe in re)ne[oe]=ee(re[oe],oe);return ne}var fe=function(){let re=mr,ee=fr;return ee(re(32),8)+"-"+ee(re(16),4)+"-"+ee(16384|re(12),4)+"-"+ee(32768|re(14),4)+"-"+ee(re(48),12)},mr=function(re){if(re<0||re>53)return NaN;let ee=0|Math.random()*1073741824;return re>30?ee+(0|Math.random()*(1<<re-30))*1073741824:ee>>>30-re},fr=function(re,ee){let ne=re.toString(16),oe=ee-ne.length,ae="0";for(;oe>0;oe>>>=1,ae+=ae)oe&1&&(ne=ae+ne);return ne};function y$4(re){return{...re,[Symbol.iterator](){return this}}}function I$5(re,ee){return y$4({next(){let{done:ne,value:oe}=re.next();return{done:ne,value:ne?oe:ee(oe)}}})}function z$3(re){return/^(0x)?([\da-f]{2})*$/i.test(re)}var K$4=re=>{if(!z$3(re))throw console.error("Invalid hex string",re),new Error("Invalid hex string");let ee=re.match(/[\da-f]{2}/gi);return ee?new Uint8Array(ee.map(ne=>parseInt(ne,16))):new Uint8Array([])};function Cr(re){if(re<2)throw new Error("Minimum size is 2");if(re>64)throw new Error("Maximum size is 64");let ee=2**(re-1)-1,ne=-ee-1;return oe=>{if(oe=oe<<0,oe>ee||oe<ne)throw console.log("value",oe,ee,ne,oe>ee,oe<ne),new Error(`Int${re} overflow`);return oe<0?2**re+oe:oe}}Cr(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var P$4=(re=>(re[re.Boolean=0]="Boolean",re[re.Number=1]="Number",re[re.OptionalNumber=2]="OptionalNumber",re[re.BigInt=3]="BigInt",re[re.OptionalBigInt=4]="OptionalBigInt",re[re.String=5]="String",re[re.OptionalString=6]="OptionalString",re[re.NumberArray=7]="NumberArray",re[re.OptionalNumberArray=8]="OptionalNumberArray",re[re.BigIntArray=9]="BigIntArray",re[re.OptionalBigIntArray=10]="OptionalBigIntArray",re[re.StringArray=11]="StringArray",re[re.OptionalStringArray=12]="OptionalStringArray",re[re.Entity=13]="Entity",re[re.OptionalEntity=14]="OptionalEntity",re[re.EntityArray=15]="EntityArray",re[re.OptionalEntityArray=16]="OptionalEntityArray",re[re.T=17]="T",re[re.OptionalT=18]="OptionalT",re))(P$4||{}),k$2=(re=>(re[re.Enter=0]="Enter",re[re.Exit=1]="Exit",re[re.Update=2]="Update",re[re.Noop=3]="Noop",re))(k$2||{}),w$4=[14,16,2,8,4,10,6,12,18];function M$3(re){let ee=new Map;function ne(ge){let ve=ee.get(oe(ge));return ve?new Set([...ve].map(v$4)):new Set}function oe(ge){return Object.values(ge).join("/")}function ae(ge,ve){if(!ve)return;let we=oe(ve),Ee=ee.get(we);Ee||(Ee=new Set,ee.set(we,Ee)),Ee.add(ge)}function he(ge,ve){if(!ve)return;let we=oe(ve),Ee=ee.get(we);Ee&&Ee.delete(ge)}for(let ge of V$4(re)){let ve=g$4(re,ge);ae(p$3(ge),ve)}let pe=re.update$.subscribe(({entity:ge,value:ve})=>{he(p$3(ge),ve[1]),ae(p$3(ge),ve[0])});return re.world.registerDisposer(()=>pe?.unsubscribe()),{...re,getEntitiesWithValue:ne}}function I$4(re){return"getEntitiesWithValue"in re}function T$6(re,ee){return Object.keys(re.schema).every(ne=>ne in ee)}function b$6(re){return re.metadata?.componentName??re.metadata?.tableName??re.metadata?.tableId??re.metadata?.contractId??re.id}function ie(re,ee,ne){if(Object.keys(ee).length===0)throw new Error("Component schema must have at least one key");let oe=ne?.id??fe(),ae=Jr(ee,()=>new Map),he=new Subject,pe=ne?.metadata,ge={values:ae,schema:ee,id:oe,update$:he,metadata:pe,entities:()=>I$5(Object.values(ae)[0].keys(),v$4),world:re};return ne?.indexed&&(ge=M$3(ge)),re.registerComponent(ge),ge}function E$2(re,ee,ne,oe={}){let ae=p$3(ee),he=g$4(re,ee);for(let[pe,ge]of Object.entries(ne))re.values[pe]?re.values[pe].set(ae,ge):re.metadata?.tableId&&/^\d+$/.test(pe)||console.warn("Component definition for",b$6(re),"is missing key",pe,", ignoring value",ge,"for entity",ee,". Existing keys: ",Object.keys(re.values));oe.skipUpdateStream||re.update$.next({entity:ee,value:[ne,he],component:re})}function ue(re,ee,ne={}){let oe=p$3(ee),ae=g$4(re,ee);for(let he of Object.keys(re.values))re.values[he].delete(oe);ne.skipUpdateStream||re.update$.next({entity:ee,value:[void 0,ae],component:re})}function le$1(re,ee){let ne=p$3(ee);return Object.values(re.values)[0].has(ne)}function g$4(re,ee){let ne={},oe=p$3(ee),ae=Object.keys(re.schema);for(let he of ae){let pe=re.values[he].get(oe);if(pe===void 0&&!w$4.includes(re.schema[he]))return;ne[he]=pe}return ne}function de(re,ee){let ne=g$4(re,ee);if(!ne)throw new Error(`No value for component ${b$6(re)} on entity ${ee}`);return ne}function K$3(re,ee){if(!re&&!ee)return!0;if(!re||!ee)return!1;let ne=!0;for(let oe of Object.keys(re))if(ne=re[oe]===ee[oe],!ne)return!1;return ne}function ce$1(re,ee){if(I$4(re)&&T$6(re,ee))return re.getEntitiesWithValue(ee);let ne=new Set;for(let oe of V$4(re)){let ae=g$4(re,oe);K$3(ee,ae)&&ne.add(oe)}return ne}function V$4(re){return re.entities()}function p$3(re){return Symbol.for(re)}function v$4(re){return Symbol.keyFor(re)}var N$2=(re=>(re[re.Has=0]="Has",re[re.HasValue=1]="HasValue",re[re.Not=2]="Not",re[re.NotValue=3]="NotValue",re[re.ProxyRead=4]="ProxyRead",re[re.ProxyExpand=5]="ProxyExpand",re))(N$2||{});function Ye(re){return{type:0,component:re}}function c$2(re,ee){if(ee.type===0)return le$1(ee.component,re);if(ee.type===1)return K$3(ee.value,g$4(ee.component,re));if(ee.type===2)return!le$1(ee.component,re);if(ee.type===3)return!K$3(ee.value,g$4(ee.component,re));throw new Error("Unknown query fragment")}function G$3(re){return re.type===0||re.type==1}function P$3(re){return re.type===2||re.type==3}function J$2(re){return re.type===5||re.type==4}function U$3(re,ee){return re&&G$3(ee)||!re&&P$3(ee)}function I$3(re,ee,ne){let oe=re,ae=!1;for(let he=0;he<ne.depth;he++){let pe=g$4(ne.component,oe);if(!pe)return null;let ge=pe.value;if(!ge)return null;if(oe=ge,ae=c$2(oe,ee),U$3(ae,ee))return ae}return ae}function Q$1(re,ee,ne){if(ne===0)return new Set;let oe=ce$1(ee,{value:re});if(ne===1)return oe;let ae=[...oe].map(he=>[...Q$1(he,ee,ne-1)]).flat();return new Set([...oe,...ae])}function A$4(re,ee){let ne=ee?new Set([...ee]):void 0,oe,ae;for(let he=0;he<re.length;he++){let pe=re[he];if(J$2(pe))pe.type===4&&(oe=pe),pe.type===5&&(ae=pe);else if(ne)for(let ge of[...ne]){let ve=c$2(ge,pe);if(oe&&oe.depth>0&&!U$3(ve,pe)&&(ve=I$3(ge,pe,oe)??ve),ve||ne.delete(ge),ae&&ae.depth>0){let we=Q$1(ge,ae.component,ae.depth);for(let Ee of we)(c$2(Ee,pe)||oe&&oe.depth>0&&I$3(Ee,pe,oe))&&ne.add(Ee)}}else{if(P$3(pe))throw new Error("First EntityQueryFragment must be Has or HasValue");if(ne=pe.type===0?new Set([...V$4(pe.component)]):ce$1(pe.component,pe.value),ae&&ae.depth>0)for(let ge of[...ne])for(let ve of Q$1(ge,ae.component,ae.depth))ne.add(ve)}}return ne??new Set}function ft(){let re=new Set,ee=[],ne=[];function oe({id:Ee,idSuffix:_e}={}){let Te=Ee||re.size+(_e?"-"+_e:""),Pe=p$3(Te);return re.add(Pe),Te}function ae(){return I$5(re.values(),v$4)}function he(Ee){ee.push(Ee)}function pe(Ee){for(let[,_e]of ne.filter(Te=>!Ee||Te[0]===Ee))_e();ne=ne.filter(_e=>Ee&&_e[0]!==Ee)}function ge(Ee,_e=""){ne.push([_e,Ee])}function ve(Ee){let _e=p$3(Ee);return re.has(_e)}function we(Ee){for(let _e of ee)le$1(_e,Ee)&&ue(_e,Ee);re.delete(p$3(Ee))}return{registerEntity:oe,components:ee,registerComponent:he,dispose:pe,registerDisposer:ge,hasEntity:ve,getEntities:ae,entitySymbols:re,deleteEntity:we}}var util$5;(function(re){re.assertEqual=ae=>ae;function ee(ae){}re.assertIs=ee;function ne(ae){throw new Error}re.assertNever=ne,re.arrayToEnum=ae=>{const he={};for(const pe of ae)he[pe]=pe;return he},re.getValidEnumValues=ae=>{const he=re.objectKeys(ae).filter(ge=>typeof ae[ae[ge]]!="number"),pe={};for(const ge of he)pe[ge]=ae[ge];return re.objectValues(pe)},re.objectValues=ae=>re.objectKeys(ae).map(function(he){return ae[he]}),re.objectKeys=typeof Object.keys=="function"?ae=>Object.keys(ae):ae=>{const he=[];for(const pe in ae)Object.prototype.hasOwnProperty.call(ae,pe)&&he.push(pe);return he},re.find=(ae,he)=>{for(const pe of ae)if(he(pe))return pe},re.isInteger=typeof Number.isInteger=="function"?ae=>Number.isInteger(ae):ae=>typeof ae=="number"&&isFinite(ae)&&Math.floor(ae)===ae;function oe(ae,he=" | "){return ae.map(pe=>typeof pe=="string"?`'${pe}'`:pe).join(he)}re.joinValues=oe,re.jsonStringifyReplacer=(ae,he)=>typeof he=="bigint"?he.toString():he})(util$5||(util$5={}));var objectUtil;(function(re){re.mergeShapes=(ee,ne)=>({...ee,...ne})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=re=>{switch(typeof re){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(re)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(re)?ZodParsedType.array:re===null?ZodParsedType.null:re.then&&typeof re.then=="function"&&re.catch&&typeof re.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&re instanceof Map?ZodParsedType.map:typeof Set<"u"&&re instanceof Set?ZodParsedType.set:typeof Date<"u"&&re instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=re=>JSON.stringify(re,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(ee){super(),this.issues=[],this.addIssue=oe=>{this.issues=[...this.issues,oe]},this.addIssues=(oe=[])=>{this.issues=[...this.issues,...oe]};const ne=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ne):this.__proto__=ne,this.name="ZodError",this.issues=ee}get errors(){return this.issues}format(ee){const ne=ee||function(he){return he.message},oe={_errors:[]},ae=he=>{for(const pe of he.issues)if(pe.code==="invalid_union")pe.unionErrors.map(ae);else if(pe.code==="invalid_return_type")ae(pe.returnTypeError);else if(pe.code==="invalid_arguments")ae(pe.argumentsError);else if(pe.path.length===0)oe._errors.push(ne(pe));else{let ge=oe,ve=0;for(;ve<pe.path.length;){const we=pe.path[ve];ve===pe.path.length-1?(ge[we]=ge[we]||{_errors:[]},ge[we]._errors.push(ne(pe))):ge[we]=ge[we]||{_errors:[]},ge=ge[we],ve++}}};return ae(this),oe}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(ee=ne=>ne.message){const ne={},oe=[];for(const ae of this.issues)ae.path.length>0?(ne[ae.path[0]]=ne[ae.path[0]]||[],ne[ae.path[0]].push(ee(ae))):oe.push(ee(ae));return{formErrors:oe,fieldErrors:ne}}get formErrors(){return this.flatten()}}ZodError.create=re=>new ZodError(re);const errorMap=(re,ee)=>{let ne;switch(re.code){case ZodIssueCode.invalid_type:re.received===ZodParsedType.undefined?ne="Required":ne=`Expected ${re.expected}, received ${re.received}`;break;case ZodIssueCode.invalid_literal:ne=`Invalid literal value, expected ${JSON.stringify(re.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:ne=`Unrecognized key(s) in object: ${util$5.joinValues(re.keys,", ")}`;break;case ZodIssueCode.invalid_union:ne="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:ne=`Invalid discriminator value. Expected ${util$5.joinValues(re.options)}`;break;case ZodIssueCode.invalid_enum_value:ne=`Invalid enum value. Expected ${util$5.joinValues(re.options)}, received '${re.received}'`;break;case ZodIssueCode.invalid_arguments:ne="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:ne="Invalid function return type";break;case ZodIssueCode.invalid_date:ne="Invalid date";break;case ZodIssueCode.invalid_string:typeof re.validation=="object"?"includes"in re.validation?(ne=`Invalid input: must include "${re.validation.includes}"`,typeof re.validation.position=="number"&&(ne=`${ne} at one or more positions greater than or equal to ${re.validation.position}`)):"startsWith"in re.validation?ne=`Invalid input: must start with "${re.validation.startsWith}"`:"endsWith"in re.validation?ne=`Invalid input: must end with "${re.validation.endsWith}"`:util$5.assertNever(re.validation):re.validation!=="regex"?ne=`Invalid ${re.validation}`:ne="Invalid";break;case ZodIssueCode.too_small:re.type==="array"?ne=`Array must contain ${re.exact?"exactly":re.inclusive?"at least":"more than"} ${re.minimum} element(s)`:re.type==="string"?ne=`String must contain ${re.exact?"exactly":re.inclusive?"at least":"over"} ${re.minimum} character(s)`:re.type==="number"?ne=`Number must be ${re.exact?"exactly equal to ":re.inclusive?"greater than or equal to ":"greater than "}${re.minimum}`:re.type==="date"?ne=`Date must be ${re.exact?"exactly equal to ":re.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(re.minimum))}`:ne="Invalid input";break;case ZodIssueCode.too_big:re.type==="array"?ne=`Array must contain ${re.exact?"exactly":re.inclusive?"at most":"less than"} ${re.maximum} element(s)`:re.type==="string"?ne=`String must contain ${re.exact?"exactly":re.inclusive?"at most":"under"} ${re.maximum} character(s)`:re.type==="number"?ne=`Number must be ${re.exact?"exactly":re.inclusive?"less than or equal to":"less than"} ${re.maximum}`:re.type==="bigint"?ne=`BigInt must be ${re.exact?"exactly":re.inclusive?"less than or equal to":"less than"} ${re.maximum}`:re.type==="date"?ne=`Date must be ${re.exact?"exactly":re.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(re.maximum))}`:ne="Invalid input";break;case ZodIssueCode.custom:ne="Invalid input";break;case ZodIssueCode.invalid_intersection_types:ne="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:ne=`Number must be a multiple of ${re.multipleOf}`;break;case ZodIssueCode.not_finite:ne="Number must be finite";break;default:ne=ee.defaultError,util$5.assertNever(re)}return{message:ne}};let overrideErrorMap=errorMap;function setErrorMap(re){overrideErrorMap=re}function getErrorMap(){return overrideErrorMap}const makeIssue=re=>{const{data:ee,path:ne,errorMaps:oe,issueData:ae}=re,he=[...ne,...ae.path||[]],pe={...ae,path:he};let ge="";const ve=oe.filter(we=>!!we).slice().reverse();for(const we of ve)ge=we(pe,{data:ee,defaultError:ge}).message;return{...ae,path:he,message:ae.message||ge}},EMPTY_PATH=[];function addIssueToContext(re,ee){const ne=makeIssue({issueData:ee,data:re.data,path:re.path,errorMaps:[re.common.contextualErrorMap,re.schemaErrorMap,getErrorMap(),errorMap].filter(oe=>!!oe)});re.common.issues.push(ne)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(ee,ne){const oe=[];for(const ae of ne){if(ae.status==="aborted")return INVALID;ae.status==="dirty"&&ee.dirty(),oe.push(ae.value)}return{status:ee.value,value:oe}}static async mergeObjectAsync(ee,ne){const oe=[];for(const ae of ne)oe.push({key:await ae.key,value:await ae.value});return ParseStatus.mergeObjectSync(ee,oe)}static mergeObjectSync(ee,ne){const oe={};for(const ae of ne){const{key:he,value:pe}=ae;if(he.status==="aborted"||pe.status==="aborted")return INVALID;he.status==="dirty"&&ee.dirty(),pe.status==="dirty"&&ee.dirty(),he.value!=="__proto__"&&(typeof pe.value<"u"||ae.alwaysSet)&&(oe[he.value]=pe.value)}return{status:ee.value,value:oe}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=re=>({status:"dirty",value:re}),OK=re=>({status:"valid",value:re}),isAborted=re=>re.status==="aborted",isDirty=re=>re.status==="dirty",isValid=re=>re.status==="valid",isAsync=re=>typeof Promise<"u"&&re instanceof Promise;var errorUtil;(function(re){re.errToObj=ee=>typeof ee=="string"?{message:ee}:ee||{},re.toString=ee=>typeof ee=="string"?ee:ee?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(ee,ne,oe,ae){this._cachedPath=[],this.parent=ee,this.data=ne,this._path=oe,this._key=ae}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(re,ee)=>{if(isValid(ee))return{success:!0,data:ee.value};if(!re.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const ne=new ZodError(re.common.issues);return this._error=ne,this._error}}};function processCreateParams(re){if(!re)return{};const{errorMap:ee,invalid_type_error:ne,required_error:oe,description:ae}=re;if(ee&&(ne||oe))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return ee?{errorMap:ee,description:ae}:{errorMap:(pe,ge)=>pe.code!=="invalid_type"?{message:ge.defaultError}:typeof ge.data>"u"?{message:oe??ge.defaultError}:{message:ne??ge.defaultError},description:ae}}class ZodType{constructor(ee){this.spa=this.safeParseAsync,this._def=ee,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(ee){return getParsedType(ee.data)}_getOrReturnCtx(ee,ne){return ne||{common:ee.parent.common,data:ee.data,parsedType:getParsedType(ee.data),schemaErrorMap:this._def.errorMap,path:ee.path,parent:ee.parent}}_processInputParams(ee){return{status:new ParseStatus,ctx:{common:ee.parent.common,data:ee.data,parsedType:getParsedType(ee.data),schemaErrorMap:this._def.errorMap,path:ee.path,parent:ee.parent}}}_parseSync(ee){const ne=this._parse(ee);if(isAsync(ne))throw new Error("Synchronous parse encountered promise.");return ne}_parseAsync(ee){const ne=this._parse(ee);return Promise.resolve(ne)}parse(ee,ne){const oe=this.safeParse(ee,ne);if(oe.success)return oe.data;throw oe.error}safeParse(ee,ne){var oe;const ae={common:{issues:[],async:(oe=ne?.async)!==null&&oe!==void 0?oe:!1,contextualErrorMap:ne?.errorMap},path:ne?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:ee,parsedType:getParsedType(ee)},he=this._parseSync({data:ee,path:ae.path,parent:ae});return handleResult(ae,he)}async parseAsync(ee,ne){const oe=await this.safeParseAsync(ee,ne);if(oe.success)return oe.data;throw oe.error}async safeParseAsync(ee,ne){const oe={common:{issues:[],contextualErrorMap:ne?.errorMap,async:!0},path:ne?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:ee,parsedType:getParsedType(ee)},ae=this._parse({data:ee,path:oe.path,parent:oe}),he=await(isAsync(ae)?ae:Promise.resolve(ae));return handleResult(oe,he)}refine(ee,ne){const oe=ae=>typeof ne=="string"||typeof ne>"u"?{message:ne}:typeof ne=="function"?ne(ae):ne;return this._refinement((ae,he)=>{const pe=ee(ae),ge=()=>he.addIssue({code:ZodIssueCode.custom,...oe(ae)});return typeof Promise<"u"&&pe instanceof Promise?pe.then(ve=>ve?!0:(ge(),!1)):pe?!0:(ge(),!1)})}refinement(ee,ne){return this._refinement((oe,ae)=>ee(oe)?!0:(ae.addIssue(typeof ne=="function"?ne(oe,ae):ne),!1))}_refinement(ee){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:ee}})}superRefine(ee){return this._refinement(ee)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(ee){return ZodUnion.create([this,ee],this._def)}and(ee){return ZodIntersection.create(this,ee,this._def)}transform(ee){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:ee}})}default(ee){const ne=typeof ee=="function"?ee:()=>ee;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:ne,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(ee){const ne=typeof ee=="function"?ee:()=>ee;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:ne,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(ee){const ne=this.constructor;return new ne({...this._def,description:ee})}pipe(ee){return ZodPipeline.create(this,ee)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=re=>re.precision?re.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${re.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${re.precision}}Z$`):re.precision===0?re.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):re.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(re,ee){return!!((ee==="v4"||!ee)&&ipv4Regex.test(re)||(ee==="v6"||!ee)&&ipv6Regex.test(re))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(ee,ne,oe)=>this.refinement(ae=>ee.test(ae),{validation:ne,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(oe)}),this.nonempty=ee=>this.min(1,errorUtil.errToObj(ee)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(ee){if(this._def.coerce&&(ee.data=String(ee.data)),this._getType(ee)!==ZodParsedType.string){const he=this._getOrReturnCtx(ee);return addIssueToContext(he,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:he.parsedType}),INVALID}const oe=new ParseStatus;let ae;for(const he of this._def.checks)if(he.kind==="min")ee.data.length<he.value&&(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.too_small,minimum:he.value,type:"string",inclusive:!0,exact:!1,message:he.message}),oe.dirty());else if(he.kind==="max")ee.data.length>he.value&&(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.too_big,maximum:he.value,type:"string",inclusive:!0,exact:!1,message:he.message}),oe.dirty());else if(he.kind==="length"){const pe=ee.data.length>he.value,ge=ee.data.length<he.value;(pe||ge)&&(ae=this._getOrReturnCtx(ee,ae),pe?addIssueToContext(ae,{code:ZodIssueCode.too_big,maximum:he.value,type:"string",inclusive:!0,exact:!0,message:he.message}):ge&&addIssueToContext(ae,{code:ZodIssueCode.too_small,minimum:he.value,type:"string",inclusive:!0,exact:!0,message:he.message}),oe.dirty())}else if(he.kind==="email")emailRegex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"email",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty());else if(he.kind==="emoji")emojiRegex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"emoji",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty());else if(he.kind==="uuid")uuidRegex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"uuid",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty());else if(he.kind==="cuid")cuidRegex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"cuid",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty());else if(he.kind==="cuid2")cuid2Regex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty());else if(he.kind==="ulid")ulidRegex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"ulid",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty());else if(he.kind==="url")try{new URL(ee.data)}catch{ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"url",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty()}else he.kind==="regex"?(he.regex.lastIndex=0,he.regex.test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"regex",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty())):he.kind==="trim"?ee.data=ee.data.trim():he.kind==="includes"?ee.data.includes(he.value,he.position)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.invalid_string,validation:{includes:he.value,position:he.position},message:he.message}),oe.dirty()):he.kind==="toLowerCase"?ee.data=ee.data.toLowerCase():he.kind==="toUpperCase"?ee.data=ee.data.toUpperCase():he.kind==="startsWith"?ee.data.startsWith(he.value)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.invalid_string,validation:{startsWith:he.value},message:he.message}),oe.dirty()):he.kind==="endsWith"?ee.data.endsWith(he.value)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.invalid_string,validation:{endsWith:he.value},message:he.message}),oe.dirty()):he.kind==="datetime"?datetimeRegex(he).test(ee.data)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.invalid_string,validation:"datetime",message:he.message}),oe.dirty()):he.kind==="ip"?isValidIP(ee.data,he.version)||(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{validation:"ip",code:ZodIssueCode.invalid_string,message:he.message}),oe.dirty()):util$5.assertNever(he);return{status:oe.value,value:ee.data}}_addCheck(ee){return new ZodString({...this._def,checks:[...this._def.checks,ee]})}email(ee){return this._addCheck({kind:"email",...errorUtil.errToObj(ee)})}url(ee){return this._addCheck({kind:"url",...errorUtil.errToObj(ee)})}emoji(ee){return this._addCheck({kind:"emoji",...errorUtil.errToObj(ee)})}uuid(ee){return this._addCheck({kind:"uuid",...errorUtil.errToObj(ee)})}cuid(ee){return this._addCheck({kind:"cuid",...errorUtil.errToObj(ee)})}cuid2(ee){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(ee)})}ulid(ee){return this._addCheck({kind:"ulid",...errorUtil.errToObj(ee)})}ip(ee){return this._addCheck({kind:"ip",...errorUtil.errToObj(ee)})}datetime(ee){var ne;return typeof ee=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:ee}):this._addCheck({kind:"datetime",precision:typeof ee?.precision>"u"?null:ee?.precision,offset:(ne=ee?.offset)!==null&&ne!==void 0?ne:!1,...errorUtil.errToObj(ee?.message)})}regex(ee,ne){return this._addCheck({kind:"regex",regex:ee,...errorUtil.errToObj(ne)})}includes(ee,ne){return this._addCheck({kind:"includes",value:ee,position:ne?.position,...errorUtil.errToObj(ne?.message)})}startsWith(ee,ne){return this._addCheck({kind:"startsWith",value:ee,...errorUtil.errToObj(ne)})}endsWith(ee,ne){return this._addCheck({kind:"endsWith",value:ee,...errorUtil.errToObj(ne)})}min(ee,ne){return this._addCheck({kind:"min",value:ee,...errorUtil.errToObj(ne)})}max(ee,ne){return this._addCheck({kind:"max",value:ee,...errorUtil.errToObj(ne)})}length(ee,ne){return this._addCheck({kind:"length",value:ee,...errorUtil.errToObj(ne)})}get isDatetime(){return!!this._def.checks.find(ee=>ee.kind==="datetime")}get isEmail(){return!!this._def.checks.find(ee=>ee.kind==="email")}get isURL(){return!!this._def.checks.find(ee=>ee.kind==="url")}get isEmoji(){return!!this._def.checks.find(ee=>ee.kind==="emoji")}get isUUID(){return!!this._def.checks.find(ee=>ee.kind==="uuid")}get isCUID(){return!!this._def.checks.find(ee=>ee.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(ee=>ee.kind==="cuid2")}get isULID(){return!!this._def.checks.find(ee=>ee.kind==="ulid")}get isIP(){return!!this._def.checks.find(ee=>ee.kind==="ip")}get minLength(){let ee=null;for(const ne of this._def.checks)ne.kind==="min"&&(ee===null||ne.value>ee)&&(ee=ne.value);return ee}get maxLength(){let ee=null;for(const ne of this._def.checks)ne.kind==="max"&&(ee===null||ne.value<ee)&&(ee=ne.value);return ee}}ZodString.create=re=>{var ee;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(ee=re?.coerce)!==null&&ee!==void 0?ee:!1,...processCreateParams(re)})};function floatSafeRemainder(re,ee){const ne=(re.toString().split(".")[1]||"").length,oe=(ee.toString().split(".")[1]||"").length,ae=ne>oe?ne:oe,he=parseInt(re.toFixed(ae).replace(".","")),pe=parseInt(ee.toFixed(ae).replace(".",""));return he%pe/Math.pow(10,ae)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(ee){if(this._def.coerce&&(ee.data=Number(ee.data)),this._getType(ee)!==ZodParsedType.number){const he=this._getOrReturnCtx(ee);return addIssueToContext(he,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:he.parsedType}),INVALID}let oe;const ae=new ParseStatus;for(const he of this._def.checks)he.kind==="int"?util$5.isInteger(ee.data)||(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:he.message}),ae.dirty()):he.kind==="min"?(he.inclusive?ee.data<he.value:ee.data<=he.value)&&(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.too_small,minimum:he.value,type:"number",inclusive:he.inclusive,exact:!1,message:he.message}),ae.dirty()):he.kind==="max"?(he.inclusive?ee.data>he.value:ee.data>=he.value)&&(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.too_big,maximum:he.value,type:"number",inclusive:he.inclusive,exact:!1,message:he.message}),ae.dirty()):he.kind==="multipleOf"?floatSafeRemainder(ee.data,he.value)!==0&&(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.not_multiple_of,multipleOf:he.value,message:he.message}),ae.dirty()):he.kind==="finite"?Number.isFinite(ee.data)||(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.not_finite,message:he.message}),ae.dirty()):util$5.assertNever(he);return{status:ae.value,value:ee.data}}gte(ee,ne){return this.setLimit("min",ee,!0,errorUtil.toString(ne))}gt(ee,ne){return this.setLimit("min",ee,!1,errorUtil.toString(ne))}lte(ee,ne){return this.setLimit("max",ee,!0,errorUtil.toString(ne))}lt(ee,ne){return this.setLimit("max",ee,!1,errorUtil.toString(ne))}setLimit(ee,ne,oe,ae){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:ee,value:ne,inclusive:oe,message:errorUtil.toString(ae)}]})}_addCheck(ee){return new ZodNumber({...this._def,checks:[...this._def.checks,ee]})}int(ee){return this._addCheck({kind:"int",message:errorUtil.toString(ee)})}positive(ee){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(ee)})}negative(ee){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(ee)})}nonpositive(ee){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(ee)})}nonnegative(ee){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(ee)})}multipleOf(ee,ne){return this._addCheck({kind:"multipleOf",value:ee,message:errorUtil.toString(ne)})}finite(ee){return this._addCheck({kind:"finite",message:errorUtil.toString(ee)})}safe(ee){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(ee)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(ee)})}get minValue(){let ee=null;for(const ne of this._def.checks)ne.kind==="min"&&(ee===null||ne.value>ee)&&(ee=ne.value);return ee}get maxValue(){let ee=null;for(const ne of this._def.checks)ne.kind==="max"&&(ee===null||ne.value<ee)&&(ee=ne.value);return ee}get isInt(){return!!this._def.checks.find(ee=>ee.kind==="int"||ee.kind==="multipleOf"&&util$5.isInteger(ee.value))}get isFinite(){let ee=null,ne=null;for(const oe of this._def.checks){if(oe.kind==="finite"||oe.kind==="int"||oe.kind==="multipleOf")return!0;oe.kind==="min"?(ne===null||oe.value>ne)&&(ne=oe.value):oe.kind==="max"&&(ee===null||oe.value<ee)&&(ee=oe.value)}return Number.isFinite(ne)&&Number.isFinite(ee)}}ZodNumber.create=re=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:re?.coerce||!1,...processCreateParams(re)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(ee){if(this._def.coerce&&(ee.data=BigInt(ee.data)),this._getType(ee)!==ZodParsedType.bigint){const he=this._getOrReturnCtx(ee);return addIssueToContext(he,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:he.parsedType}),INVALID}let oe;const ae=new ParseStatus;for(const he of this._def.checks)he.kind==="min"?(he.inclusive?ee.data<he.value:ee.data<=he.value)&&(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.too_small,type:"bigint",minimum:he.value,inclusive:he.inclusive,message:he.message}),ae.dirty()):he.kind==="max"?(he.inclusive?ee.data>he.value:ee.data>=he.value)&&(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.too_big,type:"bigint",maximum:he.value,inclusive:he.inclusive,message:he.message}),ae.dirty()):he.kind==="multipleOf"?ee.data%he.value!==BigInt(0)&&(oe=this._getOrReturnCtx(ee,oe),addIssueToContext(oe,{code:ZodIssueCode.not_multiple_of,multipleOf:he.value,message:he.message}),ae.dirty()):util$5.assertNever(he);return{status:ae.value,value:ee.data}}gte(ee,ne){return this.setLimit("min",ee,!0,errorUtil.toString(ne))}gt(ee,ne){return this.setLimit("min",ee,!1,errorUtil.toString(ne))}lte(ee,ne){return this.setLimit("max",ee,!0,errorUtil.toString(ne))}lt(ee,ne){return this.setLimit("max",ee,!1,errorUtil.toString(ne))}setLimit(ee,ne,oe,ae){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:ee,value:ne,inclusive:oe,message:errorUtil.toString(ae)}]})}_addCheck(ee){return new ZodBigInt({...this._def,checks:[...this._def.checks,ee]})}positive(ee){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(ee)})}negative(ee){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(ee)})}nonpositive(ee){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(ee)})}nonnegative(ee){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(ee)})}multipleOf(ee,ne){return this._addCheck({kind:"multipleOf",value:ee,message:errorUtil.toString(ne)})}get minValue(){let ee=null;for(const ne of this._def.checks)ne.kind==="min"&&(ee===null||ne.value>ee)&&(ee=ne.value);return ee}get maxValue(){let ee=null;for(const ne of this._def.checks)ne.kind==="max"&&(ee===null||ne.value<ee)&&(ee=ne.value);return ee}}ZodBigInt.create=re=>{var ee;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(ee=re?.coerce)!==null&&ee!==void 0?ee:!1,...processCreateParams(re)})};class ZodBoolean extends ZodType{_parse(ee){if(this._def.coerce&&(ee.data=!!ee.data),this._getType(ee)!==ZodParsedType.boolean){const oe=this._getOrReturnCtx(ee);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:oe.parsedType}),INVALID}return OK(ee.data)}}ZodBoolean.create=re=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:re?.coerce||!1,...processCreateParams(re)});class ZodDate extends ZodType{_parse(ee){if(this._def.coerce&&(ee.data=new Date(ee.data)),this._getType(ee)!==ZodParsedType.date){const he=this._getOrReturnCtx(ee);return addIssueToContext(he,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:he.parsedType}),INVALID}if(isNaN(ee.data.getTime())){const he=this._getOrReturnCtx(ee);return addIssueToContext(he,{code:ZodIssueCode.invalid_date}),INVALID}const oe=new ParseStatus;let ae;for(const he of this._def.checks)he.kind==="min"?ee.data.getTime()<he.value&&(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.too_small,message:he.message,inclusive:!0,exact:!1,minimum:he.value,type:"date"}),oe.dirty()):he.kind==="max"?ee.data.getTime()>he.value&&(ae=this._getOrReturnCtx(ee,ae),addIssueToContext(ae,{code:ZodIssueCode.too_big,message:he.message,inclusive:!0,exact:!1,maximum:he.value,type:"date"}),oe.dirty()):util$5.assertNever(he);return{status:oe.value,value:new Date(ee.data.getTime())}}_addCheck(ee){return new ZodDate({...this._def,checks:[...this._def.checks,ee]})}min(ee,ne){return this._addCheck({kind:"min",value:ee.getTime(),message:errorUtil.toString(ne)})}max(ee,ne){return this._addCheck({kind:"max",value:ee.getTime(),message:errorUtil.toString(ne)})}get minDate(){let ee=null;for(const ne of this._def.checks)ne.kind==="min"&&(ee===null||ne.value>ee)&&(ee=ne.value);return ee!=null?new Date(ee):null}get maxDate(){let ee=null;for(const ne of this._def.checks)ne.kind==="max"&&(ee===null||ne.value<ee)&&(ee=ne.value);return ee!=null?new Date(ee):null}}ZodDate.create=re=>new ZodDate({checks:[],coerce:re?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(re)});class ZodSymbol extends ZodType{_parse(ee){if(this._getType(ee)!==ZodParsedType.symbol){const oe=this._getOrReturnCtx(ee);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:oe.parsedType}),INVALID}return OK(ee.data)}}ZodSymbol.create=re=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(re)});class ZodUndefined extends ZodType{_parse(ee){if(this._getType(ee)!==ZodParsedType.undefined){const oe=this._getOrReturnCtx(ee);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:oe.parsedType}),INVALID}return OK(ee.data)}}ZodUndefined.create=re=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(re)});class ZodNull extends ZodType{_parse(ee){if(this._getType(ee)!==ZodParsedType.null){const oe=this._getOrReturnCtx(ee);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:oe.parsedType}),INVALID}return OK(ee.data)}}ZodNull.create=re=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(re)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(ee){return OK(ee.data)}}ZodAny.create=re=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(re)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(ee){return OK(ee.data)}}ZodUnknown.create=re=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(re)});class ZodNever extends ZodType{_parse(ee){const ne=this._getOrReturnCtx(ee);return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ne.parsedType}),INVALID}}ZodNever.create=re=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(re)});class ZodVoid extends ZodType{_parse(ee){if(this._getType(ee)!==ZodParsedType.undefined){const oe=this._getOrReturnCtx(ee);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:oe.parsedType}),INVALID}return OK(ee.data)}}ZodVoid.create=re=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(re)});class ZodArray extends ZodType{_parse(ee){const{ctx:ne,status:oe}=this._processInputParams(ee),ae=this._def;if(ne.parsedType!==ZodParsedType.array)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ne.parsedType}),INVALID;if(ae.exactLength!==null){const pe=ne.data.length>ae.exactLength.value,ge=ne.data.length<ae.exactLength.value;(pe||ge)&&(addIssueToContext(ne,{code:pe?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:ge?ae.exactLength.value:void 0,maximum:pe?ae.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ae.exactLength.message}),oe.dirty())}if(ae.minLength!==null&&ne.data.length<ae.minLength.value&&(addIssueToContext(ne,{code:ZodIssueCode.too_small,minimum:ae.minLength.value,type:"array",inclusive:!0,exact:!1,message:ae.minLength.message}),oe.dirty()),ae.maxLength!==null&&ne.data.length>ae.maxLength.value&&(addIssueToContext(ne,{code:ZodIssueCode.too_big,maximum:ae.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ae.maxLength.message}),oe.dirty()),ne.common.async)return Promise.all([...ne.data].map((pe,ge)=>ae.type._parseAsync(new ParseInputLazyPath(ne,pe,ne.path,ge)))).then(pe=>ParseStatus.mergeArray(oe,pe));const he=[...ne.data].map((pe,ge)=>ae.type._parseSync(new ParseInputLazyPath(ne,pe,ne.path,ge)));return ParseStatus.mergeArray(oe,he)}get element(){return this._def.type}min(ee,ne){return new ZodArray({...this._def,minLength:{value:ee,message:errorUtil.toString(ne)}})}max(ee,ne){return new ZodArray({...this._def,maxLength:{value:ee,message:errorUtil.toString(ne)}})}length(ee,ne){return new ZodArray({...this._def,exactLength:{value:ee,message:errorUtil.toString(ne)}})}nonempty(ee){return this.min(1,ee)}}ZodArray.create=(re,ee)=>new ZodArray({type:re,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(ee)});function deepPartialify(re){if(re instanceof ZodObject){const ee={};for(const ne in re.shape){const oe=re.shape[ne];ee[ne]=ZodOptional.create(deepPartialify(oe))}return new ZodObject({...re._def,shape:()=>ee})}else return re instanceof ZodArray?new ZodArray({...re._def,type:deepPartialify(re.element)}):re instanceof ZodOptional?ZodOptional.create(deepPartialify(re.unwrap())):re instanceof ZodNullable?ZodNullable.create(deepPartialify(re.unwrap())):re instanceof ZodTuple?ZodTuple.create(re.items.map(ee=>deepPartialify(ee))):re}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const ee=this._def.shape(),ne=util$5.objectKeys(ee);return this._cached={shape:ee,keys:ne}}_parse(ee){if(this._getType(ee)!==ZodParsedType.object){const we=this._getOrReturnCtx(ee);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:we.parsedType}),INVALID}const{status:oe,ctx:ae}=this._processInputParams(ee),{shape:he,keys:pe}=this._getCached(),ge=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const we in ae.data)pe.includes(we)||ge.push(we);const ve=[];for(const we of pe){const Ee=he[we],_e=ae.data[we];ve.push({key:{status:"valid",value:we},value:Ee._parse(new ParseInputLazyPath(ae,_e,ae.path,we)),alwaysSet:we in ae.data})}if(this._def.catchall instanceof ZodNever){const we=this._def.unknownKeys;if(we==="passthrough")for(const Ee of ge)ve.push({key:{status:"valid",value:Ee},value:{status:"valid",value:ae.data[Ee]}});else if(we==="strict")ge.length>0&&(addIssueToContext(ae,{code:ZodIssueCode.unrecognized_keys,keys:ge}),oe.dirty());else if(we!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const we=this._def.catchall;for(const Ee of ge){const _e=ae.data[Ee];ve.push({key:{status:"valid",value:Ee},value:we._parse(new ParseInputLazyPath(ae,_e,ae.path,Ee)),alwaysSet:Ee in ae.data})}}return ae.common.async?Promise.resolve().then(async()=>{const we=[];for(const Ee of ve){const _e=await Ee.key;we.push({key:_e,value:await Ee.value,alwaysSet:Ee.alwaysSet})}return we}).then(we=>ParseStatus.mergeObjectSync(oe,we)):ParseStatus.mergeObjectSync(oe,ve)}get shape(){return this._def.shape()}strict(ee){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...ee!==void 0?{errorMap:(ne,oe)=>{var ae,he,pe,ge;const ve=(pe=(he=(ae=this._def).errorMap)===null||he===void 0?void 0:he.call(ae,ne,oe).message)!==null&&pe!==void 0?pe:oe.defaultError;return ne.code==="unrecognized_keys"?{message:(ge=errorUtil.errToObj(ee).message)!==null&&ge!==void 0?ge:ve}:{message:ve}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(ee){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...ee})})}merge(ee){return new ZodObject({unknownKeys:ee._def.unknownKeys,catchall:ee._def.catchall,shape:()=>({...this._def.shape(),...ee._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(ee,ne){return this.augment({[ee]:ne})}catchall(ee){return new ZodObject({...this._def,catchall:ee})}pick(ee){const ne={};return util$5.objectKeys(ee).forEach(oe=>{ee[oe]&&this.shape[oe]&&(ne[oe]=this.shape[oe])}),new ZodObject({...this._def,shape:()=>ne})}omit(ee){const ne={};return util$5.objectKeys(this.shape).forEach(oe=>{ee[oe]||(ne[oe]=this.shape[oe])}),new ZodObject({...this._def,shape:()=>ne})}deepPartial(){return deepPartialify(this)}partial(ee){const ne={};return util$5.objectKeys(this.shape).forEach(oe=>{const ae=this.shape[oe];ee&&!ee[oe]?ne[oe]=ae:ne[oe]=ae.optional()}),new ZodObject({...this._def,shape:()=>ne})}required(ee){const ne={};return util$5.objectKeys(this.shape).forEach(oe=>{if(ee&&!ee[oe])ne[oe]=this.shape[oe];else{let he=this.shape[oe];for(;he instanceof ZodOptional;)he=he._def.innerType;ne[oe]=he}}),new ZodObject({...this._def,shape:()=>ne})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(re,ee)=>new ZodObject({shape:()=>re,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(ee)});ZodObject.strictCreate=(re,ee)=>new ZodObject({shape:()=>re,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(ee)});ZodObject.lazycreate=(re,ee)=>new ZodObject({shape:re,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(ee)});class ZodUnion extends ZodType{_parse(ee){const{ctx:ne}=this._processInputParams(ee),oe=this._def.options;function ae(he){for(const ge of he)if(ge.result.status==="valid")return ge.result;for(const ge of he)if(ge.result.status==="dirty")return ne.common.issues.push(...ge.ctx.common.issues),ge.result;const pe=he.map(ge=>new ZodError(ge.ctx.common.issues));return addIssueToContext(ne,{code:ZodIssueCode.invalid_union,unionErrors:pe}),INVALID}if(ne.common.async)return Promise.all(oe.map(async he=>{const pe={...ne,common:{...ne.common,issues:[]},parent:null};return{result:await he._parseAsync({data:ne.data,path:ne.path,parent:pe}),ctx:pe}})).then(ae);{let he;const pe=[];for(const ve of oe){const we={...ne,common:{...ne.common,issues:[]},parent:null},Ee=ve._parseSync({data:ne.data,path:ne.path,parent:we});if(Ee.status==="valid")return Ee;Ee.status==="dirty"&&!he&&(he={result:Ee,ctx:we}),we.common.issues.length&&pe.push(we.common.issues)}if(he)return ne.common.issues.push(...he.ctx.common.issues),he.result;const ge=pe.map(ve=>new ZodError(ve));return addIssueToContext(ne,{code:ZodIssueCode.invalid_union,unionErrors:ge}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(re,ee)=>new ZodUnion({options:re,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(ee)});const getDiscriminator=re=>re instanceof ZodLazy?getDiscriminator(re.schema):re instanceof ZodEffects?getDiscriminator(re.innerType()):re instanceof ZodLiteral?[re.value]:re instanceof ZodEnum?re.options:re instanceof ZodNativeEnum?Object.keys(re.enum):re instanceof ZodDefault?getDiscriminator(re._def.innerType):re instanceof ZodUndefined?[void 0]:re instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(ee){const{ctx:ne}=this._processInputParams(ee);if(ne.parsedType!==ZodParsedType.object)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ne.parsedType}),INVALID;const oe=this.discriminator,ae=ne.data[oe],he=this.optionsMap.get(ae);return he?ne.common.async?he._parseAsync({data:ne.data,path:ne.path,parent:ne}):he._parseSync({data:ne.data,path:ne.path,parent:ne}):(addIssueToContext(ne,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[oe]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(ee,ne,oe){const ae=new Map;for(const he of ne){const pe=getDiscriminator(he.shape[ee]);if(!pe)throw new Error(`A discriminator value for key \`${ee}\` could not be extracted from all schema options`);for(const ge of pe){if(ae.has(ge))throw new Error(`Discriminator property ${String(ee)} has duplicate value ${String(ge)}`);ae.set(ge,he)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:ee,options:ne,optionsMap:ae,...processCreateParams(oe)})}}function mergeValues(re,ee){const ne=getParsedType(re),oe=getParsedType(ee);if(re===ee)return{valid:!0,data:re};if(ne===ZodParsedType.object&&oe===ZodParsedType.object){const ae=util$5.objectKeys(ee),he=util$5.objectKeys(re).filter(ge=>ae.indexOf(ge)!==-1),pe={...re,...ee};for(const ge of he){const ve=mergeValues(re[ge],ee[ge]);if(!ve.valid)return{valid:!1};pe[ge]=ve.data}return{valid:!0,data:pe}}else if(ne===ZodParsedType.array&&oe===ZodParsedType.array){if(re.length!==ee.length)return{valid:!1};const ae=[];for(let he=0;he<re.length;he++){const pe=re[he],ge=ee[he],ve=mergeValues(pe,ge);if(!ve.valid)return{valid:!1};ae.push(ve.data)}return{valid:!0,data:ae}}else return ne===ZodParsedType.date&&oe===ZodParsedType.date&&+re==+ee?{valid:!0,data:re}:{valid:!1}}class ZodIntersection extends ZodType{_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee),ae=(he,pe)=>{if(isAborted(he)||isAborted(pe))return INVALID;const ge=mergeValues(he.value,pe.value);return ge.valid?((isDirty(he)||isDirty(pe))&&ne.dirty(),{status:ne.value,value:ge.data}):(addIssueToContext(oe,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return oe.common.async?Promise.all([this._def.left._parseAsync({data:oe.data,path:oe.path,parent:oe}),this._def.right._parseAsync({data:oe.data,path:oe.path,parent:oe})]).then(([he,pe])=>ae(he,pe)):ae(this._def.left._parseSync({data:oe.data,path:oe.path,parent:oe}),this._def.right._parseSync({data:oe.data,path:oe.path,parent:oe}))}}ZodIntersection.create=(re,ee,ne)=>new ZodIntersection({left:re,right:ee,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(ne)});class ZodTuple extends ZodType{_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee);if(oe.parsedType!==ZodParsedType.array)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:oe.parsedType}),INVALID;if(oe.data.length<this._def.items.length)return addIssueToContext(oe,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&oe.data.length>this._def.items.length&&(addIssueToContext(oe,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne.dirty());const he=[...oe.data].map((pe,ge)=>{const ve=this._def.items[ge]||this._def.rest;return ve?ve._parse(new ParseInputLazyPath(oe,pe,oe.path,ge)):null}).filter(pe=>!!pe);return oe.common.async?Promise.all(he).then(pe=>ParseStatus.mergeArray(ne,pe)):ParseStatus.mergeArray(ne,he)}get items(){return this._def.items}rest(ee){return new ZodTuple({...this._def,rest:ee})}}ZodTuple.create=(re,ee)=>{if(!Array.isArray(re))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:re,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(ee)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee);if(oe.parsedType!==ZodParsedType.object)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:oe.parsedType}),INVALID;const ae=[],he=this._def.keyType,pe=this._def.valueType;for(const ge in oe.data)ae.push({key:he._parse(new ParseInputLazyPath(oe,ge,oe.path,ge)),value:pe._parse(new ParseInputLazyPath(oe,oe.data[ge],oe.path,ge))});return oe.common.async?ParseStatus.mergeObjectAsync(ne,ae):ParseStatus.mergeObjectSync(ne,ae)}get element(){return this._def.valueType}static create(ee,ne,oe){return ne instanceof ZodType?new ZodRecord({keyType:ee,valueType:ne,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(oe)}):new ZodRecord({keyType:ZodString.create(),valueType:ee,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ne)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee);if(oe.parsedType!==ZodParsedType.map)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:oe.parsedType}),INVALID;const ae=this._def.keyType,he=this._def.valueType,pe=[...oe.data.entries()].map(([ge,ve],we)=>({key:ae._parse(new ParseInputLazyPath(oe,ge,oe.path,[we,"key"])),value:he._parse(new ParseInputLazyPath(oe,ve,oe.path,[we,"value"]))}));if(oe.common.async){const ge=new Map;return Promise.resolve().then(async()=>{for(const ve of pe){const we=await ve.key,Ee=await ve.value;if(we.status==="aborted"||Ee.status==="aborted")return INVALID;(we.status==="dirty"||Ee.status==="dirty")&&ne.dirty(),ge.set(we.value,Ee.value)}return{status:ne.value,value:ge}})}else{const ge=new Map;for(const ve of pe){const we=ve.key,Ee=ve.value;if(we.status==="aborted"||Ee.status==="aborted")return INVALID;(we.status==="dirty"||Ee.status==="dirty")&&ne.dirty(),ge.set(we.value,Ee.value)}return{status:ne.value,value:ge}}}}ZodMap.create=(re,ee,ne)=>new ZodMap({valueType:ee,keyType:re,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(ne)});class ZodSet extends ZodType{_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee);if(oe.parsedType!==ZodParsedType.set)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:oe.parsedType}),INVALID;const ae=this._def;ae.minSize!==null&&oe.data.size<ae.minSize.value&&(addIssueToContext(oe,{code:ZodIssueCode.too_small,minimum:ae.minSize.value,type:"set",inclusive:!0,exact:!1,message:ae.minSize.message}),ne.dirty()),ae.maxSize!==null&&oe.data.size>ae.maxSize.value&&(addIssueToContext(oe,{code:ZodIssueCode.too_big,maximum:ae.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ae.maxSize.message}),ne.dirty());const he=this._def.valueType;function pe(ve){const we=new Set;for(const Ee of ve){if(Ee.status==="aborted")return INVALID;Ee.status==="dirty"&&ne.dirty(),we.add(Ee.value)}return{status:ne.value,value:we}}const ge=[...oe.data.values()].map((ve,we)=>he._parse(new ParseInputLazyPath(oe,ve,oe.path,we)));return oe.common.async?Promise.all(ge).then(ve=>pe(ve)):pe(ge)}min(ee,ne){return new ZodSet({...this._def,minSize:{value:ee,message:errorUtil.toString(ne)}})}max(ee,ne){return new ZodSet({...this._def,maxSize:{value:ee,message:errorUtil.toString(ne)}})}size(ee,ne){return this.min(ee,ne).max(ee,ne)}nonempty(ee){return this.min(1,ee)}}ZodSet.create=(re,ee)=>new ZodSet({valueType:re,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(ee)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(ee){const{ctx:ne}=this._processInputParams(ee);if(ne.parsedType!==ZodParsedType.function)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ne.parsedType}),INVALID;function oe(ge,ve){return makeIssue({data:ge,path:ne.path,errorMaps:[ne.common.contextualErrorMap,ne.schemaErrorMap,getErrorMap(),errorMap].filter(we=>!!we),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ve}})}function ae(ge,ve){return makeIssue({data:ge,path:ne.path,errorMaps:[ne.common.contextualErrorMap,ne.schemaErrorMap,getErrorMap(),errorMap].filter(we=>!!we),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ve}})}const he={errorMap:ne.common.contextualErrorMap},pe=ne.data;if(this._def.returns instanceof ZodPromise){const ge=this;return OK(async function(...ve){const we=new ZodError([]),Ee=await ge._def.args.parseAsync(ve,he).catch(Pe=>{throw we.addIssue(oe(ve,Pe)),we}),_e=await Reflect.apply(pe,this,Ee);return await ge._def.returns._def.type.parseAsync(_e,he).catch(Pe=>{throw we.addIssue(ae(_e,Pe)),we})})}else{const ge=this;return OK(function(...ve){const we=ge._def.args.safeParse(ve,he);if(!we.success)throw new ZodError([oe(ve,we.error)]);const Ee=Reflect.apply(pe,this,we.data),_e=ge._def.returns.safeParse(Ee,he);if(!_e.success)throw new ZodError([ae(Ee,_e.error)]);return _e.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...ee){return new ZodFunction({...this._def,args:ZodTuple.create(ee).rest(ZodUnknown.create())})}returns(ee){return new ZodFunction({...this._def,returns:ee})}implement(ee){return this.parse(ee)}strictImplement(ee){return this.parse(ee)}static create(ee,ne,oe){return new ZodFunction({args:ee||ZodTuple.create([]).rest(ZodUnknown.create()),returns:ne||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(oe)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(ee){const{ctx:ne}=this._processInputParams(ee);return this._def.getter()._parse({data:ne.data,path:ne.path,parent:ne})}}ZodLazy.create=(re,ee)=>new ZodLazy({getter:re,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(ee)});class ZodLiteral extends ZodType{_parse(ee){if(ee.data!==this._def.value){const ne=this._getOrReturnCtx(ee);return addIssueToContext(ne,{received:ne.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:ee.data}}get value(){return this._def.value}}ZodLiteral.create=(re,ee)=>new ZodLiteral({value:re,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(ee)});function createZodEnum(re,ee){return new ZodEnum({values:re,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(ee)})}class ZodEnum extends ZodType{_parse(ee){if(typeof ee.data!="string"){const ne=this._getOrReturnCtx(ee),oe=this._def.values;return addIssueToContext(ne,{expected:util$5.joinValues(oe),received:ne.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(ee.data)===-1){const ne=this._getOrReturnCtx(ee),oe=this._def.values;return addIssueToContext(ne,{received:ne.data,code:ZodIssueCode.invalid_enum_value,options:oe}),INVALID}return OK(ee.data)}get options(){return this._def.values}get enum(){const ee={};for(const ne of this._def.values)ee[ne]=ne;return ee}get Values(){const ee={};for(const ne of this._def.values)ee[ne]=ne;return ee}get Enum(){const ee={};for(const ne of this._def.values)ee[ne]=ne;return ee}extract(ee){return ZodEnum.create(ee)}exclude(ee){return ZodEnum.create(this.options.filter(ne=>!ee.includes(ne)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(ee){const ne=util$5.getValidEnumValues(this._def.values),oe=this._getOrReturnCtx(ee);if(oe.parsedType!==ZodParsedType.string&&oe.parsedType!==ZodParsedType.number){const ae=util$5.objectValues(ne);return addIssueToContext(oe,{expected:util$5.joinValues(ae),received:oe.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(ne.indexOf(ee.data)===-1){const ae=util$5.objectValues(ne);return addIssueToContext(oe,{received:oe.data,code:ZodIssueCode.invalid_enum_value,options:ae}),INVALID}return OK(ee.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(re,ee)=>new ZodNativeEnum({values:re,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(ee)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(ee){const{ctx:ne}=this._processInputParams(ee);if(ne.parsedType!==ZodParsedType.promise&&ne.common.async===!1)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ne.parsedType}),INVALID;const oe=ne.parsedType===ZodParsedType.promise?ne.data:Promise.resolve(ne.data);return OK(oe.then(ae=>this._def.type.parseAsync(ae,{path:ne.path,errorMap:ne.common.contextualErrorMap})))}}ZodPromise.create=(re,ee)=>new ZodPromise({type:re,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(ee)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee),ae=this._def.effect||null,he={addIssue:pe=>{addIssueToContext(oe,pe),pe.fatal?ne.abort():ne.dirty()},get path(){return oe.path}};if(he.addIssue=he.addIssue.bind(he),ae.type==="preprocess"){const pe=ae.transform(oe.data,he);return oe.common.issues.length?{status:"dirty",value:oe.data}:oe.common.async?Promise.resolve(pe).then(ge=>this._def.schema._parseAsync({data:ge,path:oe.path,parent:oe})):this._def.schema._parseSync({data:pe,path:oe.path,parent:oe})}if(ae.type==="refinement"){const pe=ge=>{const ve=ae.refinement(ge,he);if(oe.common.async)return Promise.resolve(ve);if(ve instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ge};if(oe.common.async===!1){const ge=this._def.schema._parseSync({data:oe.data,path:oe.path,parent:oe});return ge.status==="aborted"?INVALID:(ge.status==="dirty"&&ne.dirty(),pe(ge.value),{status:ne.value,value:ge.value})}else return this._def.schema._parseAsync({data:oe.data,path:oe.path,parent:oe}).then(ge=>ge.status==="aborted"?INVALID:(ge.status==="dirty"&&ne.dirty(),pe(ge.value).then(()=>({status:ne.value,value:ge.value}))))}if(ae.type==="transform")if(oe.common.async===!1){const pe=this._def.schema._parseSync({data:oe.data,path:oe.path,parent:oe});if(!isValid(pe))return pe;const ge=ae.transform(pe.value,he);if(ge instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:ne.value,value:ge}}else return this._def.schema._parseAsync({data:oe.data,path:oe.path,parent:oe}).then(pe=>isValid(pe)?Promise.resolve(ae.transform(pe.value,he)).then(ge=>({status:ne.value,value:ge})):pe);util$5.assertNever(ae)}}ZodEffects.create=(re,ee,ne)=>new ZodEffects({schema:re,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:ee,...processCreateParams(ne)});ZodEffects.createWithPreprocess=(re,ee,ne)=>new ZodEffects({schema:ee,effect:{type:"preprocess",transform:re},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(ne)});class ZodOptional extends ZodType{_parse(ee){return this._getType(ee)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(ee)}unwrap(){return this._def.innerType}}ZodOptional.create=(re,ee)=>new ZodOptional({innerType:re,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(ee)});class ZodNullable extends ZodType{_parse(ee){return this._getType(ee)===ZodParsedType.null?OK(null):this._def.innerType._parse(ee)}unwrap(){return this._def.innerType}}ZodNullable.create=(re,ee)=>new ZodNullable({innerType:re,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(ee)});class ZodDefault extends ZodType{_parse(ee){const{ctx:ne}=this._processInputParams(ee);let oe=ne.data;return ne.parsedType===ZodParsedType.undefined&&(oe=this._def.defaultValue()),this._def.innerType._parse({data:oe,path:ne.path,parent:ne})}removeDefault(){return this._def.innerType}}ZodDefault.create=(re,ee)=>new ZodDefault({innerType:re,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof ee.default=="function"?ee.default:()=>ee.default,...processCreateParams(ee)});class ZodCatch extends ZodType{_parse(ee){const{ctx:ne}=this._processInputParams(ee),oe={...ne,common:{...ne.common,issues:[]}},ae=this._def.innerType._parse({data:oe.data,path:oe.path,parent:{...oe}});return isAsync(ae)?ae.then(he=>({status:"valid",value:he.status==="valid"?he.value:this._def.catchValue({get error(){return new ZodError(oe.common.issues)},input:oe.data})})):{status:"valid",value:ae.status==="valid"?ae.value:this._def.catchValue({get error(){return new ZodError(oe.common.issues)},input:oe.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(re,ee)=>new ZodCatch({innerType:re,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof ee.catch=="function"?ee.catch:()=>ee.catch,...processCreateParams(ee)});class ZodNaN extends ZodType{_parse(ee){if(this._getType(ee)!==ZodParsedType.nan){const oe=this._getOrReturnCtx(ee);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:oe.parsedType}),INVALID}return{status:"valid",value:ee.data}}}ZodNaN.create=re=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(re)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(ee){const{ctx:ne}=this._processInputParams(ee),oe=ne.data;return this._def.type._parse({data:oe,path:ne.path,parent:ne})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(ee){const{status:ne,ctx:oe}=this._processInputParams(ee);if(oe.common.async)return(async()=>{const he=await this._def.in._parseAsync({data:oe.data,path:oe.path,parent:oe});return he.status==="aborted"?INVALID:he.status==="dirty"?(ne.dirty(),DIRTY(he.value)):this._def.out._parseAsync({data:he.value,path:oe.path,parent:oe})})();{const ae=this._def.in._parseSync({data:oe.data,path:oe.path,parent:oe});return ae.status==="aborted"?INVALID:ae.status==="dirty"?(ne.dirty(),{status:"dirty",value:ae.value}):this._def.out._parseSync({data:ae.value,path:oe.path,parent:oe})}}static create(ee,ne){return new ZodPipeline({in:ee,out:ne,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(ee){const ne=this._def.innerType._parse(ee);return isValid(ne)&&(ne.value=Object.freeze(ne.value)),ne}}ZodReadonly.create=(re,ee)=>new ZodReadonly({innerType:re,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(ee)});const custom=(re,ee={},ne)=>re?ZodAny.create().superRefine((oe,ae)=>{var he,pe;if(!re(oe)){const ge=typeof ee=="function"?ee(oe):typeof ee=="string"?{message:ee}:ee,ve=(pe=(he=ge.fatal)!==null&&he!==void 0?he:ne)!==null&&pe!==void 0?pe:!0,we=typeof ge=="string"?{message:ge}:ge;ae.addIssue({code:"custom",...we,fatal:ve})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(re){re.ZodString="ZodString",re.ZodNumber="ZodNumber",re.ZodNaN="ZodNaN",re.ZodBigInt="ZodBigInt",re.ZodBoolean="ZodBoolean",re.ZodDate="ZodDate",re.ZodSymbol="ZodSymbol",re.ZodUndefined="ZodUndefined",re.ZodNull="ZodNull",re.ZodAny="ZodAny",re.ZodUnknown="ZodUnknown",re.ZodNever="ZodNever",re.ZodVoid="ZodVoid",re.ZodArray="ZodArray",re.ZodObject="ZodObject",re.ZodUnion="ZodUnion",re.ZodDiscriminatedUnion="ZodDiscriminatedUnion",re.ZodIntersection="ZodIntersection",re.ZodTuple="ZodTuple",re.ZodRecord="ZodRecord",re.ZodMap="ZodMap",re.ZodSet="ZodSet",re.ZodFunction="ZodFunction",re.ZodLazy="ZodLazy",re.ZodLiteral="ZodLiteral",re.ZodEnum="ZodEnum",re.ZodEffects="ZodEffects",re.ZodNativeEnum="ZodNativeEnum",re.ZodOptional="ZodOptional",re.ZodNullable="ZodNullable",re.ZodDefault="ZodDefault",re.ZodCatch="ZodCatch",re.ZodPromise="ZodPromise",re.ZodBranded="ZodBranded",re.ZodPipeline="ZodPipeline",re.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(re,ee={message:`Input not instance of ${re.name}`})=>custom(ne=>ne instanceof re,ee),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:re=>ZodString.create({...re,coerce:!0}),number:re=>ZodNumber.create({...re,coerce:!0}),boolean:re=>ZodBoolean.create({...re,coerce:!0}),bigint:re=>ZodBigInt.create({...re,coerce:!0}),date:re=>ZodDate.create({...re,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const version$2="0.9.8";let BaseError$2=class kr extends Error{constructor(ee,ne={}){const oe=ne.cause instanceof kr?ne.cause.details:ne.cause?.message?ne.cause.message:ne.details,ae=ne.cause instanceof kr&&ne.cause.docsPath||ne.docsPath,he=[ee||"An error occurred.","",...ne.metaMessages?[...ne.metaMessages,""]:[],...ae?[`Docs: https://abitype.dev${ae}`]:[],...oe?[`Details: ${oe}`]:[],`Version: abitype@${version$2}`].join(`
`);super(he),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),ne.cause&&(this.cause=ne.cause),this.details=oe,this.docsPath=ae,this.metaMessages=ne.metaMessages,this.shortMessage=ee}};function execTyped(re,ee){return re.exec(ee)?.groups}const bytesRegex$2=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$2=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(re){return errorSignatureRegex.test(re)}function execErrorSignature(re){return execTyped(errorSignatureRegex,re)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(re){return eventSignatureRegex.test(re)}function execEventSignature(re){return execTyped(eventSignatureRegex,re)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(re){return functionSignatureRegex.test(re)}function execFunctionSignature(re){return execTyped(functionSignatureRegex,re)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(re){return structSignatureRegex.test(re)}function execStructSignature(re){return execTyped(structSignatureRegex,re)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(re){return constructorSignatureRegex.test(re)}function execConstructorSignature(re){return execTyped(constructorSignatureRegex,re)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(re){return fallbackSignatureRegex.test(re)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(re){return receiveSignatureRegex.test(re)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$2{constructor({type:ee}){super("Unknown type.",{metaMessages:[`Type "${ee}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$2{constructor({type:ee}){super("Unknown type.",{metaMessages:[`Type "${ee}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$2{constructor({params:ee}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(ee,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$2{constructor({param:ee}){super("Invalid ABI parameter.",{details:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$2{constructor({param:ee,name:ne}){super("Invalid ABI parameter.",{details:ee,metaMessages:[`"${ne}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$2{constructor({param:ee,type:ne,modifier:oe}){super("Invalid ABI parameter.",{details:ee,metaMessages:[`Modifier "${oe}" not allowed${ne?` in "${ne}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$2{constructor({param:ee,type:ne,modifier:oe}){super("Invalid ABI parameter.",{details:ee,metaMessages:[`Modifier "${oe}" not allowed${ne?` in "${ne}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${oe}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$2{constructor({abiParameter:ee}){super("Invalid ABI parameter.",{details:JSON.stringify(ee,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$2{constructor({signature:ee,type:ne}){super(`Invalid ${ne} signature.`,{details:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$2{constructor({signature:ee}){super("Unknown signature.",{details:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$2{constructor({signature:ee}){super("Invalid struct signature.",{details:ee,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$2{constructor({type:ee}){super("Circular reference detected.",{metaMessages:[`Struct "${ee}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$2{constructor({current:ee,depth:ne}){super("Unbalanced parentheses.",{metaMessages:[`"${ee.trim()}" has too many ${ne>0?"opening":"closing"} parentheses.`],details:`Depth "${ne}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(re,ee){return ee?`${ee}:${re}`:re}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(re,ee={}){if(isFunctionSignature(re)){const ne=execFunctionSignature(re);if(!ne)throw new InvalidSignatureError({signature:re,type:"function"});const oe=splitParameters(ne.parameters),ae=[],he=oe.length;for(let ge=0;ge<he;ge++)ae.push(parseAbiParameter(oe[ge],{modifiers:functionModifiers,structs:ee,type:"function"}));const pe=[];if(ne.returns){const ge=splitParameters(ne.returns),ve=ge.length;for(let we=0;we<ve;we++)pe.push(parseAbiParameter(ge[we],{modifiers:functionModifiers,structs:ee,type:"function"}))}return{name:ne.name,type:"function",stateMutability:ne.stateMutability??"nonpayable",inputs:ae,outputs:pe}}if(isEventSignature(re)){const ne=execEventSignature(re);if(!ne)throw new InvalidSignatureError({signature:re,type:"event"});const oe=splitParameters(ne.parameters),ae=[],he=oe.length;for(let pe=0;pe<he;pe++)ae.push(parseAbiParameter(oe[pe],{modifiers:eventModifiers,structs:ee,type:"event"}));return{name:ne.name,type:"event",inputs:ae}}if(isErrorSignature(re)){const ne=execErrorSignature(re);if(!ne)throw new InvalidSignatureError({signature:re,type:"error"});const oe=splitParameters(ne.parameters),ae=[],he=oe.length;for(let pe=0;pe<he;pe++)ae.push(parseAbiParameter(oe[pe],{structs:ee,type:"error"}));return{name:ne.name,type:"error",inputs:ae}}if(isConstructorSignature(re)){const ne=execConstructorSignature(re);if(!ne)throw new InvalidSignatureError({signature:re,type:"constructor"});const oe=splitParameters(ne.parameters),ae=[],he=oe.length;for(let pe=0;pe<he;pe++)ae.push(parseAbiParameter(oe[pe],{structs:ee,type:"constructor"}));return{type:"constructor",stateMutability:ne.stateMutability??"nonpayable",inputs:ae}}if(isFallbackSignature(re))return{type:"fallback"};if(isReceiveSignature(re))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:re})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(re,ee){const ne=getParameterCacheKey(re,ee?.type);if(parameterCache.has(ne))return parameterCache.get(ne);const oe=isTupleRegex.test(re),ae=execTyped(oe?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,re);if(!ae)throw new InvalidParameterError({param:re});if(ae.name&&isSolidityKeyword(ae.name))throw new SolidityProtectedKeywordError({param:re,name:ae.name});const he=ae.name?{name:ae.name}:{},pe=ae.modifier==="indexed"?{indexed:!0}:{},ge=ee?.structs??{};let ve,we={};if(oe){ve="tuple";const _e=splitParameters(ae.type),Te=[],Pe=_e.length;for(let Ae=0;Ae<Pe;Ae++)Te.push(parseAbiParameter(_e[Ae],{structs:ge}));we={components:Te}}else if(ae.type in ge)ve="tuple",we={components:ge[ae.type]};else if(dynamicIntegerRegex.test(ae.type))ve=`${ae.type}256`;else if(ve=ae.type,ee?.type!=="struct"&&!isSolidityType(ve))throw new UnknownSolidityTypeError({type:ve});if(ae.modifier){if(!ee?.modifiers?.has?.(ae.modifier))throw new InvalidModifierError({param:re,type:ee?.type,modifier:ae.modifier});if(functionModifiers.has(ae.modifier)&&!isValidDataLocation(ve,!!ae.array))throw new InvalidFunctionModifierError({param:re,type:ee?.type,modifier:ae.modifier})}const Ee={type:`${ve}${ae.array??""}`,...he,...pe,...we};return parameterCache.set(ne,Ee),Ee}function splitParameters(re,ee=[],ne="",oe=0){if(re===""){if(ne==="")return ee;if(oe!==0)throw new InvalidParenthesisError({current:ne,depth:oe});return ee.push(ne.trim()),ee}const ae=re.length;for(let he=0;he<ae;he++){const pe=re[he],ge=re.slice(he+1);switch(pe){case",":return oe===0?splitParameters(ge,[...ee,ne.trim()]):splitParameters(ge,ee,`${ne}${pe}`,oe);case"(":return splitParameters(ge,ee,`${ne}${pe}`,oe+1);case")":return splitParameters(ge,ee,`${ne}${pe}`,oe-1);default:return splitParameters(ge,ee,`${ne}${pe}`,oe)}}return[]}function isSolidityType(re){return re==="address"||re==="bool"||re==="function"||re==="string"||bytesRegex$2.test(re)||integerRegex$2.test(re)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(re){return re==="address"||re==="bool"||re==="function"||re==="string"||re==="tuple"||bytesRegex$2.test(re)||integerRegex$2.test(re)||protectedKeywordsRegex.test(re)}function isValidDataLocation(re,ee){return ee||re==="bytes"||re==="string"||re==="tuple"}function parseStructs(re){const ee={},ne=re.length;for(let pe=0;pe<ne;pe++){const ge=re[pe];if(!isStructSignature(ge))continue;const ve=execStructSignature(ge);if(!ve)throw new InvalidSignatureError({signature:ge,type:"struct"});const we=ve.properties.split(";"),Ee=[],_e=we.length;for(let Te=0;Te<_e;Te++){const Ae=we[Te].trim();if(!Ae)continue;const Se=parseAbiParameter(Ae,{type:"struct"});Ee.push(Se)}if(!Ee.length)throw new InvalidStructSignatureError({signature:ge});ee[ve.name]=Ee}const oe={},ae=Object.entries(ee),he=ae.length;for(let pe=0;pe<he;pe++){const[ge,ve]=ae[pe];oe[ge]=resolveStructs(ve,ee)}return oe}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(re,ee,ne=new Set){const oe=[],ae=re.length;for(let he=0;he<ae;he++){const pe=re[he];if(isTupleRegex.test(pe.type))oe.push(pe);else{const ve=execTyped(typeWithoutTupleRegex,pe.type);if(!ve?.type)throw new InvalidAbiTypeParameterError({abiParameter:pe});const{array:we,type:Ee}=ve;if(Ee in ee){if(ne.has(Ee))throw new CircularReferenceError({type:Ee});oe.push({...pe,type:`tuple${we??""}`,components:resolveStructs(ee[Ee]??[],ee,new Set([...ne,Ee]))})}else if(isSolidityType(Ee))oe.push(pe);else throw new UnknownTypeError({type:Ee})}}return oe}function parseAbi(re){const ee=parseStructs(re),ne=[],oe=re.length;for(let ae=0;ae<oe;ae++){const he=re[ae];isStructSignature(he)||ne.push(parseSignature(he,ee))}return ne}function parseAbiParameters(re){const ee=[];if(typeof re=="string"){const ne=splitParameters(re),oe=ne.length;for(let ae=0;ae<oe;ae++)ee.push(parseAbiParameter(ne[ae],{modifiers}))}else{const ne=parseStructs(re),oe=re.length;for(let ae=0;ae<oe;ae++){const he=re[ae];if(isStructSignature(he))continue;const pe=splitParameters(he),ge=pe.length;for(let ve=0;ve<ge;ve++)ee.push(parseAbiParameter(pe[ve],{modifiers,structs:ne}))}}if(ee.length===0)throw new InvalidAbiParametersError({params:re});return ee}function formatAbiItem$1(re,{includeName:ee=!1}={}){if(re.type!=="function"&&re.type!=="event"&&re.type!=="error")throw new InvalidDefinitionTypeError$1(re.type);return`${re.name}(${formatAbiParams$1(re.inputs,{includeName:ee})})`}function formatAbiParams$1(re,{includeName:ee=!1}={}){return re?re.map(ne=>formatAbiParam$1(ne,{includeName:ee})).join(ee?", ":","):""}function formatAbiParam$1(re,{includeName:ee}){return re.type.startsWith("tuple")?`(${formatAbiParams$1(re.components,{includeName:ee})})${re.type.slice(5)}`:re.type+(ee&&re.name?` ${re.name}`:"")}function isHex$1(re,{strict:ee=!0}={}){return!re||typeof re!="string"?!1:ee?/^0x[0-9a-fA-F]*$/.test(re):re.startsWith("0x")}function size$2(re){return isHex$1(re,{strict:!1})?Math.ceil((re.length-2)/2):re.length}const version$1="1.13.2",getContractAddress$1=re=>re,getUrl$2=re=>re,getVersion$1=()=>`viem@${version$1}`;let BaseError$1=class Fr extends Error{constructor(ee,ne={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion$1()});const oe=ne.cause instanceof Fr?ne.cause.details:ne.cause?.message?ne.cause.message:ne.details,ae=ne.cause instanceof Fr&&ne.cause.docsPath||ne.docsPath;this.message=[ee||"An error occurred.","",...ne.metaMessages?[...ne.metaMessages,""]:[],...ae?[`Docs: https://viem.sh${ae}.html${ne.docsSlug?`#${ne.docsSlug}`:""}`]:[],...oe?[`Details: ${oe}`]:[],`Version: ${this.version}`].join(`
`),ne.cause&&(this.cause=ne.cause),this.details=oe,this.docsPath=ae,this.metaMessages=ne.metaMessages,this.shortMessage=ee}walk(ee){return walk$1(this,ee)}};function walk$1(re,ee){return ee?.(re)?re:re&&typeof re=="object"&&"cause"in re?walk$1(re.cause,ee):ee?null:re}let AbiDecodingDataSizeTooSmallError$1=class extends BaseError$1{constructor({data:ee,params:ne,size:oe}){super([`Data size of ${oe} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams$1(ne,{includeName:!0})})`,`Data:   ${ee} (${oe} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ee,this.params=ne,this.size=oe}},AbiDecodingZeroDataError$1=class extends BaseError$1{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}},AbiEncodingArrayLengthMismatchError$1=class extends BaseError$1{constructor({expectedLength:ee,givenLength:ne,type:oe}){super([`ABI encoding array length mismatch for type ${oe}.`,`Expected length: ${ee}`,`Given length: ${ne}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}},AbiEncodingBytesSizeMismatchError$1=class extends BaseError$1{constructor({expectedSize:ee,value:ne}){super(`Size of bytes "${ne}" (bytes${size$2(ne)}) does not match expected size (bytes${ee}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}},AbiEncodingLengthMismatchError$1=class extends BaseError$1{constructor({expectedLength:ee,givenLength:ne}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${ee}`,`Given length (values): ${ne}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}},AbiErrorSignatureNotFoundError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}){super([`Encoded error signature "${ee}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ee}.`].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=ee}},AbiEventSignatureEmptyTopicsError$1=class extends BaseError$1{constructor({docsPath:ee}){super("Cannot extract event signature from empty topics.",{docsPath:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}},AbiEventSignatureNotFoundError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}){super([`Encoded event signature "${ee}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${ee}.`].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}},AbiEventNotFoundError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}={}){super([`Event ${ee?`"${ee}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}},AbiFunctionNotFoundError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}={}){super([`Function ${ee?`"${ee}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}},AbiFunctionOutputsNotFoundError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}){super([`Function "${ee}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}},BytesSizeMismatchError$1=class extends BaseError$1{constructor({expectedSize:ee,givenSize:ne}){super(`Expected bytes${ee}, got bytes${ne}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}},DecodeLogDataMismatch$1=class extends BaseError$1{constructor({abiItem:ee,data:ne,params:oe,size:ae}){super([`Data size of ${ae} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams$1(oe,{includeName:!0})})`,`Data:   ${ne} (${ae} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=ee,this.data=ne,this.params=oe,this.size=ae}},DecodeLogTopicsMismatch$1=class extends BaseError$1{constructor({abiItem:ee,param:ne}){super([`Expected a topic for indexed event parameter${ne.name?` "${ne.name}"`:""} on event "${formatAbiItem$1(ee,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=ee}},InvalidAbiEncodingTypeError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}){super([`Type "${ee}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}},InvalidAbiDecodingTypeError$1=class extends BaseError$1{constructor(ee,{docsPath:ne}){super([`Type "${ee}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}},InvalidArrayError$1=class extends BaseError$1{constructor(ee){super([`Value "${ee}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}},InvalidDefinitionTypeError$1=class extends BaseError$1{constructor(ee){super([`"${ee}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}};class UnsupportedPackedAbiType extends BaseError$1{constructor(ee){super(`Type "${ee}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}let FilterTypeNotSupportedError$1=class extends BaseError$1{constructor(ee){super(`Filter type "${ee}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}},SliceOffsetOutOfBoundsError$1=class extends BaseError$1{constructor({offset:ee,position:ne,size:oe}){super(`Slice ${ne==="start"?"starting":"ending"} at offset "${ee}" is out-of-bounds (size: ${oe}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}},SizeExceedsPaddingSizeError$1=class extends BaseError$1{constructor({size:ee,targetSize:ne,type:oe}){super(`${oe.charAt(0).toUpperCase()}${oe.slice(1).toLowerCase()} size (${ee}) exceeds padding size (${ne}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}};function pad$1(re,{dir:ee,size:ne=32}={}){return typeof re=="string"?padHex$1(re,{dir:ee,size:ne}):padBytes$1(re,{dir:ee,size:ne})}function padHex$1(re,{dir:ee,size:ne=32}={}){if(ne===null)return re;const oe=re.replace("0x","");if(oe.length>ne*2)throw new SizeExceedsPaddingSizeError$1({size:Math.ceil(oe.length/2),targetSize:ne,type:"hex"});return`0x${oe[ee==="right"?"padEnd":"padStart"](ne*2,"0")}`}function padBytes$1(re,{dir:ee,size:ne=32}={}){if(ne===null)return re;if(re.length>ne)throw new SizeExceedsPaddingSizeError$1({size:re.length,targetSize:ne,type:"bytes"});const oe=new Uint8Array(ne);for(let ae=0;ae<ne;ae++){const he=ee==="right";oe[he?ae:ne-ae-1]=re[he?ae:re.length-ae-1]}return oe}let IntegerOutOfRangeError$1=class extends BaseError$1{constructor({max:ee,min:ne,signed:oe,size:ae,value:he}){super(`Number "${he}" is not in safe ${ae?`${ae*8}-bit ${oe?"signed":"unsigned"} `:""}integer range ${ee?`(${ne} to ${ee})`:`(above ${ne})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}},InvalidHexBooleanError$1=class extends BaseError$1{constructor(ee){super(`Hex value "${ee}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}},SizeOverflowError$1=class extends BaseError$1{constructor({givenSize:ee,maxSize:ne}){super(`Size cannot exceed ${ne} bytes. Given size: ${ee} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}};function trim$1(re,{dir:ee="left"}={}){let ne=typeof re=="string"?re.replace("0x",""):re,oe=0;for(let ae=0;ae<ne.length-1&&ne[ee==="left"?ae:ne.length-ae-1].toString()==="0";ae++)oe++;return ne=ee==="left"?ne.slice(oe):ne.slice(0,ne.length-oe),typeof re=="string"?(ne.length===1&&ee==="right"&&(ne=`${ne}0`),`0x${ne.length%2===1?`0${ne}`:ne}`):ne}function assertSize$1(re,{size:ee}){if(size$2(re)>ee)throw new SizeOverflowError$1({givenSize:size$2(re),maxSize:ee})}function hexToBigInt$1(re,ee={}){const{signed:ne}=ee;ee.size&&assertSize$1(re,{size:ee.size});const oe=BigInt(re);if(!ne)return oe;const ae=(re.length-2)/2,he=(1n<<BigInt(ae)*8n-1n)-1n;return oe<=he?oe:oe-BigInt(`0x${"f".padStart(ae*2,"f")}`)-1n}function hexToBool$1(re,ee={}){let ne=re;if(ee.size&&(assertSize$1(ne,{size:ee.size}),ne=trim$1(ne)),trim$1(ne)==="0x00")return!1;if(trim$1(ne)==="0x01")return!0;throw new InvalidHexBooleanError$1(ne)}function hexToNumber$2(re,ee={}){return Number(hexToBigInt$1(re,ee))}function hexToString$1(re,ee={}){let ne=hexToBytes$2(re);return ee.size&&(assertSize$1(ne,{size:ee.size}),ne=trim$1(ne,{dir:"right"})),new TextDecoder().decode(ne)}const hexes$2=Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function toHex$1(re,ee={}){return typeof re=="number"||typeof re=="bigint"?numberToHex$1(re,ee):typeof re=="string"?stringToHex$1(re,ee):typeof re=="boolean"?boolToHex$1(re,ee):bytesToHex$2(re,ee)}function boolToHex$1(re,ee={}){const ne=`0x${Number(re)}`;return typeof ee.size=="number"?(assertSize$1(ne,{size:ee.size}),pad$1(ne,{size:ee.size})):ne}function bytesToHex$2(re,ee={}){let ne="";for(let ae=0;ae<re.length;ae++)ne+=hexes$2[re[ae]];const oe=`0x${ne}`;return typeof ee.size=="number"?(assertSize$1(oe,{size:ee.size}),pad$1(oe,{dir:"right",size:ee.size})):oe}function numberToHex$1(re,ee={}){const{signed:ne,size:oe}=ee,ae=BigInt(re);let he;oe?ne?he=(1n<<BigInt(oe)*8n-1n)-1n:he=2n**(BigInt(oe)*8n)-1n:typeof re=="number"&&(he=BigInt(Number.MAX_SAFE_INTEGER));const pe=typeof he=="bigint"&&ne?-he-1n:0;if(he&&ae>he||ae<pe){const ve=typeof re=="bigint"?"n":"";throw new IntegerOutOfRangeError$1({max:he?`${he}${ve}`:void 0,min:`${pe}${ve}`,signed:ne,size:oe,value:`${re}${ve}`})}const ge=`0x${(ne&&ae<0?(1n<<BigInt(oe*8))+BigInt(ae):ae).toString(16)}`;return oe?pad$1(ge,{size:oe}):ge}const encoder$3=new TextEncoder;function stringToHex$1(re,ee={}){const ne=encoder$3.encode(re);return bytesToHex$2(ne,ee)}const encoder$2=new TextEncoder;function toBytes$3(re,ee={}){return typeof re=="number"||typeof re=="bigint"?numberToBytes$1(re,ee):typeof re=="boolean"?boolToBytes$1(re,ee):isHex$1(re)?hexToBytes$2(re,ee):stringToBytes$1(re,ee)}function boolToBytes$1(re,ee={}){const ne=new Uint8Array(1);return ne[0]=Number(re),typeof ee.size=="number"?(assertSize$1(ne,{size:ee.size}),pad$1(ne,{size:ee.size})):ne}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(re){if(re>=charCodeMap.zero&&re<=charCodeMap.nine)return re-charCodeMap.zero;if(re>=charCodeMap.A&&re<=charCodeMap.F)return re-(charCodeMap.A-10);if(re>=charCodeMap.a&&re<=charCodeMap.f)return re-(charCodeMap.a-10)}function hexToBytes$2(re,ee={}){let ne=re;ee.size&&(assertSize$1(ne,{size:ee.size}),ne=pad$1(ne,{dir:"right",size:ee.size}));let oe=ne.slice(2);oe.length%2&&(oe=`0${oe}`);const ae=oe.length/2,he=new Uint8Array(ae);for(let pe=0,ge=0;pe<ae;pe++){const ve=charCodeToBase16(oe.charCodeAt(ge++)),we=charCodeToBase16(oe.charCodeAt(ge++));if(ve===void 0||we===void 0)throw new BaseError$1(`Invalid byte sequence ("${oe[ge-2]}${oe[ge-1]}" in "${oe}").`);he[pe]=ve*16+we}return he}function numberToBytes$1(re,ee){const ne=numberToHex$1(re,ee);return hexToBytes$2(ne)}function stringToBytes$1(re,ee={}){const ne=encoder$2.encode(re);return typeof ee.size=="number"?(assertSize$1(ne,{size:ee.size}),pad$1(ne,{dir:"right",size:ee.size})):ne}const paramsRegex$1=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts$1(re){const ee=re.match(paramsRegex$1),ne=ee?.[2]||void 0,oe=ee?.[3],ae=ee?.[5]||void 0;return{type:ne,name:oe,params:ae}}function extractFunctionName$1(re){return extractFunctionParts$1(re).name}function extractFunctionParams$1(re){return extractFunctionParts$1(re).params?.split(",").map(oe=>oe.trim().split(" "))?.map(oe=>({type:oe[0],name:oe[1]==="indexed"?oe[2]:oe[1],...oe[1]==="indexed"?{indexed:!0}:{}}))}const getFunctionSignature=re=>{if(typeof re=="string"){const ee=extractFunctionName$1(re),ne=extractFunctionParams$1(re)||[];return`${ee}(${ne.map(({type:oe})=>oe).join(",")})`}return formatAbiItem$1(re)},getEventSignature=re=>getFunctionSignature(re);function number$1(re){if(!Number.isSafeInteger(re)||re<0)throw new Error(`Wrong positive integer: ${re}`)}function bytes$1(re,...ee){if(!(re instanceof Uint8Array))throw new Error("Expected Uint8Array");if(ee.length>0&&!ee.includes(re.length))throw new Error(`Expected Uint8Array of length ${ee}, not of length=${re.length}`)}function hash$4(re){if(typeof re!="function"||typeof re.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(re.outputLen),number$1(re.blockLen)}function exists$1(re,ee=!0){if(re.destroyed)throw new Error("Hash instance has been destroyed");if(ee&&re.finished)throw new Error("Hash#digest() has already been called")}function output$1(re,ee){bytes$1(re);const ne=ee.outputLen;if(re.length<ne)throw new Error(`digestInto() expects output buffer of length at least ${ne}`)}const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(re,ee=!1){return ee?{h:Number(re&U32_MASK64$1),l:Number(re>>_32n$1&U32_MASK64$1)}:{h:Number(re>>_32n$1&U32_MASK64$1)|0,l:Number(re&U32_MASK64$1)|0}}function split$1(re,ee=!1){let ne=new Uint32Array(re.length),oe=new Uint32Array(re.length);for(let ae=0;ae<re.length;ae++){const{h:he,l:pe}=fromBig$1(re[ae],ee);[ne[ae],oe[ae]]=[he,pe]}return[ne,oe]}const rotlSH$1=(re,ee,ne)=>re<<ne|ee>>>32-ne,rotlSL$1=(re,ee,ne)=>ee<<ne|re>>>32-ne,rotlBH$1=(re,ee,ne)=>ee<<ne-32|re>>>64-ne,rotlBL$1=(re,ee,ne)=>re<<ne-32|ee>>>64-ne,crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=re=>re instanceof Uint8Array,u32$1=re=>new Uint32Array(re.buffer,re.byteOffset,Math.floor(re.byteLength/4)),createView=re=>new DataView(re.buffer,re.byteOffset,re.byteLength),rotr=(re,ee)=>re<<32-ee|re>>>ee,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$2(re){if(typeof re!="string")throw new Error(`utf8ToBytes expected string, got ${typeof re}`);return new Uint8Array(new TextEncoder().encode(re))}function toBytes$2(re){if(typeof re=="string"&&(re=utf8ToBytes$2(re)),!u8a$1(re))throw new Error(`expected Uint8Array, got ${typeof re}`);return re}function concatBytes$3(...re){const ee=new Uint8Array(re.reduce((oe,ae)=>oe+ae.length,0));let ne=0;return re.forEach(oe=>{if(!u8a$1(oe))throw new Error("Uint8Array expected");ee.set(oe,ne),ne+=oe.length}),ee}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(re){const ee=oe=>re().update(toBytes$2(oe)).digest(),ne=re();return ee.outputLen=ne.outputLen,ee.blockLen=ne.blockLen,ee.create=()=>re(),ee}function randomBytes(re=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(re));throw new Error("crypto.getRandomValues must be defined")}const[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$5=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let re=0,ee=_1n$6,ne=1,oe=0;re<24;re++){[ne,oe]=[oe,(2*ne+3*oe)%5],SHA3_PI$1.push(2*(5*oe+ne)),SHA3_ROTL$1.push((re+1)*(re+2)/2%64);let ae=_0n$5;for(let he=0;he<7;he++)ee=(ee<<_1n$6^(ee>>_7n$1)*_0x71n$1)%_256n$1,ee&_2n$4&&(ae^=_1n$6<<(_1n$6<<BigInt(he))-_1n$6);_SHA3_IOTA$1.push(ae)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=split$1(_SHA3_IOTA$1,!0),rotlH$1=(re,ee,ne)=>ne>32?rotlBH$1(re,ee,ne):rotlSH$1(re,ee,ne),rotlL$1=(re,ee,ne)=>ne>32?rotlBL$1(re,ee,ne):rotlSL$1(re,ee,ne);function keccakP$1(re,ee=24){const ne=new Uint32Array(10);for(let oe=24-ee;oe<24;oe++){for(let pe=0;pe<10;pe++)ne[pe]=re[pe]^re[pe+10]^re[pe+20]^re[pe+30]^re[pe+40];for(let pe=0;pe<10;pe+=2){const ge=(pe+8)%10,ve=(pe+2)%10,we=ne[ve],Ee=ne[ve+1],_e=rotlH$1(we,Ee,1)^ne[ge],Te=rotlL$1(we,Ee,1)^ne[ge+1];for(let Pe=0;Pe<50;Pe+=10)re[pe+Pe]^=_e,re[pe+Pe+1]^=Te}let ae=re[2],he=re[3];for(let pe=0;pe<24;pe++){const ge=SHA3_ROTL$1[pe],ve=rotlH$1(ae,he,ge),we=rotlL$1(ae,he,ge),Ee=SHA3_PI$1[pe];ae=re[Ee],he=re[Ee+1],re[Ee]=ve,re[Ee+1]=we}for(let pe=0;pe<50;pe+=10){for(let ge=0;ge<10;ge++)ne[ge]=re[pe+ge];for(let ge=0;ge<10;ge++)re[pe+ge]^=~ne[(ge+2)%10]&ne[(ge+4)%10]}re[0]^=SHA3_IOTA_H$1[oe],re[1]^=SHA3_IOTA_L$1[oe]}ne.fill(0)}let Keccak$1=class Lr extends Hash$1{constructor(ee,ne,oe,ae=!1,he=24){if(super(),this.blockLen=ee,this.suffix=ne,this.outputLen=oe,this.enableXOF=ae,this.rounds=he,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$1(oe),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(ee){exists$1(this);const{blockLen:ne,state:oe}=this;ee=toBytes$2(ee);const ae=ee.length;for(let he=0;he<ae;){const pe=Math.min(ne-this.pos,ae-he);for(let ge=0;ge<pe;ge++)oe[this.pos++]^=ee[he++];this.pos===ne&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:ee,suffix:ne,pos:oe,blockLen:ae}=this;ee[oe]^=ne,ne&128&&oe===ae-1&&this.keccak(),ee[ae-1]^=128,this.keccak()}writeInto(ee){exists$1(this,!1),bytes$1(ee),this.finish();const ne=this.state,{blockLen:oe}=this;for(let ae=0,he=ee.length;ae<he;){this.posOut>=oe&&this.keccak();const pe=Math.min(oe-this.posOut,he-ae);ee.set(ne.subarray(this.posOut,this.posOut+pe),ae),this.posOut+=pe,ae+=pe}return ee}xofInto(ee){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(ee)}xof(ee){return number$1(ee),this.xofInto(new Uint8Array(ee))}digestInto(ee){if(output$1(ee,this),this.finished)throw new Error("digest() was already called");return this.writeInto(ee),this.destroy(),ee}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(ee){const{blockLen:ne,suffix:oe,outputLen:ae,rounds:he,enableXOF:pe}=this;return ee||(ee=new Lr(ne,oe,ae,pe,he)),ee.state32.set(this.state32),ee.pos=this.pos,ee.posOut=this.posOut,ee.finished=this.finished,ee.rounds=he,ee.suffix=oe,ee.outputLen=ae,ee.enableXOF=pe,ee.destroyed=this.destroyed,ee}};const gen$1=(re,ee,ne)=>wrapConstructor$1(()=>new Keccak$1(ee,re,ne)),keccak_256$1=gen$1(1,136,256/8);function keccak256$1(re,ee){const ne=ee||"hex",oe=keccak_256$1(isHex$1(re,{strict:!1})?toBytes$3(re):re);return ne==="bytes"?oe:toHex$1(oe)}const hash$3=re=>keccak256$1(toBytes$3(re)),getEventSelector$1=re=>hash$3(getEventSignature(re));let InvalidAddressError$1=class extends BaseError$1{constructor({address:ee}){super(`Address "${ee}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}};const addressRegex$1=/^0x[a-fA-F0-9]{40}$/;function isAddress$1(re){return addressRegex$1.test(re)}function concat$1(re){return typeof re[0]=="string"?concatHex$1(re):concatBytes$2(re)}function concatBytes$2(re){let ee=0;for(const ae of re)ee+=ae.length;const ne=new Uint8Array(ee);let oe=0;for(const ae of re)ne.set(ae,oe),oe+=ae.length;return ne}function concatHex$1(re){return`0x${re.reduce((ee,ne)=>ee+ne.replace("0x",""),"")}`}function slice$1(re,ee,ne,{strict:oe}={}){return isHex$1(re,{strict:!1})?sliceHex$1(re,ee,ne,{strict:oe}):sliceBytes$1(re,ee,ne,{strict:oe})}function assertStartOffset$1(re,ee){if(typeof ee=="number"&&ee>0&&ee>size$2(re)-1)throw new SliceOffsetOutOfBoundsError$1({offset:ee,position:"start",size:size$2(re)})}function assertEndOffset$1(re,ee,ne){if(typeof ee=="number"&&typeof ne=="number"&&size$2(re)!==ne-ee)throw new SliceOffsetOutOfBoundsError$1({offset:ne,position:"end",size:size$2(re)})}function sliceBytes$1(re,ee,ne,{strict:oe}={}){assertStartOffset$1(re,ee);const ae=re.slice(ee,ne);return oe&&assertEndOffset$1(ae,ee,ne),ae}function sliceHex$1(re,ee,ne,{strict:oe}={}){assertStartOffset$1(re,ee);const ae=`0x${re.replace("0x","").slice((ee??0)*2,(ne??re.length)*2)}`;return oe&&assertEndOffset$1(ae,ee,ne),ae}function encodeAbiParameters$1(re,ee){if(re.length!==ee.length)throw new AbiEncodingLengthMismatchError$1({expectedLength:re.length,givenLength:ee.length});const ne=prepareParams$1({params:re,values:ee}),oe=encodeParams$1(ne);return oe.length===0?"0x":oe}function prepareParams$1({params:re,values:ee}){const ne=[];for(let oe=0;oe<re.length;oe++)ne.push(prepareParam$1({param:re[oe],value:ee[oe]}));return ne}function prepareParam$1({param:re,value:ee}){const ne=getArrayComponents$1(re.type);if(ne){const[oe,ae]=ne;return encodeArray$1(ee,{length:oe,param:{...re,type:ae}})}if(re.type==="tuple")return encodeTuple$1(ee,{param:re});if(re.type==="address")return encodeAddress$1(ee);if(re.type==="bool")return encodeBool$1(ee);if(re.type.startsWith("uint")||re.type.startsWith("int")){const oe=re.type.startsWith("int");return encodeNumber$1(ee,{signed:oe})}if(re.type.startsWith("bytes"))return encodeBytes$1(ee,{param:re});if(re.type==="string")return encodeString$1(ee);throw new InvalidAbiEncodingTypeError$1(re.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams$1(re){let ee=0;for(let he=0;he<re.length;he++){const{dynamic:pe,encoded:ge}=re[he];pe?ee+=32:ee+=size$2(ge)}const ne=[],oe=[];let ae=0;for(let he=0;he<re.length;he++){const{dynamic:pe,encoded:ge}=re[he];pe?(ne.push(numberToHex$1(ee+ae,{size:32})),oe.push(ge),ae+=size$2(ge)):ne.push(ge)}return concat$1([...ne,...oe])}function encodeAddress$1(re){if(!isAddress$1(re))throw new InvalidAddressError$1({address:re});return{dynamic:!1,encoded:padHex$1(re.toLowerCase())}}function encodeArray$1(re,{length:ee,param:ne}){const oe=ee===null;if(!Array.isArray(re))throw new InvalidArrayError$1(re);if(!oe&&re.length!==ee)throw new AbiEncodingArrayLengthMismatchError$1({expectedLength:ee,givenLength:re.length,type:`${ne.type}[${ee}]`});let ae=!1;const he=[];for(let pe=0;pe<re.length;pe++){const ge=prepareParam$1({param:ne,value:re[pe]});ge.dynamic&&(ae=!0),he.push(ge)}if(oe||ae){const pe=encodeParams$1(he);if(oe){const ge=numberToHex$1(he.length,{size:32});return{dynamic:!0,encoded:he.length>0?concat$1([ge,pe]):ge}}if(ae)return{dynamic:!0,encoded:pe}}return{dynamic:!1,encoded:concat$1(he.map(({encoded:pe})=>pe))}}function encodeBytes$1(re,{param:ee}){const[,ne]=ee.type.split("bytes"),oe=size$2(re);if(!ne){let ae=re;return oe%32!==0&&(ae=padHex$1(ae,{dir:"right",size:Math.ceil((re.length-2)/2/32)*32})),{dynamic:!0,encoded:concat$1([padHex$1(numberToHex$1(oe,{size:32})),ae])}}if(oe!==parseInt(ne))throw new AbiEncodingBytesSizeMismatchError$1({expectedSize:parseInt(ne),value:re});return{dynamic:!1,encoded:padHex$1(re,{dir:"right"})}}function encodeBool$1(re){return{dynamic:!1,encoded:padHex$1(boolToHex$1(re))}}function encodeNumber$1(re,{signed:ee}){return{dynamic:!1,encoded:numberToHex$1(re,{size:32,signed:ee})}}function encodeString$1(re){const ee=stringToHex$1(re),ne=Math.ceil(size$2(ee)/32),oe=[];for(let ae=0;ae<ne;ae++)oe.push(padHex$1(slice$1(ee,ae*32,(ae+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat$1([padHex$1(numberToHex$1(size$2(ee),{size:32})),...oe])}}function encodeTuple$1(re,{param:ee}){let ne=!1;const oe=[];for(let ae=0;ae<ee.components.length;ae++){const he=ee.components[ae],pe=Array.isArray(re)?ae:he.name,ge=prepareParam$1({param:he,value:re[pe]});oe.push(ge),ge.dynamic&&(ne=!0)}return{dynamic:ne,encoded:ne?encodeParams$1(oe):concat$1(oe.map(({encoded:ae})=>ae))}}function getArrayComponents$1(re){const ee=re.match(/^(.*)\[(\d+)?\]$/);return ee?[ee[2]?Number(ee[2]):null,ee[1]]:void 0}const hash$2=re=>keccak256$1(toBytes$3(re)),getFunctionSelector$1=re=>slice$1(hash$2(getFunctionSignature(re)),0,4);function getAbiItem$1({abi:re,args:ee=[],name:ne}){const oe=isHex$1(ne,{strict:!1}),ae=re.filter(he=>oe?he.type==="function"?getFunctionSelector$1(he)===ne:he.type==="event"?getEventSelector$1(he)===ne:!1:"name"in he&&he.name===ne);if(ae.length!==0){if(ae.length===1)return ae[0];for(const he of ae){if(!("inputs"in he))continue;if(!ee||ee.length===0){if(!he.inputs||he.inputs.length===0)return he;continue}if(!he.inputs||he.inputs.length===0||he.inputs.length!==ee.length)continue;if(ee.every((ge,ve)=>{const we="inputs"in he&&he.inputs[ve];return we?isArgOfType$1(ge,we):!1}))return he}return ae[0]}}function isArgOfType$1(re,ee){const ne=typeof re,oe=ee.type;switch(oe){case"address":return isAddress$1(re);case"bool":return ne==="boolean";case"function":return ne==="string";case"string":return ne==="string";default:return oe==="tuple"&&"components"in ee?Object.values(ee.components).every((ae,he)=>isArgOfType$1(Object.values(re)[he],ae)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(oe)?ne==="number"||ne==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(oe)?ne==="string"||re instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(oe)?Array.isArray(re)&&re.every(ae=>isArgOfType$1(ae,{...ee,type:oe.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics$1({abi:re,eventName:ee,args:ne}){let oe=re[0];if(ee&&(oe=getAbiItem$1({abi:re,args:ne,name:ee}),!oe))throw new AbiEventNotFoundError$1(ee,{docsPath:"/docs/contract/encodeEventTopics"});if(oe.type!=="event")throw new AbiEventNotFoundError$1(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const ae=formatAbiItem$1(oe),he=getEventSelector$1(ae);let pe=[];if(ne&&"inputs"in oe){const ge=oe.inputs?.filter(we=>"indexed"in we&&we.indexed),ve=Array.isArray(ne)?ne:Object.values(ne).length>0?ge?.map(we=>ne[we.name])??[]:[];ve.length>0&&(pe=ge?.map((we,Ee)=>Array.isArray(ve[Ee])?ve[Ee].map((_e,Te)=>encodeArg$1({param:we,value:ve[Ee][Te]})):ve[Ee]?encodeArg$1({param:we,value:ve[Ee]}):null)??[])}return[he,...pe]}function encodeArg$1({param:re,value:ee}){if(re.type==="string"||re.type==="bytes")return keccak256$1(toBytes$3(ee));if(re.type==="tuple"||re.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError$1(re.type);return encodeAbiParameters$1([re],[ee])}function createFilterRequestScope$1(re,{method:ee}){const ne={};return re.transport.type==="fallback"&&re.transport.onResponse?.(({method:oe,response:ae,status:he,transport:pe})=>{he==="success"&&ee===oe&&(ne[ae]=pe.request)}),oe=>ne[oe]||re.request}async function createContractEventFilter$1(re,{address:ee,abi:ne,args:oe,eventName:ae,fromBlock:he,strict:pe,toBlock:ge}){const ve=createFilterRequestScope$1(re,{method:"eth_newFilter"}),we=ae?encodeEventTopics$1({abi:ne,args:oe,eventName:ae}):void 0,Ee=await re.request({method:"eth_newFilter",params:[{address:ee,fromBlock:typeof he=="bigint"?numberToHex$1(he):he,toBlock:typeof ge=="bigint"?numberToHex$1(ge):ge,topics:we}]});return{abi:ne,args:oe,eventName:ae,id:Ee,request:ve(Ee),strict:pe,type:"event"}}function parseAccount$1(re){return typeof re=="string"?{address:re,type:"json-rpc"}:re}function encodeFunctionData$1({abi:re,args:ee,functionName:ne}){let oe=re[0];if(ne&&(oe=getAbiItem$1({abi:re,args:ee,name:ne}),!oe))throw new AbiFunctionNotFoundError$1(ne,{docsPath:"/docs/contract/encodeFunctionData"});if(oe.type!=="function")throw new AbiFunctionNotFoundError$1(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const ae=formatAbiItem$1(oe),he=getFunctionSelector$1(ae),pe="inputs"in oe&&oe.inputs?encodeAbiParameters$1(oe.inputs,ee??[]):void 0;return concatHex$1([he,pe??"0x"])}const panicReasons$1={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError$1={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic$1={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress$1(re,ee){const ne=ee?`${ee}${re.toLowerCase()}`:re.substring(2).toLowerCase(),oe=keccak256$1(stringToBytes$1(ne),"bytes"),ae=(ee?ne.substring(`${ee}0x`.length):ne).split("");for(let he=0;he<40;he+=2)oe[he>>1]>>4>=8&&ae[he]&&(ae[he]=ae[he].toUpperCase()),(oe[he>>1]&15)>=8&&ae[he+1]&&(ae[he+1]=ae[he+1].toUpperCase());return`0x${ae.join("")}`}function getAddress$1(re,ee){if(!isAddress$1(re))throw new InvalidAddressError$1({address:re});return checksumAddress$1(re,ee)}function decodeAbiParameters$1(re,ee){if(ee==="0x"&&re.length>0)throw new AbiDecodingZeroDataError$1;if(size$2(ee)&&size$2(ee)<32)throw new AbiDecodingDataSizeTooSmallError$1({data:ee,params:re,size:size$2(ee)});return decodeParams$1({data:ee,params:re})}function decodeParams$1({data:re,params:ee}){const ne=[];let oe=0;for(let ae=0;ae<ee.length;ae++){if(oe>=size$2(re))throw new AbiDecodingDataSizeTooSmallError$1({data:re,params:ee,size:size$2(re)});const he=ee[ae],{consumed:pe,value:ge}=decodeParam$1({data:re,param:he,position:oe});ne.push(ge),oe+=pe}return ne}function decodeParam$1({data:re,param:ee,position:ne}){const oe=getArrayComponents$1(ee.type);if(oe){const[he,pe]=oe;return decodeArray$1(re,{length:he,param:{...ee,type:pe},position:ne})}if(ee.type==="tuple")return decodeTuple$1(re,{param:ee,position:ne});if(ee.type==="string")return decodeString$1(re,{position:ne});if(ee.type.startsWith("bytes"))return decodeBytes$1(re,{param:ee,position:ne});const ae=slice$1(re,ne,ne+32,{strict:!0});if(ee.type.startsWith("uint")||ee.type.startsWith("int"))return decodeNumber$1(ae,{param:ee});if(ee.type==="address")return decodeAddress$1(ae);if(ee.type==="bool")return decodeBool$1(ae);throw new InvalidAbiDecodingTypeError$1(ee.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress$1(re){return{consumed:32,value:checksumAddress$1(slice$1(re,-20))}}function decodeArray$1(re,{param:ee,length:ne,position:oe}){if(!ne){const pe=hexToNumber$2(slice$1(re,oe,oe+32,{strict:!0})),ge=hexToNumber$2(slice$1(re,pe,pe+32,{strict:!0}));let ve=0;const we=[];for(let Ee=0;Ee<ge;++Ee){const _e=decodeParam$1({data:slice$1(re,pe+32),param:ee,position:ve});ve+=_e.consumed,we.push(_e.value)}return{value:we,consumed:32}}if(hasDynamicChild$1(ee)){const ge=!getArrayComponents$1(ee.type)?.[0];let ve=0;const we=[];for(let Ee=0;Ee<ne;++Ee){const _e=hexToNumber$2(slice$1(re,oe,oe+32,{strict:!0})),Te=decodeParam$1({data:slice$1(re,_e),param:ee,position:ge?ve:Ee*32});ve+=Te.consumed,we.push(Te.value)}return{value:we,consumed:32}}let ae=0;const he=[];for(let pe=0;pe<ne;++pe){const ge=decodeParam$1({data:re,param:ee,position:oe+ae});ae+=ge.consumed,he.push(ge.value)}return{value:he,consumed:ae}}function decodeBool$1(re){return{consumed:32,value:hexToBool$1(re)}}function decodeBytes$1(re,{param:ee,position:ne}){const[oe,ae]=ee.type.split("bytes");if(!ae){const pe=hexToNumber$2(slice$1(re,ne,ne+32,{strict:!0})),ge=hexToNumber$2(slice$1(re,pe,pe+32,{strict:!0}));return ge===0?{consumed:32,value:"0x"}:{consumed:32,value:slice$1(re,pe+32,pe+32+ge,{strict:!0})}}return{consumed:32,value:slice$1(re,ne,ne+parseInt(ae),{strict:!0})}}function decodeNumber$1(re,{param:ee}){const ne=ee.type.startsWith("int");return{consumed:32,value:parseInt(ee.type.split("int")[1]||"256")>48?hexToBigInt$1(re,{signed:ne}):hexToNumber$2(re,{signed:ne})}}function decodeString$1(re,{position:ee}){const ne=hexToNumber$2(slice$1(re,ee,ee+32,{strict:!0})),oe=hexToNumber$2(slice$1(re,ne,ne+32,{strict:!0}));return oe===0?{consumed:32,value:""}:{consumed:32,value:hexToString$1(trim$1(slice$1(re,ne+32,ne+32+oe,{strict:!0})))}}function decodeTuple$1(re,{param:ee,position:ne}){const oe=ee.components.length===0||ee.components.some(({name:pe})=>!pe),ae=oe?[]:{};let he=0;if(hasDynamicChild$1(ee)){const pe=hexToNumber$2(slice$1(re,ne,ne+32,{strict:!0}));for(let ge=0;ge<ee.components.length;++ge){const ve=ee.components[ge],we=decodeParam$1({data:slice$1(re,pe),param:ve,position:he});he+=we.consumed,ae[oe?ge:ve?.name]=we.value}return{consumed:32,value:ae}}for(let pe=0;pe<ee.components.length;++pe){const ge=ee.components[pe],ve=decodeParam$1({data:re,param:ge,position:ne+he});he+=ve.consumed,ae[oe?pe:ge?.name]=ve.value}return{consumed:he,value:ae}}function hasDynamicChild$1(re){const{type:ee}=re;if(ee==="string"||ee==="bytes"||ee.endsWith("[]"))return!0;if(ee==="tuple")return re.components?.some(hasDynamicChild$1);const ne=getArrayComponents$1(re.type);return!!(ne&&hasDynamicChild$1({...re,type:ne[1]}))}function decodeErrorResult$1({abi:re,data:ee}){const ne=slice$1(ee,0,4);if(ne==="0x")throw new AbiDecodingZeroDataError$1;const ae=[...re||[],solidityError$1,solidityPanic$1].find(he=>he.type==="error"&&ne===getFunctionSelector$1(formatAbiItem$1(he)));if(!ae)throw new AbiErrorSignatureNotFoundError$1(ne,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:ae,args:"inputs"in ae&&ae.inputs&&ae.inputs.length>0?decodeAbiParameters$1(ae.inputs,slice$1(ee,4)):void 0,errorName:ae.name}}const stringify$1=(re,ee,ne)=>JSON.stringify(re,(oe,ae)=>{const he=typeof ae=="bigint"?ae.toString():ae;return typeof ee=="function"?ee(oe,he):he},ne);function formatAbiItemWithArgs$1({abiItem:re,args:ee,includeFunctionName:ne=!0,includeName:oe=!1}){if("name"in re&&"inputs"in re&&re.inputs)return`${ne?re.name:""}(${re.inputs.map((ae,he)=>`${oe&&ae.name?`${ae.name}: `:""}${typeof ee[he]=="object"?stringify$1(ee[he]):ee[he]}`).join(", ")})`}const etherUnits$1={gwei:9,wei:18},gweiUnits$1={ether:-9,wei:9};function formatUnits$1(re,ee){let ne=re.toString();const oe=ne.startsWith("-");oe&&(ne=ne.slice(1)),ne=ne.padStart(ee,"0");let[ae,he]=[ne.slice(0,ne.length-ee),ne.slice(ne.length-ee)];return he=he.replace(/(0+)$/,""),`${oe?"-":""}${ae||"0"}${he?`.${he}`:""}`}function formatEther$1(re,ee="wei"){return formatUnits$1(re,etherUnits$1[ee])}function formatGwei$1(re,ee="wei"){return formatUnits$1(re,gweiUnits$1[ee])}function prettyPrint$1(re){const ee=Object.entries(re).map(([oe,ae])=>ae===void 0||ae===!1?null:[oe,ae]).filter(Boolean),ne=ee.reduce((oe,[ae])=>Math.max(oe,ae.length),0);return ee.map(([oe,ae])=>`  ${`${oe}:`.padEnd(ne+1)}  ${ae}`).join(`
`)}let FeeConflictError$1=class extends BaseError$1{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}};class InvalidLegacyVError extends BaseError$1{constructor({v:ee}){super(`Invalid \`v\` value "${ee}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError$1{constructor({transaction:ee}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint$1(ee),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError$1{constructor({storageKey:ee}){super(`Size for storage key "${ee}" is invalid. Expected 32 bytes. Got ${Math.floor((ee.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}let TransactionExecutionError$1=class extends BaseError$1{constructor(ee,{account:ne,docsPath:oe,chain:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te}){const Pe=prettyPrint$1({chain:ae&&`${ae?.name} (id: ${ae?.id})`,from:ne?.address,to:_e,value:typeof Te<"u"&&`${formatEther$1(Te)} ${ae?.nativeCurrency.symbol||"ETH"}`,data:he,gas:pe,gasPrice:typeof ge<"u"&&`${formatGwei$1(ge)} gwei`,maxFeePerGas:typeof ve<"u"&&`${formatGwei$1(ve)} gwei`,maxPriorityFeePerGas:typeof we<"u"&&`${formatGwei$1(we)} gwei`,nonce:Ee});super(ee.shortMessage,{cause:ee,docsPath:oe,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Request Arguments:",Pe].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=ee}},TransactionReceiptNotFoundError$1=class extends BaseError$1{constructor({hash:ee}){super(`Transaction receipt with hash "${ee}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}},CallExecutionError$1=class extends BaseError$1{constructor(ee,{account:ne,docsPath:oe,chain:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te}){const Pe=ne?parseAccount$1(ne):void 0,Ae=prettyPrint$1({from:Pe?.address,to:_e,value:typeof Te<"u"&&`${formatEther$1(Te)} ${ae?.nativeCurrency.symbol||"ETH"}`,data:he,gas:pe,gasPrice:typeof ge<"u"&&`${formatGwei$1(ge)} gwei`,maxFeePerGas:typeof ve<"u"&&`${formatGwei$1(ve)} gwei`,maxPriorityFeePerGas:typeof we<"u"&&`${formatGwei$1(we)} gwei`,nonce:Ee});super(ee.shortMessage,{cause:ee,docsPath:oe,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Raw Call Arguments:",Ae].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=ee}},ContractFunctionExecutionError$1=class extends BaseError$1{constructor(ee,{abi:ne,args:oe,contractAddress:ae,docsPath:he,functionName:pe,sender:ge}){const ve=getAbiItem$1({abi:ne,args:oe,name:pe}),we=ve?formatAbiItemWithArgs$1({abiItem:ve,args:oe,includeFunctionName:!1,includeName:!1}):void 0,Ee=ve?formatAbiItem$1(ve,{includeName:!0}):void 0,_e=prettyPrint$1({address:ae&&getContractAddress$1(ae),function:Ee,args:we&&we!=="()"&&`${[...Array(pe?.length??0).keys()].map(()=>" ").join("")}${we}`,sender:ge});super(ee.shortMessage||`An unknown error occurred while executing the contract function "${pe}".`,{cause:ee,docsPath:he,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Contract Call:",_e].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=ne,this.args=oe,this.cause=ee,this.contractAddress=ae,this.functionName=pe,this.sender=ge}},ContractFunctionRevertedError$1=class extends BaseError$1{constructor({abi:ee,data:ne,functionName:oe,message:ae}){let he,pe,ge,ve;if(ne&&ne!=="0x")try{pe=decodeErrorResult$1({abi:ee,data:ne});const{abiItem:Ee,errorName:_e,args:Te}=pe;if(_e==="Error")ve=Te[0];else if(_e==="Panic"){const[Pe]=Te;ve=panicReasons$1[Pe]}else{const Pe=Ee?formatAbiItem$1(Ee,{includeName:!0}):void 0,Ae=Ee&&Te?formatAbiItemWithArgs$1({abiItem:Ee,args:Te,includeFunctionName:!1,includeName:!1}):void 0;ge=[Pe?`Error: ${Pe}`:"",Ae&&Ae!=="()"?`       ${[...Array(_e?.length??0).keys()].map(()=>" ").join("")}${Ae}`:""]}}catch(Ee){he=Ee}else ae&&(ve=ae);let we;he instanceof AbiErrorSignatureNotFoundError$1&&(we=he.signature,ge=[`Unable to decode signature "${we}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${we}.`]),super(ve&&ve!=="execution reverted"||we?[`The contract function "${oe}" reverted with the following ${we?"signature":"reason"}:`,ve||we].join(`
`):`The contract function "${oe}" reverted.`,{cause:he,metaMessages:ge}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=pe,this.reason=ve,this.signature=we}},ContractFunctionZeroDataError$1=class extends BaseError$1{constructor({functionName:ee}){super(`The contract function "${ee}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${ee}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}},RawContractError$1=class extends BaseError$1{constructor({data:ee,message:ne}){super(ne||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ee}},HttpRequestError$1=class extends BaseError$1{constructor({body:ee,details:ne,headers:oe,status:ae,url:he}){super("HTTP request failed.",{details:ne,metaMessages:[ae&&`Status: ${ae}`,`URL: ${getUrl$2(he)}`,ee&&`Request body: ${stringify$1(ee)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=ee,this.headers=oe,this.status=ae,this.url=he}},RpcRequestError$1=class extends BaseError$1{constructor({body:ee,error:ne,url:oe}){super("RPC Request failed.",{cause:ne,details:ne.message,metaMessages:[`URL: ${getUrl$2(oe)}`,`Request body: ${stringify$1(ee)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=ne.code}};const unknownErrorCode$1=-1;let RpcError$1=class extends BaseError$1{constructor(ee,{code:ne,docsPath:oe,metaMessages:ae,shortMessage:he}){super(he,{cause:ee,docsPath:oe,metaMessages:ae||ee?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=ee.name,this.code=ee instanceof RpcRequestError$1?ee.code:ne??unknownErrorCode$1}},InternalRpcError$1=class Ur extends RpcError$1{constructor(ee){super(ee,{code:Ur.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}};Object.defineProperty(InternalRpcError$1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});let InvalidInputRpcError$1=class Dr extends RpcError$1{constructor(ee){super(ee,{code:Dr.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}};Object.defineProperty(InvalidInputRpcError$1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});const EXECUTION_REVERTED_ERROR_CODE$1=3;function getContractError$1(re,{abi:ee,address:ne,args:oe,docsPath:ae,functionName:he,sender:pe}){const{code:ge,data:ve,message:we,shortMessage:Ee}=re instanceof RawContractError$1?re:re instanceof BaseError$1?re.walk(Te=>"data"in Te)||re.walk():{},_e=(()=>re instanceof AbiDecodingZeroDataError$1?new ContractFunctionZeroDataError$1({functionName:he}):[EXECUTION_REVERTED_ERROR_CODE$1,InternalRpcError$1.code].includes(ge)&&(ve||we||Ee)?new ContractFunctionRevertedError$1({abi:ee,data:typeof ve=="object"?ve.data:ve,functionName:he,message:Ee??we}):re)();return new ContractFunctionExecutionError$1(_e,{abi:ee,args:oe,contractAddress:ne,docsPath:ae,functionName:he,sender:pe})}let AccountNotFoundError$1=class extends BaseError$1{constructor({docsPath:ee}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:ee,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}},EstimateGasExecutionError$1=class extends BaseError$1{constructor(ee,{account:ne,docsPath:oe,chain:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te}){const Pe=prettyPrint$1({from:ne?.address,to:_e,value:typeof Te<"u"&&`${formatEther$1(Te)} ${ae?.nativeCurrency.symbol||"ETH"}`,data:he,gas:pe,gasPrice:typeof ge<"u"&&`${formatGwei$1(ge)} gwei`,maxFeePerGas:typeof ve<"u"&&`${formatGwei$1(ve)} gwei`,maxPriorityFeePerGas:typeof we<"u"&&`${formatGwei$1(we)} gwei`,nonce:Ee});super(ee.shortMessage,{cause:ee,docsPath:oe,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Estimate Gas Arguments:",Pe].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=ee}},ExecutionRevertedError$1=class extends BaseError$1{constructor({cause:ee,message:ne}={}){const oe=ne?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${oe?`with reason: ${oe}`:"for an unknown reason"}.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}};Object.defineProperty(ExecutionRevertedError$1,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});let FeeCapTooHighError$1=class extends BaseError$1{constructor({cause:ee,maxFeePerGas:ne}={}){super(`The fee cap (\`maxFeePerGas\`${ne?` = ${formatGwei$1(ne)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}};Object.defineProperty(FeeCapTooHighError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});let FeeCapTooLowError$1=class extends BaseError$1{constructor({cause:ee,maxFeePerGas:ne}={}){super(`The fee cap (\`maxFeePerGas\`${ne?` = ${formatGwei$1(ne)}`:""} gwei) cannot be lower than the block base fee.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}};Object.defineProperty(FeeCapTooLowError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});let NonceTooHighError$1=class extends BaseError$1{constructor({cause:ee,nonce:ne}={}){super(`Nonce provided for the transaction ${ne?`(${ne}) `:""}is higher than the next one expected.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}};Object.defineProperty(NonceTooHighError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});let NonceTooLowError$1=class extends BaseError$1{constructor({cause:ee,nonce:ne}={}){super([`Nonce provided for the transaction ${ne?`(${ne}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}};Object.defineProperty(NonceTooLowError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});let NonceMaxValueError$1=class extends BaseError$1{constructor({cause:ee,nonce:ne}={}){super(`Nonce provided for the transaction ${ne?`(${ne}) `:""}exceeds the maximum allowed nonce.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}};Object.defineProperty(NonceMaxValueError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let InsufficientFundsError$1=class extends BaseError$1{constructor({cause:ee}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:ee,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}};Object.defineProperty(InsufficientFundsError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});let IntrinsicGasTooHighError$1=class extends BaseError$1{constructor({cause:ee,gas:ne}={}){super(`The amount of gas ${ne?`(${ne}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}};Object.defineProperty(IntrinsicGasTooHighError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});let IntrinsicGasTooLowError$1=class extends BaseError$1{constructor({cause:ee,gas:ne}={}){super(`The amount of gas ${ne?`(${ne}) `:""}provided for the transaction is too low.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}};Object.defineProperty(IntrinsicGasTooLowError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});let TransactionTypeNotSupportedError$1=class extends BaseError$1{constructor({cause:ee}){super("The transaction type is not supported for this chain.",{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}};Object.defineProperty(TransactionTypeNotSupportedError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});let TipAboveFeeCapError$1=class extends BaseError$1{constructor({cause:ee,maxPriorityFeePerGas:ne,maxFeePerGas:oe}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${ne?` = ${formatGwei$1(ne)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${oe?` = ${formatGwei$1(oe)} gwei`:""}).`].join(`
`),{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}};Object.defineProperty(TipAboveFeeCapError$1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let UnknownNodeError$1=class extends BaseError$1{constructor({cause:ee}){super(`An error occurred while executing: ${ee?.shortMessage}`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}};function getNodeError$1(re,ee){const ne=(re.details||"").toLowerCase(),oe=re.walk(ae=>ae.code===ExecutionRevertedError$1.code);return oe instanceof BaseError$1?new ExecutionRevertedError$1({cause:re,message:oe.details}):ExecutionRevertedError$1.nodeMessage.test(ne)?new ExecutionRevertedError$1({cause:re,message:re.details}):FeeCapTooHighError$1.nodeMessage.test(ne)?new FeeCapTooHighError$1({cause:re,maxFeePerGas:ee?.maxFeePerGas}):FeeCapTooLowError$1.nodeMessage.test(ne)?new FeeCapTooLowError$1({cause:re,maxFeePerGas:ee?.maxFeePerGas}):NonceTooHighError$1.nodeMessage.test(ne)?new NonceTooHighError$1({cause:re,nonce:ee?.nonce}):NonceTooLowError$1.nodeMessage.test(ne)?new NonceTooLowError$1({cause:re,nonce:ee?.nonce}):NonceMaxValueError$1.nodeMessage.test(ne)?new NonceMaxValueError$1({cause:re,nonce:ee?.nonce}):InsufficientFundsError$1.nodeMessage.test(ne)?new InsufficientFundsError$1({cause:re}):IntrinsicGasTooHighError$1.nodeMessage.test(ne)?new IntrinsicGasTooHighError$1({cause:re,gas:ee?.gas}):IntrinsicGasTooLowError$1.nodeMessage.test(ne)?new IntrinsicGasTooLowError$1({cause:re,gas:ee?.gas}):TransactionTypeNotSupportedError$1.nodeMessage.test(ne)?new TransactionTypeNotSupportedError$1({cause:re}):TipAboveFeeCapError$1.nodeMessage.test(ne)?new TipAboveFeeCapError$1({cause:re,maxFeePerGas:ee?.maxFeePerGas,maxPriorityFeePerGas:ee?.maxPriorityFeePerGas}):new UnknownNodeError$1({cause:re})}function getEstimateGasError$1(re,{docsPath:ee,...ne}){const oe=(()=>{const ae=getNodeError$1(re,ne);return ae instanceof UnknownNodeError$1?re:ae})();return new EstimateGasExecutionError$1(oe,{docsPath:ee,...ne})}function extract$1(re,{format:ee}){return ee?Object.keys(ee({})).reduce((oe,ae)=>(re?.hasOwnProperty(ae)&&(oe[ae]=re[ae]),oe),{}):{}}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function formatTransactionRequest$1(re){return{...re,gas:typeof re.gas<"u"?numberToHex$1(re.gas):void 0,gasPrice:typeof re.gasPrice<"u"?numberToHex$1(re.gasPrice):void 0,maxFeePerGas:typeof re.maxFeePerGas<"u"?numberToHex$1(re.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof re.maxPriorityFeePerGas<"u"?numberToHex$1(re.maxPriorityFeePerGas):void 0,nonce:typeof re.nonce<"u"?numberToHex$1(re.nonce):void 0,type:typeof re.type<"u"?rpcTransactionType[re.type]:void 0,value:typeof re.value<"u"?numberToHex$1(re.value):void 0}}function assertRequest$1(re){const{account:ee,gasPrice:ne,maxFeePerGas:oe,maxPriorityFeePerGas:ae,to:he}=re,pe=ee?parseAccount$1(ee):void 0;if(pe&&!isAddress$1(pe.address))throw new InvalidAddressError$1({address:pe.address});if(he&&!isAddress$1(he))throw new InvalidAddressError$1({address:he});if(typeof ne<"u"&&(typeof oe<"u"||typeof ae<"u"))throw new FeeConflictError$1;if(oe&&oe>2n**256n-1n)throw new FeeCapTooHighError$1({maxFeePerGas:oe});if(ae&&oe&&ae>oe)throw new TipAboveFeeCapError$1({maxFeePerGas:oe,maxPriorityFeePerGas:ae})}class BaseFeeScalarError extends BaseError$1{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError$1{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError$1{constructor({maxPriorityFeePerGas:ee}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei$1(ee)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}let BlockNotFoundError$1=class extends BaseError$1{constructor({blockHash:ee,blockNumber:ne}){let oe="Block";ee&&(oe=`Block at hash "${ee}"`),ne&&(oe=`Block at number "${ne}"`),super(`${oe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}};const transactionType$1={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction$1(re){const ee={...re,blockHash:re.blockHash?re.blockHash:null,blockNumber:re.blockNumber?BigInt(re.blockNumber):null,chainId:re.chainId?hexToNumber$2(re.chainId):void 0,gas:re.gas?BigInt(re.gas):void 0,gasPrice:re.gasPrice?BigInt(re.gasPrice):void 0,maxFeePerGas:re.maxFeePerGas?BigInt(re.maxFeePerGas):void 0,maxPriorityFeePerGas:re.maxPriorityFeePerGas?BigInt(re.maxPriorityFeePerGas):void 0,nonce:re.nonce?hexToNumber$2(re.nonce):void 0,to:re.to?re.to:null,transactionIndex:re.transactionIndex?Number(re.transactionIndex):null,type:re.type?transactionType$1[re.type]:void 0,typeHex:re.type?re.type:void 0,value:re.value?BigInt(re.value):void 0,v:re.v?BigInt(re.v):void 0};return ee.type==="legacy"&&(delete ee.accessList,delete ee.maxFeePerGas,delete ee.maxPriorityFeePerGas),ee.type==="eip2930"&&(delete ee.maxFeePerGas,delete ee.maxPriorityFeePerGas),ee}function formatBlock$1(re){const ee=re.transactions?.map(ne=>typeof ne=="string"?ne:formatTransaction$1(ne));return{...re,baseFeePerGas:re.baseFeePerGas?BigInt(re.baseFeePerGas):null,difficulty:re.difficulty?BigInt(re.difficulty):void 0,gasLimit:re.gasLimit?BigInt(re.gasLimit):void 0,gasUsed:re.gasUsed?BigInt(re.gasUsed):void 0,hash:re.hash?re.hash:null,logsBloom:re.logsBloom?re.logsBloom:null,nonce:re.nonce?re.nonce:null,number:re.number?BigInt(re.number):null,size:re.size?BigInt(re.size):void 0,timestamp:re.timestamp?BigInt(re.timestamp):void 0,transactions:ee,totalDifficulty:re.totalDifficulty?BigInt(re.totalDifficulty):null}}async function getBlock$1(re,{blockHash:ee,blockNumber:ne,blockTag:oe,includeTransactions:ae}={}){const he=oe??"latest",pe=ae??!1,ge=ne!==void 0?numberToHex$1(ne):void 0;let ve=null;if(ee?ve=await re.request({method:"eth_getBlockByHash",params:[ee,pe]}):ve=await re.request({method:"eth_getBlockByNumber",params:[ge||he,pe]}),!ve)throw new BlockNotFoundError$1({blockHash:ee,blockNumber:ne});return(re.chain?.formatters?.block?.format||formatBlock$1)(ve)}async function getGasPrice$1(re){const ee=await re.request({method:"eth_gasPrice"});return BigInt(ee)}async function internal_estimateMaxPriorityFeePerGas(re,ee){const{block:ne,chain:oe=re.chain,request:ae}=ee||{};if(typeof oe?.fees?.defaultPriorityFee=="function"){const he=ne||await getBlock$1(re);return oe.fees.defaultPriorityFee({block:he,client:re,request:ae})}else if(oe?.fees?.defaultPriorityFee)return oe?.fees?.defaultPriorityFee;try{const he=await re.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt$1(he)}catch{const[he,pe]=await Promise.all([ne?Promise.resolve(ne):getBlock$1(re),getGasPrice$1(re)]);if(typeof he.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const ge=pe-he.baseFeePerGas;return ge<0n?0n:ge}}async function internal_estimateFeesPerGas(re,ee){const{block:ne,chain:oe=re.chain,request:ae,type:he="eip1559"}=ee||{},pe=await(async()=>typeof oe?.fees?.baseFeeMultiplier=="function"?oe.fees.baseFeeMultiplier({block:ne,client:re,request:ae}):oe?.fees?.baseFeeMultiplier??1.2)();if(pe<1)throw new BaseFeeScalarError;const ve=10**(pe.toString().split(".")[1]?.length??0),we=Te=>Te*BigInt(Math.ceil(pe*ve))/BigInt(ve),Ee=ne||await getBlock$1(re);if(typeof oe?.fees?.estimateFeesPerGas=="function")return oe.fees.estimateFeesPerGas({block:ne,client:re,multiply:we,request:ae,type:he});if(he==="eip1559"){if(typeof Ee.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const Te=ae?.maxPriorityFeePerGas?ae.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(re,{block:Ee,chain:oe,request:ae}),Pe=we(Ee.baseFeePerGas);return{maxFeePerGas:ae?.maxFeePerGas??Pe+Te,maxPriorityFeePerGas:Te}}return{gasPrice:ae?.gasPrice??we(await getGasPrice$1(re))}}async function getTransactionCount$1(re,{address:ee,blockTag:ne="latest",blockNumber:oe}){const ae=await re.request({method:"eth_getTransactionCount",params:[ee,oe?numberToHex$1(oe):ne]});return hexToNumber$2(ae)}function getTransactionType(re){if(re.type)return re.type;if(typeof re.maxFeePerGas<"u"||typeof re.maxPriorityFeePerGas<"u")return"eip1559";if(typeof re.gasPrice<"u")return typeof re.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:re})}async function prepareTransactionRequest(re,ee){const{account:ne=re.account,chain:oe,gas:ae,nonce:he,type:pe}=ee;if(!ne)throw new AccountNotFoundError$1;const ge=parseAccount$1(ne),ve=await getBlock$1(re,{blockTag:"latest"}),we={...ee,from:ge.address};if(typeof he>"u"&&(we.nonce=await getTransactionCount$1(re,{address:ge.address,blockTag:"pending"})),typeof pe>"u")try{we.type=getTransactionType(we)}catch{we.type=typeof ve.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(we.type==="eip1559"){const{maxFeePerGas:Ee,maxPriorityFeePerGas:_e}=await internal_estimateFeesPerGas(re,{block:ve,chain:oe,request:we});if(typeof ee.maxPriorityFeePerGas>"u"&&ee.maxFeePerGas&&ee.maxFeePerGas<_e)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:_e});we.maxPriorityFeePerGas=_e,we.maxFeePerGas=Ee}else{if(typeof ee.maxFeePerGas<"u"||typeof ee.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;const{gasPrice:Ee}=await internal_estimateFeesPerGas(re,{block:ve,chain:oe,request:we,type:"legacy"});we.gasPrice=Ee}return typeof ae>"u"&&(we.gas=await estimateGas$1(re,{...we,account:{address:ge.address,type:"json-rpc"}})),assertRequest$1(we),we}async function estimateGas$1(re,ee){const ne=ee.account??re.account;if(!ne)throw new AccountNotFoundError$1({docsPath:"/docs/actions/public/estimateGas"});const oe=parseAccount$1(ne);try{const{accessList:ae,blockNumber:he,blockTag:pe,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae,...Se}=oe.type==="local"?await prepareTransactionRequest(re,ee):ee,Ne=(he?numberToHex$1(he):void 0)||pe;assertRequest$1(ee);const Me=re.chain?.formatters?.transactionRequest?.format||formatTransactionRequest$1,Le=Me({...extract$1(Se,{format:Me}),from:oe.address,accessList:ae,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae}),qe=await re.request({method:"eth_estimateGas",params:Ne?[Le,Ne]:[Le]});return BigInt(qe)}catch(ae){throw getEstimateGasError$1(ae,{...ee,account:oe,chain:re.chain})}}async function estimateContractGas$1(re,{abi:ee,address:ne,args:oe,functionName:ae,...he}){const pe=encodeFunctionData$1({abi:ee,args:oe,functionName:ae});try{return await estimateGas$1(re,{data:pe,to:ne,...he})}catch(ge){const ve=he.account?parseAccount$1(he.account):void 0;throw getContractError$1(ge,{abi:ee,address:ne,args:oe,docsPath:"/docs/contract/estimateContractGas",functionName:ae,sender:ve?.address})}}const docsPath$4="/docs/contract/decodeEventLog";function decodeEventLog$1({abi:re,data:ee,strict:ne,topics:oe}){const ae=ne??!0,[he,...pe]=oe;if(!he)throw new AbiEventSignatureEmptyTopicsError$1({docsPath:docsPath$4});const ge=re.find(Ae=>Ae.type==="event"&&he===getEventSelector$1(formatAbiItem$1(Ae)));if(!(ge&&"name"in ge)||ge.type!=="event")throw new AbiEventSignatureNotFoundError$1(he,{docsPath:docsPath$4});const{name:ve,inputs:we}=ge,Ee=we?.some(Ae=>!("name"in Ae&&Ae.name));let _e=Ee?[]:{};const Te=we.filter(Ae=>"indexed"in Ae&&Ae.indexed);if(pe.length>0)for(let Ae=0;Ae<Te.length;Ae++){const Se=Te[Ae],Re=pe[Ae];if(!Re)throw new DecodeLogTopicsMismatch$1({abiItem:ge,param:Se});_e[Se.name||Ae]=decodeTopic$1({param:Se,value:Re})}const Pe=we.filter(Ae=>!("indexed"in Ae&&Ae.indexed));if(Pe.length>0){if(ee&&ee!=="0x")try{const Ae=decodeAbiParameters$1(Pe,ee);if(Ae)if(Ee)_e=[..._e,...Ae];else for(let Se=0;Se<Pe.length;Se++)_e[Pe[Se].name]=Ae[Se]}catch(Ae){if(ae)throw Ae instanceof AbiDecodingDataSizeTooSmallError$1?new DecodeLogDataMismatch$1({abiItem:ge,data:Ae.data,params:Ae.params,size:Ae.size}):Ae}else if(ae)throw new DecodeLogDataMismatch$1({abiItem:ge,data:"0x",params:Pe,size:0})}return{eventName:ve,args:Object.values(_e).length>0?_e:void 0}}function decodeTopic$1({param:re,value:ee}){return re.type==="string"||re.type==="bytes"||re.type==="tuple"||re.type.match(/^(.*)\[(\d+)?\]$/)?ee:(decodeAbiParameters$1([re],ee)||[])[0]}function formatLog$1(re,{args:ee,eventName:ne}={}){return{...re,blockHash:re.blockHash?re.blockHash:null,blockNumber:re.blockNumber?BigInt(re.blockNumber):null,logIndex:re.logIndex?Number(re.logIndex):null,transactionHash:re.transactionHash?re.transactionHash:null,transactionIndex:re.transactionIndex?Number(re.transactionIndex):null,...ne?{args:ee,eventName:ne}:{}}}async function getLogs$1(re,{address:ee,blockHash:ne,fromBlock:oe,toBlock:ae,event:he,events:pe,args:ge,strict:ve}={}){const we=ve??!1,Ee=pe??(he?[he]:void 0);let _e=[];Ee&&(_e=[Ee.flatMap(Pe=>encodeEventTopics$1({abi:[Pe],eventName:Pe.name,args:ge}))],he&&(_e=_e[0]));let Te;return ne?Te=await re.request({method:"eth_getLogs",params:[{address:ee,topics:_e,blockHash:ne}]}):Te=await re.request({method:"eth_getLogs",params:[{address:ee,topics:_e,fromBlock:typeof oe=="bigint"?numberToHex$1(oe):oe,toBlock:typeof ae=="bigint"?numberToHex$1(ae):ae}]}),Te.map(Pe=>{try{const{eventName:Ae,args:Se}=Ee?decodeEventLog$1({abi:Ee,data:Pe.data,topics:Pe.topics,strict:we}):{eventName:void 0,args:void 0};return formatLog$1(Pe,{args:Se,eventName:Ae})}catch(Ae){let Se,Re;if(Ae instanceof DecodeLogDataMismatch$1||Ae instanceof DecodeLogTopicsMismatch$1){if(we)return;Se=Ae.abiItem.name,Re=Ae.abiItem.inputs?.some(Ne=>!("name"in Ne&&Ne.name))}return formatLog$1(Pe,{args:Re?[]:{},eventName:Se})}}).filter(Boolean)}async function getContractEvents(re,{abi:ee,address:ne,args:oe,blockHash:ae,eventName:he,fromBlock:pe,toBlock:ge,strict:ve}){const we=he?getAbiItem$1({abi:ee,name:he}):void 0,Ee=we?void 0:ee.filter(_e=>_e.type==="event");return getLogs$1(re,{address:ne,args:oe,blockHash:ae,event:we,events:Ee,fromBlock:pe,toBlock:ge,strict:ve})}const docsPath$3="/docs/contract/decodeFunctionResult";function decodeFunctionResult$1({abi:re,args:ee,functionName:ne,data:oe}){let ae=re[0];if(ne&&(ae=getAbiItem$1({abi:re,args:ee,name:ne}),!ae))throw new AbiFunctionNotFoundError$1(ne,{docsPath:docsPath$3});if(ae.type!=="function")throw new AbiFunctionNotFoundError$1(void 0,{docsPath:docsPath$3});if(!ae.outputs)throw new AbiFunctionOutputsNotFoundError$1(ae.name,{docsPath:docsPath$3});const he=decodeAbiParameters$1(ae.outputs,oe);if(he&&he.length>1)return he;if(he&&he.length===1)return he[0]}const multicall3Abi$1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],aggregate3Signature$1="0x82ad56cb";let ChainDoesNotSupportContract$1=class extends BaseError$1{constructor({blockNumber:ee,chain:ne,contract:oe}){super(`Chain "${ne.name}" does not support contract "${oe.name}".`,{metaMessages:["This could be due to any of the following:",...ee&&oe.blockCreated&&oe.blockCreated>ee?[`- The contract "${oe.name}" was not deployed until block ${oe.blockCreated} (current block ${ee}).`]:[`- The chain does not have the contract "${oe.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}},ChainMismatchError$1=class extends BaseError$1{constructor({chain:ee,currentChainId:ne}){super(`The current chain of the wallet (id: ${ne}) does not match the target chain for the transaction (id: ${ee.id} – ${ee.name}).`,{metaMessages:[`Current Chain ID:  ${ne}`,`Expected Chain ID: ${ee.id} – ${ee.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}},ChainNotFoundError$1=class extends BaseError$1{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}},ClientChainNotConfiguredError$1=class extends BaseError$1{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}};class InvalidChainIdError extends BaseError$1{constructor({chainId:ee}){super(`Chain ID "${ee}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain$1({chain:re,currentChainId:ee}){if(!re)throw new ChainNotFoundError$1;if(ee!==re.id)throw new ChainMismatchError$1({chain:re,currentChainId:ee})}function defineChain(re,ee={}){const{fees:ne=re.fees,formatters:oe=re.formatters,serializers:ae=re.serializers}=ee;return{...re,fees:ne,formatters:oe,serializers:ae}}function getChainContractAddress$1({blockNumber:re,chain:ee,contract:ne}){const oe=ee?.contracts?.[ne];if(!oe)throw new ChainDoesNotSupportContract$1({chain:ee,contract:{name:ne}});if(re&&oe.blockCreated&&oe.blockCreated>re)throw new ChainDoesNotSupportContract$1({blockNumber:re,chain:ee,contract:{name:ne,blockCreated:oe.blockCreated}});return oe.address}function getCallError$1(re,{docsPath:ee,...ne}){const oe=(()=>{const ae=getNodeError$1(re,ne);return ae instanceof UnknownNodeError$1?re:ae})();return new CallExecutionError$1(oe,{docsPath:ee,...ne})}const schedulerCache$1=new Map;function createBatchScheduler$1({fn:re,id:ee,shouldSplitBatch:ne,wait:oe=0}){const ae=async()=>{const we=ge();he();const Ee=we.map(({args:_e})=>_e);Ee.length!==0&&re(Ee).then(_e=>{we.forEach(({pendingPromise:Te},Pe)=>Te.resolve?.([_e[Pe],_e]))}).catch(_e=>{we.forEach(({pendingPromise:Te})=>Te.reject?.(_e))})},he=()=>schedulerCache$1.delete(ee),pe=()=>ge().map(({args:we})=>we),ge=()=>schedulerCache$1.get(ee)||[],ve=we=>schedulerCache$1.set(ee,[...ge(),we]);return{flush:he,async schedule(we){const Ee={},_e=new Promise((Ae,Se)=>{Ee.resolve=Ae,Ee.reject=Se});return ne?.([...pe(),we])&&ae(),ge().length>0?(ve({args:we,pendingPromise:Ee}),_e):(ve({args:we,pendingPromise:Ee}),setTimeout(ae,oe),_e)}}}async function call$1(re,ee){const{account:ne=re.account,batch:oe=!!re.batch?.multicall,blockNumber:ae,blockTag:he="latest",accessList:pe,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae,...Se}=ee,Re=ne?parseAccount$1(ne):void 0;try{assertRequest$1(ee);const Me=(ae?numberToHex$1(ae):void 0)||he,Le=re.chain?.formatters?.transactionRequest?.format||formatTransactionRequest$1,qe=Le({...extract$1(Se,{format:Le}),from:Re?.address,accessList:pe,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae});if(oe&&shouldPerformMulticall$1({request:qe}))try{return await scheduleMulticall$1(re,{...qe,blockNumber:ae,blockTag:he})}catch(Qe){if(!(Qe instanceof ClientChainNotConfiguredError$1)&&!(Qe instanceof ChainDoesNotSupportContract$1))throw Qe}const We=await re.request({method:"eth_call",params:Me?[qe,Me]:[qe]});return We==="0x"?{data:void 0}:{data:We}}catch(Ne){const Me=getRevertErrorData$1(Ne),{offchainLookup:Le,offchainLookupSignature:qe}=await __vitePreload(()=>import("./ccip-8e5b399f.js"),[]);if(Me?.slice(0,10)===qe&&Pe)return{data:await Le(re,{data:Me,to:Pe})};throw getCallError$1(Ne,{...ee,account:Re,chain:re.chain})}}function shouldPerformMulticall$1({request:re}){const{data:ee,to:ne,...oe}=re;return!(!ee||ee.startsWith(aggregate3Signature$1)||!ne||Object.values(oe).filter(ae=>typeof ae<"u").length>0)}async function scheduleMulticall$1(re,ee){const{batchSize:ne=1024,wait:oe=0}=typeof re.batch?.multicall=="object"?re.batch.multicall:{},{blockNumber:ae,blockTag:he="latest",data:pe,multicallAddress:ge,to:ve}=ee;let we=ge;if(!we){if(!re.chain)throw new ClientChainNotConfiguredError$1;we=getChainContractAddress$1({blockNumber:ae,chain:re.chain,contract:"multicall3"})}const _e=(ae?numberToHex$1(ae):void 0)||he,{schedule:Te}=createBatchScheduler$1({id:`${re.uid}.${_e}`,wait:oe,shouldSplitBatch(Se){return Se.reduce((Ne,{data:Me})=>Ne+(Me.length-2),0)>ne*2},fn:async Se=>{const Re=Se.map(Le=>({allowFailure:!0,callData:Le.data,target:Le.to})),Ne=encodeFunctionData$1({abi:multicall3Abi$1,args:[Re],functionName:"aggregate3"}),Me=await re.request({method:"eth_call",params:[{data:Ne,to:we},_e]});return decodeFunctionResult$1({abi:multicall3Abi$1,args:[Re],functionName:"aggregate3",data:Me||"0x"})}}),[{returnData:Pe,success:Ae}]=await Te({data:pe,to:ve});if(!Ae)throw new RawContractError$1({data:Pe});return Pe==="0x"?{data:void 0}:{data:Pe}}function getRevertErrorData$1(re){if(!(re instanceof BaseError$1))return;const ee=re.walk();return typeof ee.data=="object"?ee.data.data:ee.data}async function readContract$1(re,{abi:ee,address:ne,args:oe,functionName:ae,...he}){const pe=encodeFunctionData$1({abi:ee,args:oe,functionName:ae});try{const{data:ge}=await call$1(re,{data:pe,to:ne,...he});return decodeFunctionResult$1({abi:ee,args:oe,functionName:ae,data:ge||"0x"})}catch(ge){throw getContractError$1(ge,{abi:ee,address:ne,args:oe,docsPath:"/docs/contract/readContract",functionName:ae})}}async function simulateContract$1(re,{abi:ee,address:ne,args:oe,dataSuffix:ae,functionName:he,...pe}){const ge=pe.account?parseAccount$1(pe.account):void 0,ve=encodeFunctionData$1({abi:ee,args:oe,functionName:he});try{const{data:we}=await call$1(re,{batch:!1,data:`${ve}${ae?ae.replace("0x",""):""}`,to:ne,...pe});return{result:decodeFunctionResult$1({abi:ee,args:oe,functionName:he,data:we||"0x"}),request:{abi:ee,address:ne,args:oe,dataSuffix:ae,functionName:he,...pe}}}catch(we){throw getContractError$1(we,{abi:ee,address:ne,args:oe,docsPath:"/docs/contract/simulateContract",functionName:he,sender:ge?.address})}}const listenersCache$1=new Map,cleanupCache$1=new Map;let callbackCount$1=0;function observe$1(re,ee,ne){const oe=++callbackCount$1,ae=()=>listenersCache$1.get(re)||[],he=()=>{const Ee=ae();listenersCache$1.set(re,Ee.filter(_e=>_e.id!==oe))},pe=()=>{const Ee=cleanupCache$1.get(re);ae().length===1&&Ee&&Ee(),he()},ge=ae();if(listenersCache$1.set(re,[...ge,{id:oe,fns:ee}]),ge&&ge.length>0)return pe;const ve={};for(const Ee in ee)ve[Ee]=(..._e)=>{const Te=ae();Te.length!==0&&Te.forEach(Pe=>Pe.fns[Ee]?.(..._e))};const we=ne(ve);return typeof we=="function"&&cleanupCache$1.set(re,we),pe}async function wait$1(re){return new Promise(ee=>setTimeout(ee,re))}function poll$1(re,{emitOnBegin:ee,initialWaitTime:ne,interval:oe}){let ae=!0;const he=()=>ae=!1;return(async()=>{let ge;ee&&(ge=await re({unpoll:he}));const ve=await ne?.(ge)??oe;await wait$1(ve);const we=async()=>{ae&&(await re({unpoll:he}),await wait$1(oe),we())};we()})(),he}const promiseCache$1=new Map,responseCache$1=new Map;function getCache$1(re){const ee=(ae,he)=>({clear:()=>he.delete(ae),get:()=>he.get(ae),set:pe=>he.set(ae,pe)}),ne=ee(re,promiseCache$1),oe=ee(re,responseCache$1);return{clear:()=>{ne.clear(),oe.clear()},promise:ne,response:oe}}async function withCache$1(re,{cacheKey:ee,cacheTime:ne=1/0}){const oe=getCache$1(ee),ae=oe.response.get();if(ae&&ne>0&&new Date().getTime()-ae.created.getTime()<ne)return ae.data;let he=oe.promise.get();he||(he=re(),oe.promise.set(he));try{const pe=await he;return oe.response.set({created:new Date,data:pe}),pe}finally{oe.promise.clear()}}const cacheKey$1=re=>`blockNumber.${re}`;async function getBlockNumber$1(re,{cacheTime:ee=re.cacheTime,maxAge:ne}={}){const oe=await withCache$1(()=>re.request({method:"eth_blockNumber"}),{cacheKey:cacheKey$1(re.uid),cacheTime:ne??ee});return BigInt(oe)}async function getFilterChanges$1(re,{filter:ee}){const ne="strict"in ee&&ee.strict;return(await ee.request({method:"eth_getFilterChanges",params:[ee.id]})).map(ae=>{if(typeof ae=="string")return ae;try{const{eventName:he,args:pe}="abi"in ee&&ee.abi?decodeEventLog$1({abi:ee.abi,data:ae.data,topics:ae.topics,strict:ne}):{eventName:void 0,args:void 0};return formatLog$1(ae,{args:pe,eventName:he})}catch(he){let pe,ge;if(he instanceof DecodeLogDataMismatch$1||he instanceof DecodeLogTopicsMismatch$1){if("strict"in ee&&ee.strict)return;pe=he.abiItem.name,ge=he.abiItem.inputs?.some(ve=>!("name"in ve&&ve.name))}return formatLog$1(ae,{args:ge?[]:{},eventName:pe})}}).filter(Boolean)}async function uninstallFilter$1(re,{filter:ee}){return ee.request({method:"eth_uninstallFilter",params:[ee.id]})}function watchContractEvent$1(re,{abi:ee,address:ne,args:oe,batch:ae=!0,eventName:he,onError:pe,onLogs:ge,poll:ve,pollingInterval:we=re.pollingInterval,strict:Ee}){return(typeof ve<"u"?ve:re.transport.type!=="webSocket")?(()=>{const Ae=stringify$1(["watchContractEvent",ne,oe,ae,re.uid,he,we]),Se=Ee??!1;return observe$1(Ae,{onLogs:ge,onError:pe},Re=>{let Ne,Me,Le=!1;const qe=poll$1(async()=>{if(!Le){try{Me=await createContractEventFilter$1(re,{abi:ee,address:ne,args:oe,eventName:he,strict:Se})}catch{}Le=!0;return}try{let We;if(Me)We=await getFilterChanges$1(re,{filter:Me});else{const Qe=await getBlockNumber$1(re);Ne&&Ne!==Qe?We=await getContractEvents(re,{abi:ee,address:ne,args:oe,fromBlock:Ne+1n,toBlock:Qe,strict:Se}):We=[],Ne=Qe}if(We.length===0)return;ae?Re.onLogs(We):We.forEach(Qe=>Re.onLogs([Qe]))}catch(We){Me&&We instanceof InvalidInputRpcError$1&&(Le=!1),Re.onError?.(We)}},{emitOnBegin:!0,interval:we});return async()=>{Me&&await uninstallFilter$1(re,{filter:Me}),qe()}})})():(()=>{let Ae=!0,Se=()=>Ae=!1;return(async()=>{try{const Re=he?encodeEventTopics$1({abi:ee,eventName:he,args:oe}):[],{unsubscribe:Ne}=await re.transport.subscribe({params:["logs",{address:ne,topics:Re}],onData(Me){if(!Ae)return;const Le=Me.result;try{const{eventName:qe,args:We}=decodeEventLog$1({abi:ee,data:Le.data,topics:Le.topics,strict:Ee}),Qe=formatLog$1(Le,{args:We,eventName:qe});ge([Qe])}catch(qe){let We,Qe;if(qe instanceof DecodeLogDataMismatch$1||qe instanceof DecodeLogTopicsMismatch$1){if(Ee)return;We=qe.abiItem.name,Qe=qe.abiItem.inputs?.some(tt=>!("name"in tt&&tt.name))}const Xe=formatLog$1(Le,{args:Qe?[]:{},eventName:We});ge([Xe])}},onError(Me){pe?.(Me)}});Se=Ne,Ae||Se()}catch(Re){pe?.(Re)}})(),Se})()}function getTransactionError$1(re,{docsPath:ee,...ne}){const oe=(()=>{const ae=getNodeError$1(re,ne);return ae instanceof UnknownNodeError$1?re:ae})();return new TransactionExecutionError$1(oe,{docsPath:ee,...ne})}async function getChainId$1(re){const ee=await re.request({method:"eth_chainId"});return hexToNumber$2(ee)}async function sendRawTransaction(re,{serializedTransaction:ee}){return re.request({method:"eth_sendRawTransaction",params:[ee]})}async function sendTransaction$1(re,ee){const{account:ne=re.account,chain:oe=re.chain,accessList:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te,...Pe}=ee;if(!ne)throw new AccountNotFoundError$1({docsPath:"/docs/actions/wallet/sendTransaction"});const Ae=parseAccount$1(ne);try{assertRequest$1(ee);let Se;if(oe!==null&&(Se=await getChainId$1(re),assertCurrentChain$1({currentChainId:Se,chain:oe})),Ae.type==="local"){const Me=await prepareTransactionRequest(re,{account:Ae,accessList:ae,chain:oe,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te,...Pe});Se||(Se=await getChainId$1(re));const Le=oe?.serializers?.transaction,qe=await Ae.signTransaction({...Me,chainId:Se},{serializer:Le});return await sendRawTransaction(re,{serializedTransaction:qe})}const Re=oe?.formatters?.transactionRequest?.format||formatTransactionRequest$1,Ne=Re({...extract$1(Pe,{format:Re}),accessList:ae,data:he,from:Ae.address,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te});return await re.request({method:"eth_sendTransaction",params:[Ne]})}catch(Se){throw getTransactionError$1(Se,{...ee,account:Ae,chain:ee.chain||void 0})}}async function writeContract$1(re,{abi:ee,address:ne,args:oe,dataSuffix:ae,functionName:he,...pe}){const ge=encodeFunctionData$1({abi:ee,args:oe,functionName:he});return await sendTransaction$1(re,{data:`${ge}${ae?ae.replace("0x",""):""}`,to:ne,...pe})}function getContract({abi:re,address:ee,publicClient:ne,walletClient:oe}){const ae=ne!=null,he=oe!=null,pe={};let ge=!1,ve=!1,we=!1;for(const Ee of re)if(Ee.type==="function"?Ee.stateMutability==="view"||Ee.stateMutability==="pure"?ge=!0:ve=!0:Ee.type==="event"&&(we=!0),ge&&ve&&we)break;return ae&&(ge&&(pe.read=new Proxy({},{get(Ee,_e){return(...Te)=>{const{args:Pe,options:Ae}=getFunctionParameters(Te);return readContract$1(ne,{abi:re,address:ee,functionName:_e,args:Pe,...Ae})}}})),ve&&(pe.simulate=new Proxy({},{get(Ee,_e){return(...Te)=>{const{args:Pe,options:Ae}=getFunctionParameters(Te);return simulateContract$1(ne,{abi:re,address:ee,functionName:_e,args:Pe,...Ae})}}})),we&&(pe.createEventFilter=new Proxy({},{get(Ee,_e){return(...Te)=>{const Pe=re.find(Re=>Re.type==="event"&&Re.name===_e),{args:Ae,options:Se}=getEventParameters(Te,Pe);return createContractEventFilter$1(ne,{abi:re,address:ee,eventName:_e,args:Ae,...Se})}}}),pe.getEvents=new Proxy({},{get(Ee,_e){return(...Te)=>{const Pe=re.find(Re=>Re.type==="event"&&Re.name===_e),{args:Ae,options:Se}=getEventParameters(Te,Pe);return getContractEvents(ne,{abi:re,address:ee,eventName:_e,args:Ae,...Se})}}}),pe.watchEvent=new Proxy({},{get(Ee,_e){return(...Te)=>{const Pe=re.find(Re=>Re.type==="event"&&Re.name===_e),{args:Ae,options:Se}=getEventParameters(Te,Pe);return watchContractEvent$1(ne,{abi:re,address:ee,eventName:_e,args:Ae,...Se})}}}))),he&&ve&&(pe.write=new Proxy({},{get(Ee,_e){return(...Te)=>{const{args:Pe,options:Ae}=getFunctionParameters(Te);return writeContract$1(oe,{abi:re,address:ee,functionName:_e,args:Pe,...Ae})}}})),(ae||he)&&ve&&(pe.estimateGas=new Proxy({},{get(Ee,_e){return(...Te)=>{const{args:Pe,options:Ae}=getFunctionParameters(Te);return estimateContractGas$1(ne??oe,{abi:re,address:ee,functionName:_e,args:Pe,...Ae,account:Ae.account??oe.account})}}})),pe.address=ee,pe.abi=re,pe}function getFunctionParameters(re){const ee=re.length&&Array.isArray(re[0]),ne=ee?re[0]:[],oe=(ee?re[1]:re[0])??{};return{args:ne,options:oe}}function getEventParameters(re,ee){let ne=!1;Array.isArray(re[0])?ne=!0:re.length===1?ne=ee.inputs.some(he=>he.indexed):re.length===2&&(ne=!0);const oe=ne?re[0]:void 0,ae=(ne?re[1]:re[0])??{};return{args:oe,options:ae}}function publicKeyToAddress(re){const ee=keccak256$1(`0x${re.substring(4)}`).substring(26);return checksumAddress$1(`0x${ee}`)}const arrayRegex=/^(.*)\[([0-9]*)\]$/,bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hashTypedData$1({domain:re,message:ee,primaryType:ne,types:oe}){const ae=typeof re>"u"?{}:re,he={EIP712Domain:getTypesForEIP712Domain({domain:ae}),...oe};validateTypedData$1({domain:ae,message:ee,primaryType:ne,types:he});const pe=["0x1901"];return ae&&pe.push(hashDomain$1({domain:ae,types:he})),ne!=="EIP712Domain"&&pe.push(hashStruct$1({data:ee,primaryType:ne,types:he})),keccak256$1(concat$1(pe))}function hashDomain$1({domain:re,types:ee}){return hashStruct$1({data:re,primaryType:"EIP712Domain",types:ee})}function hashStruct$1({data:re,primaryType:ee,types:ne}){const oe=encodeData$1({data:re,primaryType:ee,types:ne});return keccak256$1(oe)}function encodeData$1({data:re,primaryType:ee,types:ne}){const oe=[{type:"bytes32"}],ae=[hashType$1({primaryType:ee,types:ne})];for(const he of ne[ee]){const[pe,ge]=encodeField$1({types:ne,name:he.name,type:he.type,value:re[he.name]});oe.push(pe),ae.push(ge)}return encodeAbiParameters$1(oe,ae)}function hashType$1({primaryType:re,types:ee}){const ne=toHex$1(encodeType$1({primaryType:re,types:ee}));return keccak256$1(ne)}function encodeType$1({primaryType:re,types:ee}){let ne="";const oe=findTypeDependencies$1({primaryType:re,types:ee});oe.delete(re);const ae=[re,...Array.from(oe).sort()];for(const he of ae)ne+=`${he}(${ee[he].map(({name:pe,type:ge})=>`${ge} ${pe}`).join(",")})`;return ne}function findTypeDependencies$1({primaryType:re,types:ee},ne=new Set){const ae=re.match(/^\w*/u)?.[0];if(ne.has(ae)||ee[ae]===void 0)return ne;ne.add(ae);for(const he of ee[ae])findTypeDependencies$1({primaryType:he.type,types:ee},ne);return ne}function encodeField$1({types:re,name:ee,type:ne,value:oe}){if(re[ne]!==void 0)return[{type:"bytes32"},keccak256$1(encodeData$1({data:oe,primaryType:ne,types:re}))];if(ne==="bytes")return oe=`0x${(oe.length%2?"0":"")+oe.slice(2)}`,[{type:"bytes32"},keccak256$1(oe)];if(ne==="string")return[{type:"bytes32"},keccak256$1(toHex$1(oe))];if(ne.lastIndexOf("]")===ne.length-1){const ae=ne.slice(0,ne.lastIndexOf("[")),he=oe.map(pe=>encodeField$1({name:ee,type:ae,types:re,value:pe}));return[{type:"bytes32"},keccak256$1(encodeAbiParameters$1(he.map(([pe])=>pe),he.map(([,pe])=>pe)))]}return[{type:ne},oe]}function validateTypedData$1({domain:re,message:ee,primaryType:ne,types:oe}){const ae=oe,he=(pe,ge)=>{for(const ve of pe){const{name:we,type:Ee}=ve,_e=Ee,Te=ge[we],Pe=_e.match(integerRegex$1);if(Pe&&(typeof Te=="number"||typeof Te=="bigint")){const[Re,Ne,Me]=Pe;numberToHex$1(Te,{signed:Ne==="int",size:parseInt(Me)/8})}if(_e==="address"&&typeof Te=="string"&&!isAddress$1(Te))throw new InvalidAddressError$1({address:Te});const Ae=_e.match(bytesRegex$1);if(Ae){const[Re,Ne]=Ae;if(Ne&&size$2(Te)!==parseInt(Ne))throw new BytesSizeMismatchError$1({expectedSize:parseInt(Ne),givenSize:size$2(Te)})}const Se=ae[_e];Se&&he(Se,Te)}};if(ae.EIP712Domain&&re&&he(ae.EIP712Domain,re),ne!=="EIP712Domain"){const pe=ae[ne];he(pe,ee)}}function getTypesForEIP712Domain({domain:re}){return[typeof re?.name=="string"&&{name:"name",type:"string"},re?.version&&{name:"version",type:"string"},typeof re?.chainId=="number"&&{name:"chainId",type:"uint256"},re?.verifyingContract&&{name:"verifyingContract",type:"address"},re?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function encodePacked(re,ee){if(re.length!==ee.length)throw new AbiEncodingLengthMismatchError$1({expectedLength:re.length,givenLength:ee.length});const ne=[];for(let oe=0;oe<re.length;oe++){const ae=re[oe],he=ee[oe];ne.push(encode(ae,he))}return concatHex$1(ne)}function encode(re,ee,ne=!1){if(re==="address"){const pe=ee;if(!isAddress$1(pe))throw new InvalidAddressError$1({address:pe});return pad$1(pe.toLowerCase(),{size:ne?32:null})}if(re==="string")return stringToHex$1(ee);if(re==="bytes")return ee;if(re==="bool")return pad$1(boolToHex$1(ee),{size:ne?32:1});const oe=re.match(integerRegex$1);if(oe){const[pe,ge,ve="256"]=oe,we=parseInt(ve)/8;return numberToHex$1(ee,{size:ne?32:we,signed:ge==="int"})}const ae=re.match(bytesRegex$1);if(ae){const[pe,ge]=ae;if(parseInt(ge)!==(ee.length-2)/2)throw new BytesSizeMismatchError$1({expectedSize:parseInt(ge),givenSize:(ee.length-2)/2});return pad$1(ee,{dir:"right",size:ne?32:null})}const he=re.match(arrayRegex);if(he&&Array.isArray(ee)){const[pe,ge]=he,ve=[];for(let we=0;we<ee.length;we++)ve.push(encode(ge,ee[we],!0));return ve.length===0?"0x":concatHex$1(ve)}throw new UnsupportedPackedAbiType(re)}class NegativeOffsetError extends BaseError$1{constructor({offset:ee}){super(`Offset \`${ee}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError$1{constructor({length:ee,position:ne}){super(`Position \`${ne}\` is out of bounds (\`0 < position < ${ee}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,assertPosition(re){if(re<0||re>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:re})},decrementPosition(re){if(re<0)throw new NegativeOffsetError({offset:re});const ee=this.position-re;this.assertPosition(ee),this.position=ee},incrementPosition(re){if(re<0)throw new NegativeOffsetError({offset:re});const ee=this.position+re;this.assertPosition(ee),this.position=ee},inspectByte(re){const ee=re??this.position;return this.assertPosition(ee),this.bytes[ee]},inspectBytes(re,ee){const ne=ee??this.position;return this.assertPosition(ne+re-1),this.bytes.subarray(ne,ne+re)},inspectUint8(re){const ee=re??this.position;return this.assertPosition(ee),this.bytes[ee]},inspectUint16(re){const ee=re??this.position;return this.assertPosition(ee+1),this.dataView.getUint16(ee)},inspectUint24(re){const ee=re??this.position;return this.assertPosition(ee+2),(this.dataView.getUint16(ee)<<8)+this.dataView.getUint8(ee+2)},inspectUint32(re){const ee=re??this.position;return this.assertPosition(ee+3),this.dataView.getUint32(ee)},pushByte(re){this.assertPosition(this.position),this.bytes[this.position]=re,this.position++},pushBytes(re){this.assertPosition(this.position+re.length-1),this.bytes.set(re,this.position),this.position+=re.length},pushUint8(re){this.assertPosition(this.position),this.bytes[this.position]=re,this.position++},pushUint16(re){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,re),this.position+=2},pushUint24(re){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,re>>8),this.dataView.setUint8(this.position+2,re&255),this.position+=3},pushUint32(re){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,re),this.position+=4},readByte(){const re=this.inspectByte();return this.position++,re},readBytes(re){const ee=this.inspectBytes(re);return this.position+=re,ee},readUint8(){const re=this.inspectUint8();return this.position+=1,re},readUint16(){const re=this.inspectUint16();return this.position+=2,re},readUint24(){const re=this.inspectUint24();return this.position+=3,re},readUint32(){const re=this.inspectUint32();return this.position+=4,re},setPosition(re){this.assertPosition(re),this.position=re}};function createCursor(re){const ee=Object.create(staticCursor);return ee.bytes=re,ee.dataView=new DataView(re.buffer,re.byteOffset,re.byteLength),ee}function toRlp(re,ee="hex"){const ne=getEncodable(re),oe=createCursor(new Uint8Array(ne.length));return ne.encode(oe),ee==="hex"?bytesToHex$2(oe.bytes):oe.bytes}function getEncodable(re){return Array.isArray(re)?getEncodableList(re.map(ee=>getEncodable(ee))):getEncodableBytes(re)}function getEncodableList(re){const ee=re.reduce((ae,he)=>ae+he.length,0),ne=getSizeOfLength(ee);return{length:(()=>ee<=55?1+ee:1+ne+ee)(),encode(ae){ee<=55?ae.pushByte(192+ee):(ae.pushByte(192+55+ne),ne===1?ae.pushUint8(ee):ne===2?ae.pushUint16(ee):ne===3?ae.pushUint24(ee):ae.pushUint32(ee)),re.forEach(he=>he.encode(ae))}}}function getEncodableBytes(re){const ee=typeof re=="string"?hexToBytes$2(re):re,ne=getSizeOfLength(ee.length);return{length:(()=>ee.length===1&&ee[0]<128?1:ee.length<=55?1+ee.length:1+ne+ee.length)(),encode(ae){ee.length===1&&ee[0]<128?ae.pushBytes(ee):ee.length<=55?(ae.pushByte(128+ee.length),ae.pushBytes(ee)):(ae.pushByte(128+55+ne),ne===1?ae.pushUint8(ee.length):ne===2?ae.pushUint16(ee.length):ne===3?ae.pushUint24(ee.length):ae.pushUint32(ee.length),ae.pushBytes(ee))}}}function getSizeOfLength(re){if(re<2**8)return 1;if(re<2**16)return 2;if(re<2**24)return 3;if(re<2**32)return 4;throw new BaseError$1("Length is too large.")}function hashMessage$1(re,ee){const ne=(()=>typeof re=="string"?stringToBytes$1(re):re.raw instanceof Uint8Array?re.raw:toBytes$3(re.raw))(),oe=stringToBytes$1(`Ethereum Signed Message:
${ne.length}`);return keccak256$1(concat$1([oe,ne]),ee)}function assertTransactionEIP1559(re){const{chainId:ee,maxPriorityFeePerGas:ne,gasPrice:oe,maxFeePerGas:ae,to:he}=re;if(ee<=0)throw new InvalidChainIdError({chainId:ee});if(he&&!isAddress$1(he))throw new InvalidAddressError$1({address:he});if(oe)throw new BaseError$1("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(ae&&ae>2n**256n-1n)throw new FeeCapTooHighError$1({maxFeePerGas:ae});if(ne&&ae&&ne>ae)throw new TipAboveFeeCapError$1({maxFeePerGas:ae,maxPriorityFeePerGas:ne})}function assertTransactionEIP2930(re){const{chainId:ee,maxPriorityFeePerGas:ne,gasPrice:oe,maxFeePerGas:ae,to:he}=re;if(ee<=0)throw new InvalidChainIdError({chainId:ee});if(he&&!isAddress$1(he))throw new InvalidAddressError$1({address:he});if(ne||ae)throw new BaseError$1("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(oe&&oe>2n**256n-1n)throw new FeeCapTooHighError$1({maxFeePerGas:oe})}function assertTransactionLegacy(re){const{chainId:ee,maxPriorityFeePerGas:ne,gasPrice:oe,maxFeePerGas:ae,to:he,accessList:pe}=re;if(he&&!isAddress$1(he))throw new InvalidAddressError$1({address:he});if(typeof ee<"u"&&ee<=0)throw new InvalidChainIdError({chainId:ee});if(ne||ae)throw new BaseError$1("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(oe&&oe>2n**256n-1n)throw new FeeCapTooHighError$1({maxFeePerGas:oe});if(pe)throw new BaseError$1("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(re){if(!re||re.length===0)return[];const ee=[];for(let ne=0;ne<re.length;ne++){const{address:oe,storageKeys:ae}=re[ne];for(let he=0;he<ae.length;he++)if(ae[he].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:ae[he]});if(!isAddress$1(oe))throw new InvalidAddressError$1({address:oe});ee.push([oe,ae])}return ee}function serializeTransaction(re,ee){const ne=getTransactionType(re);return ne==="eip1559"?serializeTransactionEIP1559(re,ee):ne==="eip2930"?serializeTransactionEIP2930(re,ee):serializeTransactionLegacy(re,ee)}function serializeTransactionEIP1559(re,ee){const{chainId:ne,gas:oe,nonce:ae,to:he,value:pe,maxFeePerGas:ge,maxPriorityFeePerGas:ve,accessList:we,data:Ee}=re;assertTransactionEIP1559(re);const _e=serializeAccessList(we),Te=[toHex$1(ne),ae?toHex$1(ae):"0x",ve?toHex$1(ve):"0x",ge?toHex$1(ge):"0x",oe?toHex$1(oe):"0x",he??"0x",pe?toHex$1(pe):"0x",Ee??"0x",_e];return ee&&Te.push(ee.v===27n?"0x":toHex$1(1),trim$1(ee.r),trim$1(ee.s)),concatHex$1(["0x02",toRlp(Te)])}function serializeTransactionEIP2930(re,ee){const{chainId:ne,gas:oe,data:ae,nonce:he,to:pe,value:ge,accessList:ve,gasPrice:we}=re;assertTransactionEIP2930(re);const Ee=serializeAccessList(ve),_e=[toHex$1(ne),he?toHex$1(he):"0x",we?toHex$1(we):"0x",oe?toHex$1(oe):"0x",pe??"0x",ge?toHex$1(ge):"0x",ae??"0x",Ee];return ee&&_e.push(ee.v===27n?"0x":toHex$1(1),ee.r,ee.s),concatHex$1(["0x01",toRlp(_e)])}function serializeTransactionLegacy(re,ee){const{chainId:ne=0,gas:oe,data:ae,nonce:he,to:pe,value:ge,gasPrice:ve}=re;assertTransactionLegacy(re);let we=[he?toHex$1(he):"0x",ve?toHex$1(ve):"0x",oe?toHex$1(oe):"0x",pe??"0x",ge?toHex$1(ge):"0x",ae??"0x"];if(ee){let Ee=27n+(ee.v===27n?0n:1n);if(ne>0)Ee=BigInt(ne*2)+BigInt(35n+ee.v-27n);else if(ee.v!==Ee)throw new InvalidLegacyVError({v:ee.v});we=[...we,toHex$1(Ee),ee.r,ee.s]}else ne>0&&(we=[...we,toHex$1(ne),"0x","0x"]);return toRlp(we)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),u8a=re=>re instanceof Uint8Array,hexes$1=Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function bytesToHex$1(re){if(!u8a(re))throw new Error("Uint8Array expected");let ee="";for(let ne=0;ne<re.length;ne++)ee+=hexes$1[re[ne]];return ee}function numberToHexUnpadded(re){const ee=re.toString(16);return ee.length&1?`0${ee}`:ee}function hexToNumber$1(re){if(typeof re!="string")throw new Error("hex string expected, got "+typeof re);return BigInt(re===""?"0":`0x${re}`)}function hexToBytes$1(re){if(typeof re!="string")throw new Error("hex string expected, got "+typeof re);const ee=re.length;if(ee%2)throw new Error("padded hex string expected, got unpadded hex of length "+ee);const ne=new Uint8Array(ee/2);for(let oe=0;oe<ne.length;oe++){const ae=oe*2,he=re.slice(ae,ae+2),pe=Number.parseInt(he,16);if(Number.isNaN(pe)||pe<0)throw new Error("Invalid byte sequence");ne[oe]=pe}return ne}function bytesToNumberBE(re){return hexToNumber$1(bytesToHex$1(re))}function bytesToNumberLE(re){if(!u8a(re))throw new Error("Uint8Array expected");return hexToNumber$1(bytesToHex$1(Uint8Array.from(re).reverse()))}function numberToBytesBE(re,ee){return hexToBytes$1(re.toString(16).padStart(ee*2,"0"))}function numberToBytesLE(re,ee){return numberToBytesBE(re,ee).reverse()}function numberToVarBytesBE(re){return hexToBytes$1(numberToHexUnpadded(re))}function ensureBytes(re,ee,ne){let oe;if(typeof ee=="string")try{oe=hexToBytes$1(ee)}catch(he){throw new Error(`${re} must be valid hex string, got "${ee}". Cause: ${he}`)}else if(u8a(ee))oe=Uint8Array.from(ee);else throw new Error(`${re} must be hex string or Uint8Array`);const ae=oe.length;if(typeof ne=="number"&&ae!==ne)throw new Error(`${re} expected ${ne} bytes, got ${ae}`);return oe}function concatBytes$1(...re){const ee=new Uint8Array(re.reduce((oe,ae)=>oe+ae.length,0));let ne=0;return re.forEach(oe=>{if(!u8a(oe))throw new Error("Uint8Array expected");ee.set(oe,ne),ne+=oe.length}),ee}function equalBytes$1(re,ee){if(re.length!==ee.length)return!1;for(let ne=0;ne<re.length;ne++)if(re[ne]!==ee[ne])return!1;return!0}function utf8ToBytes$1(re){if(typeof re!="string")throw new Error(`utf8ToBytes expected string, got ${typeof re}`);return new Uint8Array(new TextEncoder().encode(re))}function bitLen(re){let ee;for(ee=0;re>_0n$4;re>>=_1n$5,ee+=1);return ee}function bitGet(re,ee){return re>>BigInt(ee)&_1n$5}const bitSet=(re,ee,ne)=>re|(ne?_1n$5:_0n$4)<<BigInt(ee),bitMask=re=>(_2n$3<<BigInt(re-1))-_1n$5,u8n=re=>new Uint8Array(re),u8fr=re=>Uint8Array.from(re);function createHmacDrbg(re,ee,ne){if(typeof re!="number"||re<2)throw new Error("hashLen must be a number");if(typeof ee!="number"||ee<2)throw new Error("qByteLen must be a number");if(typeof ne!="function")throw new Error("hmacFn must be a function");let oe=u8n(re),ae=u8n(re),he=0;const pe=()=>{oe.fill(1),ae.fill(0),he=0},ge=(..._e)=>ne(ae,oe,..._e),ve=(_e=u8n())=>{ae=ge(u8fr([0]),_e),oe=ge(),_e.length!==0&&(ae=ge(u8fr([1]),_e),oe=ge())},we=()=>{if(he++>=1e3)throw new Error("drbg: tried 1000 values");let _e=0;const Te=[];for(;_e<ee;){oe=ge();const Pe=oe.slice();Te.push(Pe),_e+=oe.length}return concatBytes$1(...Te)};return(_e,Te)=>{pe(),ve(_e);let Pe;for(;!(Pe=Te(we()));)ve();return pe(),Pe}}const validatorFns={bigint:re=>typeof re=="bigint",function:re=>typeof re=="function",boolean:re=>typeof re=="boolean",string:re=>typeof re=="string",stringOrUint8Array:re=>typeof re=="string"||re instanceof Uint8Array,isSafeInteger:re=>Number.isSafeInteger(re),array:re=>Array.isArray(re),field:(re,ee)=>ee.Fp.isValid(re),hash:re=>typeof re=="function"&&Number.isSafeInteger(re.outputLen)};function validateObject(re,ee,ne={}){const oe=(ae,he,pe)=>{const ge=validatorFns[he];if(typeof ge!="function")throw new Error(`Invalid validator "${he}", expected function`);const ve=re[ae];if(!(pe&&ve===void 0)&&!ge(ve,re))throw new Error(`Invalid param ${String(ae)}=${ve} (${typeof ve}), expected ${he}`)};for(const[ae,he]of Object.entries(ee))oe(ae,he,!1);for(const[ae,he]of Object.entries(ne))oe(ae,he,!0);return re}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes:equalBytes$1,hexToBytes:hexToBytes$1,hexToNumber:hexToNumber$1,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));function setBigUint64(re,ee,ne,oe){if(typeof re.setBigUint64=="function")return re.setBigUint64(ee,ne,oe);const ae=BigInt(32),he=BigInt(4294967295),pe=Number(ne>>ae&he),ge=Number(ne&he),ve=oe?4:0,we=oe?0:4;re.setUint32(ee+ve,pe,oe),re.setUint32(ee+we,ge,oe)}class SHA2 extends Hash$1{constructor(ee,ne,oe,ae){super(),this.blockLen=ee,this.outputLen=ne,this.padOffset=oe,this.isLE=ae,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ee),this.view=createView(this.buffer)}update(ee){exists$1(this);const{view:ne,buffer:oe,blockLen:ae}=this;ee=toBytes$2(ee);const he=ee.length;for(let pe=0;pe<he;){const ge=Math.min(ae-this.pos,he-pe);if(ge===ae){const ve=createView(ee);for(;ae<=he-pe;pe+=ae)this.process(ve,pe);continue}oe.set(ee.subarray(pe,pe+ge),this.pos),this.pos+=ge,pe+=ge,this.pos===ae&&(this.process(ne,0),this.pos=0)}return this.length+=ee.length,this.roundClean(),this}digestInto(ee){exists$1(this),output$1(ee,this),this.finished=!0;const{buffer:ne,view:oe,blockLen:ae,isLE:he}=this;let{pos:pe}=this;ne[pe++]=128,this.buffer.subarray(pe).fill(0),this.padOffset>ae-pe&&(this.process(oe,0),pe=0);for(let _e=pe;_e<ae;_e++)ne[_e]=0;setBigUint64(oe,ae-8,BigInt(this.length*8),he),this.process(oe,0);const ge=createView(ee),ve=this.outputLen;if(ve%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const we=ve/4,Ee=this.get();if(we>Ee.length)throw new Error("_sha2: outputLen bigger than state");for(let _e=0;_e<we;_e++)ge.setUint32(4*_e,Ee[_e],he)}digest(){const{buffer:ee,outputLen:ne}=this;this.digestInto(ee);const oe=ee.slice(0,ne);return this.destroy(),oe}_cloneInto(ee){ee||(ee=new this.constructor),ee.set(...this.get());const{blockLen:ne,buffer:oe,length:ae,finished:he,destroyed:pe,pos:ge}=this;return ee.length=ae,ee.pos=ge,ee.finished=he,ee.destroyed=pe,ae%ne&&ee.buffer.set(oe),ee}}const Chi=(re,ee,ne)=>re&ee^~re&ne,Maj=(re,ee,ne)=>re&ee^re&ne^ee&ne,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:ee,B:ne,C:oe,D:ae,E:he,F:pe,G:ge,H:ve}=this;return[ee,ne,oe,ae,he,pe,ge,ve]}set(ee,ne,oe,ae,he,pe,ge,ve){this.A=ee|0,this.B=ne|0,this.C=oe|0,this.D=ae|0,this.E=he|0,this.F=pe|0,this.G=ge|0,this.H=ve|0}process(ee,ne){for(let _e=0;_e<16;_e++,ne+=4)SHA256_W[_e]=ee.getUint32(ne,!1);for(let _e=16;_e<64;_e++){const Te=SHA256_W[_e-15],Pe=SHA256_W[_e-2],Ae=rotr(Te,7)^rotr(Te,18)^Te>>>3,Se=rotr(Pe,17)^rotr(Pe,19)^Pe>>>10;SHA256_W[_e]=Se+SHA256_W[_e-7]+Ae+SHA256_W[_e-16]|0}let{A:oe,B:ae,C:he,D:pe,E:ge,F:ve,G:we,H:Ee}=this;for(let _e=0;_e<64;_e++){const Te=rotr(ge,6)^rotr(ge,11)^rotr(ge,25),Pe=Ee+Te+Chi(ge,ve,we)+SHA256_K[_e]+SHA256_W[_e]|0,Se=(rotr(oe,2)^rotr(oe,13)^rotr(oe,22))+Maj(oe,ae,he)|0;Ee=we,we=ve,ve=ge,ge=pe+Pe|0,pe=he,he=ae,ae=oe,oe=Pe+Se|0}oe=oe+this.A|0,ae=ae+this.B|0,he=he+this.C|0,pe=pe+this.D|0,ge=ge+this.E|0,ve=ve+this.F|0,we=we+this.G|0,Ee=Ee+this.H|0,this.set(oe,ae,he,pe,ge,ve,we,Ee)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor$1(()=>new SHA256);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(re,ee){const ne=re%ee;return ne>=_0n$3?ne:ee+ne}function pow(re,ee,ne){if(ne<=_0n$3||ee<_0n$3)throw new Error("Expected power/modulo > 0");if(ne===_1n$4)return _0n$3;let oe=_1n$4;for(;ee>_0n$3;)ee&_1n$4&&(oe=oe*re%ne),re=re*re%ne,ee>>=_1n$4;return oe}function pow2(re,ee,ne){let oe=re;for(;ee-- >_0n$3;)oe*=oe,oe%=ne;return oe}function invert$1(re,ee){if(re===_0n$3||ee<=_0n$3)throw new Error(`invert: expected positive integers, got n=${re} mod=${ee}`);let ne=mod(re,ee),oe=ee,ae=_0n$3,he=_1n$4;for(;ne!==_0n$3;){const ge=oe/ne,ve=oe%ne,we=ae-he*ge;oe=ne,ne=ve,ae=he,he=we}if(oe!==_1n$4)throw new Error("invert: does not exist");return mod(ae,ee)}function tonelliShanks(re){const ee=(re-_1n$4)/_2n$2;let ne,oe,ae;for(ne=re-_1n$4,oe=0;ne%_2n$2===_0n$3;ne/=_2n$2,oe++);for(ae=_2n$2;ae<re&&pow(ae,ee,re)!==re-_1n$4;ae++);if(oe===1){const pe=(re+_1n$4)/_4n;return function(ve,we){const Ee=ve.pow(we,pe);if(!ve.eql(ve.sqr(Ee),we))throw new Error("Cannot find square root");return Ee}}const he=(ne+_1n$4)/_2n$2;return function(ge,ve){if(ge.pow(ve,ee)===ge.neg(ge.ONE))throw new Error("Cannot find square root");let we=oe,Ee=ge.pow(ge.mul(ge.ONE,ae),ne),_e=ge.pow(ve,he),Te=ge.pow(ve,ne);for(;!ge.eql(Te,ge.ONE);){if(ge.eql(Te,ge.ZERO))return ge.ZERO;let Pe=1;for(let Se=ge.sqr(Te);Pe<we&&!ge.eql(Se,ge.ONE);Pe++)Se=ge.sqr(Se);const Ae=ge.pow(Ee,_1n$4<<BigInt(we-Pe-1));Ee=ge.sqr(Ae),_e=ge.mul(_e,Ae),Te=ge.mul(Te,Ee),we=Pe}return _e}}function FpSqrt(re){if(re%_4n===_3n$1){const ee=(re+_1n$4)/_4n;return function(oe,ae){const he=oe.pow(ae,ee);if(!oe.eql(oe.sqr(he),ae))throw new Error("Cannot find square root");return he}}if(re%_8n===_5n){const ee=(re-_5n)/_8n;return function(oe,ae){const he=oe.mul(ae,_2n$2),pe=oe.pow(he,ee),ge=oe.mul(ae,pe),ve=oe.mul(oe.mul(ge,_2n$2),pe),we=oe.mul(ge,oe.sub(ve,oe.ONE));if(!oe.eql(oe.sqr(we),ae))throw new Error("Cannot find square root");return we}}return tonelliShanks(re)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(re){const ee={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},ne=FIELD_FIELDS.reduce((oe,ae)=>(oe[ae]="function",oe),ee);return validateObject(re,ne)}function FpPow(re,ee,ne){if(ne<_0n$3)throw new Error("Expected power > 0");if(ne===_0n$3)return re.ONE;if(ne===_1n$4)return ee;let oe=re.ONE,ae=ee;for(;ne>_0n$3;)ne&_1n$4&&(oe=re.mul(oe,ae)),ae=re.sqr(ae),ne>>=_1n$4;return oe}function FpInvertBatch(re,ee){const ne=new Array(ee.length),oe=ee.reduce((he,pe,ge)=>re.is0(pe)?he:(ne[ge]=he,re.mul(he,pe)),re.ONE),ae=re.inv(oe);return ee.reduceRight((he,pe,ge)=>re.is0(pe)?he:(ne[ge]=re.mul(he,ne[ge]),re.mul(he,pe)),ae),ne}function nLength(re,ee){const ne=ee!==void 0?ee:re.toString(2).length,oe=Math.ceil(ne/8);return{nBitLength:ne,nByteLength:oe}}function Field(re,ee,ne=!1,oe={}){if(re<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${re}`);const{nBitLength:ae,nByteLength:he}=nLength(re,ee);if(he>2048)throw new Error("Field lengths over 2048 bytes are not supported");const pe=FpSqrt(re),ge=Object.freeze({ORDER:re,BITS:ae,BYTES:he,MASK:bitMask(ae),ZERO:_0n$3,ONE:_1n$4,create:ve=>mod(ve,re),isValid:ve=>{if(typeof ve!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ve}`);return _0n$3<=ve&&ve<re},is0:ve=>ve===_0n$3,isOdd:ve=>(ve&_1n$4)===_1n$4,neg:ve=>mod(-ve,re),eql:(ve,we)=>ve===we,sqr:ve=>mod(ve*ve,re),add:(ve,we)=>mod(ve+we,re),sub:(ve,we)=>mod(ve-we,re),mul:(ve,we)=>mod(ve*we,re),pow:(ve,we)=>FpPow(ge,ve,we),div:(ve,we)=>mod(ve*invert$1(we,re),re),sqrN:ve=>ve*ve,addN:(ve,we)=>ve+we,subN:(ve,we)=>ve-we,mulN:(ve,we)=>ve*we,inv:ve=>invert$1(ve,re),sqrt:oe.sqrt||(ve=>pe(ge,ve)),invertBatch:ve=>FpInvertBatch(ge,ve),cmov:(ve,we,Ee)=>Ee?we:ve,toBytes:ve=>ne?numberToBytesLE(ve,he):numberToBytesBE(ve,he),fromBytes:ve=>{if(ve.length!==he)throw new Error(`Fp.fromBytes: expected ${he}, got ${ve.length}`);return ne?bytesToNumberLE(ve):bytesToNumberBE(ve)}});return Object.freeze(ge)}function getFieldBytesLength(re){if(typeof re!="bigint")throw new Error("field order must be bigint");const ee=re.toString(2).length;return Math.ceil(ee/8)}function getMinHashLength(re){const ee=getFieldBytesLength(re);return ee+Math.ceil(ee/2)}function mapHashToField(re,ee,ne=!1){const oe=re.length,ae=getFieldBytesLength(ee),he=getMinHashLength(ee);if(oe<16||oe<he||oe>1024)throw new Error(`expected ${he}-1024 bytes of input, got ${oe}`);const pe=ne?bytesToNumberBE(re):bytesToNumberLE(re),ge=mod(pe,ee-_1n$4)+_1n$4;return ne?numberToBytesLE(ge,ae):numberToBytesBE(ge,ae)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1);function wNAF(re,ee){const ne=(ae,he)=>{const pe=he.negate();return ae?pe:he},oe=ae=>{const he=Math.ceil(ee/ae)+1,pe=2**(ae-1);return{windows:he,windowSize:pe}};return{constTimeNegate:ne,unsafeLadder(ae,he){let pe=re.ZERO,ge=ae;for(;he>_0n$2;)he&_1n$3&&(pe=pe.add(ge)),ge=ge.double(),he>>=_1n$3;return pe},precomputeWindow(ae,he){const{windows:pe,windowSize:ge}=oe(he),ve=[];let we=ae,Ee=we;for(let _e=0;_e<pe;_e++){Ee=we,ve.push(Ee);for(let Te=1;Te<ge;Te++)Ee=Ee.add(we),ve.push(Ee);we=Ee.double()}return ve},wNAF(ae,he,pe){const{windows:ge,windowSize:ve}=oe(ae);let we=re.ZERO,Ee=re.BASE;const _e=BigInt(2**ae-1),Te=2**ae,Pe=BigInt(ae);for(let Ae=0;Ae<ge;Ae++){const Se=Ae*ve;let Re=Number(pe&_e);pe>>=Pe,Re>ve&&(Re-=Te,pe+=_1n$3);const Ne=Se,Me=Se+Math.abs(Re)-1,Le=Ae%2!==0,qe=Re<0;Re===0?Ee=Ee.add(ne(Le,he[Ne])):we=we.add(ne(qe,he[Me]))}return{p:we,f:Ee}},wNAFCached(ae,he,pe,ge){const ve=ae._WINDOW_SIZE||1;let we=he.get(ae);return we||(we=this.precomputeWindow(ae,ve),ve!==1&&he.set(ae,ge(we))),this.wNAF(ve,we,pe)}}}function validateBasic(re){return validateField(re.Fp),validateObject(re,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(re.n,re.nBitLength),...re,p:re.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(re){const ee=validateBasic(re);validateObject(ee,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ne,Fp:oe,a:ae}=ee;if(ne){if(!oe.eql(ae,oe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof ne!="object"||typeof ne.beta!="bigint"||typeof ne.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ee})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(ee=""){super(ee)}},_parseInt(re){const{Err:ee}=DER;if(re.length<2||re[0]!==2)throw new ee("Invalid signature integer tag");const ne=re[1],oe=re.subarray(2,ne+2);if(!ne||oe.length!==ne)throw new ee("Invalid signature integer: wrong length");if(oe[0]&128)throw new ee("Invalid signature integer: negative");if(oe[0]===0&&!(oe[1]&128))throw new ee("Invalid signature integer: unnecessary leading zero");return{d:b2n(oe),l:re.subarray(ne+2)}},toSig(re){const{Err:ee}=DER,ne=typeof re=="string"?h2b(re):re;if(!(ne instanceof Uint8Array))throw new Error("ui8a expected");let oe=ne.length;if(oe<2||ne[0]!=48)throw new ee("Invalid signature tag");if(ne[1]!==oe-2)throw new ee("Invalid signature: incorrect length");const{d:ae,l:he}=DER._parseInt(ne.subarray(2)),{d:pe,l:ge}=DER._parseInt(he);if(ge.length)throw new ee("Invalid signature: left bytes after parsing");return{r:ae,s:pe}},hexFromSig(re){const ee=we=>Number.parseInt(we[0],16)&8?"00"+we:we,ne=we=>{const Ee=we.toString(16);return Ee.length&1?`0${Ee}`:Ee},oe=ee(ne(re.s)),ae=ee(ne(re.r)),he=oe.length/2,pe=ae.length/2,ge=ne(he),ve=ne(pe);return`30${ne(pe+he+4)}02${ve}${ae}02${ge}${oe}`}},_0n$1=BigInt(0),_1n$2=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(re){const ee=validatePointOpts(re),{Fp:ne}=ee,oe=ee.toBytes||((Ae,Se,Re)=>{const Ne=Se.toAffine();return concatBytes$1(Uint8Array.from([4]),ne.toBytes(Ne.x),ne.toBytes(Ne.y))}),ae=ee.fromBytes||(Ae=>{const Se=Ae.subarray(1),Re=ne.fromBytes(Se.subarray(0,ne.BYTES)),Ne=ne.fromBytes(Se.subarray(ne.BYTES,2*ne.BYTES));return{x:Re,y:Ne}});function he(Ae){const{a:Se,b:Re}=ee,Ne=ne.sqr(Ae),Me=ne.mul(Ne,Ae);return ne.add(ne.add(Me,ne.mul(Ae,Se)),Re)}if(!ne.eql(ne.sqr(ee.Gy),he(ee.Gx)))throw new Error("bad generator point: equation left != right");function pe(Ae){return typeof Ae=="bigint"&&_0n$1<Ae&&Ae<ee.n}function ge(Ae){if(!pe(Ae))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ve(Ae){const{allowedPrivateKeyLengths:Se,nByteLength:Re,wrapPrivateKey:Ne,n:Me}=ee;if(Se&&typeof Ae!="bigint"){if(Ae instanceof Uint8Array&&(Ae=bytesToHex$1(Ae)),typeof Ae!="string"||!Se.includes(Ae.length))throw new Error("Invalid key");Ae=Ae.padStart(Re*2,"0")}let Le;try{Le=typeof Ae=="bigint"?Ae:bytesToNumberBE(ensureBytes("private key",Ae,Re))}catch{throw new Error(`private key must be ${Re} bytes, hex or bigint, not ${typeof Ae}`)}return Ne&&(Le=mod(Le,Me)),ge(Le),Le}const we=new Map;function Ee(Ae){if(!(Ae instanceof _e))throw new Error("ProjectivePoint expected")}class _e{constructor(Se,Re,Ne){if(this.px=Se,this.py=Re,this.pz=Ne,Se==null||!ne.isValid(Se))throw new Error("x required");if(Re==null||!ne.isValid(Re))throw new Error("y required");if(Ne==null||!ne.isValid(Ne))throw new Error("z required")}static fromAffine(Se){const{x:Re,y:Ne}=Se||{};if(!Se||!ne.isValid(Re)||!ne.isValid(Ne))throw new Error("invalid affine point");if(Se instanceof _e)throw new Error("projective point not allowed");const Me=Le=>ne.eql(Le,ne.ZERO);return Me(Re)&&Me(Ne)?_e.ZERO:new _e(Re,Ne,ne.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Se){const Re=ne.invertBatch(Se.map(Ne=>Ne.pz));return Se.map((Ne,Me)=>Ne.toAffine(Re[Me])).map(_e.fromAffine)}static fromHex(Se){const Re=_e.fromAffine(ae(ensureBytes("pointHex",Se)));return Re.assertValidity(),Re}static fromPrivateKey(Se){return _e.BASE.multiply(ve(Se))}_setWindowSize(Se){this._WINDOW_SIZE=Se,we.delete(this)}assertValidity(){if(this.is0()){if(ee.allowInfinityPoint&&!ne.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Se,y:Re}=this.toAffine();if(!ne.isValid(Se)||!ne.isValid(Re))throw new Error("bad point: x or y not FE");const Ne=ne.sqr(Re),Me=he(Se);if(!ne.eql(Ne,Me))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Se}=this.toAffine();if(ne.isOdd)return!ne.isOdd(Se);throw new Error("Field doesn't support isOdd")}equals(Se){Ee(Se);const{px:Re,py:Ne,pz:Me}=this,{px:Le,py:qe,pz:We}=Se,Qe=ne.eql(ne.mul(Re,We),ne.mul(Le,Me)),Xe=ne.eql(ne.mul(Ne,We),ne.mul(qe,Me));return Qe&&Xe}negate(){return new _e(this.px,ne.neg(this.py),this.pz)}double(){const{a:Se,b:Re}=ee,Ne=ne.mul(Re,_3n),{px:Me,py:Le,pz:qe}=this;let We=ne.ZERO,Qe=ne.ZERO,Xe=ne.ZERO,tt=ne.mul(Me,Me),lt=ne.mul(Le,Le),ct=ne.mul(qe,qe),st=ne.mul(Me,Le);return st=ne.add(st,st),Xe=ne.mul(Me,qe),Xe=ne.add(Xe,Xe),We=ne.mul(Se,Xe),Qe=ne.mul(Ne,ct),Qe=ne.add(We,Qe),We=ne.sub(lt,Qe),Qe=ne.add(lt,Qe),Qe=ne.mul(We,Qe),We=ne.mul(st,We),Xe=ne.mul(Ne,Xe),ct=ne.mul(Se,ct),st=ne.sub(tt,ct),st=ne.mul(Se,st),st=ne.add(st,Xe),Xe=ne.add(tt,tt),tt=ne.add(Xe,tt),tt=ne.add(tt,ct),tt=ne.mul(tt,st),Qe=ne.add(Qe,tt),ct=ne.mul(Le,qe),ct=ne.add(ct,ct),tt=ne.mul(ct,st),We=ne.sub(We,tt),Xe=ne.mul(ct,lt),Xe=ne.add(Xe,Xe),Xe=ne.add(Xe,Xe),new _e(We,Qe,Xe)}add(Se){Ee(Se);const{px:Re,py:Ne,pz:Me}=this,{px:Le,py:qe,pz:We}=Se;let Qe=ne.ZERO,Xe=ne.ZERO,tt=ne.ZERO;const lt=ee.a,ct=ne.mul(ee.b,_3n);let st=ne.mul(Re,Le),ht=ne.mul(Ne,qe),Ze=ne.mul(Me,We),$e=ne.add(Re,Ne),Ie=ne.add(Le,qe);$e=ne.mul($e,Ie),Ie=ne.add(st,ht),$e=ne.sub($e,Ie),Ie=ne.add(Re,Me);let Oe=ne.add(Le,We);return Ie=ne.mul(Ie,Oe),Oe=ne.add(st,Ze),Ie=ne.sub(Ie,Oe),Oe=ne.add(Ne,Me),Qe=ne.add(qe,We),Oe=ne.mul(Oe,Qe),Qe=ne.add(ht,Ze),Oe=ne.sub(Oe,Qe),tt=ne.mul(lt,Ie),Qe=ne.mul(ct,Ze),tt=ne.add(Qe,tt),Qe=ne.sub(ht,tt),tt=ne.add(ht,tt),Xe=ne.mul(Qe,tt),ht=ne.add(st,st),ht=ne.add(ht,st),Ze=ne.mul(lt,Ze),Ie=ne.mul(ct,Ie),ht=ne.add(ht,Ze),Ze=ne.sub(st,Ze),Ze=ne.mul(lt,Ze),Ie=ne.add(Ie,Ze),st=ne.mul(ht,Ie),Xe=ne.add(Xe,st),st=ne.mul(Oe,Ie),Qe=ne.mul($e,Qe),Qe=ne.sub(Qe,st),st=ne.mul($e,ht),tt=ne.mul(Oe,tt),tt=ne.add(tt,st),new _e(Qe,Xe,tt)}subtract(Se){return this.add(Se.negate())}is0(){return this.equals(_e.ZERO)}wNAF(Se){return Pe.wNAFCached(this,we,Se,Re=>{const Ne=ne.invertBatch(Re.map(Me=>Me.pz));return Re.map((Me,Le)=>Me.toAffine(Ne[Le])).map(_e.fromAffine)})}multiplyUnsafe(Se){const Re=_e.ZERO;if(Se===_0n$1)return Re;if(ge(Se),Se===_1n$2)return this;const{endo:Ne}=ee;if(!Ne)return Pe.unsafeLadder(this,Se);let{k1neg:Me,k1:Le,k2neg:qe,k2:We}=Ne.splitScalar(Se),Qe=Re,Xe=Re,tt=this;for(;Le>_0n$1||We>_0n$1;)Le&_1n$2&&(Qe=Qe.add(tt)),We&_1n$2&&(Xe=Xe.add(tt)),tt=tt.double(),Le>>=_1n$2,We>>=_1n$2;return Me&&(Qe=Qe.negate()),qe&&(Xe=Xe.negate()),Xe=new _e(ne.mul(Xe.px,Ne.beta),Xe.py,Xe.pz),Qe.add(Xe)}multiply(Se){ge(Se);let Re=Se,Ne,Me;const{endo:Le}=ee;if(Le){const{k1neg:qe,k1:We,k2neg:Qe,k2:Xe}=Le.splitScalar(Re);let{p:tt,f:lt}=this.wNAF(We),{p:ct,f:st}=this.wNAF(Xe);tt=Pe.constTimeNegate(qe,tt),ct=Pe.constTimeNegate(Qe,ct),ct=new _e(ne.mul(ct.px,Le.beta),ct.py,ct.pz),Ne=tt.add(ct),Me=lt.add(st)}else{const{p:qe,f:We}=this.wNAF(Re);Ne=qe,Me=We}return _e.normalizeZ([Ne,Me])[0]}multiplyAndAddUnsafe(Se,Re,Ne){const Me=_e.BASE,Le=(We,Qe)=>Qe===_0n$1||Qe===_1n$2||!We.equals(Me)?We.multiplyUnsafe(Qe):We.multiply(Qe),qe=Le(this,Re).add(Le(Se,Ne));return qe.is0()?void 0:qe}toAffine(Se){const{px:Re,py:Ne,pz:Me}=this,Le=this.is0();Se==null&&(Se=Le?ne.ONE:ne.inv(Me));const qe=ne.mul(Re,Se),We=ne.mul(Ne,Se),Qe=ne.mul(Me,Se);if(Le)return{x:ne.ZERO,y:ne.ZERO};if(!ne.eql(Qe,ne.ONE))throw new Error("invZ was invalid");return{x:qe,y:We}}isTorsionFree(){const{h:Se,isTorsionFree:Re}=ee;if(Se===_1n$2)return!0;if(Re)return Re(_e,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Se,clearCofactor:Re}=ee;return Se===_1n$2?this:Re?Re(_e,this):this.multiplyUnsafe(ee.h)}toRawBytes(Se=!0){return this.assertValidity(),oe(_e,this,Se)}toHex(Se=!0){return bytesToHex$1(this.toRawBytes(Se))}}_e.BASE=new _e(ee.Gx,ee.Gy,ne.ONE),_e.ZERO=new _e(ne.ZERO,ne.ONE,ne.ZERO);const Te=ee.nBitLength,Pe=wNAF(_e,ee.endo?Math.ceil(Te/2):Te);return{CURVE:ee,ProjectivePoint:_e,normPrivateKeyToScalar:ve,weierstrassEquation:he,isWithinCurveOrder:pe}}function validateOpts(re){const ee=validateBasic(re);return validateObject(ee,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ee})}function weierstrass(re){const ee=validateOpts(re),{Fp:ne,n:oe}=ee,ae=ne.BYTES+1,he=2*ne.BYTES+1;function pe(Ie){return _0n$1<Ie&&Ie<ne.ORDER}function ge(Ie){return mod(Ie,oe)}function ve(Ie){return invert$1(Ie,oe)}const{ProjectivePoint:we,normPrivateKeyToScalar:Ee,weierstrassEquation:_e,isWithinCurveOrder:Te}=weierstrassPoints({...ee,toBytes(Ie,Oe,ke){const Ue=Oe.toAffine(),He=ne.toBytes(Ue.x),Ge=concatBytes$1;return ke?Ge(Uint8Array.from([Oe.hasEvenY()?2:3]),He):Ge(Uint8Array.from([4]),He,ne.toBytes(Ue.y))},fromBytes(Ie){const Oe=Ie.length,ke=Ie[0],Ue=Ie.subarray(1);if(Oe===ae&&(ke===2||ke===3)){const He=bytesToNumberBE(Ue);if(!pe(He))throw new Error("Point is not on curve");const Ge=_e(He);let Fe=ne.sqrt(Ge);const xe=(Fe&_1n$2)===_1n$2;return(ke&1)===1!==xe&&(Fe=ne.neg(Fe)),{x:He,y:Fe}}else if(Oe===he&&ke===4){const He=ne.fromBytes(Ue.subarray(0,ne.BYTES)),Ge=ne.fromBytes(Ue.subarray(ne.BYTES,2*ne.BYTES));return{x:He,y:Ge}}else throw new Error(`Point of length ${Oe} was invalid. Expected ${ae} compressed bytes or ${he} uncompressed bytes`)}}),Pe=Ie=>bytesToHex$1(numberToBytesBE(Ie,ee.nByteLength));function Ae(Ie){const Oe=oe>>_1n$2;return Ie>Oe}function Se(Ie){return Ae(Ie)?ge(-Ie):Ie}const Re=(Ie,Oe,ke)=>bytesToNumberBE(Ie.slice(Oe,ke));class Ne{constructor(Oe,ke,Ue){this.r=Oe,this.s=ke,this.recovery=Ue,this.assertValidity()}static fromCompact(Oe){const ke=ee.nByteLength;return Oe=ensureBytes("compactSignature",Oe,ke*2),new Ne(Re(Oe,0,ke),Re(Oe,ke,2*ke))}static fromDER(Oe){const{r:ke,s:Ue}=DER.toSig(ensureBytes("DER",Oe));return new Ne(ke,Ue)}assertValidity(){if(!Te(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Te(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Oe){return new Ne(this.r,this.s,Oe)}recoverPublicKey(Oe){const{r:ke,s:Ue,recovery:He}=this,Ge=Xe(ensureBytes("msgHash",Oe));if(He==null||![0,1,2,3].includes(He))throw new Error("recovery id invalid");const Fe=He===2||He===3?ke+ee.n:ke;if(Fe>=ne.ORDER)throw new Error("recovery id 2 or 3 invalid");const xe=He&1?"03":"02",De=we.fromHex(xe+Pe(Fe)),at=ve(Fe),Ce=ge(-Ge*at),Ke=ge(Ue*at),ze=we.BASE.multiplyAndAddUnsafe(De,Ce,Ke);if(!ze)throw new Error("point at infinify");return ze.assertValidity(),ze}hasHighS(){return Ae(this.s)}normalizeS(){return this.hasHighS()?new Ne(this.r,ge(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return Pe(this.r)+Pe(this.s)}}const Me={isValidPrivateKey(Ie){try{return Ee(Ie),!0}catch{return!1}},normPrivateKeyToScalar:Ee,randomPrivateKey:()=>{const Ie=getMinHashLength(ee.n);return mapHashToField(ee.randomBytes(Ie),ee.n)},precompute(Ie=8,Oe=we.BASE){return Oe._setWindowSize(Ie),Oe.multiply(BigInt(3)),Oe}};function Le(Ie,Oe=!0){return we.fromPrivateKey(Ie).toRawBytes(Oe)}function qe(Ie){const Oe=Ie instanceof Uint8Array,ke=typeof Ie=="string",Ue=(Oe||ke)&&Ie.length;return Oe?Ue===ae||Ue===he:ke?Ue===2*ae||Ue===2*he:Ie instanceof we}function We(Ie,Oe,ke=!0){if(qe(Ie))throw new Error("first arg must be private key");if(!qe(Oe))throw new Error("second arg must be public key");return we.fromHex(Oe).multiply(Ee(Ie)).toRawBytes(ke)}const Qe=ee.bits2int||function(Ie){const Oe=bytesToNumberBE(Ie),ke=Ie.length*8-ee.nBitLength;return ke>0?Oe>>BigInt(ke):Oe},Xe=ee.bits2int_modN||function(Ie){return ge(Qe(Ie))},tt=bitMask(ee.nBitLength);function lt(Ie){if(typeof Ie!="bigint")throw new Error("bigint expected");if(!(_0n$1<=Ie&&Ie<tt))throw new Error(`bigint expected < 2^${ee.nBitLength}`);return numberToBytesBE(Ie,ee.nByteLength)}function ct(Ie,Oe,ke=st){if(["recovered","canonical"].some(Je=>Je in ke))throw new Error("sign() legacy options not supported");const{hash:Ue,randomBytes:He}=ee;let{lowS:Ge,prehash:Fe,extraEntropy:xe}=ke;Ge==null&&(Ge=!0),Ie=ensureBytes("msgHash",Ie),Fe&&(Ie=ensureBytes("prehashed msgHash",Ue(Ie)));const De=Xe(Ie),at=Ee(Oe),Ce=[lt(at),lt(De)];if(xe!=null){const Je=xe===!0?He(ne.BYTES):xe;Ce.push(ensureBytes("extraEntropy",Je))}const Ke=concatBytes$1(...Ce),ze=De;function Ve(Je){const ot=Qe(Je);if(!Te(ot))return;const rt=ve(ot),et=we.BASE.multiply(ot).toAffine(),pt=ge(et.x);if(pt===_0n$1)return;const it=ge(rt*ge(ze+pt*at));if(it===_0n$1)return;let dt=(et.x===pt?0:2)|Number(et.y&_1n$2),Kt=it;return Ge&&Ae(it)&&(Kt=Se(it),dt^=1),new Ne(pt,Kt,dt)}return{seed:Ke,k2sig:Ve}}const st={lowS:ee.lowS,prehash:!1},ht={lowS:ee.lowS,prehash:!1};function Ze(Ie,Oe,ke=st){const{seed:Ue,k2sig:He}=ct(Ie,Oe,ke),Ge=ee;return createHmacDrbg(Ge.hash.outputLen,Ge.nByteLength,Ge.hmac)(Ue,He)}we.BASE._setWindowSize(8);function $e(Ie,Oe,ke,Ue=ht){const He=Ie;if(Oe=ensureBytes("msgHash",Oe),ke=ensureBytes("publicKey",ke),"strict"in Ue)throw new Error("options.strict was renamed to lowS");const{lowS:Ge,prehash:Fe}=Ue;let xe,De;try{if(typeof He=="string"||He instanceof Uint8Array)try{xe=Ne.fromDER(He)}catch(et){if(!(et instanceof DER.Err))throw et;xe=Ne.fromCompact(He)}else if(typeof He=="object"&&typeof He.r=="bigint"&&typeof He.s=="bigint"){const{r:et,s:pt}=He;xe=new Ne(et,pt)}else throw new Error("PARSE");De=we.fromHex(ke)}catch(et){if(et.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ge&&xe.hasHighS())return!1;Fe&&(Oe=ee.hash(Oe));const{r:at,s:Ce}=xe,Ke=Xe(Oe),ze=ve(Ce),Ve=ge(Ke*ze),Je=ge(at*ze),ot=we.BASE.multiplyAndAddUnsafe(De,Ve,Je)?.toAffine();return ot?ge(ot.x)===at:!1}return{CURVE:ee,getPublicKey:Le,getSharedSecret:We,sign:Ze,verify:$e,ProjectivePoint:we,Signature:Ne,utils:Me}}class HMAC extends Hash$1{constructor(ee,ne){super(),this.finished=!1,this.destroyed=!1,hash$4(ee);const oe=toBytes$2(ne);if(this.iHash=ee.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ae=this.blockLen,he=new Uint8Array(ae);he.set(oe.length>ae?ee.create().update(oe).digest():oe);for(let pe=0;pe<he.length;pe++)he[pe]^=54;this.iHash.update(he),this.oHash=ee.create();for(let pe=0;pe<he.length;pe++)he[pe]^=106;this.oHash.update(he),he.fill(0)}update(ee){return exists$1(this),this.iHash.update(ee),this}digestInto(ee){exists$1(this),bytes$1(ee,this.outputLen),this.finished=!0,this.iHash.digestInto(ee),this.oHash.update(ee),this.oHash.digestInto(ee),this.destroy()}digest(){const ee=new Uint8Array(this.oHash.outputLen);return this.digestInto(ee),ee}_cloneInto(ee){ee||(ee=Object.create(Object.getPrototypeOf(this),{}));const{oHash:ne,iHash:oe,finished:ae,destroyed:he,blockLen:pe,outputLen:ge}=this;return ee=ee,ee.finished=ae,ee.destroyed=he,ee.blockLen=pe,ee.outputLen=ge,ee.oHash=ne._cloneInto(ee.oHash),ee.iHash=oe._cloneInto(ee.iHash),ee}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(re,ee,ne)=>new HMAC(re,ee).update(ne).digest();hmac.create=(re,ee)=>new HMAC(re,ee);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(re){return{hash:re,hmac:(ee,...ne)=>hmac(re,ee,concatBytes$3(...ne)),randomBytes}}function createCurve(re,ee){const ne=oe=>weierstrass({...re,...getHash(oe)});return Object.freeze({...ne(ee),create:ne})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$1=BigInt(1),_2n$1=BigInt(2),divNearest=(re,ee)=>(re+ee/_2n$1)/ee;function sqrtMod(re){const ee=secp256k1P,ne=BigInt(3),oe=BigInt(6),ae=BigInt(11),he=BigInt(22),pe=BigInt(23),ge=BigInt(44),ve=BigInt(88),we=re*re*re%ee,Ee=we*we*re%ee,_e=pow2(Ee,ne,ee)*Ee%ee,Te=pow2(_e,ne,ee)*Ee%ee,Pe=pow2(Te,_2n$1,ee)*we%ee,Ae=pow2(Pe,ae,ee)*Pe%ee,Se=pow2(Ae,he,ee)*Ae%ee,Re=pow2(Se,ge,ee)*Se%ee,Ne=pow2(Re,ve,ee)*Re%ee,Me=pow2(Ne,ge,ee)*Se%ee,Le=pow2(Me,ne,ee)*Ee%ee,qe=pow2(Le,pe,ee)*Ae%ee,We=pow2(qe,oe,ee)*we%ee,Qe=pow2(We,_2n$1,ee);if(!Fp.eql(Fp.sqr(Qe),re))throw new Error("Cannot find square root");return Qe}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:re=>{const ee=secp256k1N,ne=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),oe=-_1n$1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ae=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),he=ne,pe=BigInt("0x100000000000000000000000000000000"),ge=divNearest(he*re,ee),ve=divNearest(-oe*re,ee);let we=mod(re-ge*ne-ve*ae,ee),Ee=mod(-ge*oe-ve*he,ee);const _e=we>pe,Te=Ee>pe;if(_e&&(we=ee-we),Te&&(Ee=ee-Ee),we>pe||Ee>pe)throw new Error("splitScalar: Endomorphism failed, k="+re);return{k1neg:_e,k1:we,k2neg:Te,k2:Ee}}}},sha256);BigInt(0);secp256k1.ProjectivePoint;function signatureToHex({r:re,s:ee,v:ne}){return`0x${new secp256k1.Signature(hexToBigInt$1(re),hexToBigInt$1(ee)).toCompactHex()}${toHex$1(ne).slice(2)}`}function invert(re){const ee=Object.create(null);for(const ne in re){const oe=re[ne];ee[oe]=ne}return ee}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop$1=()=>{};function createInnerProxy(re,ee){return new Proxy(noop$1,{get(oe,ae){if(!(typeof ae!="string"||ae==="then"))return createInnerProxy(re,[...ee,ae])},apply(oe,ae,he){const pe=ee[ee.length-1]==="apply";return re({args:pe?he.length>=2?he[1]:[]:he,path:pe?ee.slice(0,-1):ee})}})}const createRecursiveProxy=re=>createInnerProxy(re,[]),createFlatProxy=re=>new Proxy(noop$1,{get(ee,ne){if(!(typeof ne!="string"||ne==="then"))return re(ne)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function re(){this.keyToValue=new Map,this.valueToKey=new Map}return re.prototype.set=function(ee,ne){this.keyToValue.set(ee,ne),this.valueToKey.set(ne,ee)},re.prototype.getByKey=function(ee){return this.keyToValue.get(ee)},re.prototype.getByValue=function(ee){return this.valueToKey.get(ee)},re.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},re}(),Registry=function(){function re(ee){this.generateIdentifier=ee,this.kv=new DoubleIndexedKV}return re.prototype.register=function(ee,ne){this.kv.getByValue(ee)||(ne||(ne=this.generateIdentifier(ee)),this.kv.set(ne,ee))},re.prototype.clear=function(){this.kv.clear()},re.prototype.getIdentifier=function(ee){return this.kv.getByValue(ee)},re.prototype.getValue=function(ee){return this.kv.getByKey(ee)},re}(),__extends=globalThis&&globalThis.__extends||function(){var re=function(ee,ne){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ae){oe.__proto__=ae}||function(oe,ae){for(var he in ae)Object.prototype.hasOwnProperty.call(ae,he)&&(oe[he]=ae[he])},re(ee,ne)};return function(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");re(ee,ne);function oe(){this.constructor=ee}ee.prototype=ne===null?Object.create(ne):(oe.prototype=ne.prototype,new oe)}}(),ClassRegistry=function(re){__extends(ee,re);function ee(){var ne=re.call(this,function(oe){return oe.name})||this;return ne.classToAllowedProps=new Map,ne}return ee.prototype.register=function(ne,oe){typeof oe=="object"?(oe.allowProps&&this.classToAllowedProps.set(ne,oe.allowProps),re.prototype.register.call(this,ne,oe.identifier)):re.prototype.register.call(this,ne,oe)},ee.prototype.getAllowedProps=function(ne){return this.classToAllowedProps.get(ne)},ee}(Registry),__read$3=globalThis&&globalThis.__read||function(re,ee){var ne=typeof Symbol=="function"&&re[Symbol.iterator];if(!ne)return re;var oe=ne.call(re),ae,he=[],pe;try{for(;(ee===void 0||ee-- >0)&&!(ae=oe.next()).done;)he.push(ae.value)}catch(ge){pe={error:ge}}finally{try{ae&&!ae.done&&(ne=oe.return)&&ne.call(oe)}finally{if(pe)throw pe.error}}return he};function valuesOfObj(re){if("values"in Object)return Object.values(re);var ee=[];for(var ne in re)re.hasOwnProperty(ne)&&ee.push(re[ne]);return ee}function find(re,ee){var ne=valuesOfObj(re);if("find"in ne)return ne.find(ee);for(var oe=ne,ae=0;ae<oe.length;ae++){var he=oe[ae];if(ee(he))return he}}function forEach(re,ee){Object.entries(re).forEach(function(ne){var oe=__read$3(ne,2),ae=oe[0],he=oe[1];return ee(he,ae)})}function includes(re,ee){return re.indexOf(ee)!==-1}function findArr(re,ee){for(var ne=0;ne<re.length;ne++){var oe=re[ne];if(ee(oe))return oe}}var CustomTransformerRegistry=function(){function re(){this.transfomers={}}return re.prototype.register=function(ee){this.transfomers[ee.name]=ee},re.prototype.findApplicable=function(ee){return find(this.transfomers,function(ne){return ne.isApplicable(ee)})},re.prototype.findByName=function(ee){return this.transfomers[ee]},re}(),getType$1=function(re){return Object.prototype.toString.call(re).slice(8,-1)},isUndefined=function(re){return typeof re>"u"},isNull=function(re){return re===null},isPlainObject$1=function(re){return typeof re!="object"||re===null||re===Object.prototype?!1:Object.getPrototypeOf(re)===null?!0:Object.getPrototypeOf(re)===Object.prototype},isEmptyObject=function(re){return isPlainObject$1(re)&&Object.keys(re).length===0},isArray$1=function(re){return Array.isArray(re)},isString=function(re){return typeof re=="string"},isNumber=function(re){return typeof re=="number"&&!isNaN(re)},isBoolean=function(re){return typeof re=="boolean"},isRegExp=function(re){return re instanceof RegExp},isMap=function(re){return re instanceof Map},isSet=function(re){return re instanceof Set},isSymbol=function(re){return getType$1(re)==="Symbol"},isDate=function(re){return re instanceof Date&&!isNaN(re.valueOf())},isError=function(re){return re instanceof Error},isNaNValue=function(re){return typeof re=="number"&&isNaN(re)},isPrimitive=function(re){return isBoolean(re)||isNull(re)||isUndefined(re)||isNumber(re)||isString(re)||isSymbol(re)},isBigint=function(re){return typeof re=="bigint"},isInfinite=function(re){return re===1/0||re===-1/0},isTypedArray=function(re){return ArrayBuffer.isView(re)&&!(re instanceof DataView)},isURL=function(re){return re instanceof URL},escapeKey=function(re){return re.replace(/\./g,"\\.")},stringifyPath=function(re){return re.map(String).map(escapeKey).join(".")},parsePath=function(re){for(var ee=[],ne="",oe=0;oe<re.length;oe++){var ae=re.charAt(oe),he=ae==="\\"&&re.charAt(oe+1)===".";if(he){ne+=".",oe++;continue}var pe=ae===".";if(pe){ee.push(ne),ne="";continue}ne+=ae}var ge=ne;return ee.push(ge),ee},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(re){for(var ee,ne=1,oe=arguments.length;ne<oe;ne++){ee=arguments[ne];for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&(re[ae]=ee[ae])}return re},__assign$1.apply(this,arguments)},__read$2=globalThis&&globalThis.__read||function(re,ee){var ne=typeof Symbol=="function"&&re[Symbol.iterator];if(!ne)return re;var oe=ne.call(re),ae,he=[],pe;try{for(;(ee===void 0||ee-- >0)&&!(ae=oe.next()).done;)he.push(ae.value)}catch(ge){pe={error:ge}}finally{try{ae&&!ae.done&&(ne=oe.return)&&ne.call(oe)}finally{if(pe)throw pe.error}}return he},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(re,ee){for(var ne=0,oe=ee.length,ae=re.length;ne<oe;ne++,ae++)re[ae]=ee[ne];return re};function simpleTransformation(re,ee,ne,oe){return{isApplicable:re,annotation:ee,transform:ne,untransform:oe}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(re){return re.toString()},function(re){return typeof BigInt<"u"?BigInt(re):(console.error("Please add a BigInt polyfill."),re)}),simpleTransformation(isDate,"Date",function(re){return re.toISOString()},function(re){return new Date(re)}),simpleTransformation(isError,"Error",function(re,ee){var ne={name:re.name,message:re.message};return ee.allowedErrorProps.forEach(function(oe){ne[oe]=re[oe]}),ne},function(re,ee){var ne=new Error(re.message);return ne.name=re.name,ne.stack=re.stack,ee.allowedErrorProps.forEach(function(oe){ne[oe]=re[oe]}),ne}),simpleTransformation(isRegExp,"regexp",function(re){return""+re},function(re){var ee=re.slice(1,re.lastIndexOf("/")),ne=re.slice(re.lastIndexOf("/")+1);return new RegExp(ee,ne)}),simpleTransformation(isSet,"set",function(re){return __spreadArray$2([],__read$2(re.values()))},function(re){return new Set(re)}),simpleTransformation(isMap,"map",function(re){return __spreadArray$2([],__read$2(re.entries()))},function(re){return new Map(re)}),simpleTransformation(function(re){return isNaNValue(re)||isInfinite(re)},"number",function(re){return isNaNValue(re)?"NaN":re>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(re){return re===0&&1/re===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(re){return re.toString()},function(re){return new URL(re)})];function compositeTransformation(re,ee,ne,oe){return{isApplicable:re,annotation:ee,transform:ne,untransform:oe}}var symbolRule=compositeTransformation(function(re,ee){if(isSymbol(re)){var ne=!!ee.symbolRegistry.getIdentifier(re);return ne}return!1},function(re,ee){var ne=ee.symbolRegistry.getIdentifier(re);return["symbol",ne]},function(re){return re.description},function(re,ee,ne){var oe=ne.symbolRegistry.getValue(ee[1]);if(!oe)throw new Error("Trying to deserialize unknown symbol");return oe}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(re,ee){return re[ee.name]=ee,re},{}),typedArrayRule=compositeTransformation(isTypedArray,function(re){return["typed-array",re.constructor.name]},function(re){return __spreadArray$2([],__read$2(re))},function(re,ee){var ne=constructorToName[ee[1]];if(!ne)throw new Error("Trying to deserialize unknown typed array");return new ne(re)});function isInstanceOfRegisteredClass(re,ee){if(re?.constructor){var ne=!!ee.classRegistry.getIdentifier(re.constructor);return ne}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(re,ee){var ne=ee.classRegistry.getIdentifier(re.constructor);return["class",ne]},function(re,ee){var ne=ee.classRegistry.getAllowedProps(re.constructor);if(!ne)return __assign$1({},re);var oe={};return ne.forEach(function(ae){oe[ae]=re[ae]}),oe},function(re,ee,ne){var oe=ne.classRegistry.getValue(ee[1]);if(!oe)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(oe.prototype),re)}),customRule=compositeTransformation(function(re,ee){return!!ee.customTransformerRegistry.findApplicable(re)},function(re,ee){var ne=ee.customTransformerRegistry.findApplicable(re);return["custom",ne.name]},function(re,ee){var ne=ee.customTransformerRegistry.findApplicable(re);return ne.serialize(re)},function(re,ee,ne){var oe=ne.customTransformerRegistry.findByName(ee[1]);if(!oe)throw new Error("Trying to deserialize unknown custom value");return oe.deserialize(re)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(re,ee){var ne=findArr(compositeRules,function(ae){return ae.isApplicable(re,ee)});if(ne)return{value:ne.transform(re,ee),type:ne.annotation(re,ee)};var oe=findArr(simpleRules,function(ae){return ae.isApplicable(re,ee)});if(oe)return{value:oe.transform(re,ee),type:oe.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(re){simpleRulesByAnnotation[re.annotation]=re});var untransformValue=function(re,ee,ne){if(isArray$1(ee))switch(ee[0]){case"symbol":return symbolRule.untransform(re,ee,ne);case"class":return classRule.untransform(re,ee,ne);case"custom":return customRule.untransform(re,ee,ne);case"typed-array":return typedArrayRule.untransform(re,ee,ne);default:throw new Error("Unknown transformation: "+ee)}else{var oe=simpleRulesByAnnotation[ee];if(!oe)throw new Error("Unknown transformation: "+ee);return oe.untransform(re,ne)}},getNthKey=function(re,ee){for(var ne=re.keys();ee>0;)ne.next(),ee--;return ne.next().value};function validatePath(re){if(includes(re,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(re,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(re,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(re,ee){validatePath(ee);for(var ne=0;ne<ee.length;ne++){var oe=ee[ne];if(isSet(re))re=getNthKey(re,+oe);else if(isMap(re)){var ae=+oe,he=+ee[++ne]==0?"key":"value",pe=getNthKey(re,ae);switch(he){case"key":re=pe;break;case"value":re=re.get(pe);break}}else re=re[oe]}return re},setDeep=function(re,ee,ne){if(validatePath(ee),ee.length===0)return ne(re);for(var oe=re,ae=0;ae<ee.length-1;ae++){var he=ee[ae];if(isArray$1(oe)){var pe=+he;oe=oe[pe]}else if(isPlainObject$1(oe))oe=oe[he];else if(isSet(oe)){var ge=+he;oe=getNthKey(oe,ge)}else if(isMap(oe)){var ve=ae===ee.length-2;if(ve)break;var ge=+he,we=+ee[++ae]==0?"key":"value",Ee=getNthKey(oe,ge);switch(we){case"key":oe=Ee;break;case"value":oe=oe.get(Ee);break}}}var _e=ee[ee.length-1];if(isArray$1(oe)?oe[+_e]=ne(oe[+_e]):isPlainObject$1(oe)&&(oe[_e]=ne(oe[_e])),isSet(oe)){var Te=getNthKey(oe,+_e),Pe=ne(Te);Te!==Pe&&(oe.delete(Te),oe.add(Pe))}if(isMap(oe)){var ge=+ee[ee.length-2],Ae=getNthKey(oe,ge),we=+_e==0?"key":"value";switch(we){case"key":{var Se=ne(Ae);oe.set(Se,oe.get(Ae)),Se!==Ae&&oe.delete(Ae);break}case"value":{oe.set(Ae,ne(oe.get(Ae)));break}}}return re},__read$1=globalThis&&globalThis.__read||function(re,ee){var ne=typeof Symbol=="function"&&re[Symbol.iterator];if(!ne)return re;var oe=ne.call(re),ae,he=[],pe;try{for(;(ee===void 0||ee-- >0)&&!(ae=oe.next()).done;)he.push(ae.value)}catch(ge){pe={error:ge}}finally{try{ae&&!ae.done&&(ne=oe.return)&&ne.call(oe)}finally{if(pe)throw pe.error}}return he},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(re,ee){for(var ne=0,oe=ee.length,ae=re.length;ne<oe;ne++,ae++)re[ae]=ee[ne];return re};function traverse(re,ee,ne){if(ne===void 0&&(ne=[]),!!re){if(!isArray$1(re)){forEach(re,function(pe,ge){return traverse(pe,ee,__spreadArray$1(__spreadArray$1([],__read$1(ne)),__read$1(parsePath(ge))))});return}var oe=__read$1(re,2),ae=oe[0],he=oe[1];he&&forEach(he,function(pe,ge){traverse(pe,ee,__spreadArray$1(__spreadArray$1([],__read$1(ne)),__read$1(parsePath(ge))))}),ee(ae,ne)}}function applyValueAnnotations(re,ee,ne){return traverse(ee,function(oe,ae){re=setDeep(re,ae,function(he){return untransformValue(he,oe,ne)})}),re}function applyReferentialEqualityAnnotations(re,ee){function ne(pe,ge){var ve=getDeep(re,parsePath(ge));pe.map(parsePath).forEach(function(we){re=setDeep(re,we,function(){return ve})})}if(isArray$1(ee)){var oe=__read$1(ee,2),ae=oe[0],he=oe[1];ae.forEach(function(pe){re=setDeep(re,parsePath(pe),function(){return re})}),he&&forEach(he,ne)}else forEach(ee,ne);return re}var isDeep=function(re,ee){return isPlainObject$1(re)||isArray$1(re)||isMap(re)||isSet(re)||isInstanceOfRegisteredClass(re,ee)};function addIdentity(re,ee,ne){var oe=ne.get(re);oe?oe.push(ee):ne.set(re,[ee])}function generateReferentialEqualityAnnotations(re){var ee={},ne=void 0;return re.forEach(function(oe){if(!(oe.length<=1)){var ae=__read$1(oe.map(function(ge){return ge.map(String)}).sort(function(ge,ve){return ge.length-ve.length})),he=ae[0],pe=ae.slice(1);he.length===0?ne=pe.map(stringifyPath):ee[stringifyPath(he)]=pe.map(stringifyPath)}}),ne?isEmptyObject(ee)?[ne]:[ne,ee]:isEmptyObject(ee)?void 0:ee}var walker=function(re,ee,ne,oe,ae,he,pe){var ge;ae===void 0&&(ae=[]),he===void 0&&(he=[]),pe===void 0&&(pe=new Map);var ve=isPrimitive(re);if(!ve){addIdentity(re,ae,ee);var we=pe.get(re);if(we)return oe?{transformedValue:null}:we}if(!isDeep(re,ne)){var Ee=transformValue(re,ne),_e=Ee?{transformedValue:Ee.value,annotations:[Ee.type]}:{transformedValue:re};return ve||pe.set(re,_e),_e}if(includes(he,re))return{transformedValue:null};var Te=transformValue(re,ne),Pe=(ge=Te?.value)!==null&&ge!==void 0?ge:re,Ae=isArray$1(Pe)?[]:{},Se={};forEach(Pe,function(Ne,Me){var Le=walker(Ne,ee,ne,oe,__spreadArray$1(__spreadArray$1([],__read$1(ae)),[Me]),__spreadArray$1(__spreadArray$1([],__read$1(he)),[re]),pe);Ae[Me]=Le.transformedValue,isArray$1(Le.annotations)?Se[Me]=Le.annotations:isPlainObject$1(Le.annotations)&&forEach(Le.annotations,function(qe,We){Se[escapeKey(Me)+"."+We]=qe})});var Re=isEmptyObject(Se)?{transformedValue:Ae,annotations:Te?[Te.type]:void 0}:{transformedValue:Ae,annotations:Te?[Te.type,Se]:Se};return ve||pe.set(re,Re),Re};function getType(re){return Object.prototype.toString.call(re).slice(8,-1)}function isPlainObject(re){if(getType(re)!=="Object")return!1;const ee=Object.getPrototypeOf(re);return!!ee&&ee.constructor===Object&&ee===Object.prototype}function isArray(re){return getType(re)==="Array"}function assignProp(re,ee,ne,oe,ae){const he={}.propertyIsEnumerable.call(oe,ee)?"enumerable":"nonenumerable";he==="enumerable"&&(re[ee]=ne),ae&&he==="nonenumerable"&&Object.defineProperty(re,ee,{value:ne,enumerable:!1,writable:!0,configurable:!0})}function copy(re,ee={}){if(isArray(re))return re.map(ae=>copy(ae,ee));if(!isPlainObject(re))return re;const ne=Object.getOwnPropertyNames(re),oe=Object.getOwnPropertySymbols(re);return[...ne,...oe].reduce((ae,he)=>{if(isArray(ee.props)&&!ee.props.includes(he))return ae;const pe=re[he],ge=copy(pe,ee);return assignProp(ae,he,ge,re,ee.nonenumerable),ae},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(re){for(var ee,ne=1,oe=arguments.length;ne<oe;ne++){ee=arguments[ne];for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&(re[ae]=ee[ae])}return re},__assign.apply(this,arguments)},__read=globalThis&&globalThis.__read||function(re,ee){var ne=typeof Symbol=="function"&&re[Symbol.iterator];if(!ne)return re;var oe=ne.call(re),ae,he=[],pe;try{for(;(ee===void 0||ee-- >0)&&!(ae=oe.next()).done;)he.push(ae.value)}catch(ge){pe={error:ge}}finally{try{ae&&!ae.done&&(ne=oe.return)&&ne.call(oe)}finally{if(pe)throw pe.error}}return he},__spreadArray=globalThis&&globalThis.__spreadArray||function(re,ee){for(var ne=0,oe=ee.length,ae=re.length;ne<oe;ne++,ae++)re[ae]=ee[ne];return re},SuperJSON=function(){function re(ee){var ne=ee===void 0?{}:ee,oe=ne.dedupe,ae=oe===void 0?!1:oe;this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(he){var pe;return(pe=he.description)!==null&&pe!==void 0?pe:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[],this.dedupe=ae}return re.prototype.serialize=function(ee){var ne=new Map,oe=walker(ee,ne,this,this.dedupe),ae={json:oe.transformedValue};oe.annotations&&(ae.meta=__assign(__assign({},ae.meta),{values:oe.annotations}));var he=generateReferentialEqualityAnnotations(ne);return he&&(ae.meta=__assign(__assign({},ae.meta),{referentialEqualities:he})),ae},re.prototype.deserialize=function(ee){var ne=ee.json,oe=ee.meta,ae=copy(ne);return oe?.values&&(ae=applyValueAnnotations(ae,oe.values,this)),oe?.referentialEqualities&&(ae=applyReferentialEqualityAnnotations(ae,oe.referentialEqualities)),ae},re.prototype.stringify=function(ee){return JSON.stringify(this.serialize(ee))},re.prototype.parse=function(ee){return this.deserialize(JSON.parse(ee))},re.prototype.registerClass=function(ee,ne){this.classRegistry.register(ee,ne)},re.prototype.registerSymbol=function(ee,ne){this.symbolRegistry.register(ee,ne)},re.prototype.registerCustom=function(ee,ne){this.customTransformerRegistry.register(__assign({name:ne},ee))},re.prototype.allowErrorProps=function(){for(var ee,ne=[],oe=0;oe<arguments.length;oe++)ne[oe]=arguments[oe];(ee=this.allowedErrorProps).push.apply(ee,__spreadArray([],__read(ne)))},re.defaultInstance=new re,re.serialize=re.defaultInstance.serialize.bind(re.defaultInstance),re.deserialize=re.defaultInstance.deserialize.bind(re.defaultInstance),re.stringify=re.defaultInstance.stringify.bind(re.defaultInstance),re.parse=re.defaultInstance.parse.bind(re.defaultInstance),re.registerClass=re.defaultInstance.registerClass.bind(re.defaultInstance),re.registerSymbol=re.defaultInstance.registerSymbol.bind(re.defaultInstance),re.registerCustom=re.defaultInstance.registerCustom.bind(re.defaultInstance),re.allowErrorProps=re.defaultInstance.allowErrorProps.bind(re.defaultInstance),re}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity(re){return re}function pipeFromArray(re){return re.length===0?identity:re.length===1?re[0]:function(ne){return re.reduce((oe,ae)=>ae(oe),ne)}}function observable(re){const ee={subscribe(ne){let oe=null,ae=!1,he=!1,pe=!1;function ge(){if(oe===null){pe=!0;return}he||(he=!0,typeof oe=="function"?oe():oe&&oe.unsubscribe())}return oe=re({next(ve){ae||ne.next?.(ve)},error(ve){ae||(ae=!0,ne.error?.(ve),ge())},complete(){ae||(ae=!0,ne.complete?.(),ge())}}),pe&&ge(),{unsubscribe:ge}},pipe(...ne){return pipeFromArray(ne)(ee)}};return ee}function share(re){return ee=>{let ne=0,oe=null;const ae=[];function he(){oe||(oe=ee.subscribe({next(ge){for(const ve of ae)ve.next?.(ge)},error(ge){for(const ve of ae)ve.error?.(ge)},complete(){for(const ge of ae)ge.complete?.()}}))}function pe(){if(ne===0&&oe){const ge=oe;oe=null,ge.unsubscribe()}}return{subscribe(ge){return ne++,ae.push(ge),he(),{unsubscribe(){ne--,pe();const ve=ae.findIndex(we=>we===ge);ve>-1&&ae.splice(ve,1)}}}}}}class ObservableAbortError extends Error{constructor(ee){super(ee),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(re){let ee;return{promise:new Promise((oe,ae)=>{let he=!1;function pe(){he||(he=!0,ae(new ObservableAbortError("This operation was aborted.")),ge.unsubscribe())}const ge=re.subscribe({next(ve){he=!0,oe(ve),pe()},error(ve){he=!0,ae(ve),pe()},complete(){he=!0,pe()}});ee=pe}),abort:ee}}function createChain(re){return observable(ee=>{function ne(ae=0,he=re.op){const pe=re.links[ae];if(!pe)throw new Error("No more links to execute - did you forget to add an ending link?");return pe({op:he,next(ve){return ne(ae+1,ve)}})}return ne().subscribe(ee)})}function isTRPCClientError(re){return re instanceof TRPCClientError||re.name==="TRPCClientError"}class TRPCClientError extends Error{static from(ee,ne={}){return ee instanceof Error?isTRPCClientError(ee)?(ne.meta&&(ee.meta={...ee.meta,...ne.meta}),ee):new TRPCClientError(ee.message,{...ne,cause:ee,result:null}):new TRPCClientError(ee.error.message??"",{...ne,cause:void 0,result:ee})}constructor(ee,ne){const oe=ne?.cause;super(ee,{cause:oe}),this.meta=ne?.meta,this.cause=oe,this.shape=ne?.result?.error,this.data=ne?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$1=re=>typeof re=="function";function getFetch(re){if(re)return re;if(typeof window<"u"&&isFunction$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(re){return re||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(re){return{url:re.url,fetch:re.fetch,AbortController:getAbortController(re.AbortController)}}function arrayToDict(re){const ee={};for(let ne=0;ne<re.length;ne++){const oe=re[ne];ee[ne]=oe}return ee}const METHOD={query:"GET",mutation:"POST"};function getInput(re){return"input"in re?re.runtime.transformer.serialize(re.input):arrayToDict(re.inputs.map(ee=>re.runtime.transformer.serialize(ee)))}const getUrl$1=re=>{let ee=re.url+"/"+re.path;const ne=[];if("inputs"in re&&ne.push("batch=1"),re.type==="query"){const oe=getInput(re);oe!==void 0&&ne.push(`input=${encodeURIComponent(JSON.stringify(oe))}`)}return ne.length&&(ee+="?"+ne.join("&")),ee},getBody=re=>{if(re.type==="query")return;const ee=getInput(re);return ee!==void 0?JSON.stringify(ee):void 0},jsonHttpRequester=re=>httpRequest({...re,contentTypeHeader:"application/json",getUrl:getUrl$1,getBody});async function fetchHTTPResponse(re,ee){const ne=re.getUrl(re),oe=re.getBody(re),{type:ae}=re,he=await re.headers();/* istanbul ignore if -- @preserve */if(ae==="subscription")throw new Error("Subscriptions should use wsLink");const pe={...re.contentTypeHeader?{"content-type":re.contentTypeHeader}:{},...re.batchModeHeader?{"trpc-batch-mode":re.batchModeHeader}:{},...he};return getFetch(re.fetch)(ne,{method:METHOD[ae],signal:ee?.signal,body:oe,headers:pe})}function httpRequest(re){const ee=re.AbortController?new re.AbortController:null,ne={};return{promise:new Promise((he,pe)=>{fetchHTTPResponse(re,ee).then(ge=>(ne.response=ge,ge.json())).then(ge=>{ne.responseJSON=ge,he({json:ge,meta:ne})}).catch(ge=>{pe(TRPCClientError.from(ge,{meta:ne}))})}),cancel:()=>{ee?.abort()}}}function isObject(re){return!!re&&!Array.isArray(re)&&typeof re=="object"}function transformResultInner(re,ee){if("error"in re){const oe=ee.transformer.deserialize(re.error);return{ok:!1,error:{...re,error:oe}}}return{ok:!0,result:{...re.result,...(!re.result.type||re.result.type==="data")&&{type:"data",data:ee.transformer.deserialize(re.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(re,ee){let ne;try{ne=transformResultInner(re,ee)}catch{throw new TransformResultError}if(!ne.ok&&(!isObject(ne.error.error)||typeof ne.error.error.code!="number"))throw new TransformResultError;if(ne.ok&&!isObject(ne.result))throw new TransformResultError;return ne}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(re){let ee=null,ne=null;const oe=()=>{clearTimeout(ne),ne=null,ee=null};function ae(ge){const ve=[[]];let we=0;for(;;){const Ee=ge[we];if(!Ee)break;const _e=ve[ve.length-1];if(Ee.aborted){Ee.reject?.(new Error("Aborted")),we++;continue}if(re.validate(_e.concat(Ee).map(Pe=>Pe.key))){_e.push(Ee),we++;continue}if(_e.length===0){Ee.reject?.(new Error("Input is too big for a single dispatch")),we++;continue}ve.push([])}return ve}function he(){const ge=ae(ee);oe();for(const ve of ge){if(!ve.length)continue;const we={items:ve,cancel:throwFatalError};for(const Pe of ve)Pe.batch=we;const Ee=(Pe,Ae)=>{const Se=we.items[Pe];Se.resolve?.(Ae),Se.batch=null,Se.reject=null,Se.resolve=null},{promise:_e,cancel:Te}=re.fetch(we.items.map(Pe=>Pe.key),Ee);we.cancel=Te,_e.then(Pe=>{for(let Ae=0;Ae<Pe.length;Ae++){const Se=Pe[Ae];Ee(Ae,Se)}for(const Ae of we.items)Ae.reject?.(new Error("Missing result")),Ae.batch=null}).catch(Pe=>{for(const Ae of we.items)Ae.reject?.(Pe),Ae.batch=null})}}function pe(ge){const ve={aborted:!1,key:ge,batch:null,resolve:throwFatalError,reject:throwFatalError},we=new Promise((_e,Te)=>{ve.reject=Te,ve.resolve=_e,ee||(ee=[]),ee.push(ve)});return ne||(ne=setTimeout(he)),{promise:we,cancel:()=>{ve.aborted=!0,ve.batch?.items.every(_e=>_e.aborted)&&(ve.batch.cancel(),ve.batch=null)}}}return{load:pe}}function createHTTPBatchLink(re){return function(ne){const oe=resolveHTTPLinkOptions(ne),ae=ne.maxURLLength??1/0;return he=>{const pe=_e=>{const Te=Ae=>{if(ae===1/0)return!0;const Se=Ae.map(Me=>Me.path).join(","),Re=Ae.map(Me=>Me.input);return getUrl$1({...oe,runtime:he,type:_e,path:Se,inputs:Re}).length<=ae},Pe=re({...oe,runtime:he,type:_e,opts:ne});return{validate:Te,fetch:Pe}},ge=dataLoader(pe("query")),ve=dataLoader(pe("mutation")),we=dataLoader(pe("subscription")),Ee={query:ge,subscription:we,mutation:ve};return({op:_e})=>observable(Te=>{const Pe=Ee[_e.type],{promise:Ae,cancel:Se}=Pe.load(_e);let Re;return Ae.then(Ne=>{Re=Ne;const Me=transformResult(Ne.json,he);if(!Me.ok){Te.error(TRPCClientError.from(Me.error,{meta:Ne.meta}));return}Te.next({context:Ne.meta,result:Me.result}),Te.complete()}).catch(Ne=>{Te.error(TRPCClientError.from(Ne,{meta:Re?.meta}))}),()=>{Se()}})}}}const batchRequester=re=>ee=>{const ne=ee.map(pe=>pe.path).join(","),oe=ee.map(pe=>pe.input),{promise:ae,cancel:he}=jsonHttpRequester({...re,path:ne,inputs:oe,headers(){return re.opts.headers?typeof re.opts.headers=="function"?re.opts.headers({opList:ee}):re.opts.headers:{}}});return{promise:ae.then(pe=>(Array.isArray(pe.json)?pe.json:ee.map(()=>pe.json)).map(we=>({meta:pe.meta,json:we}))),cancel:he}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:ee,input:ne,path:oe,context:ae={}}){return createChain({links:this.links,op:{id:++this.requestId,type:ee,path:oe,input:ne,context:ae}}).pipe(share())}requestAsPromise(ee){const ne=this.$request(ee),{promise:oe,abort:ae}=observableToPromise(ne);return new Promise((pe,ge)=>{ee.signal?.addEventListener("abort",ae),oe.then(ve=>{pe(ve.result.data)}).catch(ve=>{ge(TRPCClientError.from(ve))})})}query(ee,ne,oe){return this.requestAsPromise({type:"query",path:ee,input:ne,context:oe?.context,signal:oe?.signal})}mutation(ee,ne,oe){return this.requestAsPromise({type:"mutation",path:ee,input:ne,context:oe?.context,signal:oe?.signal})}subscription(ee,ne,oe){return this.$request({type:"subscription",path:ee,input:ne,context:oe?.context}).subscribe({next(he){he.result.type==="started"?oe.onStarted?.():he.result.type==="stopped"?oe.onStopped?.():oe.onData?.(he.result.data)},error(he){oe.onError?.(he)},complete(){oe.onComplete?.()}})}constructor(ee){this.requestId=0;const ne=(()=>{const oe=ee.transformer;return oe?"input"in oe?ee.transformer:{input:oe,output:oe}:{input:{serialize:ae=>ae,deserialize:ae=>ae},output:{serialize:ae=>ae,deserialize:ae=>ae}}})();this.runtime={transformer:{serialize:oe=>ne.input.serialize(oe),deserialize:oe=>ne.output.deserialize(oe)},combinedTransformer:ne},this.links=ee.links.map(oe=>oe(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=re=>clientCallTypeMap[re];function createTRPCClientProxy(re){return createFlatProxy(ee=>re.hasOwnProperty(ee)?re[ee]:ee==="__untypedClient"?re:createRecursiveProxy(({path:ne,args:oe})=>{const ae=[ee,...ne],he=clientCallTypeToProcedureType(ae.pop()),pe=ae.join(".");return re[he](pe,...oe)}))}function createTRPCProxyClient(re){const ee=new TRPCUntypedClient(re);return createTRPCClientProxy(ee)}function T$5({url:re}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:re})]})}var I$2=(re=>(re[re.UINT8=0]="UINT8",re[re.UINT16=1]="UINT16",re[re.UINT24=2]="UINT24",re[re.UINT32=3]="UINT32",re[re.UINT40=4]="UINT40",re[re.UINT48=5]="UINT48",re[re.UINT56=6]="UINT56",re[re.UINT64=7]="UINT64",re[re.UINT72=8]="UINT72",re[re.UINT80=9]="UINT80",re[re.UINT88=10]="UINT88",re[re.UINT96=11]="UINT96",re[re.UINT104=12]="UINT104",re[re.UINT112=13]="UINT112",re[re.UINT120=14]="UINT120",re[re.UINT128=15]="UINT128",re[re.UINT136=16]="UINT136",re[re.UINT144=17]="UINT144",re[re.UINT152=18]="UINT152",re[re.UINT160=19]="UINT160",re[re.UINT168=20]="UINT168",re[re.UINT176=21]="UINT176",re[re.UINT184=22]="UINT184",re[re.UINT192=23]="UINT192",re[re.UINT200=24]="UINT200",re[re.UINT208=25]="UINT208",re[re.UINT216=26]="UINT216",re[re.UINT224=27]="UINT224",re[re.UINT232=28]="UINT232",re[re.UINT240=29]="UINT240",re[re.UINT248=30]="UINT248",re[re.UINT256=31]="UINT256",re[re.INT8=32]="INT8",re[re.INT16=33]="INT16",re[re.INT24=34]="INT24",re[re.INT32=35]="INT32",re[re.INT40=36]="INT40",re[re.INT48=37]="INT48",re[re.INT56=38]="INT56",re[re.INT64=39]="INT64",re[re.INT72=40]="INT72",re[re.INT80=41]="INT80",re[re.INT88=42]="INT88",re[re.INT96=43]="INT96",re[re.INT104=44]="INT104",re[re.INT112=45]="INT112",re[re.INT120=46]="INT120",re[re.INT128=47]="INT128",re[re.INT136=48]="INT136",re[re.INT144=49]="INT144",re[re.INT152=50]="INT152",re[re.INT160=51]="INT160",re[re.INT168=52]="INT168",re[re.INT176=53]="INT176",re[re.INT184=54]="INT184",re[re.INT192=55]="INT192",re[re.INT200=56]="INT200",re[re.INT208=57]="INT208",re[re.INT216=58]="INT216",re[re.INT224=59]="INT224",re[re.INT232=60]="INT232",re[re.INT240=61]="INT240",re[re.INT248=62]="INT248",re[re.INT256=63]="INT256",re[re.BYTES1=64]="BYTES1",re[re.BYTES2=65]="BYTES2",re[re.BYTES3=66]="BYTES3",re[re.BYTES4=67]="BYTES4",re[re.BYTES5=68]="BYTES5",re[re.BYTES6=69]="BYTES6",re[re.BYTES7=70]="BYTES7",re[re.BYTES8=71]="BYTES8",re[re.BYTES9=72]="BYTES9",re[re.BYTES10=73]="BYTES10",re[re.BYTES11=74]="BYTES11",re[re.BYTES12=75]="BYTES12",re[re.BYTES13=76]="BYTES13",re[re.BYTES14=77]="BYTES14",re[re.BYTES15=78]="BYTES15",re[re.BYTES16=79]="BYTES16",re[re.BYTES17=80]="BYTES17",re[re.BYTES18=81]="BYTES18",re[re.BYTES19=82]="BYTES19",re[re.BYTES20=83]="BYTES20",re[re.BYTES21=84]="BYTES21",re[re.BYTES22=85]="BYTES22",re[re.BYTES23=86]="BYTES23",re[re.BYTES24=87]="BYTES24",re[re.BYTES25=88]="BYTES25",re[re.BYTES26=89]="BYTES26",re[re.BYTES27=90]="BYTES27",re[re.BYTES28=91]="BYTES28",re[re.BYTES29=92]="BYTES29",re[re.BYTES30=93]="BYTES30",re[re.BYTES31=94]="BYTES31",re[re.BYTES32=95]="BYTES32",re[re.BOOL=96]="BOOL",re[re.ADDRESS=97]="ADDRESS",re[re.UINT8_ARRAY=98]="UINT8_ARRAY",re[re.UINT16_ARRAY=99]="UINT16_ARRAY",re[re.UINT24_ARRAY=100]="UINT24_ARRAY",re[re.UINT32_ARRAY=101]="UINT32_ARRAY",re[re.UINT40_ARRAY=102]="UINT40_ARRAY",re[re.UINT48_ARRAY=103]="UINT48_ARRAY",re[re.UINT56_ARRAY=104]="UINT56_ARRAY",re[re.UINT64_ARRAY=105]="UINT64_ARRAY",re[re.UINT72_ARRAY=106]="UINT72_ARRAY",re[re.UINT80_ARRAY=107]="UINT80_ARRAY",re[re.UINT88_ARRAY=108]="UINT88_ARRAY",re[re.UINT96_ARRAY=109]="UINT96_ARRAY",re[re.UINT104_ARRAY=110]="UINT104_ARRAY",re[re.UINT112_ARRAY=111]="UINT112_ARRAY",re[re.UINT120_ARRAY=112]="UINT120_ARRAY",re[re.UINT128_ARRAY=113]="UINT128_ARRAY",re[re.UINT136_ARRAY=114]="UINT136_ARRAY",re[re.UINT144_ARRAY=115]="UINT144_ARRAY",re[re.UINT152_ARRAY=116]="UINT152_ARRAY",re[re.UINT160_ARRAY=117]="UINT160_ARRAY",re[re.UINT168_ARRAY=118]="UINT168_ARRAY",re[re.UINT176_ARRAY=119]="UINT176_ARRAY",re[re.UINT184_ARRAY=120]="UINT184_ARRAY",re[re.UINT192_ARRAY=121]="UINT192_ARRAY",re[re.UINT200_ARRAY=122]="UINT200_ARRAY",re[re.UINT208_ARRAY=123]="UINT208_ARRAY",re[re.UINT216_ARRAY=124]="UINT216_ARRAY",re[re.UINT224_ARRAY=125]="UINT224_ARRAY",re[re.UINT232_ARRAY=126]="UINT232_ARRAY",re[re.UINT240_ARRAY=127]="UINT240_ARRAY",re[re.UINT248_ARRAY=128]="UINT248_ARRAY",re[re.UINT256_ARRAY=129]="UINT256_ARRAY",re[re.INT8_ARRAY=130]="INT8_ARRAY",re[re.INT16_ARRAY=131]="INT16_ARRAY",re[re.INT24_ARRAY=132]="INT24_ARRAY",re[re.INT32_ARRAY=133]="INT32_ARRAY",re[re.INT40_ARRAY=134]="INT40_ARRAY",re[re.INT48_ARRAY=135]="INT48_ARRAY",re[re.INT56_ARRAY=136]="INT56_ARRAY",re[re.INT64_ARRAY=137]="INT64_ARRAY",re[re.INT72_ARRAY=138]="INT72_ARRAY",re[re.INT80_ARRAY=139]="INT80_ARRAY",re[re.INT88_ARRAY=140]="INT88_ARRAY",re[re.INT96_ARRAY=141]="INT96_ARRAY",re[re.INT104_ARRAY=142]="INT104_ARRAY",re[re.INT112_ARRAY=143]="INT112_ARRAY",re[re.INT120_ARRAY=144]="INT120_ARRAY",re[re.INT128_ARRAY=145]="INT128_ARRAY",re[re.INT136_ARRAY=146]="INT136_ARRAY",re[re.INT144_ARRAY=147]="INT144_ARRAY",re[re.INT152_ARRAY=148]="INT152_ARRAY",re[re.INT160_ARRAY=149]="INT160_ARRAY",re[re.INT168_ARRAY=150]="INT168_ARRAY",re[re.INT176_ARRAY=151]="INT176_ARRAY",re[re.INT184_ARRAY=152]="INT184_ARRAY",re[re.INT192_ARRAY=153]="INT192_ARRAY",re[re.INT200_ARRAY=154]="INT200_ARRAY",re[re.INT208_ARRAY=155]="INT208_ARRAY",re[re.INT216_ARRAY=156]="INT216_ARRAY",re[re.INT224_ARRAY=157]="INT224_ARRAY",re[re.INT232_ARRAY=158]="INT232_ARRAY",re[re.INT240_ARRAY=159]="INT240_ARRAY",re[re.INT248_ARRAY=160]="INT248_ARRAY",re[re.INT256_ARRAY=161]="INT256_ARRAY",re[re.BYTES1_ARRAY=162]="BYTES1_ARRAY",re[re.BYTES2_ARRAY=163]="BYTES2_ARRAY",re[re.BYTES3_ARRAY=164]="BYTES3_ARRAY",re[re.BYTES4_ARRAY=165]="BYTES4_ARRAY",re[re.BYTES5_ARRAY=166]="BYTES5_ARRAY",re[re.BYTES6_ARRAY=167]="BYTES6_ARRAY",re[re.BYTES7_ARRAY=168]="BYTES7_ARRAY",re[re.BYTES8_ARRAY=169]="BYTES8_ARRAY",re[re.BYTES9_ARRAY=170]="BYTES9_ARRAY",re[re.BYTES10_ARRAY=171]="BYTES10_ARRAY",re[re.BYTES11_ARRAY=172]="BYTES11_ARRAY",re[re.BYTES12_ARRAY=173]="BYTES12_ARRAY",re[re.BYTES13_ARRAY=174]="BYTES13_ARRAY",re[re.BYTES14_ARRAY=175]="BYTES14_ARRAY",re[re.BYTES15_ARRAY=176]="BYTES15_ARRAY",re[re.BYTES16_ARRAY=177]="BYTES16_ARRAY",re[re.BYTES17_ARRAY=178]="BYTES17_ARRAY",re[re.BYTES18_ARRAY=179]="BYTES18_ARRAY",re[re.BYTES19_ARRAY=180]="BYTES19_ARRAY",re[re.BYTES20_ARRAY=181]="BYTES20_ARRAY",re[re.BYTES21_ARRAY=182]="BYTES21_ARRAY",re[re.BYTES22_ARRAY=183]="BYTES22_ARRAY",re[re.BYTES23_ARRAY=184]="BYTES23_ARRAY",re[re.BYTES24_ARRAY=185]="BYTES24_ARRAY",re[re.BYTES25_ARRAY=186]="BYTES25_ARRAY",re[re.BYTES26_ARRAY=187]="BYTES26_ARRAY",re[re.BYTES27_ARRAY=188]="BYTES27_ARRAY",re[re.BYTES28_ARRAY=189]="BYTES28_ARRAY",re[re.BYTES29_ARRAY=190]="BYTES29_ARRAY",re[re.BYTES30_ARRAY=191]="BYTES30_ARRAY",re[re.BYTES31_ARRAY=192]="BYTES31_ARRAY",re[re.BYTES32_ARRAY=193]="BYTES32_ARRAY",re[re.BOOL_ARRAY=194]="BOOL_ARRAY",re[re.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",re[re.BYTES=196]="BYTES",re[re.STRING=197]="STRING",re))(I$2||{}),Y={[0]:"uint8",[1]:"uint16",[2]:"uint24",[3]:"uint32",[4]:"uint40",[5]:"uint48",[6]:"uint56",[7]:"uint64",[8]:"uint72",[9]:"uint80",[10]:"uint88",[11]:"uint96",[12]:"uint104",[13]:"uint112",[14]:"uint120",[15]:"uint128",[16]:"uint136",[17]:"uint144",[18]:"uint152",[19]:"uint160",[20]:"uint168",[21]:"uint176",[22]:"uint184",[23]:"uint192",[24]:"uint200",[25]:"uint208",[26]:"uint216",[27]:"uint224",[28]:"uint232",[29]:"uint240",[30]:"uint248",[31]:"uint256",[32]:"int8",[33]:"int16",[34]:"int24",[35]:"int32",[36]:"int40",[37]:"int48",[38]:"int56",[39]:"int64",[40]:"int72",[41]:"int80",[42]:"int88",[43]:"int96",[44]:"int104",[45]:"int112",[46]:"int120",[47]:"int128",[48]:"int136",[49]:"int144",[50]:"int152",[51]:"int160",[52]:"int168",[53]:"int176",[54]:"int184",[55]:"int192",[56]:"int200",[57]:"int208",[58]:"int216",[59]:"int224",[60]:"int232",[61]:"int240",[62]:"int248",[63]:"int256",[64]:"bytes1",[65]:"bytes2",[66]:"bytes3",[67]:"bytes4",[68]:"bytes5",[69]:"bytes6",[70]:"bytes7",[71]:"bytes8",[72]:"bytes9",[73]:"bytes10",[74]:"bytes11",[75]:"bytes12",[76]:"bytes13",[77]:"bytes14",[78]:"bytes15",[79]:"bytes16",[80]:"bytes17",[81]:"bytes18",[82]:"bytes19",[83]:"bytes20",[84]:"bytes21",[85]:"bytes22",[86]:"bytes23",[87]:"bytes24",[88]:"bytes25",[89]:"bytes26",[90]:"bytes27",[91]:"bytes28",[92]:"bytes29",[93]:"bytes30",[94]:"bytes31",[95]:"bytes32",[96]:"bool",[97]:"address",[98]:"uint8[]",[99]:"uint16[]",[100]:"uint24[]",[101]:"uint32[]",[102]:"uint40[]",[103]:"uint48[]",[104]:"uint56[]",[105]:"uint64[]",[106]:"uint72[]",[107]:"uint80[]",[108]:"uint88[]",[109]:"uint96[]",[110]:"uint104[]",[111]:"uint112[]",[112]:"uint120[]",[113]:"uint128[]",[114]:"uint136[]",[115]:"uint144[]",[116]:"uint152[]",[117]:"uint160[]",[118]:"uint168[]",[119]:"uint176[]",[120]:"uint184[]",[121]:"uint192[]",[122]:"uint200[]",[123]:"uint208[]",[124]:"uint216[]",[125]:"uint224[]",[126]:"uint232[]",[127]:"uint240[]",[128]:"uint248[]",[129]:"uint256[]",[130]:"int8[]",[131]:"int16[]",[132]:"int24[]",[133]:"int32[]",[134]:"int40[]",[135]:"int48[]",[136]:"int56[]",[137]:"int64[]",[138]:"int72[]",[139]:"int80[]",[140]:"int88[]",[141]:"int96[]",[142]:"int104[]",[143]:"int112[]",[144]:"int120[]",[145]:"int128[]",[146]:"int136[]",[147]:"int144[]",[148]:"int152[]",[149]:"int160[]",[150]:"int168[]",[151]:"int176[]",[152]:"int184[]",[153]:"int192[]",[154]:"int200[]",[155]:"int208[]",[156]:"int216[]",[157]:"int224[]",[158]:"int232[]",[159]:"int240[]",[160]:"int248[]",[161]:"int256[]",[162]:"bytes1[]",[163]:"bytes2[]",[164]:"bytes3[]",[165]:"bytes4[]",[166]:"bytes5[]",[167]:"bytes6[]",[168]:"bytes7[]",[169]:"bytes8[]",[170]:"bytes9[]",[171]:"bytes10[]",[172]:"bytes11[]",[173]:"bytes12[]",[174]:"bytes13[]",[175]:"bytes14[]",[176]:"bytes15[]",[177]:"bytes16[]",[178]:"bytes17[]",[179]:"bytes18[]",[180]:"bytes19[]",[181]:"bytes20[]",[182]:"bytes21[]",[183]:"bytes22[]",[184]:"bytes23[]",[185]:"bytes24[]",[186]:"bytes25[]",[187]:"bytes26[]",[188]:"bytes27[]",[189]:"bytes28[]",[190]:"bytes29[]",[191]:"bytes30[]",[192]:"bytes31[]",[193]:"bytes32[]",[194]:"bool[]",[195]:"address[]",[196]:"bytes",[197]:"string"},s$6=Object.values(Y),_$2=Object.fromEntries(Object.entries(Y).map(([re,ee])=>[ee,parseInt(re)]));function n$1(re){let ee=re.valueOf();return ee<32?ee+1:ee<64?ee+1-32:ee<96?ee+1-64:re==96?1:re==97?20:0}var U$2=s$6.filter(re=>n$1(_$2[re])>0);const ANSI_BACKGROUND_OFFSET=10,wrapAnsi16=(re=0)=>ee=>`\x1B[${ee+re}m`,wrapAnsi256=(re=0)=>ee=>`\x1B[${38+re};5;${ee}m`,wrapAnsi16m=(re=0)=>(ee,ne,oe)=>`\x1B[${38+re};2;${ee};${ne};${oe}m`,styles$1={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(styles$1.modifier);const foregroundColorNames=Object.keys(styles$1.color),backgroundColorNames=Object.keys(styles$1.bgColor);[...foregroundColorNames,...backgroundColorNames];function assembleStyles(){const re=new Map;for(const[ee,ne]of Object.entries(styles$1)){for(const[oe,ae]of Object.entries(ne))styles$1[oe]={open:`\x1B[${ae[0]}m`,close:`\x1B[${ae[1]}m`},ne[oe]=styles$1[oe],re.set(ae[0],ae[1]);Object.defineProperty(styles$1,ee,{value:ne,enumerable:!1})}return Object.defineProperty(styles$1,"codes",{value:re,enumerable:!1}),styles$1.color.close="\x1B[39m",styles$1.bgColor.close="\x1B[49m",styles$1.color.ansi=wrapAnsi16(),styles$1.color.ansi256=wrapAnsi256(),styles$1.color.ansi16m=wrapAnsi16m(),styles$1.bgColor.ansi=wrapAnsi16(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi256=wrapAnsi256(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi16m=wrapAnsi16m(ANSI_BACKGROUND_OFFSET),Object.defineProperties(styles$1,{rgbToAnsi256:{value(ee,ne,oe){return ee===ne&&ne===oe?ee<8?16:ee>248?231:Math.round((ee-8)/247*24)+232:16+36*Math.round(ee/255*5)+6*Math.round(ne/255*5)+Math.round(oe/255*5)},enumerable:!1},hexToRgb:{value(ee){const ne=/[a-f\d]{6}|[a-f\d]{3}/i.exec(ee.toString(16));if(!ne)return[0,0,0];let[oe]=ne;oe.length===3&&(oe=[...oe].map(he=>he+he).join(""));const ae=Number.parseInt(oe,16);return[ae>>16&255,ae>>8&255,ae&255]},enumerable:!1},hexToAnsi256:{value:ee=>styles$1.rgbToAnsi256(...styles$1.hexToRgb(ee)),enumerable:!1},ansi256ToAnsi:{value(ee){if(ee<8)return 30+ee;if(ee<16)return 90+(ee-8);let ne,oe,ae;if(ee>=232)ne=((ee-232)*10+8)/255,oe=ne,ae=ne;else{ee-=16;const ge=ee%36;ne=Math.floor(ee/36)/5,oe=Math.floor(ge/6)/5,ae=ge%6/5}const he=Math.max(ne,oe,ae)*2;if(he===0)return 30;let pe=30+(Math.round(ae)<<2|Math.round(oe)<<1|Math.round(ne));return he===2&&(pe+=60),pe},enumerable:!1},rgbToAnsi:{value:(ee,ne,oe)=>styles$1.ansi256ToAnsi(styles$1.rgbToAnsi256(ee,ne,oe)),enumerable:!1},hexToAnsi:{value:ee=>styles$1.ansi256ToAnsi(styles$1.hexToAnsi256(ee)),enumerable:!1}}),styles$1}const ansiStyles=assembleStyles(),ansiStyles$1=ansiStyles,level=(()=>{if(navigator.userAgentData){const re=navigator.userAgentData.brands.find(({brand:ee})=>ee==="Chromium");if(re&&re.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),colorSupport=level!==0&&{level,hasBasic:!0,has256:level>=2,has16m:level>=3},supportsColor={stdout:colorSupport,stderr:colorSupport},supportsColor$1=supportsColor;function stringReplaceAll(re,ee,ne){let oe=re.indexOf(ee);if(oe===-1)return re;const ae=ee.length;let he=0,pe="";do pe+=re.slice(he,oe)+ee+ne,he=oe+ae,oe=re.indexOf(ee,he);while(oe!==-1);return pe+=re.slice(he),pe}function stringEncaseCRLFWithFirstIndex(re,ee,ne,oe){let ae=0,he="";do{const pe=re[oe-1]==="\r";he+=re.slice(ae,pe?oe-1:oe)+ee+(pe?`\r
`:`
`)+ne,ae=oe+1,oe=re.indexOf(`
`,ae)}while(oe!==-1);return he+=re.slice(ae),he}const{stdout:stdoutColor,stderr:stderrColor}=supportsColor$1,GENERATOR=Symbol("GENERATOR"),STYLER=Symbol("STYLER"),IS_EMPTY=Symbol("IS_EMPTY"),levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(re,ee={})=>{if(ee.level&&!(Number.isInteger(ee.level)&&ee.level>=0&&ee.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const ne=stdoutColor?stdoutColor.level:0;re.level=ee.level===void 0?ne:ee.level},chalkFactory=re=>{const ee=(...ne)=>ne.join(" ");return applyOptions(ee,re),Object.setPrototypeOf(ee,createChalk.prototype),ee};function createChalk(re){return chalkFactory(re)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[re,ee]of Object.entries(ansiStyles$1))styles[re]={get(){const ne=createBuilder(this,createStyler(ee.open,ee.close,this[STYLER]),this[IS_EMPTY]);return Object.defineProperty(this,re,{value:ne}),ne}};styles.visible={get(){const re=createBuilder(this,this[STYLER],!0);return Object.defineProperty(this,"visible",{value:re}),re}};const getModelAnsi=(re,ee,ne,...oe)=>re==="rgb"?ee==="ansi16m"?ansiStyles$1[ne].ansi16m(...oe):ee==="ansi256"?ansiStyles$1[ne].ansi256(ansiStyles$1.rgbToAnsi256(...oe)):ansiStyles$1[ne].ansi(ansiStyles$1.rgbToAnsi(...oe)):re==="hex"?getModelAnsi("rgb",ee,ne,...ansiStyles$1.hexToRgb(...oe)):ansiStyles$1[ne][re](...oe),usedModels=["rgb","hex","ansi256"];for(const re of usedModels){styles[re]={get(){const{level:ne}=this;return function(...oe){const ae=createStyler(getModelAnsi(re,levelMapping[ne],"color",...oe),ansiStyles$1.color.close,this[STYLER]);return createBuilder(this,ae,this[IS_EMPTY])}}};const ee="bg"+re[0].toUpperCase()+re.slice(1);styles[ee]={get(){const{level:ne}=this;return function(...oe){const ae=createStyler(getModelAnsi(re,levelMapping[ne],"bgColor",...oe),ansiStyles$1.bgColor.close,this[STYLER]);return createBuilder(this,ae,this[IS_EMPTY])}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this[GENERATOR].level},set(re){this[GENERATOR].level=re}}}),createStyler=(re,ee,ne)=>{let oe,ae;return ne===void 0?(oe=re,ae=ee):(oe=ne.openAll+re,ae=ee+ne.closeAll),{open:re,close:ee,openAll:oe,closeAll:ae,parent:ne}},createBuilder=(re,ee,ne)=>{const oe=(...ae)=>applyStyle(oe,ae.length===1?""+ae[0]:ae.join(" "));return Object.setPrototypeOf(oe,proto),oe[GENERATOR]=re,oe[STYLER]=ee,oe[IS_EMPTY]=ne,oe},applyStyle=(re,ee)=>{if(re.level<=0||!ee)return re[IS_EMPTY]?"":ee;let ne=re[STYLER];if(ne===void 0)return ee;const{openAll:oe,closeAll:ae}=ne;if(ee.includes("\x1B"))for(;ne!==void 0;)ee=stringReplaceAll(ee,ne.close,ne.open),ne=ne.parent;const he=ee.indexOf(`
`);return he!==-1&&(ee=stringEncaseCRLFWithFirstIndex(ee,ae,oe,he)),oe+ee+ae};Object.defineProperties(createChalk.prototype,styles);const chalk=createChalk();createChalk({level:stderrColor?stderrColor.level:0});const d$3=chalk,identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(re){return re.length===1?re[0].toString():re.reduce((ee,ne)=>{if(typeof ne=="number")return ee+"["+ne.toString()+"]";if(ne.includes('"'))return ee+'["'+escapeQuotes(ne)+'"]';if(!identifierRegex.test(ne))return ee+'["'+ne+'"]';const oe=ee.length===0?"":".";return ee+oe+ne},"")}function escapeQuotes(re){return re.replace(/"/g,'\\"')}function isNonEmptyArray(re){return re.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(ee,ne=[]){super(ee),this.details=ne,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(re,ee,ne){if(re.code==="invalid_union")return re.unionErrors.reduce((oe,ae)=>{const he=ae.issues.map(pe=>getMessageFromZodIssue(pe,ee,ne)).join(ee);return oe.includes(he)||oe.push(he),oe},[]).join(ne);if(isNonEmptyArray(re.path)){if(re.path.length===1){const oe=re.path[0];if(typeof oe=="number")return`${re.message} at index ${oe}`}return`${re.message} at "${joinPath(re.path)}"`}return re.message}function conditionallyPrefixMessage(re,ee,ne){return ee!==null?re.length>0?[ee,re].join(ne):ee:re.length>0?re:PREFIX}function fromZodError(re,ee={}){const{maxIssuesInMessage:ne=MAX_ISSUES_IN_MESSAGE,issueSeparator:oe=ISSUE_SEPARATOR,unionSeparator:ae=UNION_SEPARATOR,prefixSeparator:he=PREFIX_SEPARATOR,prefix:pe=PREFIX}=ee,ge=re.errors.slice(0,ne).map(we=>getMessageFromZodIssue(we,oe,ae)).join(oe),ve=conditionallyPrefixMessage(ge,pe,he);return new ValidationError(ve,re.errors)}var a$3=Object.defineProperty,m$3=(re,ee,ne)=>ee in re?a$3(re,ee,{enumerable:!0,configurable:!0,writable:!0,value:ne}):re[ee]=ne,x$3=(re,ee,ne)=>(m$3(re,typeof ee!="symbol"?ee+"":ee,ne),ne),t$3=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$5=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function l$4(re,ee){return fromZodError(re,{prefix:d$3.red(ee),prefixSeparator:`
- `,issueSeparator:`
- `})}var r$4=class extends Error{name="MUDError"},z$1=16,g$3=14;function d$2(re,ee){/^\w+$/.test(re)||ee.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$2(re,ee){d$2(re,ee),/^[A-Z]/.test(re)||ee.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(re,ee){d$2(re,ee),/^[a-z]/.test(re)||ee.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$1(re,ee){re.length===0&&ee.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),re.length>=256&&ee.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let ne=M$2(re);ne.length>0&&ee.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${ne.join(", ")}`})}function c$1(re,ee){return(ne,oe)=>{if(ne===""){re&&oe.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}ne[0]!=="/"&&oe.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),ne[ne.length-1]==="/"&&oe.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let ae=ne.split("/");ee&&ae.length>2&&oe.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let he=1;he<ae.length;he++)ae[he]===""&&oe.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(ae[he])||oe.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var R$3=c$1(!0,!1),y$3=c$1(!1,!1),b$5=c$1(!0,!0);function D$1(re,ee){isAddress$2(re)||ee.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$2(re){let ee=new Set,ne=new Set;for(let oe of re)ee.has(oe)&&ne.add(oe),ee.add(oe);return[...ne]}function E$1(re,ee){re.length>g$3&&ee.addIssue({code:ZodIssueCode.custom,message:`Namespace must be <= ${g$3} characters`}),/^\w*$/.test(re)||ee.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function S$1(re){let ee=re.match(/^(\w+)\[(\d+)\]$/);return ee?{elementType:ee[1],staticLength:Number.parseInt(ee[2])}:null}var v$3=z$2.string().superRefine(x$2),B$1=z$2.string().superRefine(C$1),G$2=z$2.string().superRefine(d$2),O$3=z$2.string().superRefine(E$1),V$3=z$2.array(v$3).superRefine(h$1);z$2.string().superRefine(R$3);z$2.string().superRefine(b$5);z$2.string().superRefine(y$3);var P$2=z$2.string().superRefine(D$1),l$3=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$3;let ee=this._global,ne=new l$3;return ee.__mudCoreContext=ne,ne}static getContext(){let ee=this._global.__mudCoreContext;if(ee===void 0)throw new s$5;return ee}configExtenders=[]},i$2=l$3;x$3(i$2,"_global",typeof global>"u"?window.global??{}:global);function q$2(re){let ee=re,ne=i$2.getContext();for(let oe of ne.configExtenders)ee=oe(ee);return ee}function K$2(re){i$2.getContext().configExtenders.push(re)}var N$1=(re=>(re[re.TABLE_ID=0]="TABLE_ID",re[re.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",re))(N$1||{});function te(re){return{type:0,input:re}}var i$1=/\[\]$/;function b$4(re){return i$1.test(re)}function r$3(re){return re.replace(i$1,"")}var n=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],e$1=n.slice(0,98),y$2=n.slice(98),s$4={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function T$4(re){return y$2.includes(re)}var a$2={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},A$3={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20};function g$2(re){return e$1.includes(re)}var l$2={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},p$2={namespace:"",enums:{},userTypes:{}},c={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},I$1=v$3,L$1=B$1,_$1=B$1,P$1=v$3,K$1=v$3,g$1=z$2.string(),q$1=z$2.string(),B=z$2.record(L$1,q$1).default(c.keySchema),U$1=z$2.record(_$1,g$1).refine(re=>Object.keys(re).length>0,"Table schema may not be empty"),M$1=g$1.transform(re=>U$1.parse({value:re})),$$2=U$1.or(M$1);function le(re,ee){let ne={};for(let[oe,ae]of Object.entries(re))ne[oe]=ee[ae]?.internalType??ae;return ne}var b$3=z$2.object({directory:z$2.string().default(c.directory),name:G$2.optional(),tableIdArgument:z$2.boolean().default(c.tableIdArgument),storeArgument:z$2.boolean().default(c.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:B,valueSchema:$$2,offchainOnly:z$2.boolean().default(c.offchainOnly)}).transform(re=>(Object.keys(re.valueSchema).length===1?re.dataStruct??=!1:re.dataStruct??=!0,re)),H$2=g$1.transform(re=>b$3.parse({valueSchema:{value:re}})),G$1=b$3.or(H$2),V$2=z$2.record(I$1,G$1).transform(re=>{for(let ee of Object.keys(re)){let ne=re[ee];ne.name=ee.slice(0,z$1),re[ee]=ne}return re}),w$3=z$2.object({enums:z$2.record(P$1,V$3).default(p$2.enums)}),X$1=z$2.object({filePath:z$2.string(),internalType:z$2.enum(n)}),Z$1=z$2.object({userTypes:z$2.record(K$1,X$1).default(p$2.userTypes)}),h=z$2.object({namespace:O$3.default(p$2.namespace),storeImportPath:z$2.string().default(l$2.storeImportPath),tables:V$2,userTypesFilename:z$2.string().default(l$2.userTypesFilename),codegenDirectory:z$2.string().default(l$2.codegenDirectory),codegenIndexFilename:z$2.string().default(l$2.codegenIndexFilename)}).merge(w$3).merge(Z$1);h.superRefine(x$1);var ye=h.catchall(z$2.any()).superRefine(x$1);function x$1(re,ee){for(let we of Object.values(re.tables)){let Ee=Object.keys(we.keySchema),_e=Object.keys(we.valueSchema),Te=M$2([...Ee,..._e]);Te.length>0&&ee.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${Te.join(", ")}`})}let ne=Object.keys(re.tables),oe=[...Object.keys(re.enums),...Object.keys(re.userTypes)],ae=oe,he=[...ne,...ae],pe=M$2(he);pe.length>0&&ee.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names, user type names must be globally unique: ${pe.join(", ")}`});let ge=Object.values(re.tables).map(({name:we})=>we),ve=M$2(ge);ve.length>0&&ee.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${ve.join(", ")}`});for(let we of Object.values(re.tables)){for(let Ee of Object.values(we.keySchema))C(oe,Ee,ee);for(let Ee of Object.values(we.valueSchema))J$1(ae,oe,Ee,ee)}}function J$1(re,ee,ne,oe){if(!s$6.includes(ne)&&!re.includes(ne)){let ae=S$1(ne);ae?Q(ee,ae.elementType,ae.staticLength,oe):oe.addIssue({code:ZodIssueCode.custom,message:`${ne} is not a valid abi type, and is not defined in userTypes`})}}function C(re,ee,ne){!U$2.includes(ee)&&!re.includes(ee)&&ne.addIssue({code:ZodIssueCode.custom,message:`${ee} is not a static type`})}function Q(re,ee,ne,oe){C(re,ee,oe),ne===0?oe.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):ne>=2**16&&oe.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}var t$2="event Store_SetRecord(bytes32 indexed tableId, bytes32[] keyTuple, bytes staticData, bytes32 encodedLengths, bytes dynamicData)",o$2="event Store_SpliceStaticData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, bytes data)",s$3="event Store_SpliceDynamicData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, uint40 deleteCount, bytes32 encodedLengths, bytes data)",r$2="event Store_DeleteRecord(bytes32 indexed tableId, bytes32[] keyTuple)",e=[t$2,o$2,s$3,r$2],A$2=parseAbi(e);i$2.isCreated()||i$2.createContext();K$2(re=>{try{return ye.parse(re)}catch(ee){throw ee instanceof ZodError?l$4(ee,"StoreConfig Validation Error"):ee}});function m$2(re){return q$2(re)}var s$2=m$2({storeImportPath:"../../",namespace:"store",userTypes:{ResourceId:{filePath:"./src/ResourceId.sol",internalType:"bytes32"},FieldLayout:{filePath:"./src/FieldLayout.sol",internalType:"bytes32"},Schema:{filePath:"./src/Schema.sol",internalType:"bytes32"}},tables:{StoreHooks:{keySchema:{tableId:"ResourceId"},valueSchema:{hooks:"bytes21[]"}},Tables:{keySchema:{tableId:"ResourceId"},valueSchema:{fieldLayout:"FieldLayout",keySchema:"Schema",valueSchema:"Schema",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},ResourceIds:{keySchema:{resourceId:"ResourceId"},valueSchema:{exists:"bool"}},Hooks:{keySchema:{resourceId:"ResourceId"},valueSchema:{hooks:"bytes21[]"},tableIdArgument:!0}}}),browserExports={},browser={get exports(){return browserExports},set exports(re){browserExports=re}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var re=1e3,ee=re*60,ne=ee*60,oe=ne*24,ae=oe*7,he=oe*365.25;ms=function(Ee,_e){_e=_e||{};var Te=typeof Ee;if(Te==="string"&&Ee.length>0)return pe(Ee);if(Te==="number"&&isFinite(Ee))return _e.long?ve(Ee):ge(Ee);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Ee))};function pe(Ee){if(Ee=String(Ee),!(Ee.length>100)){var _e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Ee);if(_e){var Te=parseFloat(_e[1]),Pe=(_e[2]||"ms").toLowerCase();switch(Pe){case"years":case"year":case"yrs":case"yr":case"y":return Te*he;case"weeks":case"week":case"w":return Te*ae;case"days":case"day":case"d":return Te*oe;case"hours":case"hour":case"hrs":case"hr":case"h":return Te*ne;case"minutes":case"minute":case"mins":case"min":case"m":return Te*ee;case"seconds":case"second":case"secs":case"sec":case"s":return Te*re;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Te;default:return}}}}function ge(Ee){var _e=Math.abs(Ee);return _e>=oe?Math.round(Ee/oe)+"d":_e>=ne?Math.round(Ee/ne)+"h":_e>=ee?Math.round(Ee/ee)+"m":_e>=re?Math.round(Ee/re)+"s":Ee+"ms"}function ve(Ee){var _e=Math.abs(Ee);return _e>=oe?we(Ee,_e,oe,"day"):_e>=ne?we(Ee,_e,ne,"hour"):_e>=ee?we(Ee,_e,ee,"minute"):_e>=re?we(Ee,_e,re,"second"):Ee+" ms"}function we(Ee,_e,Te,Pe){var Ae=_e>=Te*1.5;return Math.round(Ee/Te)+" "+Pe+(Ae?"s":"")}return ms}function setup$1(re){ne.debug=ne,ne.default=ne,ne.coerce=ve,ne.disable=he,ne.enable=ae,ne.enabled=pe,ne.humanize=requireMs(),ne.destroy=we,Object.keys(re).forEach(Ee=>{ne[Ee]=re[Ee]}),ne.names=[],ne.skips=[],ne.formatters={};function ee(Ee){let _e=0;for(let Te=0;Te<Ee.length;Te++)_e=(_e<<5)-_e+Ee.charCodeAt(Te),_e|=0;return ne.colors[Math.abs(_e)%ne.colors.length]}ne.selectColor=ee;function ne(Ee){let _e,Te=null,Pe,Ae;function Se(...Re){if(!Se.enabled)return;const Ne=Se,Me=Number(new Date),Le=Me-(_e||Me);Ne.diff=Le,Ne.prev=_e,Ne.curr=Me,_e=Me,Re[0]=ne.coerce(Re[0]),typeof Re[0]!="string"&&Re.unshift("%O");let qe=0;Re[0]=Re[0].replace(/%([a-zA-Z%])/g,(Qe,Xe)=>{if(Qe==="%%")return"%";qe++;const tt=ne.formatters[Xe];if(typeof tt=="function"){const lt=Re[qe];Qe=tt.call(Ne,lt),Re.splice(qe,1),qe--}return Qe}),ne.formatArgs.call(Ne,Re),(Ne.log||ne.log).apply(Ne,Re)}return Se.namespace=Ee,Se.useColors=ne.useColors(),Se.color=ne.selectColor(Ee),Se.extend=oe,Se.destroy=ne.destroy,Object.defineProperty(Se,"enabled",{enumerable:!0,configurable:!1,get:()=>Te!==null?Te:(Pe!==ne.namespaces&&(Pe=ne.namespaces,Ae=ne.enabled(Ee)),Ae),set:Re=>{Te=Re}}),typeof ne.init=="function"&&ne.init(Se),Se}function oe(Ee,_e){const Te=ne(this.namespace+(typeof _e>"u"?":":_e)+Ee);return Te.log=this.log,Te}function ae(Ee){ne.save(Ee),ne.namespaces=Ee,ne.names=[],ne.skips=[];let _e;const Te=(typeof Ee=="string"?Ee:"").split(/[\s,]+/),Pe=Te.length;for(_e=0;_e<Pe;_e++)Te[_e]&&(Ee=Te[_e].replace(/\*/g,".*?"),Ee[0]==="-"?ne.skips.push(new RegExp("^"+Ee.slice(1)+"$")):ne.names.push(new RegExp("^"+Ee+"$")))}function he(){const Ee=[...ne.names.map(ge),...ne.skips.map(ge).map(_e=>"-"+_e)].join(",");return ne.enable(""),Ee}function pe(Ee){if(Ee[Ee.length-1]==="*")return!0;let _e,Te;for(_e=0,Te=ne.skips.length;_e<Te;_e++)if(ne.skips[_e].test(Ee))return!1;for(_e=0,Te=ne.names.length;_e<Te;_e++)if(ne.names[_e].test(Ee))return!0;return!1}function ge(Ee){return Ee.toString().substring(2,Ee.toString().length-2).replace(/\.\*\?$/,"*")}function ve(Ee){return Ee instanceof Error?Ee.stack||Ee.message:Ee}function we(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return ne.enable(ne.load()),ne}var common=setup$1;(function(re,ee){ee.formatArgs=oe,ee.save=ae,ee.load=he,ee.useColors=ne,ee.storage=pe(),ee.destroy=(()=>{let ve=!1;return()=>{ve||(ve=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),ee.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ne(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function oe(ve){if(ve[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ve[0]+(this.useColors?"%c ":" ")+"+"+re.exports.humanize(this.diff),!this.useColors)return;const we="color: "+this.color;ve.splice(1,0,we,"color: inherit");let Ee=0,_e=0;ve[0].replace(/%[a-zA-Z%]/g,Te=>{Te!=="%%"&&(Ee++,Te==="%c"&&(_e=Ee))}),ve.splice(_e,0,we)}ee.log=console.debug||console.log||(()=>{});function ae(ve){try{ve?ee.storage.setItem("debug",ve):ee.storage.removeItem("debug")}catch{}}function he(){let ve;try{ve=ee.storage.getItem("debug")}catch{}return!ve&&typeof process<"u"&&"env"in process&&(ve={}.DEBUG),ve}function pe(){try{return localStorage}catch{}}re.exports=common(ee);const{formatters:ge}=re.exports;ge.j=function(ve){try{return JSON.stringify(ve)}catch(we){return"[UnexpectedJSONParseError]: "+we.message}}})(browser,browserExports);const J=browserExports;var m$1=J("mud:common");function generatePrivateKey(){return toHex$1(secp256k1.utils.randomPrivateKey())}function toAccount(re){if(typeof re=="string"){if(!isAddress$1(re))throw new InvalidAddressError$1({address:re});return{address:re,type:"json-rpc"}}if(!isAddress$1(re.address))throw new InvalidAddressError$1({address:re.address});return{address:re.address,signMessage:re.signMessage,signTransaction:re.signTransaction,signTypedData:re.signTypedData,source:"custom",type:"local"}}async function sign({hash:re,privateKey:ee}){const{r:ne,s:oe,recovery:ae}=secp256k1.sign(re.slice(2),ee.slice(2));return{r:toHex$1(ne),s:toHex$1(oe),v:ae?28n:27n}}async function signMessage$1({message:re,privateKey:ee}){const ne=await sign({hash:hashMessage$1(re),privateKey:ee});return signatureToHex(ne)}async function signTransaction({privateKey:re,transaction:ee,serializer:ne=serializeTransaction}){const oe=await sign({hash:keccak256$1(ne(ee)),privateKey:re});return ne(ee,oe)}async function signTypedData$1({privateKey:re,...ee}){const ne=await sign({hash:hashTypedData$1(ee),privateKey:re});return signatureToHex(ne)}function privateKeyToAccount(re){const ee=toHex$1(secp256k1.getPublicKey(re.slice(2),!1)),ne=publicKeyToAddress(ee);return{...toAccount({address:ne,async signMessage({message:ae}){return signMessage$1({message:ae,privateKey:re})},async signTransaction(ae,{serializer:he}={}){return signTransaction({privateKey:re,transaction:ae,serializer:he})},async signTypedData(ae){return signTypedData$1({...ae,privateKey:re})}}),publicKey:ee,source:"privateKey"}}var eventemitter3Exports={},eventemitter3={get exports(){return eventemitter3Exports},set exports(re){eventemitter3Exports=re}};(function(re){var ee=Object.prototype.hasOwnProperty,ne="~";function oe(){}Object.create&&(oe.prototype=Object.create(null),new oe().__proto__||(ne=!1));function ae(ve,we,Ee){this.fn=ve,this.context=we,this.once=Ee||!1}function he(ve,we,Ee,_e,Te){if(typeof Ee!="function")throw new TypeError("The listener must be a function");var Pe=new ae(Ee,_e||ve,Te),Ae=ne?ne+we:we;return ve._events[Ae]?ve._events[Ae].fn?ve._events[Ae]=[ve._events[Ae],Pe]:ve._events[Ae].push(Pe):(ve._events[Ae]=Pe,ve._eventsCount++),ve}function pe(ve,we){--ve._eventsCount===0?ve._events=new oe:delete ve._events[we]}function ge(){this._events=new oe,this._eventsCount=0}ge.prototype.eventNames=function(){var we=[],Ee,_e;if(this._eventsCount===0)return we;for(_e in Ee=this._events)ee.call(Ee,_e)&&we.push(ne?_e.slice(1):_e);return Object.getOwnPropertySymbols?we.concat(Object.getOwnPropertySymbols(Ee)):we},ge.prototype.listeners=function(we){var Ee=ne?ne+we:we,_e=this._events[Ee];if(!_e)return[];if(_e.fn)return[_e.fn];for(var Te=0,Pe=_e.length,Ae=new Array(Pe);Te<Pe;Te++)Ae[Te]=_e[Te].fn;return Ae},ge.prototype.listenerCount=function(we){var Ee=ne?ne+we:we,_e=this._events[Ee];return _e?_e.fn?1:_e.length:0},ge.prototype.emit=function(we,Ee,_e,Te,Pe,Ae){var Se=ne?ne+we:we;if(!this._events[Se])return!1;var Re=this._events[Se],Ne=arguments.length,Me,Le;if(Re.fn){switch(Re.once&&this.removeListener(we,Re.fn,void 0,!0),Ne){case 1:return Re.fn.call(Re.context),!0;case 2:return Re.fn.call(Re.context,Ee),!0;case 3:return Re.fn.call(Re.context,Ee,_e),!0;case 4:return Re.fn.call(Re.context,Ee,_e,Te),!0;case 5:return Re.fn.call(Re.context,Ee,_e,Te,Pe),!0;case 6:return Re.fn.call(Re.context,Ee,_e,Te,Pe,Ae),!0}for(Le=1,Me=new Array(Ne-1);Le<Ne;Le++)Me[Le-1]=arguments[Le];Re.fn.apply(Re.context,Me)}else{var qe=Re.length,We;for(Le=0;Le<qe;Le++)switch(Re[Le].once&&this.removeListener(we,Re[Le].fn,void 0,!0),Ne){case 1:Re[Le].fn.call(Re[Le].context);break;case 2:Re[Le].fn.call(Re[Le].context,Ee);break;case 3:Re[Le].fn.call(Re[Le].context,Ee,_e);break;case 4:Re[Le].fn.call(Re[Le].context,Ee,_e,Te);break;default:if(!Me)for(We=1,Me=new Array(Ne-1);We<Ne;We++)Me[We-1]=arguments[We];Re[Le].fn.apply(Re[Le].context,Me)}}return!0},ge.prototype.on=function(we,Ee,_e){return he(this,we,Ee,_e,!1)},ge.prototype.once=function(we,Ee,_e){return he(this,we,Ee,_e,!0)},ge.prototype.removeListener=function(we,Ee,_e,Te){var Pe=ne?ne+we:we;if(!this._events[Pe])return this;if(!Ee)return pe(this,Pe),this;var Ae=this._events[Pe];if(Ae.fn)Ae.fn===Ee&&(!Te||Ae.once)&&(!_e||Ae.context===_e)&&pe(this,Pe);else{for(var Se=0,Re=[],Ne=Ae.length;Se<Ne;Se++)(Ae[Se].fn!==Ee||Te&&!Ae[Se].once||_e&&Ae[Se].context!==_e)&&Re.push(Ae[Se]);Re.length?this._events[Pe]=Re.length===1?Re[0]:Re:pe(this,Pe)}return this},ge.prototype.removeAllListeners=function(we){var Ee;return we?(Ee=ne?ne+we:we,this._events[Ee]&&pe(this,Ee)):(this._events=new oe,this._eventsCount=0),this},ge.prototype.off=ge.prototype.removeListener,ge.prototype.addListener=ge.prototype.on,ge.prefixed=ne,ge.EventEmitter=ge,re.exports=ge})(eventemitter3);let TimeoutError$1=class extends Error{constructor(ee){super(ee),this.name="TimeoutError"}},AbortError$3=class extends Error{constructor(ee){super(),this.name="AbortError",this.message=ee}};const getDOMException$1=re=>globalThis.DOMException===void 0?new AbortError$3(re):new DOMException(re),getAbortedReason=re=>{const ee=re.reason===void 0?getDOMException$1("This operation was aborted."):re.reason;return ee instanceof Error?ee:getDOMException$1(ee)};function pTimeout(re,ee,ne,oe){let ae;const he=new Promise((pe,ge)=>{if(typeof ee!="number"||Math.sign(ee)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${ee}\``);if(ee===Number.POSITIVE_INFINITY){pe(re);return}if(oe={customTimers:{setTimeout,clearTimeout},...oe},oe.signal){const{signal:ve}=oe;ve.aborted&&ge(getAbortedReason(ve)),ve.addEventListener("abort",()=>{ge(getAbortedReason(ve))})}ae=oe.customTimers.setTimeout.call(void 0,()=>{if(typeof ne=="function"){try{pe(ne())}catch(Ee){ge(Ee)}return}const ve=typeof ne=="string"?ne:`Promise timed out after ${ee} milliseconds`,we=ne instanceof Error?ne:new TimeoutError$1(ve);typeof re.cancel=="function"&&re.cancel(),ge(we)},ee),(async()=>{try{pe(await re)}catch(ve){ge(ve)}finally{oe.customTimers.clearTimeout.call(void 0,ae)}})()});return he.clear=()=>{clearTimeout(ae),ae=void 0},he}function lowerBound(re,ee,ne){let oe=0,ae=re.length;for(;ae>0;){const he=Math.trunc(ae/2);let pe=oe+he;ne(re[pe],ee)<=0?(oe=++pe,ae-=he+1):ae=he}return oe}var __classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(re,ee,ne,oe){if(ne==="a"&&!oe)throw new TypeError("Private accessor was defined without a getter");if(typeof ee=="function"?re!==ee||!oe:!ee.has(re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ne==="m"?oe:ne==="a"?oe.call(re):oe?oe.value:ee.get(re)},_PriorityQueue_queue;class PriorityQueue{constructor(){_PriorityQueue_queue.set(this,[])}enqueue(ee,ne){ne={priority:0,...ne};const oe={priority:ne.priority,run:ee};if(this.size&&__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f")[this.size-1].priority>=ne.priority){__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").push(oe);return}const ae=lowerBound(__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f"),oe,(he,pe)=>pe.priority-he.priority);__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").splice(ae,0,oe)}dequeue(){const ee=__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").shift();return ee?.run}filter(ee){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").filter(ne=>ne.priority===ee.priority).map(ne=>ne.run)}get size(){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").length}}_PriorityQueue_queue=new WeakMap;var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(re,ee,ne,oe,ae){if(oe==="m")throw new TypeError("Private method is not writable");if(oe==="a"&&!ae)throw new TypeError("Private accessor was defined without a setter");if(typeof ee=="function"?re!==ee||!ae:!ee.has(re))throw new TypeError("Cannot write private member to an object whose class did not declare it");return oe==="a"?ae.call(re,ne):ae?ae.value=ne:ee.set(re,ne),ne},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(re,ee,ne,oe){if(ne==="a"&&!oe)throw new TypeError("Private accessor was defined without a getter");if(typeof ee=="function"?re!==ee||!oe:!ee.has(re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ne==="m"?oe:ne==="a"?oe.call(re):oe?oe.value:ee.get(re)},_PQueue_instances,_PQueue_carryoverConcurrencyCount,_PQueue_isIntervalIgnored,_PQueue_intervalCount,_PQueue_intervalCap,_PQueue_interval,_PQueue_intervalEnd,_PQueue_intervalId,_PQueue_timeoutId,_PQueue_queue,_PQueue_queueClass,_PQueue_pending,_PQueue_concurrency,_PQueue_isPaused,_PQueue_throwOnTimeout,_PQueue_doesIntervalAllowAnother_get,_PQueue_doesConcurrentAllowAnother_get,_PQueue_next,_PQueue_onResumeInterval,_PQueue_isIntervalPaused_get,_PQueue_tryToStartAnother,_PQueue_initializeIntervalIfNeeded,_PQueue_onInterval,_PQueue_processQueue,_PQueue_throwOnAbort,_PQueue_onEvent;let AbortError$2=class extends Error{};class PQueue extends eventemitter3Exports{constructor(ee){var ne,oe,ae,he;if(super(),_PQueue_instances.add(this),_PQueue_carryoverConcurrencyCount.set(this,void 0),_PQueue_isIntervalIgnored.set(this,void 0),_PQueue_intervalCount.set(this,0),_PQueue_intervalCap.set(this,void 0),_PQueue_interval.set(this,void 0),_PQueue_intervalEnd.set(this,0),_PQueue_intervalId.set(this,void 0),_PQueue_timeoutId.set(this,void 0),_PQueue_queue.set(this,void 0),_PQueue_queueClass.set(this,void 0),_PQueue_pending.set(this,0),_PQueue_concurrency.set(this,void 0),_PQueue_isPaused.set(this,void 0),_PQueue_throwOnTimeout.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ee={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...ee},!(typeof ee.intervalCap=="number"&&ee.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(oe=(ne=ee.intervalCap)===null||ne===void 0?void 0:ne.toString())!==null&&oe!==void 0?oe:""}\` (${typeof ee.intervalCap})`);if(ee.interval===void 0||!(Number.isFinite(ee.interval)&&ee.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(he=(ae=ee.interval)===null||ae===void 0?void 0:ae.toString())!==null&&he!==void 0?he:""}\` (${typeof ee.interval})`);__classPrivateFieldSet(this,_PQueue_carryoverConcurrencyCount,ee.carryoverConcurrencyCount,"f"),__classPrivateFieldSet(this,_PQueue_isIntervalIgnored,ee.intervalCap===Number.POSITIVE_INFINITY||ee.interval===0,"f"),__classPrivateFieldSet(this,_PQueue_intervalCap,ee.intervalCap,"f"),__classPrivateFieldSet(this,_PQueue_interval,ee.interval,"f"),__classPrivateFieldSet(this,_PQueue_queue,new ee.queueClass,"f"),__classPrivateFieldSet(this,_PQueue_queueClass,ee.queueClass,"f"),this.concurrency=ee.concurrency,this.timeout=ee.timeout,__classPrivateFieldSet(this,_PQueue_throwOnTimeout,ee.throwOnTimeout===!0,"f"),__classPrivateFieldSet(this,_PQueue_isPaused,ee.autoStart===!1,"f")}get concurrency(){return __classPrivateFieldGet(this,_PQueue_concurrency,"f")}set concurrency(ee){if(!(typeof ee=="number"&&ee>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${ee}\` (${typeof ee})`);__classPrivateFieldSet(this,_PQueue_concurrency,ee,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)}async add(ee,ne={}){return ne={timeout:this.timeout,throwOnTimeout:__classPrivateFieldGet(this,_PQueue_throwOnTimeout,"f"),...ne},new Promise((oe,ae)=>{__classPrivateFieldGet(this,_PQueue_queue,"f").enqueue(async()=>{var he,pe,ge;__classPrivateFieldSet(this,_PQueue_pending,(pe=__classPrivateFieldGet(this,_PQueue_pending,"f"),pe++,pe),"f"),__classPrivateFieldSet(this,_PQueue_intervalCount,(ge=__classPrivateFieldGet(this,_PQueue_intervalCount,"f"),ge++,ge),"f");try{if(!((he=ne.signal)===null||he===void 0)&&he.aborted)throw new AbortError$2("The task was aborted.");let ve=ee({signal:ne.signal});ne.timeout&&(ve=pTimeout(Promise.resolve(ve),ne.timeout)),ne.signal&&(ve=Promise.race([ve,__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_throwOnAbort).call(this,ne.signal)]));const we=await ve;oe(we),this.emit("completed",we)}catch(ve){if(ve instanceof TimeoutError$1&&!ne.throwOnTimeout){oe();return}ae(ve),this.emit("error",ve)}finally{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_next).call(this)}},ne),this.emit("add"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this)})}async addAll(ee,ne){return Promise.all(ee.map(async oe=>this.add(oe,ne)))}start(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")?(__classPrivateFieldSet(this,_PQueue_isPaused,!1,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this),this):this}pause(){__classPrivateFieldSet(this,_PQueue_isPaused,!0,"f")}clear(){__classPrivateFieldSet(this,_PQueue_queue,new(__classPrivateFieldGet(this,_PQueue_queueClass,"f")),"f")}async onEmpty(){__classPrivateFieldGet(this,_PQueue_queue,"f").size!==0&&await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"empty")}async onSizeLessThan(ee){__classPrivateFieldGet(this,_PQueue_queue,"f").size<ee||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"next",()=>__classPrivateFieldGet(this,_PQueue_queue,"f").size<ee)}async onIdle(){__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_queue,"f").size===0||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"idle")}get size(){return __classPrivateFieldGet(this,_PQueue_queue,"f").size}sizeBy(ee){return __classPrivateFieldGet(this,_PQueue_queue,"f").filter(ee).length}get pending(){return __classPrivateFieldGet(this,_PQueue_pending,"f")}get isPaused(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")}}_PQueue_carryoverConcurrencyCount=new WeakMap,_PQueue_isIntervalIgnored=new WeakMap,_PQueue_intervalCount=new WeakMap,_PQueue_intervalCap=new WeakMap,_PQueue_interval=new WeakMap,_PQueue_intervalEnd=new WeakMap,_PQueue_intervalId=new WeakMap,_PQueue_timeoutId=new WeakMap,_PQueue_queue=new WeakMap,_PQueue_queueClass=new WeakMap,_PQueue_pending=new WeakMap,_PQueue_concurrency=new WeakMap,_PQueue_isPaused=new WeakMap,_PQueue_throwOnTimeout=new WeakMap,_PQueue_instances=new WeakSet,_PQueue_doesIntervalAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalCount,"f")<__classPrivateFieldGet(this,_PQueue_intervalCap,"f")},_PQueue_doesConcurrentAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_pending,"f")<__classPrivateFieldGet(this,_PQueue_concurrency,"f")},_PQueue_next=function(){var ee;__classPrivateFieldSet(this,_PQueue_pending,(ee=__classPrivateFieldGet(this,_PQueue_pending,"f"),ee--,ee),"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this),this.emit("next")},_PQueue_onResumeInterval=function(){__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),__classPrivateFieldSet(this,_PQueue_timeoutId,void 0,"f")},_PQueue_isIntervalPaused_get=function(){const ee=Date.now();if(__classPrivateFieldGet(this,_PQueue_intervalId,"f")===void 0){const ne=__classPrivateFieldGet(this,_PQueue_intervalEnd,"f")-ee;if(ne<0)__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f");else return __classPrivateFieldGet(this,_PQueue_timeoutId,"f")===void 0&&__classPrivateFieldSet(this,_PQueue_timeoutId,setTimeout(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onResumeInterval).call(this)},ne),"f"),!0}return!1},_PQueue_tryToStartAnother=function(){if(__classPrivateFieldGet(this,_PQueue_queue,"f").size===0)return __classPrivateFieldGet(this,_PQueue_intervalId,"f")&&clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f"),this.emit("empty"),__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&this.emit("idle"),!1;if(!__classPrivateFieldGet(this,_PQueue_isPaused,"f")){const ee=!__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_isIntervalPaused_get);if(__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesIntervalAllowAnother_get)&&__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesConcurrentAllowAnother_get)){const ne=__classPrivateFieldGet(this,_PQueue_queue,"f").dequeue();return ne?(this.emit("active"),ne(),ee&&__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),!0):!1}}return!1},_PQueue_initializeIntervalIfNeeded=function(){__classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalId,"f")!==void 0||(__classPrivateFieldSet(this,_PQueue_intervalId,setInterval(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this)},__classPrivateFieldGet(this,_PQueue_interval,"f")),"f"),__classPrivateFieldSet(this,_PQueue_intervalEnd,Date.now()+__classPrivateFieldGet(this,_PQueue_interval,"f"),"f"))},_PQueue_onInterval=function(){__classPrivateFieldGet(this,_PQueue_intervalCount,"f")===0&&__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_intervalId,"f")&&(clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f")),__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)},_PQueue_processQueue=function(){for(;__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this););},_PQueue_throwOnAbort=async function(ee){return new Promise((ne,oe)=>{ee.addEventListener("abort",()=>{oe(new AbortError$2("The task was aborted."))},{once:!0})})},_PQueue_onEvent=async function(ee,ne){return new Promise(oe=>{const ae=()=>{ne&&!ne()||(this.off(ee,ae),oe())};this.on(ee,ae)})};var retryExports={},retry$3={get exports(){return retryExports},set exports(re){retryExports=re}},retry$2={};function RetryOperation(re,ee){typeof ee=="boolean"&&(ee={forever:ee}),this._originalTimeouts=JSON.parse(JSON.stringify(re)),this._timeouts=re,this._options=ee||{},this._maxRetryTime=ee&&ee.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(re){if(this._timeout&&clearTimeout(this._timeout),!re)return!1;var ee=new Date().getTime();if(re&&ee-this._operationStart>=this._maxRetryTime)return this._errors.push(re),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(re);var ne=this._timeouts.shift();if(ne===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),ne=this._cachedTimeouts.slice(-1);else return!1;var oe=this;return this._timer=setTimeout(function(){oe._attempts++,oe._operationTimeoutCb&&(oe._timeout=setTimeout(function(){oe._operationTimeoutCb(oe._attempts)},oe._operationTimeout),oe._options.unref&&oe._timeout.unref()),oe._fn(oe._attempts)},ne),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(re,ee){this._fn=re,ee&&(ee.timeout&&(this._operationTimeout=ee.timeout),ee.cb&&(this._operationTimeoutCb=ee.cb));var ne=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){ne._operationTimeoutCb()},ne._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(re){console.log("Using RetryOperation.try() is deprecated"),this.attempt(re)};RetryOperation.prototype.start=function(re){console.log("Using RetryOperation.start() is deprecated"),this.attempt(re)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var re={},ee=null,ne=0,oe=0;oe<this._errors.length;oe++){var ae=this._errors[oe],he=ae.message,pe=(re[he]||0)+1;re[he]=pe,pe>=ne&&(ee=ae,ne=pe)}return ee};(function(re){var ee=retry_operation;re.operation=function(ne){var oe=re.timeouts(ne);return new ee(oe,{forever:ne&&(ne.forever||ne.retries===1/0),unref:ne&&ne.unref,maxRetryTime:ne&&ne.maxRetryTime})},re.timeouts=function(ne){if(ne instanceof Array)return[].concat(ne);var oe={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var ae in ne)oe[ae]=ne[ae];if(oe.minTimeout>oe.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var he=[],pe=0;pe<oe.retries;pe++)he.push(this.createTimeout(pe,oe));return ne&&ne.forever&&!he.length&&he.push(this.createTimeout(pe,oe)),he.sort(function(ge,ve){return ge-ve}),he},re.createTimeout=function(ne,oe){var ae=oe.randomize?Math.random()+1:1,he=Math.round(ae*Math.max(oe.minTimeout,1)*Math.pow(oe.factor,ne));return he=Math.min(he,oe.maxTimeout),he},re.wrap=function(ne,oe,ae){if(oe instanceof Array&&(ae=oe,oe=null),!ae){ae=[];for(var he in ne)typeof ne[he]=="function"&&ae.push(he)}for(var pe=0;pe<ae.length;pe++){var ge=ae[pe],ve=ne[ge];ne[ge]=function(Ee){var _e=re.operation(oe),Te=Array.prototype.slice.call(arguments,1),Pe=Te.pop();Te.push(function(Ae){_e.retry(Ae)||(Ae&&(arguments[0]=_e.mainError()),Pe.apply(this,arguments))}),_e.attempt(function(){Ee.apply(ne,Te)})}.bind(ne,ve),ne[ge].options=oe}}})(retry$2);(function(re){re.exports=retry$2})(retry$3);const retry$1=getDefaultExportFromCjs(retryExports),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);let AbortError$1=class extends Error{constructor(ee){super(),ee instanceof Error?(this.originalError=ee,{message:ee}=ee):(this.originalError=new Error(ee),this.originalError.stack=this.stack),this.name="AbortError",this.message=ee}};const decorateErrorWithCounts=(re,ee,ne)=>{const oe=ne.retries-(ee-1);return re.attemptNumber=ee,re.retriesLeft=oe,re},isNetworkError=re=>networkErrorMsgs.has(re),getDOMException=re=>globalThis.DOMException===void 0?new Error(re):new DOMException(re);async function pRetry(re,ee){return new Promise((ne,oe)=>{ee={onFailedAttempt(){},retries:10,...ee};const ae=retry$1.operation(ee);ae.attempt(async he=>{try{ne(await re(he))}catch(pe){if(!(pe instanceof Error)){oe(new TypeError(`Non-error was thrown: "${pe}". You should only throw errors.`));return}if(pe instanceof AbortError$1)ae.stop(),oe(pe.originalError);else if(pe instanceof TypeError&&!isNetworkError(pe.message))ae.stop(),oe(pe);else{decorateErrorWithCounts(pe,he,ee);try{await ee.onFailedAttempt(pe)}catch(ge){oe(ge);return}ae.retry(pe)||oe(ae.mainError())}}}),ee.signal&&!ee.signal.aborted&&ee.signal.addEventListener("abort",()=>{ae.stop();const he=ee.signal.reason===void 0?getDOMException("The operation was aborted."):ee.signal.reason;oe(he instanceof Error?he:getDOMException(he))},{once:!0})})}function me(re){return{...privateKeyToAccount(re)}}async function T$3({client:re,address:ee,blockTag:ne}){return`mud:createNonceManager:${re.chain?.id??await getChainId$1(re)}:${getAddress$1(ee)}:${ne}`}var P=m$1.extend("createNonceManager");function R$2({client:re,address:ee,blockTag:ne="pending",broadcastChannelName:oe}){let ae={current:-1},he=null;typeof BroadcastChannel<"u"&&(oe?Promise.resolve(oe):T$3({client:re,address:ee,blockTag:ne})).then(_e=>{he=new BroadcastChannel(_e),he.addEventListener("message",Te=>{let Pe=JSON.parse(Te.data);P("got nonce from broadcast channel",Pe),ae.current=Pe})});function pe(){return ae.current>=0}function ge(){if(!pe())throw new Error("call resetNonce before using nextNonce");let _e=ae.current++;return he?.postMessage(JSON.stringify(ae.current)),_e}async function ve(){let _e=await getTransactionCount$1(re,{address:ee,blockTag:ne});ae.current=_e,he?.postMessage(JSON.stringify(ae.current)),P("reset nonce to",ae.current)}function we(_e){return _e instanceof BaseError$1&&_e.walk(Te=>Te instanceof NonceTooLowError$1||Te instanceof NonceTooHighError$1)!=null}let Ee=new PQueue({concurrency:1});return{hasNonce:pe,nextNonce:ge,resetNonce:ve,shouldResetNonce:we,mempoolQueue:Ee}}var H$1=new Map;async function l$1({client:re,address:ee,blockTag:ne="pending"}){let oe=await T$3({client:re,address:ee,blockTag:ne}),ae=H$1.get(oe);if(ae)return ae;let he=R$2({client:re,address:ee,blockTag:ne});return H$1.set(oe,he),he}var f$2=m$1.extend("writeContract");async function v$2(re,ee){let ne=ee.account??re.account;if(!ne)throw new Error("No account provided");let oe=parseAccount$1(ne),ae=await l$1({client:re,address:oe.address,blockTag:"pending"});async function he(){return ee.gas?(f$2("gas provided, skipping simulate",ee.functionName,ee.address),ee):(f$2("simulating",ee.functionName,"at",ee.address),(await simulateContract$1(re,{...ee,blockTag:"pending",account:oe})).request)}let pe=await he();return ae.mempoolQueue.add(()=>pRetry(async()=>{ae.hasNonce()||await ae.resetNonce();let ge=ae.nextNonce();return f$2("calling",pe.functionName,"with nonce",ge,"at",pe.address),await writeContract$1(re,{nonce:ge,...pe})},{retries:3,onFailedAttempt:async ge=>{if(ae.shouldResetNonce(ge)){f$2("got nonce error, retrying",ge.message),await ae.resetNonce();return}throw ge}}),{throwOnTimeout:!0})}function U(re){let ee=re.length&&Array.isArray(re[0]),ne=ee?re[0]:[],oe=(ee?re[1]:re[0])??{};return{args:ne,options:oe}}function W({abi:re,address:ee,publicClient:ne,walletClient:oe,onWrite:ae}){let he=getContract({abi:re,address:ee,publicClient:ne,walletClient:oe});if(he.write){let pe=0;he.write=new Proxy({},{get(ge,ve){return(...we)=>{let{args:Ee,options:_e}=U(we),Te={abi:re,address:ee,functionName:ve,args:Ee,..._e,onWrite:ae},Pe=v$2(oe,Te),Ae=`${oe.chain.id}:${oe.account.address}:${pe++}`;return ae?.({id:Ae,request:Te,result:Pe}),Pe}}})}return he}function X(re,ee){if(!isHex$1(re))throw console.error("Private key found in cache is not valid hex",{privateKey:re,cacheKey:ee}),new Error(`Private key found in cache (${ee}) is not valid hex`);privateKeyToAccount(re)}function nt(re="mud:burnerWallet"){let ee=localStorage.getItem(re);if(ee!=null)return X(ee,re),ee;let ne=generatePrivateKey();return console.log("New burner wallet created:",privateKeyToAccount(ne)),localStorage.setItem(re,ne),ne}var k$1=["table","offchainTable","namespace","module","system"],b$2={table:"tb",offchainTable:"ot",namespace:"ns",module:"md",system:"sy"};function O$2(re){let ee=b$2[re.type];return concatHex$1([stringToHex$1(ee,{size:2}),stringToHex$1(re.namespace.slice(0,14),{size:14}),stringToHex$1(re.name.slice(0,16),{size:16})])}var Z=Object.fromEntries(Object.entries(b$2).map(([re,ee])=>[ee,re]));function q(re){let ee=Z[re];if(k$1.includes(ee))return ee}function I(re){let ee=hexToString$1(sliceHex$1(re,0,2)).replace(/\0+$/,""),ne=q(ee),oe=hexToString$1(sliceHex$1(re,2,16)).replace(/\0+$/,""),ae=hexToString$1(sliceHex$1(re,16,32)).replace(/\0+$/,"");if(!ne)throw new Error(`Unknown type (${ee}) for resource (${ee}:${oe}:${ae})`);return{resourceId:re,type:ne,namespace:oe,name:ae}}function N(re,ee,ne){return`0x${re.replace(/^0x/,"").slice(ee*2,ne!=null?ne*2:void 0).padEnd(((ne??ee)-ee)*2,"0")}`}m$1.extend("sendTransaction");function Pt(re,ee,ne=0,oe="0x"){return concatHex$1([N(re,0,ee),oe,N(re,ee+ne)])}var ce=m$1.extend("transportObserver");function kt(re){return ee=>{let ne=re(ee);return{...ne,request:async oe=>{if(oe.method==="eth_sendRawTransaction"&&oe.params instanceof Array){let ae=oe.params.map(he=>keccak256$1(he));ce("saw txs",ae)}return ne.request(oe)}}}}var se=W,o$1={registerFunctionSelector:!0,openAccess:!0,accessList:[]},t$1={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},r$1=v$3,a$1=v$3,i=z$2.array(r$1.or(P$2)).default(o$1.accessList),d$1=z$2.intersection(z$2.object({name:G$2.optional(),registerFunctionSelectors:z$2.boolean().default(o$1.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(o$1.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:i})])),u$1=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),m=z$2.object({type:z$2.nativeEnum(N$1),input:z$2.string()}),p$1=z$2.object({name:a$1,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([u$1,m])).default([])}),y$1=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(t$1.worldInterfaceName),systems:z$2.record(r$1,d$1).default(t$1.systems),excludeSystems:z$2.array(r$1).default(t$1.excludeSystems),postDeployScript:z$2.string().default(t$1.postDeployScript),deploysDirectory:z$2.string().default(t$1.deploysDirectory),worldsFile:z$2.string().default(t$1.worldsFile),worldgenDirectory:z$2.string().default(t$1.worldgenDirectory),worldImportPath:z$2.string().default(t$1.worldImportPath),modules:z$2.array(p$1).default(t$1.modules)}),w$2=y$1.catchall(z$2.any());K$2(re=>{try{return w$2.parse(re)}catch(ee){throw ee instanceof ZodError?l$4(ee,"WorldConfig Validation Error"):ee}});var a=m$2({worldImportPath:"../../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",namespace:"world",userTypes:{ResourceId:{filePath:"@latticexyz/store/src/ResourceId.sol",internalType:"bytes32"}},tables:{NamespaceOwner:{keySchema:{namespaceId:"ResourceId"},valueSchema:{owner:"address"}},ResourceAccess:{keySchema:{resourceId:"ResourceId",caller:"address"},valueSchema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},valueSchema:{moduleAddress:"address"}},UserDelegationControl:{keySchema:{delegator:"address",delegatee:"address"},valueSchema:{delegationControlId:"ResourceId"}},NamespaceDelegationControl:{keySchema:{namespaceId:"ResourceId"},valueSchema:{delegationControlId:"ResourceId"}},Balances:{keySchema:{namespaceId:"ResourceId"},valueSchema:{balance:"uint256"}},Systems:{keySchema:{systemId:"ResourceId"},valueSchema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{keySchema:{system:"address"},valueSchema:{systemId:"ResourceId"}},SystemHooks:{keySchema:{systemId:"ResourceId"},valueSchema:"bytes21[]"},FunctionSelectors:{keySchema:{functionSelector:"bytes4"},valueSchema:{systemId:"ResourceId",systemFunctionSelector:"bytes4"},dataStruct:!1},FunctionSignatures:{keySchema:{functionSelector:"bytes4"},valueSchema:{functionSignature:"string"},offchainOnly:!0}},excludeSystems:["StoreRegistrationSystem"]});function o(re,ee){throw new Error(ee??`Unexpected value: ${re}`)}function s$1(...re){return re.reduce((ee,ne)=>ne<ee?ne:ee)}function f$1(re,ee){return re<ee?-1:re>ee?1:0}function*x(re,ee){for(let ne=0;ne<re.length;ne+=ee)yield re.slice(ne,ne+ee)}function v$1(re){return re!==void 0}function k(re){return new Promise(ee=>setTimeout(()=>ee(),re))}var u=J("mud:block-events-stream");async function*b$1({maxBlockRange:re=1000n,maxRetryCount:ee=3,publicClient:ne,...oe}){let ae=oe.fromBlock,he=s$1(re,oe.toBlock-ae),pe=0;for(;ae<=oe.toBlock;)try{let ge=ae+he;u("getting logs",{fromBlock:ae,toBlock:ge});let ve=await ne.getLogs({...oe,fromBlock:ae,toBlock:ge,strict:!0});yield{fromBlock:ae,toBlock:ge,logs:ve},ae=ge+1n,he=s$1(re,oe.toBlock-ae)}catch(ge){if(u("error getting logs:",String(ge)),!(ge instanceof Error))throw ge;if(ge.message.includes("rate limit exceeded")&&pe<ee){let ve=2*pe;u(`too many requests, retrying in ${ve}s`,ge),await k(1e3*ve),pe+=1;continue}if(ge.message.includes("block range exceeded")){if(he/=2n,he<=0n)throw new Error("can't reduce block range any further");u("block range exceeded, trying a smaller block range",ge);continue}throw ge}}function F$2({publicClient:re,address:ee,events:ne,maxBlockRange:oe}){let ae,he;return pipe(tap(({endBlock:pe,startBlock:ge})=>{ae??=ge,he=pe}),concatMap(()=>ae>he?EMPTY:(u("fetching logs for block range",{fromBlock:ae,toBlock:he}),from(b$1({publicClient:re,address:ee,events:ne,fromBlock:ae,toBlock:he,maxBlockRange:oe})).pipe(tap(({toBlock:pe})=>{ae=pe+1n})))))}function O$1({publicClient:re,blockTag:ee}){return new Observable(function(ne){return re.watchBlocks({blockTag:ee,emitOnBegin:!0,onBlock:oe=>ne.next(oe),onError:oe=>ne.error(oe)})})}function D(re,ee){let ne=Array.from(new Set(re.map(he=>he.blockNumber)));ne.sort(f$1);let oe=ne.map(he=>{let pe=re.filter(ge=>ge.blockNumber===he);if(pe.length&&(pe.sort((ge,ve)=>ge.logIndex<ve.logIndex?-1:ge.logIndex>ve.logIndex?1:0),!!pe.length))return{blockNumber:he,logs:pe}}).filter(v$1),ae=ne.length>0?ne[ne.length-1]:null;return ee!=null&&(ae==null||ee>ae)&&oe.push({blockNumber:ee,logs:[]}),oe}var l=class extends r$4{name="InvalidHexValueError";constructor(re){super(`Hex value "${re}" is an odd length (${re.length-2}). It must be an even length.`)}},S=class extends r$4{name="InvalidHexLengthForSchemaError";constructor(re){super(`Hex value "${re}" has length of ${re.length-2}, but expected length of 64 for a schema.`)}},g=class extends r$4{name="InvalidHexLengthForPackedCounterError";constructor(re){super(`Hex value "${re}" has length of ${re.length-2}, but expected length of 64 for a packed counter.`)}},A$1=class extends r$4{name="InvalidHexLengthForStaticFieldError";constructor(ee,ne){super(`Hex value "${ne}" has length of ${ne.length-2}, but expected length of ${A$3[ee]*2} for ${ee} type.`)}},v=class extends r$4{name="InvalidHexLengthForArrayFieldError";constructor(re,ee){super(`Hex value "${ee}" has length of ${ee.length-2}, but expected a multiple of ${A$3[re]*2} for ${re}[] type.`)}},H=class extends r$4{name="SchemaStaticLengthMismatchError";constructor(re,ee,ne){super(`Schema "${re}" static data length (${ee}) did not match the summed length of all static fields (${ne}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},F$1=class extends r$4{name="PackedCounterLengthMismatchError";constructor(ee,ne,oe){super(`PackedCounter "${ee}" total bytes length (${ne}) did not match the summed length of all field byte lengths (${oe}).`)}};function y(re,ee){if(ee.length>3&&ee.length%2!==0)throw new l(ee);if((ee.length-2)/2!==A$3[re])throw new A$1(re,ee);switch(re){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let ne=hexToBigInt$1(ee,{signed:re.startsWith("int")}),oe=typeof a$2[re];if(oe==="number")return Number(ne);if(oe==="bigint")return ne;throw new Error(`Unexpected default value type (${oe}) for ABI type (${re})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return ee;case"bool":return hexToBool$1(ee);case"address":return getAddress$1(ee)}return o(re,`Unsupported static ABI type: ${re}`)}function f(re,ee){if(re==="bytes")return ee;if(re==="string")return hexToString$1(ee);if(ee.length>3&&ee.length%2!==0)throw new l(ee);let ne=(ee.length-2)/2;switch(re){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let oe=r$3(re),ae=A$3[oe];if(ne%ae!==0)throw new v(oe,ee);return new Array(ne/ae).fill(void 0).map((he,pe)=>{let ge=sliceHex$1(ee,pe*ae,(pe+1)*ae);return y(oe,ge)})}}return o(re,`Unsupported dynamic ABI type: ${re}`)}function w$1(re){if(re.length!==66)throw new g(re);let ee=y("uint56",N(re,32-7,32)),ne=f("uint40[]",N(re,0,32-7)),oe=Object.freeze([...ne].reverse()),ae=BigInt(oe.reduce((he,pe)=>he+pe,0));if(ae!==ee)throw new F$1(re,ee,ae);return{totalByteLength:ee,fieldByteLengths:oe}}function T$2(re){return re.reduce((ee,ne)=>ee+A$3[ne],0)}function j$1(re,ee){let ne=[],oe=0;re.staticFields.forEach(pe=>{let ge=A$3[pe],ve=y(pe,N(ee,oe,oe+ge));oe+=ge,ne.push(ve)});let ae=T$2(re.staticFields),he=oe;if(he!==ae&&console.warn("Decoded static data length does not match value schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:ae,actualLength:he,bytesOffset:oe}),re.dynamicFields.length>0){let pe=w$1(N(ee,oe,oe+32));oe+=32,re.dynamicFields.forEach((ve,we)=>{let Ee=pe.fieldByteLengths[we];if(Ee>0){let _e=f(ve,N(ee,oe,oe+Ee));oe+=Ee,ne.push(_e)}else ne.push(s$4[ve])});let ge=oe-32-he;BigInt(ge)!==pe.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:pe.totalByteLength,actualLength:ge,bytesOffset:oe})}return ne}function E(re,ee){let ne=Object.values(re).filter(g$2),oe=Object.values(re).filter(T$4),ae=j$1({staticFields:ne,dynamicFields:oe},ee);return Object.fromEntries(Object.keys(re).map((he,pe)=>[he,ae[pe]]))}function zt(re,{staticData:ee,encodedLengths:ne,dynamicData:oe}){return E(re,concatHex$1([N(ee,0,T$2(Object.values(re).filter(g$2))),ne,oe]))}function p(re,ee){if(b$4(re)&&Array.isArray(ee)){let ne=r$3(re);return ee.length===0?"0x":encodePacked(ee.map(()=>ne),ee)}return encodePacked([re],[ee])}function O(re,ee){return ee.map((ne,oe)=>encodeAbiParameters$1([{type:re.staticFields[oe]}],[ne]))}function Xt(re,ee){let ne=Object.values(re).filter(g$2);return O({staticFields:ne,dynamicFields:[]},Object.values(ee))}function K(re){let ee=re.map(size$2).reverse(),ne=ee.reduce((oe,ae)=>oe+BigInt(ae),0n);return padHex$1(concatHex$1([...ee.map(oe=>p("uint40",oe)),p("uint56",ne)]),{size:32,dir:"left"})}function z(re,ee){let ne=Object.entries(re),oe=ne.filter(([,ve])=>g$2(ve)),ae=ne.filter(([,ve])=>T$4(ve)),he=oe.map(([ve,we])=>p(we,ee[ve])),pe=ae.map(([ve,we])=>p(we,ee[ve])),ge=K(pe);return{staticData:concatHex$1(he),encodedLengths:ge,dynamicData:concatHex$1(pe)}}function L(re){if(re.length!==66)throw new S(re);let ee=hexToNumber$2(sliceHex$1(re,0,2)),ne=hexToNumber$2(sliceHex$1(re,2,3)),oe=hexToNumber$2(sliceHex$1(re,3,4)),ae=[],he=[];for(let ge=4;ge<4+ne;ge++){let ve=hexToNumber$2(sliceHex$1(re,ge,ge+1));ae.push(n[ve])}for(let ge=4+ne;ge<4+ne+oe;ge++){let ve=hexToNumber$2(sliceHex$1(re,ge,ge+1));he.push(n[ve])}let pe=ae.reduce((ge,ve)=>ge+A$3[ve],0);if(pe!==ee)throw console.warn(`Schema "${re}" static data length (${ee}) did not match the summed length of all static fields (${pe}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new H(re,ee,pe);return{staticFields:ae,dynamicFields:he}}var R$1={...s$2.tables.Tables,valueSchema:le(s$2.tables.Tables.valueSchema,s$2.userTypes)},Be=O$2({type:R$1.offchainOnly?"offchainTable":"table",namespace:s$2.namespace,name:R$1.name}),w=(re=>(re.INITIALIZE="initialize",re.SNAPSHOT="snapshot",re.RPC="rpc",re.LIVE="live",re))(w||{}),_=Object.keys(s$2.tables).map(re=>O$2({type:s$2.tables[re].offchainOnly?"offchainTable":"table",namespace:s$2.namespace,name:re})),G=Object.keys(a.tables).map(re=>O$2({type:a.tables[re].offchainOnly?"offchainTable":"table",namespace:a.namespace,name:re})),$$1=[..._,...G],F=J("mud:store-sync"),s=F.extend("createStoreSync");async function je({storageAdapter:re,onProgress:ee,publicClient:ne,address:oe,tableIds:ae=[],startBlock:he=0n,maxBlockRange:pe,initialState:ge,indexerUrl:ve}){let we=new Set(ae.length?[...$$1,...ae]:[]),Ee=defer(async()=>{if(ge)return ge;if(!ve)return;s("fetching initial state from indexer",ve),ee?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetching snapshot from indexer"});let Xe=T$5({url:ve}),tt=ne.chain?.id??await ne.getChainId(),lt=await Xe.findAll.query({chainId:tt,address:oe,tableIds:Array.from(we)});return ee?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetched snapshot from indexer"}),lt}).pipe(catchError(Xe=>(s("error fetching initial state from indexer",Xe),ee?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:he,message:"Failed to fetch snapshot from indexer"}),of(void 0))),shareReplay(1)),_e=Ee.pipe(map(Xe=>Xe?.blockNumber??he),tap(Xe=>s("starting sync from block",Xe))),Te=Ee.pipe(filter(Xe=>Xe!=null&&Xe.blockNumber!=null&&Xe.tables.length>0),concatMap(async({blockNumber:Xe,tables:tt})=>{s("hydrating from initial state to block",Xe),ee?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:Xe,message:"Hydrating from snapshot"});let lt=tt.flatMap(ht=>ht.records.map(Ze=>({eventName:"Store_SetRecord",address:ht.address,args:{tableId:ht.tableId,keyTuple:Xt(ht.keySchema,Ze.key),...z(ht.valueSchema,Ze.value)}}))),ct=Math.max(100,Math.floor(lt.length/50)),st=Array.from(x(lt,ct));for(let[ht,Ze]of st.entries())await re({blockNumber:Xe,logs:Ze}),ee?.({step:"snapshot",percentage:(ht+Ze.length)/st.length*100,latestBlockNumber:0n,lastBlockNumberProcessed:Xe,message:"Hydrating from snapshot"});return ee?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Xe,message:"Hydrated from snapshot"}),{blockNumber:Xe,logs:lt}}),shareReplay(1)),Pe=O$1({publicClient:ne,blockTag:"latest"}).pipe(shareReplay(1)),Ae=Pe.pipe(map(Xe=>Xe.number),tap(Xe=>{s("latest block number",Xe)}),shareReplay(1)),Se=null,Re=null,Ne=combineLatest([_e,Ae]).pipe(map(([Xe,tt])=>({startBlock:Xe,endBlock:tt})),tap(Xe=>{Se=Xe.startBlock,Re=Xe.endBlock}),F$2({publicClient:ne,address:oe,events:A$2,maxBlockRange:pe}),mergeMap(({toBlock:Xe,logs:tt})=>from(D(tt,Xe))),share$1()),Me=null,Le=concat$3(Te,Ne.pipe(concatMap(async Xe=>(await re(Xe),Xe)),tap(({blockNumber:Xe,logs:tt})=>{if(s("stored",tt.length,"logs for block",Xe),Me=Xe,Se!=null&&Re!=null)if(Xe<Re){let lt=Re-Se,ct=Me-Se;ee?.({step:"rpc",percentage:Number(ct*1000n/lt)/10,latestBlockNumber:Re,lastBlockNumberProcessed:Me,message:"Hydrating from RPC"})}else ee?.({step:"live",percentage:100,latestBlockNumber:Re,lastBlockNumberProcessed:Me,message:"All caught up!"})}))).pipe(share$1()),qe=10,We=Le.pipe(scan((Xe,tt)=>[tt,...Xe].slice(0,qe),[]),filter(Xe=>Xe.length>0),shareReplay(1));async function Qe(Xe){s("waiting for tx",Xe);let tt=We.pipe(concatMap(async lt=>{if(lt.flatMap(ct=>ct.logs.map(st=>st.transactionHash).filter(v$1)).includes(Xe))return!0;try{let ct=lt[0];s("fetching tx receipt for block",ct.blockNumber);let st=await ne.getTransactionReceipt({hash:Xe});return ct.blockNumber>=st.blockNumber}catch(ct){if(ct instanceof TransactionReceiptNotFoundError$1)return!1;throw ct}}),tap(lt=>s("has tx?",Xe,lt)));await firstValueFrom(tt.pipe(filter(identity$1)))}return{latestBlock$:Pe,latestBlockNumber$:Ae,blockLogs$:Ne,storedBlockLogs$:Le,waitForTransaction:Qe}}function T$1(re){return re.eventName==="Store_SetRecord"&&re.args.tableId===Be}function V$1(re){let[ee,...ne]=re.args.keyTuple;ne.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",re);let oe=I(ee),ae=E(R$1.valueSchema,concatHex$1([re.args.staticData,re.args.encodedLengths,re.args.dynamicData])),he=L(ae.keySchema),pe=L(ae.valueSchema),ge=decodeAbiParameters$1(parseAbiParameters("string[]"),ae.abiEncodedKeyNames)[0],ve=decodeAbiParameters$1(parseAbiParameters("string[]"),ae.abiEncodedFieldNames)[0],we=[...pe.staticFields,...pe.dynamicFields];return{address:re.address,tableId:ee,namespace:oe.namespace,name:oe.name,keySchema:Object.fromEntries(he.staticFields.map((Ee,_e)=>[ge[_e],Ee])),valueSchema:Object.fromEntries(we.map((Ee,_e)=>[ve[_e],Ee]))}}function d(re){return concatHex$1(re)}function $(re,ee){if(Object.keys(re).length!==Object.keys(ee).length)throw new Error(`key length ${Object.keys(ee).length} does not match key schema length ${Object.keys(re).length}`);return d(Object.entries(re).map(([ne,oe])=>encodeAbiParameters$1([{type:oe}],[ee[ne]])))}var b=F.extend("recs");function j(re){return{RegisteredTables:ie(re,{table:P$4.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:ie(re,{step:P$4.String,message:P$4.String,percentage:P$4.Number,latestBlockNumber:P$4.BigInt,lastBlockNumberProcessed:P$4.BigInt},{metadata:{componentName:"SyncProgress"}})}}function R(re){return $({address:"address",namespace:"bytes16",name:"bytes16"},{address:re.address,namespace:stringToHex$1(re.namespace,{size:16}),name:stringToHex$1(re.name,{size:16})})}var V={uint8:P$4.Number,uint16:P$4.Number,uint24:P$4.Number,uint32:P$4.Number,uint40:P$4.Number,uint48:P$4.Number,uint56:P$4.BigInt,uint64:P$4.BigInt,uint72:P$4.BigInt,uint80:P$4.BigInt,uint88:P$4.BigInt,uint96:P$4.BigInt,uint104:P$4.BigInt,uint112:P$4.BigInt,uint120:P$4.BigInt,uint128:P$4.BigInt,uint136:P$4.BigInt,uint144:P$4.BigInt,uint152:P$4.BigInt,uint160:P$4.BigInt,uint168:P$4.BigInt,uint176:P$4.BigInt,uint184:P$4.BigInt,uint192:P$4.BigInt,uint200:P$4.BigInt,uint208:P$4.BigInt,uint216:P$4.BigInt,uint224:P$4.BigInt,uint232:P$4.BigInt,uint240:P$4.BigInt,uint248:P$4.BigInt,uint256:P$4.BigInt,int8:P$4.Number,int16:P$4.Number,int24:P$4.Number,int32:P$4.Number,int40:P$4.Number,int48:P$4.Number,int56:P$4.BigInt,int64:P$4.BigInt,int72:P$4.BigInt,int80:P$4.BigInt,int88:P$4.BigInt,int96:P$4.BigInt,int104:P$4.BigInt,int112:P$4.BigInt,int120:P$4.BigInt,int128:P$4.BigInt,int136:P$4.BigInt,int144:P$4.BigInt,int152:P$4.BigInt,int160:P$4.BigInt,int168:P$4.BigInt,int176:P$4.BigInt,int184:P$4.BigInt,int192:P$4.BigInt,int200:P$4.BigInt,int208:P$4.BigInt,int216:P$4.BigInt,int224:P$4.BigInt,int232:P$4.BigInt,int240:P$4.BigInt,int248:P$4.BigInt,int256:P$4.BigInt,bytes1:P$4.String,bytes2:P$4.String,bytes3:P$4.String,bytes4:P$4.String,bytes5:P$4.String,bytes6:P$4.String,bytes7:P$4.String,bytes8:P$4.String,bytes9:P$4.String,bytes10:P$4.String,bytes11:P$4.String,bytes12:P$4.String,bytes13:P$4.String,bytes14:P$4.String,bytes15:P$4.String,bytes16:P$4.String,bytes17:P$4.String,bytes18:P$4.String,bytes19:P$4.String,bytes20:P$4.String,bytes21:P$4.String,bytes22:P$4.String,bytes23:P$4.String,bytes24:P$4.String,bytes25:P$4.String,bytes26:P$4.String,bytes27:P$4.String,bytes28:P$4.String,bytes29:P$4.String,bytes30:P$4.String,bytes31:P$4.String,bytes32:P$4.String,bool:P$4.Boolean,address:P$4.String,"uint8[]":P$4.NumberArray,"uint16[]":P$4.NumberArray,"uint24[]":P$4.NumberArray,"uint32[]":P$4.NumberArray,"uint40[]":P$4.NumberArray,"uint48[]":P$4.NumberArray,"uint56[]":P$4.BigIntArray,"uint64[]":P$4.BigIntArray,"uint72[]":P$4.BigIntArray,"uint80[]":P$4.BigIntArray,"uint88[]":P$4.BigIntArray,"uint96[]":P$4.BigIntArray,"uint104[]":P$4.BigIntArray,"uint112[]":P$4.BigIntArray,"uint120[]":P$4.BigIntArray,"uint128[]":P$4.BigIntArray,"uint136[]":P$4.BigIntArray,"uint144[]":P$4.BigIntArray,"uint152[]":P$4.BigIntArray,"uint160[]":P$4.BigIntArray,"uint168[]":P$4.BigIntArray,"uint176[]":P$4.BigIntArray,"uint184[]":P$4.BigIntArray,"uint192[]":P$4.BigIntArray,"uint200[]":P$4.BigIntArray,"uint208[]":P$4.BigIntArray,"uint216[]":P$4.BigIntArray,"uint224[]":P$4.BigIntArray,"uint232[]":P$4.BigIntArray,"uint240[]":P$4.BigIntArray,"uint248[]":P$4.BigIntArray,"uint256[]":P$4.BigIntArray,"int8[]":P$4.NumberArray,"int16[]":P$4.NumberArray,"int24[]":P$4.NumberArray,"int32[]":P$4.NumberArray,"int40[]":P$4.NumberArray,"int48[]":P$4.NumberArray,"int56[]":P$4.BigIntArray,"int64[]":P$4.BigIntArray,"int72[]":P$4.BigIntArray,"int80[]":P$4.BigIntArray,"int88[]":P$4.BigIntArray,"int96[]":P$4.BigIntArray,"int104[]":P$4.BigIntArray,"int112[]":P$4.BigIntArray,"int120[]":P$4.BigIntArray,"int128[]":P$4.BigIntArray,"int136[]":P$4.BigIntArray,"int144[]":P$4.BigIntArray,"int152[]":P$4.BigIntArray,"int160[]":P$4.BigIntArray,"int168[]":P$4.BigIntArray,"int176[]":P$4.BigIntArray,"int184[]":P$4.BigIntArray,"int192[]":P$4.BigIntArray,"int200[]":P$4.BigIntArray,"int208[]":P$4.BigIntArray,"int216[]":P$4.BigIntArray,"int224[]":P$4.BigIntArray,"int232[]":P$4.BigIntArray,"int240[]":P$4.BigIntArray,"int248[]":P$4.BigIntArray,"int256[]":P$4.BigIntArray,"bytes1[]":P$4.StringArray,"bytes2[]":P$4.StringArray,"bytes3[]":P$4.StringArray,"bytes4[]":P$4.StringArray,"bytes5[]":P$4.StringArray,"bytes6[]":P$4.StringArray,"bytes7[]":P$4.StringArray,"bytes8[]":P$4.StringArray,"bytes9[]":P$4.StringArray,"bytes10[]":P$4.StringArray,"bytes11[]":P$4.StringArray,"bytes12[]":P$4.StringArray,"bytes13[]":P$4.StringArray,"bytes14[]":P$4.StringArray,"bytes15[]":P$4.StringArray,"bytes16[]":P$4.StringArray,"bytes17[]":P$4.StringArray,"bytes18[]":P$4.StringArray,"bytes19[]":P$4.StringArray,"bytes20[]":P$4.StringArray,"bytes21[]":P$4.StringArray,"bytes22[]":P$4.StringArray,"bytes23[]":P$4.StringArray,"bytes24[]":P$4.StringArray,"bytes25[]":P$4.StringArray,"bytes26[]":P$4.StringArray,"bytes27[]":P$4.StringArray,"bytes28[]":P$4.StringArray,"bytes29[]":P$4.StringArray,"bytes30[]":P$4.StringArray,"bytes31[]":P$4.StringArray,"bytes32[]":P$4.StringArray,"bool[]":P$4.T,"address[]":P$4.StringArray,bytes:P$4.String,string:P$4.String};function T(re,ee){return Object.fromEntries(Object.entries(ee.tables).map(([ne,oe])=>[ne,ie(re,{...Object.fromEntries(Object.entries(oe.valueSchema).map(([ae,he])=>[ae,V[he]])),__staticData:P$4.OptionalString,__encodedLengths:P$4.OptionalString,__dynamicData:P$4.OptionalString},{id:O$2({type:oe.offchainOnly?"offchainTable":"table",namespace:ee.namespace,name:ne}),metadata:{componentName:ne,tableName:`${ee.namespace}:${ne}`,keySchema:oe.keySchema,valueSchema:oe.valueSchema}})]))}var A=d([]);function M({world:re,config:ee,shouldSkipUpdateStream:ne}){re.registerEntity({id:A});let oe={...T(re,ee),...T(re,s$2),...T(re,a),...j(re)};async function ae({logs:he}){let pe=he.filter(T$1).map(V$1);for(let ge of pe){let ve=R(ge);le$1(oe.RegisteredTables,ve)?console.warn("table already registered, ignoring",{newTable:ge,existingTable:g$4(oe.RegisteredTables,ve)?.table}):E$2(oe.RegisteredTables,ve,{table:ge},{skipUpdateStream:ne?.()})}for(let ge of he){let{namespace:ve,name:we}=I(ge.args.tableId),Ee=g$4(oe.RegisteredTables,R({address:ge.address,namespace:ve,name:we}))?.table;if(!Ee){b(`skipping update for unknown table: ${ve}:${we} at ${ge.address}`);continue}let _e=re.components.find(Pe=>Pe.id===Ee.tableId);if(!_e){b(`skipping update for unknown component: ${Ee.tableId} (${Ee.namespace}:${Ee.name}). Available components: ${Object.keys(oe)}`);continue}let Te=d(ge.args.keyTuple);if(ge.eventName==="Store_SetRecord"){let Pe=zt(Ee.valueSchema,ge.args);b("setting component",{namespace:Ee.namespace,name:Ee.name,entity:Te,value:Pe}),E$2(_e,Te,{...Pe,__staticData:ge.args.staticData,__encodedLengths:ge.args.encodedLengths,__dynamicData:ge.args.dynamicData},{skipUpdateStream:ne?.()})}else if(ge.eventName==="Store_SpliceStaticData"){let Pe=g$4(_e,Te),Ae=Pe?.__staticData??"0x",Se=Pt(Ae,ge.args.start,size$2(ge.args.data),ge.args.data),Re=zt(Ee.valueSchema,{staticData:Se,encodedLengths:Pe?.__encodedLengths??"0x",dynamicData:Pe?.__dynamicData??"0x"});b("setting component via splice static",{namespace:Ee.namespace,name:Ee.name,entity:Te,previousStaticData:Ae,newStaticData:Se,previousValue:Pe,newValue:Re}),E$2(_e,Te,{...Re,__staticData:Se},{skipUpdateStream:ne?.()})}else if(ge.eventName==="Store_SpliceDynamicData"){let Pe=g$4(_e,Te),Ae=Pe?.__dynamicData??"0x",Se=Pt(Ae,ge.args.start,ge.args.deleteCount,ge.args.data),Re=zt(Ee.valueSchema,{staticData:Pe?.__staticData??"0x",encodedLengths:ge.args.encodedLengths,dynamicData:Se});b("setting component via splice dynamic",{namespace:Ee.namespace,name:Ee.name,entity:Te,previousDynamicData:Ae,newDynamicData:Se,previousValue:Pe,newValue:Re}),E$2(_e,Te,{...Re,__encodedLengths:ge.args.encodedLengths,__dynamicData:Se},{skipUpdateStream:ne?.()})}else ge.eventName==="Store_DeleteRecord"&&(b("deleting component",{namespace:Ee.namespace,name:Ee.name,entity:Te}),ue(_e,Te,{skipUpdateStream:ne?.()}))}}return{storageAdapter:ae,components:oe}}async function be({world:re,config:ee,address:ne,publicClient:oe,startBlock:ae,maxBlockRange:he,initialState:pe,indexerUrl:ge,startSync:ve=!0}){let{storageAdapter:we,components:Ee}=M({world:re,config:ee,shouldSkipUpdateStream:()=>g$4(Ee.SyncProgress,A)?.step!=="live"}),_e=await je({storageAdapter:we,config:ee,address:ne,publicClient:oe,startBlock:ae,maxBlockRange:he,indexerUrl:ge,initialState:pe,onProgress:({step:Ae,percentage:Se,latestBlockNumber:Re,lastBlockNumberProcessed:Ne,message:Me})=>{if(g$4(Ee.SyncProgress,A)?.step!=="live"&&(E$2(Ee.SyncProgress,A,{step:Ae,percentage:Se,latestBlockNumber:Re,lastBlockNumberProcessed:Ne,message:Me}),Ae==="live"))for(let Le of Object.values(Ee)){let qe=Le;for(let We of qe.entities()){let Qe=g$4(qe,We);qe.update$.next({component:qe,entity:We,value:[Qe,Qe]})}}}}),Te=ve?_e.storedBlockLogs$.subscribe():null,Pe=()=>{Te?.unsubscribe()};return re.registerDisposer(Pe),{..._e,components:Ee,stopSync:Pe}}function createSystemCalls({worldContract:re,waitForTransaction:ee},{Counter:ne,GameState:oe,Game:ae,IsPlayer:he,Player:pe,AssetsList:ge}){return{increment:async()=>{const Me=await re.write.increment();return await ee(Me),g$4(ne,A)},joinGame:async()=>{const Me=await re.write.joinGame();return await ee(Me),g$4(he,A)},askStart:async()=>{const Me=await re.write.askStart();return await ee(Me),g$4(oe,A)},move:async(Me,Le)=>{const qe=await re.write.move([Me,Le]);return await ee(qe),g$4(pe,A)},pickAsset:async Me=>{const Le=await re.write.pickAsset([Me]);return await ee(Le),g$4(ge,A)},pickFund:async()=>{const Me=await re.write.pickFund();await ee(Me)},trade:async(Me,Le,qe)=>{const We=await re.write.trade([Me,Le,qe]);return await ee(We)},acceptTrade:async()=>{const Me=await re.write.acceptTrade();return await ee(Me)},rejectTrade:async()=>{const Me=await re.write.rejectTrade();return await ee(Me)},finishGame:async()=>{const Me=await re.write.finishGame();return await ee(Me)}}}function formatAbiItem(re,{includeName:ee=!1}={}){if(re.type!=="function"&&re.type!=="event"&&re.type!=="error")throw new InvalidDefinitionTypeError(re.type);return`${re.name}(${formatAbiParams(re.inputs,{includeName:ee})})`}function formatAbiParams(re,{includeName:ee=!1}={}){return re?re.map(ne=>formatAbiParam(ne,{includeName:ee})).join(ee?", ":","):""}function formatAbiParam(re,{includeName:ee}){return re.type.startsWith("tuple")?`(${formatAbiParams(re.components,{includeName:ee})})${re.type.slice(5)}`:re.type+(ee&&re.name?` ${re.name}`:"")}function isHex(re,{strict:ee=!0}={}){return!re||typeof re!="string"?!1:ee?/^0x[0-9a-fA-F]*$/.test(re):re.startsWith("0x")}function size$1(re){return isHex(re,{strict:!1})?Math.ceil((re.length-2)/2):re.length}const version="1.5.4",getContractAddress=re=>re,getUrl=re=>re,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(ee,ne={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const oe=ne.cause instanceof BaseError?ne.cause.details:ne.cause?.message?ne.cause.message:ne.details,ae=ne.cause instanceof BaseError&&ne.cause.docsPath||ne.docsPath;this.message=[ee||"An error occurred.","",...ne.metaMessages?[...ne.metaMessages,""]:[],...ae?[`Docs: https://viem.sh${ae}.html${ne.docsSlug?`#${ne.docsSlug}`:""}`]:[],...oe?[`Details: ${oe}`]:[],`Version: ${this.version}`].join(`
`),ne.cause&&(this.cause=ne.cause),this.details=oe,this.docsPath=ae,this.metaMessages=ne.metaMessages,this.shortMessage=ee}walk(ee){return walk(this,ee)}}function walk(re,ee){return ee?.(re)?re:re&&typeof re=="object"&&"cause"in re?walk(re.cause,ee):ee?null:re}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:ee}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:ee}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:ee,params:ne,size:oe}){super([`Data size of ${oe} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ne,{includeName:!0})})`,`Data:   ${ee} (${oe} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ee,this.params=ne,this.size=oe}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:ee,givenLength:ne,type:oe}){super([`ABI encoding array length mismatch for type ${oe}.`,`Expected length: ${ee}`,`Given length: ${ne}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:ee,value:ne}){super(`Size of bytes "${ne}" (bytes${size$1(ne)}) does not match expected size (bytes${ee}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:ee,givenLength:ne}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${ee}`,`Given length (values): ${ne}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(ee,{docsPath:ne}){super([`Encoded error signature "${ee}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ee}.`].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=ee}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:ee}){super("Cannot extract event signature from empty topics.",{docsPath:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(ee,{docsPath:ne}){super([`Encoded event signature "${ee}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${ee}.`].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(ee,{docsPath:ne}={}){super([`Event ${ee?`"${ee}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(ee,{docsPath:ne}={}){super([`Function ${ee?`"${ee}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(ee,{docsPath:ne}){super([`Function "${ee}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:ee,givenSize:ne}){super(`Expected bytes${ee}, got bytes${ne}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:ee,data:ne,params:oe,size:ae}){super([`Data size of ${ae} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(oe,{includeName:!0})})`,`Data:   ${ne} (${ae} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=ee,this.data=ne,this.params=oe,this.size=ae}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:ee,param:ne}){super([`Expected a topic for indexed event parameter${ne.name?` "${ne.name}"`:""} on event "${formatAbiItem(ee,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=ee}}class InvalidAbiEncodingTypeError extends BaseError{constructor(ee,{docsPath:ne}){super([`Type "${ee}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(ee,{docsPath:ne}){super([`Type "${ee}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(ee){super([`Value "${ee}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(ee){super([`"${ee}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError{constructor(ee){super(`Filter type "${ee}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:ee,position:ne,size:oe}){super(`Slice ${ne==="start"?"starting":"ending"} at offset "${ee}" is out-of-bounds (size: ${oe}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:ee,targetSize:ne,type:oe}){super(`${oe.charAt(0).toUpperCase()}${oe.slice(1).toLowerCase()} size (${ee}) exceeds padding size (${ne}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(re,{dir:ee,size:ne=32}={}){return typeof re=="string"?padHex(re,{dir:ee,size:ne}):padBytes(re,{dir:ee,size:ne})}function padHex(re,{dir:ee,size:ne=32}={}){if(ne===null)return re;const oe=re.replace("0x","");if(oe.length>ne*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(oe.length/2),targetSize:ne,type:"hex"});return`0x${oe[ee==="right"?"padEnd":"padStart"](ne*2,"0")}`}function padBytes(re,{dir:ee,size:ne=32}={}){if(ne===null)return re;if(re.length>ne)throw new SizeExceedsPaddingSizeError({size:re.length,targetSize:ne,type:"bytes"});const oe=new Uint8Array(ne);for(let ae=0;ae<ne;ae++){const he=ee==="right";oe[he?ae:ne-ae-1]=re[he?ae:re.length-ae-1]}return oe}class IntegerOutOfRangeError extends BaseError{constructor({max:ee,min:ne,signed:oe,size:ae,value:he}){super(`Number "${he}" is not in safe ${ae?`${ae*8}-bit ${oe?"signed":"unsigned"} `:""}integer range ${ee?`(${ne} to ${ee})`:`(above ${ne})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(ee){super(`Hex value "${ee}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:ee,maxSize:ne}){super(`Size cannot exceed ${ne} bytes. Given size: ${ee} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(re,{dir:ee="left"}={}){let ne=typeof re=="string"?re.replace("0x",""):re,oe=0;for(let ae=0;ae<ne.length-1&&ne[ee==="left"?ae:ne.length-ae-1].toString()==="0";ae++)oe++;return ne=ee==="left"?ne.slice(oe):ne.slice(0,ne.length-oe),typeof re=="string"?(ne.length===1&&ee==="right"&&(ne=`${ne}0`),`0x${ne.length%2===1?`0${ne}`:ne}`):ne}function assertSize(re,{size:ee}){if(size$1(re)>ee)throw new SizeOverflowError({givenSize:size$1(re),maxSize:ee})}function hexToBigInt(re,ee={}){const{signed:ne}=ee;ee.size&&assertSize(re,{size:ee.size});const oe=BigInt(re);if(!ne)return oe;const ae=(re.length-2)/2,he=(1n<<BigInt(ae)*8n-1n)-1n;return oe<=he?oe:oe-BigInt(`0x${"f".padStart(ae*2,"f")}`)-1n}function hexToBool(re,ee={}){let ne=re;if(ee.size&&(assertSize(ne,{size:ee.size}),ne=trim(ne)),trim(ne)==="0x00")return!1;if(trim(ne)==="0x01")return!0;throw new InvalidHexBooleanError(ne)}function hexToNumber(re,ee={}){return Number(hexToBigInt(re,ee))}function hexToString(re,ee={}){let ne=hexToBytes(re);return ee.size&&(assertSize(ne,{size:ee.size}),ne=trim(ne,{dir:"right"})),new TextDecoder().decode(ne)}const hexes=Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function toHex(re,ee={}){return typeof re=="number"||typeof re=="bigint"?numberToHex(re,ee):typeof re=="string"?stringToHex(re,ee):typeof re=="boolean"?boolToHex(re,ee):bytesToHex(re,ee)}function boolToHex(re,ee={}){const ne=`0x${Number(re)}`;return typeof ee.size=="number"?(assertSize(ne,{size:ee.size}),pad(ne,{size:ee.size})):ne}function bytesToHex(re,ee={}){let ne="";for(let ae=0;ae<re.length;ae++)ne+=hexes[re[ae]];const oe=`0x${ne}`;return typeof ee.size=="number"?(assertSize(oe,{size:ee.size}),pad(oe,{dir:"right",size:ee.size})):oe}function numberToHex(re,ee={}){const{signed:ne,size:oe}=ee,ae=BigInt(re);let he;oe?ne?he=(1n<<BigInt(oe)*8n-1n)-1n:he=2n**(BigInt(oe)*8n)-1n:typeof re=="number"&&(he=BigInt(Number.MAX_SAFE_INTEGER));const pe=typeof he=="bigint"&&ne?-he-1n:0;if(he&&ae>he||ae<pe){const ve=typeof re=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:he?`${he}${ve}`:void 0,min:`${pe}${ve}`,signed:ne,size:oe,value:`${re}${ve}`})}const ge=`0x${(ne&&ae<0?(1n<<BigInt(oe*8))+BigInt(ae):ae).toString(16)}`;return oe?pad(ge,{size:oe}):ge}const encoder$1=new TextEncoder;function stringToHex(re,ee={}){const ne=encoder$1.encode(re);return bytesToHex(ne,ee)}const encoder=new TextEncoder;function toBytes$1(re,ee={}){return typeof re=="number"||typeof re=="bigint"?numberToBytes(re,ee):typeof re=="boolean"?boolToBytes(re,ee):isHex(re)?hexToBytes(re,ee):stringToBytes(re,ee)}function boolToBytes(re,ee={}){const ne=new Uint8Array(1);return ne[0]=Number(re),typeof ee.size=="number"?(assertSize(ne,{size:ee.size}),pad(ne,{size:ee.size})):ne}function hexToBytes(re,ee={}){let ne=re;ee.size&&(assertSize(ne,{size:ee.size}),ne=pad(ne,{dir:"right",size:ee.size}));let oe=ne.slice(2);oe.length%2&&(oe=`0${oe}`);const ae=new Uint8Array(oe.length/2);for(let he=0;he<ae.length;he++){const pe=he*2,ge=oe.slice(pe,pe+2),ve=Number.parseInt(ge,16);if(Number.isNaN(ve)||ve<0)throw new BaseError(`Invalid byte sequence ("${ge}" in "${oe}").`);ae[he]=ve}return ae}function numberToBytes(re,ee){const ne=numberToHex(re,ee);return hexToBytes(ne)}function stringToBytes(re,ee={}){const ne=encoder.encode(re);return typeof ee.size=="number"?(assertSize(ne,{size:ee.size}),pad(ne,{dir:"right",size:ee.size})):ne}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(re){const ee=re.match(paramsRegex),ne=ee?.[2]||void 0,oe=ee?.[3],ae=ee?.[5]||void 0;return{type:ne,name:oe,params:ae}}function extractFunctionName(re){return extractFunctionParts(re).name}function extractFunctionParams(re){return extractFunctionParts(re).params?.split(",").map(oe=>oe.trim().split(" "))?.map(oe=>({type:oe[0],name:oe[1]==="indexed"?oe[2]:oe[1],...oe[1]==="indexed"?{indexed:!0}:{}}))}function number(re){if(!Number.isSafeInteger(re)||re<0)throw new Error(`Wrong positive integer: ${re}`)}function bool(re){if(typeof re!="boolean")throw new Error(`Expected boolean, not ${re}`)}function bytes(re,...ee){if(!(re instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ee.length>0&&!ee.includes(re.length))throw new TypeError(`Expected Uint8Array of length ${ee}, not of length=${re.length}`)}function hash$1(re){if(typeof re!="function"||typeof re.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(re.outputLen),number(re.blockLen)}function exists(re,ee=!0){if(re.destroyed)throw new Error("Hash instance has been destroyed");if(ee&&re.finished)throw new Error("Hash#digest() has already been called")}function output(re,ee){bytes(re);const ne=ee.outputLen;if(re.length<ne)throw new Error(`digestInto() expects output buffer of length at least ${ne}`)}const assert={number,bool,bytes,hash:hash$1,exists,output},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(re,ee=!1){return ee?{h:Number(re&U32_MASK64),l:Number(re>>_32n&U32_MASK64)}:{h:Number(re>>_32n&U32_MASK64)|0,l:Number(re&U32_MASK64)|0}}function split(re,ee=!1){let ne=new Uint32Array(re.length),oe=new Uint32Array(re.length);for(let ae=0;ae<re.length;ae++){const{h:he,l:pe}=fromBig(re[ae],ee);[ne[ae],oe[ae]]=[he,pe]}return[ne,oe]}const toBig=(re,ee)=>BigInt(re>>>0)<<_32n|BigInt(ee>>>0),shrSH=(re,ee,ne)=>re>>>ne,shrSL=(re,ee,ne)=>re<<32-ne|ee>>>ne,rotrSH=(re,ee,ne)=>re>>>ne|ee<<32-ne,rotrSL=(re,ee,ne)=>re<<32-ne|ee>>>ne,rotrBH=(re,ee,ne)=>re<<64-ne|ee>>>ne-32,rotrBL=(re,ee,ne)=>re>>>ne-32|ee<<64-ne,rotr32H=(re,ee)=>ee,rotr32L=(re,ee)=>re,rotlSH=(re,ee,ne)=>re<<ne|ee>>>32-ne,rotlSL=(re,ee,ne)=>ee<<ne|re>>>32-ne,rotlBH=(re,ee,ne)=>ee<<ne-32|re>>>64-ne,rotlBL=(re,ee,ne)=>re<<ne-32|ee>>>64-ne;function add(re,ee,ne,oe){const ae=(ee>>>0)+(oe>>>0);return{h:re+ne+(ae/2**32|0)|0,l:ae|0}}const add3L=(re,ee,ne)=>(re>>>0)+(ee>>>0)+(ne>>>0),add3H=(re,ee,ne,oe)=>ee+ne+oe+(re/2**32|0)|0,add4L=(re,ee,ne,oe)=>(re>>>0)+(ee>>>0)+(ne>>>0)+(oe>>>0),add4H=(re,ee,ne,oe,ae)=>ee+ne+oe+ae+(re/2**32|0)|0,add5L=(re,ee,ne,oe,ae)=>(re>>>0)+(ee>>>0)+(ne>>>0)+(oe>>>0)+(ae>>>0),add5H=(re,ee,ne,oe,ae,he)=>ee+ne+oe+ae+he+(re/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=re=>new Uint32Array(re.buffer,re.byteOffset,Math.floor(re.byteLength/4)),isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function utf8ToBytes(re){if(typeof re!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof re}`);return new TextEncoder().encode(re)}function toBytes(re){if(typeof re=="string"&&(re=utf8ToBytes(re)),!(re instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof re})`);return re}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(re){const ee=oe=>re().update(toBytes(oe)).digest(),ne=re();return ee.outputLen=ne.outputLen,ee.blockLen=ne.blockLen,ee.create=()=>re(),ee}function wrapConstructorWithOpts(re){const ee=(oe,ae)=>re(ae).update(toBytes(oe)).digest(),ne=re({});return ee.outputLen=ne.outputLen,ee.blockLen=ne.blockLen,ee.create=oe=>re(oe),ee}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let re=0,ee=_1n,ne=1,oe=0;re<24;re++){[ne,oe]=[oe,(2*ne+3*oe)%5],SHA3_PI.push(2*(5*oe+ne)),SHA3_ROTL.push((re+1)*(re+2)/2%64);let ae=_0n;for(let he=0;he<7;he++)ee=(ee<<_1n^(ee>>_7n)*_0x71n)%_256n,ee&_2n&&(ae^=_1n<<(_1n<<BigInt(he))-_1n);_SHA3_IOTA.push(ae)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64.split(_SHA3_IOTA,!0),rotlH=(re,ee,ne)=>ne>32?u64.rotlBH(re,ee,ne):u64.rotlSH(re,ee,ne),rotlL=(re,ee,ne)=>ne>32?u64.rotlBL(re,ee,ne):u64.rotlSL(re,ee,ne);function keccakP(re,ee=24){const ne=new Uint32Array(10);for(let oe=24-ee;oe<24;oe++){for(let pe=0;pe<10;pe++)ne[pe]=re[pe]^re[pe+10]^re[pe+20]^re[pe+30]^re[pe+40];for(let pe=0;pe<10;pe+=2){const ge=(pe+8)%10,ve=(pe+2)%10,we=ne[ve],Ee=ne[ve+1],_e=rotlH(we,Ee,1)^ne[ge],Te=rotlL(we,Ee,1)^ne[ge+1];for(let Pe=0;Pe<50;Pe+=10)re[pe+Pe]^=_e,re[pe+Pe+1]^=Te}let ae=re[2],he=re[3];for(let pe=0;pe<24;pe++){const ge=SHA3_ROTL[pe],ve=rotlH(ae,he,ge),we=rotlL(ae,he,ge),Ee=SHA3_PI[pe];ae=re[Ee],he=re[Ee+1],re[Ee]=ve,re[Ee+1]=we}for(let pe=0;pe<50;pe+=10){for(let ge=0;ge<10;ge++)ne[ge]=re[pe+ge];for(let ge=0;ge<10;ge++)re[pe+ge]^=~ne[(ge+2)%10]&ne[(ge+4)%10]}re[0]^=SHA3_IOTA_H[oe],re[1]^=SHA3_IOTA_L[oe]}ne.fill(0)}class Keccak extends Hash{constructor(ee,ne,oe,ae=!1,he=24){if(super(),this.blockLen=ee,this.suffix=ne,this.outputLen=oe,this.enableXOF=ae,this.rounds=he,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert.number(oe),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(ee){assert.exists(this);const{blockLen:ne,state:oe}=this;ee=toBytes(ee);const ae=ee.length;for(let he=0;he<ae;){const pe=Math.min(ne-this.pos,ae-he);for(let ge=0;ge<pe;ge++)oe[this.pos++]^=ee[he++];this.pos===ne&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:ee,suffix:ne,pos:oe,blockLen:ae}=this;ee[oe]^=ne,ne&128&&oe===ae-1&&this.keccak(),ee[ae-1]^=128,this.keccak()}writeInto(ee){assert.exists(this,!1),assert.bytes(ee),this.finish();const ne=this.state,{blockLen:oe}=this;for(let ae=0,he=ee.length;ae<he;){this.posOut>=oe&&this.keccak();const pe=Math.min(oe-this.posOut,he-ae);ee.set(ne.subarray(this.posOut,this.posOut+pe),ae),this.posOut+=pe,ae+=pe}return ee}xofInto(ee){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(ee)}xof(ee){return assert.number(ee),this.xofInto(new Uint8Array(ee))}digestInto(ee){if(assert.output(ee,this),this.finished)throw new Error("digest() was already called");return this.writeInto(ee),this.destroy(),ee}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(ee){const{blockLen:ne,suffix:oe,outputLen:ae,rounds:he,enableXOF:pe}=this;return ee||(ee=new Keccak(ne,oe,ae,pe,he)),ee.state32.set(this.state32),ee.pos=this.pos,ee.posOut=this.posOut,ee.finished=this.finished,ee.rounds=he,ee.suffix=oe,ee.outputLen=ae,ee.enableXOF=pe,ee.destroyed=this.destroyed,ee}}const gen=(re,ee,ne)=>wrapConstructor(()=>new Keccak(ee,re,ne));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(re,ee,ne)=>wrapConstructorWithOpts((oe={})=>new Keccak(ee,re,oe.dkLen===void 0?ne:oe.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);function keccak256(re,ee){const ne=ee||"hex",oe=keccak_256(isHex(re,{strict:!1})?toBytes$1(re):re);return ne==="bytes"?oe:toHex(oe)}const hash=re=>keccak256(toBytes$1(re));function hashFunction(re){const ee=extractFunctionName(re),ne=extractFunctionParams(re)||[];return hash(`${ee}(${ne.map(({type:oe})=>oe).join(",")})`)}function hashAbiItem(re){return hash(formatAbiItem(re))}const getEventSelector=re=>typeof re=="string"?hashFunction(re):hashAbiItem(re);class InvalidAddressError extends BaseError{constructor({address:ee}){super(`Address "${ee}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(re){return addressRegex.test(re)}function concat(re){return typeof re[0]=="string"?concatHex(re):concatBytes(re)}function concatBytes(re){let ee=0;for(const ae of re)ee+=ae.length;const ne=new Uint8Array(ee);let oe=0;for(const ae of re)ne.set(ae,oe),oe+=ae.length;return ne}function concatHex(re){return`0x${re.reduce((ee,ne)=>ee+ne.replace("0x",""),"")}`}function slice(re,ee,ne,{strict:oe}={}){return isHex(re,{strict:!1})?sliceHex(re,ee,ne,{strict:oe}):sliceBytes(re,ee,ne,{strict:oe})}function assertStartOffset(re,ee){if(typeof ee=="number"&&ee>0&&ee>size$1(re)-1)throw new SliceOffsetOutOfBoundsError({offset:ee,position:"start",size:size$1(re)})}function assertEndOffset(re,ee,ne){if(typeof ee=="number"&&typeof ne=="number"&&size$1(re)!==ne-ee)throw new SliceOffsetOutOfBoundsError({offset:ne,position:"end",size:size$1(re)})}function sliceBytes(re,ee,ne,{strict:oe}={}){assertStartOffset(re,ee);const ae=re.slice(ee,ne);return oe&&assertEndOffset(ae,ee,ne),ae}function sliceHex(re,ee,ne,{strict:oe}={}){assertStartOffset(re,ee);const ae=`0x${re.replace("0x","").slice((ee??0)*2,(ne??re.length)*2)}`;return oe&&assertEndOffset(ae,ee,ne),ae}function encodeAbiParameters(re,ee){if(re.length!==ee.length)throw new AbiEncodingLengthMismatchError({expectedLength:re.length,givenLength:ee.length});const ne=prepareParams({params:re,values:ee}),oe=encodeParams(ne);return oe.length===0?"0x":oe}function prepareParams({params:re,values:ee}){const ne=[];for(let oe=0;oe<re.length;oe++)ne.push(prepareParam({param:re[oe],value:ee[oe]}));return ne}function prepareParam({param:re,value:ee}){const ne=getArrayComponents(re.type);if(ne){const[oe,ae]=ne;return encodeArray(ee,{length:oe,param:{...re,type:ae}})}if(re.type==="tuple")return encodeTuple(ee,{param:re});if(re.type==="address")return encodeAddress(ee);if(re.type==="bool")return encodeBool(ee);if(re.type.startsWith("uint")||re.type.startsWith("int")){const oe=re.type.startsWith("int");return encodeNumber(ee,{signed:oe})}if(re.type.startsWith("bytes"))return encodeBytes(ee,{param:re});if(re.type==="string")return encodeString(ee);throw new InvalidAbiEncodingTypeError(re.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(re){let ee=0;for(let he=0;he<re.length;he++){const{dynamic:pe,encoded:ge}=re[he];pe?ee+=32:ee+=size$1(ge)}const ne=[],oe=[];let ae=0;for(let he=0;he<re.length;he++){const{dynamic:pe,encoded:ge}=re[he];pe?(ne.push(numberToHex(ee+ae,{size:32})),oe.push(ge),ae+=size$1(ge)):ne.push(ge)}return concat([...ne,...oe])}function encodeAddress(re){if(!isAddress(re))throw new InvalidAddressError({address:re});return{dynamic:!1,encoded:padHex(re.toLowerCase())}}function encodeArray(re,{length:ee,param:ne}){const oe=ee===null;if(!Array.isArray(re))throw new InvalidArrayError(re);if(!oe&&re.length!==ee)throw new AbiEncodingArrayLengthMismatchError({expectedLength:ee,givenLength:re.length,type:`${ne.type}[${ee}]`});let ae=!1;const he=[];for(let pe=0;pe<re.length;pe++){const ge=prepareParam({param:ne,value:re[pe]});ge.dynamic&&(ae=!0),he.push(ge)}if(oe||ae){const pe=encodeParams(he);if(oe){const ge=numberToHex(he.length,{size:32});return{dynamic:!0,encoded:he.length>0?concat([ge,pe]):ge}}if(ae)return{dynamic:!0,encoded:pe}}return{dynamic:!1,encoded:concat(he.map(({encoded:pe})=>pe))}}function encodeBytes(re,{param:ee}){const[,ne]=ee.type.split("bytes"),oe=size$1(re);if(!ne){let ae=re;return oe%32!==0&&(ae=padHex(ae,{dir:"right",size:Math.ceil((re.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(oe,{size:32})),ae])}}if(oe!==parseInt(ne))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(ne),value:re});return{dynamic:!1,encoded:padHex(re,{dir:"right"})}}function encodeBool(re){return{dynamic:!1,encoded:padHex(boolToHex(re))}}function encodeNumber(re,{signed:ee}){return{dynamic:!1,encoded:numberToHex(re,{size:32,signed:ee})}}function encodeString(re){const ee=stringToHex(re),ne=Math.ceil(size$1(ee)/32),oe=[];for(let ae=0;ae<ne;ae++)oe.push(padHex(slice(ee,ae*32,(ae+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(ee),{size:32})),...oe])}}function encodeTuple(re,{param:ee}){let ne=!1;const oe=[];for(let ae=0;ae<ee.components.length;ae++){const he=ee.components[ae],pe=Array.isArray(re)?ae:he.name,ge=prepareParam({param:he,value:re[pe]});oe.push(ge),ge.dynamic&&(ne=!0)}return{dynamic:ne,encoded:ne?encodeParams(oe):concat(oe.map(({encoded:ae})=>ae))}}function getArrayComponents(re){const ee=re.match(/^(.*)\[(\d+)?\]$/);return ee?[ee[2]?Number(ee[2]):null,ee[1]]:void 0}function getAbiItem({abi:re,args:ee=[],name:ne}){const oe=re.filter(ae=>"name"in ae&&ae.name===ne);if(oe.length!==0){if(oe.length===1)return oe[0];for(const ae of oe){if(!("inputs"in ae))continue;if(!ee||ee.length===0){if(!ae.inputs||ae.inputs.length===0)return ae;continue}if(!ae.inputs||ae.inputs.length===0||ae.inputs.length!==ee.length)continue;if(ee.every((pe,ge)=>{const ve="inputs"in ae&&ae.inputs[ge];return ve?isArgOfType(pe,ve):!1}))return ae}return oe[0]}}function isArgOfType(re,ee){const ne=typeof re,oe=ee.type;switch(oe){case"address":return isAddress(re);case"bool":return ne==="boolean";case"function":return ne==="string";case"string":return ne==="string";default:return oe==="tuple"&&"components"in ee?Object.values(ee.components).every((ae,he)=>isArgOfType(Object.values(re)[he],ae)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(oe)?ne==="number"||ne==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(oe)?ne==="string"||re instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(oe)?Array.isArray(re)&&re.every(ae=>isArgOfType(ae,{...ee,type:oe.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:re,eventName:ee,args:ne}){let oe=re[0];if(ee&&(oe=getAbiItem({abi:re,args:ne,name:ee}),!oe))throw new AbiEventNotFoundError(ee,{docsPath:"/docs/contract/encodeEventTopics"});if(oe.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const ae=formatAbiItem(oe),he=getEventSelector(ae);let pe=[];if(ne&&"inputs"in oe){const ge=oe.inputs?.filter(we=>"indexed"in we&&we.indexed),ve=Array.isArray(ne)?ne:Object.values(ne).length>0?ge?.map(we=>ne[we.name])??[]:[];ve.length>0&&(pe=ge?.map((we,Ee)=>Array.isArray(ve[Ee])?ve[Ee].map((_e,Te)=>encodeArg({param:we,value:ve[Ee][Te]})):ve[Ee]?encodeArg({param:we,value:ve[Ee]}):null)??[])}return[he,...pe]}function encodeArg({param:re,value:ee}){if(re.type==="string"||re.type==="bytes")return keccak256(toBytes$1(ee));if(re.type==="tuple"||re.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(re.type);return encodeAbiParameters([re],[ee])}function createFilterRequestScope(re,{method:ee}){const ne={};return re.transport.type==="fallback"&&re.transport.onResponse?.(({method:oe,response:ae,status:he,transport:pe})=>{he==="success"&&ee===oe&&(ne[ae]=pe.request)}),oe=>ne[oe]||re.request}async function createContractEventFilter(re,{address:ee,abi:ne,args:oe,eventName:ae,fromBlock:he,strict:pe,toBlock:ge}){const ve=createFilterRequestScope(re,{method:"eth_newFilter"}),we=ae?encodeEventTopics({abi:ne,args:oe,eventName:ae}):void 0,Ee=await re.request({method:"eth_newFilter",params:[{address:ee,fromBlock:typeof he=="bigint"?numberToHex(he):he,toBlock:typeof ge=="bigint"?numberToHex(ge):ge,topics:we}]});return{abi:ne,args:oe,eventName:ae,id:Ee,request:ve(Ee),strict:pe,type:"event"}}function parseAccount(re){return typeof re=="string"?{address:re,type:"json-rpc"}:re}const getFunctionSelector=re=>slice(typeof re=="string"?hashFunction(re):hashAbiItem(re),0,4);function encodeFunctionData({abi:re,args:ee,functionName:ne}){let oe=re[0];if(ne&&(oe=getAbiItem({abi:re,args:ee,name:ne}),!oe))throw new AbiFunctionNotFoundError(ne,{docsPath:"/docs/contract/encodeFunctionData"});if(oe.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const ae=formatAbiItem(oe),he=getFunctionSelector(ae),pe="inputs"in oe&&oe.inputs?encodeAbiParameters(oe.inputs,ee??[]):void 0;return concatHex([he,pe??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(re,ee){const ne=ee?`${ee}${re.toLowerCase()}`:re.substring(2).toLowerCase(),oe=keccak256(stringToBytes(ne),"bytes"),ae=(ee?ne.substring(`${ee}0x`.length):ne).split("");for(let he=0;he<40;he+=2)oe[he>>1]>>4>=8&&ae[he]&&(ae[he]=ae[he].toUpperCase()),(oe[he>>1]&15)>=8&&ae[he+1]&&(ae[he+1]=ae[he+1].toUpperCase());return`0x${ae.join("")}`}function getAddress(re,ee){if(!isAddress(re))throw new InvalidAddressError({address:re});return checksumAddress(re,ee)}function decodeAbiParameters(re,ee){if(ee==="0x"&&re.length>0)throw new AbiDecodingZeroDataError;if(size$1(ee)&&size$1(ee)<32)throw new AbiDecodingDataSizeTooSmallError({data:ee,params:re,size:size$1(ee)});return decodeParams({data:ee,params:re})}function decodeParams({data:re,params:ee}){const ne=[];let oe=0;for(let ae=0;ae<ee.length;ae++){if(oe>=size$1(re))throw new AbiDecodingDataSizeTooSmallError({data:re,params:ee,size:size$1(re)});const he=ee[ae],{consumed:pe,value:ge}=decodeParam({data:re,param:he,position:oe});ne.push(ge),oe+=pe}return ne}function decodeParam({data:re,param:ee,position:ne}){const oe=getArrayComponents(ee.type);if(oe){const[he,pe]=oe;return decodeArray(re,{length:he,param:{...ee,type:pe},position:ne})}if(ee.type==="tuple")return decodeTuple(re,{param:ee,position:ne});if(ee.type==="string")return decodeString(re,{position:ne});if(ee.type.startsWith("bytes"))return decodeBytes(re,{param:ee,position:ne});const ae=slice(re,ne,ne+32,{strict:!0});if(ee.type.startsWith("uint")||ee.type.startsWith("int"))return decodeNumber(ae,{param:ee});if(ee.type==="address")return decodeAddress(ae);if(ee.type==="bool")return decodeBool(ae);throw new InvalidAbiDecodingTypeError(ee.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(re){return{consumed:32,value:checksumAddress(slice(re,-20))}}function decodeArray(re,{param:ee,length:ne,position:oe}){if(!ne){const pe=hexToNumber(slice(re,oe,oe+32,{strict:!0})),ge=hexToNumber(slice(re,pe,pe+32,{strict:!0}));let ve=0;const we=[];for(let Ee=0;Ee<ge;++Ee){const _e=decodeParam({data:slice(re,pe+32),param:ee,position:ve});ve+=_e.consumed,we.push(_e.value)}return{value:we,consumed:32}}if(hasDynamicChild(ee)){const ge=!getArrayComponents(ee.type)?.[0];let ve=0;const we=[];for(let Ee=0;Ee<ne;++Ee){const _e=hexToNumber(slice(re,oe,oe+32,{strict:!0})),Te=decodeParam({data:slice(re,_e),param:ee,position:ge?ve:Ee*32});ve+=Te.consumed,we.push(Te.value)}return{value:we,consumed:32}}let ae=0;const he=[];for(let pe=0;pe<ne;++pe){const ge=decodeParam({data:re,param:ee,position:oe+ae});ae+=ge.consumed,he.push(ge.value)}return{value:he,consumed:ae}}function decodeBool(re){return{consumed:32,value:hexToBool(re)}}function decodeBytes(re,{param:ee,position:ne}){const[oe,ae]=ee.type.split("bytes");if(!ae){const pe=hexToNumber(slice(re,ne,ne+32,{strict:!0})),ge=hexToNumber(slice(re,pe,pe+32,{strict:!0}));return ge===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(re,pe+32,pe+32+ge,{strict:!0})}}return{consumed:32,value:slice(re,ne,ne+parseInt(ae),{strict:!0})}}function decodeNumber(re,{param:ee}){const ne=ee.type.startsWith("int");return{consumed:32,value:parseInt(ee.type.split("int")[1]||"256")>48?hexToBigInt(re,{signed:ne}):hexToNumber(re,{signed:ne})}}function decodeString(re,{position:ee}){const ne=hexToNumber(slice(re,ee,ee+32,{strict:!0})),oe=hexToNumber(slice(re,ne,ne+32,{strict:!0}));return oe===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(re,ne+32,ne+32+oe,{strict:!0})))}}function decodeTuple(re,{param:ee,position:ne}){const oe=ee.components.length===0||ee.components.some(({name:pe})=>!pe),ae=oe?[]:{};let he=0;if(hasDynamicChild(ee)){const pe=hexToNumber(slice(re,ne,ne+32,{strict:!0}));for(let ge=0;ge<ee.components.length;++ge){const ve=ee.components[ge],we=decodeParam({data:slice(re,pe),param:ve,position:he});he+=we.consumed,ae[oe?ge:ve?.name]=we.value}return{consumed:32,value:ae}}for(let pe=0;pe<ee.components.length;++pe){const ge=ee.components[pe],ve=decodeParam({data:re,param:ge,position:ne+he});he+=ve.consumed,ae[oe?pe:ge?.name]=ve.value}return{consumed:he,value:ae}}function hasDynamicChild(re){const{type:ee}=re;if(ee==="string"||ee==="bytes"||ee.endsWith("[]"))return!0;if(ee==="tuple")return re.components?.some(hasDynamicChild);const ne=getArrayComponents(re.type);return!!(ne&&hasDynamicChild({...re,type:ne[1]}))}function decodeErrorResult({abi:re,data:ee}){const ne=slice(ee,0,4);if(ne==="0x")throw new AbiDecodingZeroDataError;const ae=[...re||[],solidityError,solidityPanic].find(he=>he.type==="error"&&ne===getFunctionSelector(formatAbiItem(he)));if(!ae)throw new AbiErrorSignatureNotFoundError(ne,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:ae,args:"inputs"in ae&&ae.inputs&&ae.inputs.length>0?decodeAbiParameters(ae.inputs,slice(ee,4)):void 0,errorName:ae.name}}const stringify=(re,ee,ne)=>JSON.stringify(re,(oe,ae)=>{const he=typeof ae=="bigint"?ae.toString():ae;return typeof ee=="function"?ee(oe,he):he},ne);function formatAbiItemWithArgs({abiItem:re,args:ee,includeFunctionName:ne=!0,includeName:oe=!1}){if("name"in re&&"inputs"in re&&re.inputs)return`${ne?re.name:""}(${re.inputs.map((ae,he)=>`${oe&&ae.name?`${ae.name}: `:""}${typeof ee[he]=="object"?stringify(ee[he]):ee[he]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(re,ee){let ne=re.toString();const oe=ne.startsWith("-");oe&&(ne=ne.slice(1)),ne=ne.padStart(ee,"0");let[ae,he]=[ne.slice(0,ne.length-ee),ne.slice(ne.length-ee)];return he=he.replace(/(0+)$/,""),`${oe?"-":""}${ae||"0"}${he?`.${he}`:""}`}function formatEther(re,ee="wei"){return formatUnits(re,etherUnits[ee])}function formatGwei(re,ee="wei"){return formatUnits(re,gweiUnits[ee])}function prettyPrint(re){const ee=Object.entries(re).map(([oe,ae])=>ae===void 0||ae===!1?null:[oe,ae]).filter(Boolean),ne=ee.reduce((oe,[ae])=>Math.max(oe,ae.length),0);return ee.map(([oe,ae])=>`  ${`${oe}:`.padEnd(ne+1)}  ${ae}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class TransactionExecutionError extends BaseError{constructor(ee,{account:ne,docsPath:oe,chain:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te}){const Pe=prettyPrint({chain:ae&&`${ae?.name} (id: ${ae?.id})`,from:ne?.address,to:_e,value:typeof Te<"u"&&`${formatEther(Te)} ${ae?.nativeCurrency.symbol||"ETH"}`,data:he,gas:pe,gasPrice:typeof ge<"u"&&`${formatGwei(ge)} gwei`,maxFeePerGas:typeof ve<"u"&&`${formatGwei(ve)} gwei`,maxPriorityFeePerGas:typeof we<"u"&&`${formatGwei(we)} gwei`,nonce:Ee});super(ee.shortMessage,{cause:ee,docsPath:oe,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Request Arguments:",Pe].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=ee}}class TransactionNotFoundError extends BaseError{constructor({blockHash:ee,blockNumber:ne,blockTag:oe,hash:ae,index:he}){let pe="Transaction";oe&&he!==void 0&&(pe=`Transaction at block time "${oe}" at index "${he}"`),ee&&he!==void 0&&(pe=`Transaction at block hash "${ee}" at index "${he}"`),ne&&he!==void 0&&(pe=`Transaction at block number "${ne}" at index "${he}"`),ae&&(pe=`Transaction with hash "${ae}"`),super(`${pe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:ee}){super(`Transaction receipt with hash "${ee}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:ee}){super(`Timed out while waiting for transaction with hash "${ee}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(ee,{account:ne,docsPath:oe,chain:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te}){const Pe=ne?parseAccount(ne):void 0,Ae=prettyPrint({from:Pe?.address,to:_e,value:typeof Te<"u"&&`${formatEther(Te)} ${ae?.nativeCurrency.symbol||"ETH"}`,data:he,gas:pe,gasPrice:typeof ge<"u"&&`${formatGwei(ge)} gwei`,maxFeePerGas:typeof ve<"u"&&`${formatGwei(ve)} gwei`,maxPriorityFeePerGas:typeof we<"u"&&`${formatGwei(we)} gwei`,nonce:Ee});super(ee.shortMessage,{cause:ee,docsPath:oe,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Raw Call Arguments:",Ae].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=ee}}class ContractFunctionExecutionError extends BaseError{constructor(ee,{abi:ne,args:oe,contractAddress:ae,docsPath:he,functionName:pe,sender:ge}){const ve=getAbiItem({abi:ne,args:oe,name:pe}),we=ve?formatAbiItemWithArgs({abiItem:ve,args:oe,includeFunctionName:!1,includeName:!1}):void 0,Ee=ve?formatAbiItem(ve,{includeName:!0}):void 0,_e=prettyPrint({address:ae&&getContractAddress(ae),function:Ee,args:we&&we!=="()"&&`${[...Array(pe?.length??0).keys()].map(()=>" ").join("")}${we}`,sender:ge});super(ee.shortMessage||`An unknown error occurred while executing the contract function "${pe}".`,{cause:ee,docsPath:he,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Contract Call:",_e].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=ne,this.args=oe,this.cause=ee,this.contractAddress=ae,this.functionName=pe,this.sender=ge}}class ContractFunctionRevertedError extends BaseError{constructor({abi:ee,data:ne,functionName:oe,message:ae}){let he,pe,ge,ve;if(ne&&ne!=="0x")try{pe=decodeErrorResult({abi:ee,data:ne});const{abiItem:Ee,errorName:_e,args:Te}=pe;if(_e==="Error")ve=Te[0];else if(_e==="Panic"){const[Pe]=Te;ve=panicReasons[Pe]}else{const Pe=Ee?formatAbiItem(Ee,{includeName:!0}):void 0,Ae=Ee&&Te?formatAbiItemWithArgs({abiItem:Ee,args:Te,includeFunctionName:!1,includeName:!1}):void 0;ge=[Pe?`Error: ${Pe}`:"",Ae&&Ae!=="()"?`       ${[...Array(_e?.length??0).keys()].map(()=>" ").join("")}${Ae}`:""]}}catch(Ee){he=Ee}else ae&&(ve=ae);let we;he instanceof AbiErrorSignatureNotFoundError&&(we=he.signature,ge=[`Unable to decode signature "${we}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${we}.`]),super(ve&&ve!=="execution reverted"||we?[`The contract function "${oe}" reverted with the following ${we?"signature":"reason"}:`,ve||we].join(`
`):`The contract function "${oe}" reverted.`,{cause:he,metaMessages:ge}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=pe,this.reason=ve,this.signature=we}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:ee}){super(`The contract function "${ee}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${ee}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:ee,message:ne}){super(ne||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ee}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(re,{abi:ee,address:ne,args:oe,docsPath:ae,functionName:he,sender:pe}){const{code:ge,data:ve,message:we,shortMessage:Ee}=re instanceof RawContractError?re:re instanceof BaseError?re.walk(Te=>"data"in Te)||re.walk():{};let _e=re;return re instanceof AbiDecodingZeroDataError?_e=new ContractFunctionZeroDataError({functionName:he}):ge===EXECUTION_REVERTED_ERROR_CODE&&(ve||we||Ee)&&(_e=new ContractFunctionRevertedError({abi:ee,data:typeof ve=="object"?ve.data:ve,functionName:he,message:Ee??we})),new ContractFunctionExecutionError(_e,{abi:ee,args:oe,contractAddress:ne,docsPath:ae,functionName:he,sender:pe})}class AccountNotFoundError extends BaseError{constructor({docsPath:ee}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:ee,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(ee,{account:ne,docsPath:oe,chain:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te}){const Pe=prettyPrint({from:ne?.address,to:_e,value:typeof Te<"u"&&`${formatEther(Te)} ${ae?.nativeCurrency.symbol||"ETH"}`,data:he,gas:pe,gasPrice:typeof ge<"u"&&`${formatGwei(ge)} gwei`,maxFeePerGas:typeof ve<"u"&&`${formatGwei(ve)} gwei`,maxPriorityFeePerGas:typeof we<"u"&&`${formatGwei(we)} gwei`,nonce:Ee});super(ee.shortMessage,{cause:ee,docsPath:oe,metaMessages:[...ee.metaMessages?[...ee.metaMessages," "]:[],"Estimate Gas Arguments:",Pe].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=ee}}class ExecutionRevertedError extends BaseError{constructor({cause:ee,message:ne}={}){const oe=ne?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${oe?`with reason: ${oe}`:"for an unknown reason"}.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:ee,maxFeePerGas:ne}={}){super(`The fee cap (\`maxFeePerGas\`${ne?` = ${formatGwei(ne)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:ee,maxFeePerGas:ne}={}){super(`The fee cap (\`maxFeePerGas\`${ne?` = ${formatGwei(ne)}`:""} gwei) cannot be lower than the block base fee.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:ee,nonce:ne}={}){super(`Nonce provided for the transaction ${ne?`(${ne}) `:""}is higher than the next one expected.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:ee,nonce:ne}={}){super([`Nonce provided for the transaction ${ne?`(${ne}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:ee,nonce:ne}={}){super(`Nonce provided for the transaction ${ne?`(${ne}) `:""}exceeds the maximum allowed nonce.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:ee}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:ee,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:ee,gas:ne}={}){super(`The amount of gas ${ne?`(${ne}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:ee,gas:ne}={}){super(`The amount of gas ${ne?`(${ne}) `:""}provided for the transaction is too low.`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:ee}){super("The transaction type is not supported for this chain.",{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:ee,maxPriorityFeePerGas:ne,maxFeePerGas:oe}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${ne?` = ${formatGwei(ne)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${oe?` = ${formatGwei(oe)} gwei`:""}).`].join(`
`),{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:ee}){super(`An error occurred while executing: ${ee?.message}`,{cause:ee}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class HttpRequestError extends BaseError{constructor({body:ee,details:ne,headers:oe,status:ae,url:he}){super("HTTP request failed.",{details:ne,metaMessages:[ae&&`Status: ${ae}`,`URL: ${getUrl(he)}`,ee&&`Request body: ${stringify(ee)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=ee,this.headers=oe,this.status=ae,this.url=he}}class WebSocketRequestError extends BaseError{constructor({body:ee,details:ne,url:oe}){super("WebSocket request failed.",{details:ne,metaMessages:[`URL: ${getUrl(oe)}`,`Request body: ${stringify(ee)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:ee,error:ne,url:oe}){super("RPC Request failed.",{cause:ne,details:ne.message,metaMessages:[`URL: ${getUrl(oe)}`,`Request body: ${stringify(ee)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=ne.code}}class TimeoutError extends BaseError{constructor({body:ee,url:ne}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl(ne)}`,`Request body: ${stringify(ee)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(ee,{code:ne,docsPath:oe,metaMessages:ae,shortMessage:he}){super(he,{cause:ee,docsPath:oe,metaMessages:ae||ee?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=ee.name,this.code=ee instanceof RpcRequestError?ee.code:ne??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(ee,ne){super(ee,ne),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ne.data}}class ParseRpcError extends RpcError{constructor(ee){super(ee,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(ee){super(ee,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(ee){super(ee,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(ee){super(ee,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(ee){super(ee,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(ee){super(ee,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(ee){super(ee,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(ee){super(ee,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(ee){super(ee,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(ee){super(ee,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(ee){super(ee,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(ee){super(ee,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(ee){super(ee,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(ee){super(ee,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(ee){super(ee,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(ee){super(ee,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(ee){super(ee,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(ee){super(ee,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(ee){super(ee,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function containsNodeError(re){return re instanceof TransactionRejectedRpcError||re instanceof InvalidInputRpcError||re instanceof RpcRequestError&&re.code===ExecutionRevertedError.code}function getNodeError(re,ee){const ne=re.details.toLowerCase();return FeeCapTooHighError.nodeMessage.test(ne)?new FeeCapTooHighError({cause:re,maxFeePerGas:ee?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(ne)?new FeeCapTooLowError({cause:re,maxFeePerGas:ee?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(ne)?new NonceTooHighError({cause:re,nonce:ee?.nonce}):NonceTooLowError.nodeMessage.test(ne)?new NonceTooLowError({cause:re,nonce:ee?.nonce}):NonceMaxValueError.nodeMessage.test(ne)?new NonceMaxValueError({cause:re,nonce:ee?.nonce}):InsufficientFundsError.nodeMessage.test(ne)?new InsufficientFundsError({cause:re}):IntrinsicGasTooHighError.nodeMessage.test(ne)?new IntrinsicGasTooHighError({cause:re,gas:ee?.gas}):IntrinsicGasTooLowError.nodeMessage.test(ne)?new IntrinsicGasTooLowError({cause:re,gas:ee?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(ne)?new TransactionTypeNotSupportedError({cause:re}):TipAboveFeeCapError.nodeMessage.test(ne)?new TipAboveFeeCapError({cause:re,maxFeePerGas:ee?.maxFeePerGas,maxPriorityFeePerGas:ee?.maxPriorityFeePerGas}):ne.match(ExecutionRevertedError.nodeMessage)||"code"in re.cause&&re.cause?.code===ExecutionRevertedError.code?new ExecutionRevertedError({cause:re,message:re.cause.details||re.details}):new UnknownNodeError({cause:re.cause.cause})}function getEstimateGasError(re,{docsPath:ee,...ne}){let oe=re;return containsNodeError(re)&&(oe=getNodeError(re,ne)),new EstimateGasExecutionError(oe,{docsPath:ee,...ne})}function extract(re,{format:ee}){return ee?Object.keys(ee({})).reduce((oe,ae)=>(re?.hasOwnProperty(ae)&&(oe[ae]=re[ae]),oe),{}):{}}function formatTransactionRequest(re){return{...re,gas:typeof re.gas<"u"?numberToHex(re.gas):void 0,gasPrice:typeof re.gasPrice<"u"?numberToHex(re.gasPrice):void 0,maxFeePerGas:typeof re.maxFeePerGas<"u"?numberToHex(re.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof re.maxPriorityFeePerGas<"u"?numberToHex(re.maxPriorityFeePerGas):void 0,nonce:typeof re.nonce<"u"?numberToHex(re.nonce):void 0,value:typeof re.value<"u"?numberToHex(re.value):void 0}}function assertRequest(re){const{account:ee,gasPrice:ne,maxFeePerGas:oe,maxPriorityFeePerGas:ae,to:he}=re,pe=ee?parseAccount(ee):void 0;if(pe&&!isAddress(pe.address))throw new InvalidAddressError({address:pe.address});if(he&&!isAddress(he))throw new InvalidAddressError({address:he});if(typeof ne<"u"&&(typeof oe<"u"||typeof ae<"u"))throw new FeeConflictError;if(oe&&oe>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:oe});if(ae&&oe&&ae>oe)throw new TipAboveFeeCapError({maxFeePerGas:oe,maxPriorityFeePerGas:ae})}class BlockNotFoundError extends BaseError{constructor({blockHash:ee,blockNumber:ne}){let oe="Block";ee&&(oe=`Block at hash "${ee}"`),ne&&(oe=`Block at number "${ne}"`),super(`${oe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(re){const ee={...re,blockHash:re.blockHash?re.blockHash:null,blockNumber:re.blockNumber?BigInt(re.blockNumber):null,chainId:re.chainId?hexToNumber(re.chainId):void 0,gas:re.gas?BigInt(re.gas):void 0,gasPrice:re.gasPrice?BigInt(re.gasPrice):void 0,maxFeePerGas:re.maxFeePerGas?BigInt(re.maxFeePerGas):void 0,maxPriorityFeePerGas:re.maxPriorityFeePerGas?BigInt(re.maxPriorityFeePerGas):void 0,nonce:re.nonce?hexToNumber(re.nonce):void 0,to:re.to?re.to:null,transactionIndex:re.transactionIndex?Number(re.transactionIndex):null,type:re.type?transactionType[re.type]:void 0,typeHex:re.type?re.type:void 0,value:re.value?BigInt(re.value):void 0,v:re.v?BigInt(re.v):void 0};return ee.type==="legacy"&&(delete ee.accessList,delete ee.maxFeePerGas,delete ee.maxPriorityFeePerGas),ee.type==="eip2930"&&(delete ee.maxFeePerGas,delete ee.maxPriorityFeePerGas),ee}function formatBlock(re){const ee=re.transactions?.map(ne=>typeof ne=="string"?ne:formatTransaction(ne));return{...re,baseFeePerGas:re.baseFeePerGas?BigInt(re.baseFeePerGas):null,difficulty:re.difficulty?BigInt(re.difficulty):void 0,gasLimit:re.gasLimit?BigInt(re.gasLimit):void 0,gasUsed:re.gasUsed?BigInt(re.gasUsed):void 0,hash:re.hash?re.hash:null,logsBloom:re.logsBloom?re.logsBloom:null,nonce:re.nonce?re.nonce:null,number:re.number?BigInt(re.number):null,size:re.size?BigInt(re.size):void 0,timestamp:re.timestamp?BigInt(re.timestamp):void 0,transactions:ee,totalDifficulty:re.totalDifficulty?BigInt(re.totalDifficulty):null}}async function getBlock(re,{blockHash:ee,blockNumber:ne,blockTag:oe,includeTransactions:ae}={}){const he=oe??"latest",pe=ae??!1,ge=ne!==void 0?numberToHex(ne):void 0;let ve=null;if(ee?ve=await re.request({method:"eth_getBlockByHash",params:[ee,pe]}):ve=await re.request({method:"eth_getBlockByNumber",params:[ge||he,pe]}),!ve)throw new BlockNotFoundError({blockHash:ee,blockNumber:ne});return(re.chain?.formatters?.block?.format||formatBlock)(ve)}async function getGasPrice(re){const ee=await re.request({method:"eth_gasPrice"});return BigInt(ee)}async function getTransactionCount(re,{address:ee,blockTag:ne="latest",blockNumber:oe}){const ae=await re.request({method:"eth_getTransactionCount",params:[ee,oe?numberToHex(oe):ne]});return hexToNumber(ae)}async function prepareRequest(re,ee){const{account:ne,chain:oe=re.chain,gas:ae,gasPrice:he,maxFeePerGas:pe,maxPriorityFeePerGas:ge,nonce:ve}=ee;if(!ne)throw new AccountNotFoundError;const we=parseAccount(ne),Ee=await getBlock(re,{blockTag:"latest"}),_e={...ee,from:we.address};if(typeof ve>"u"&&(_e.nonce=await getTransactionCount(re,{address:we.address,blockTag:"pending"})),typeof Ee.baseFeePerGas=="bigint"&&typeof he>"u"){let Te=1500000000n;if(typeof oe?.fees?.defaultPriorityFee<"u"&&(Te=typeof oe.fees.defaultPriorityFee=="bigint"?oe.fees.defaultPriorityFee:await oe.fees.defaultPriorityFee({block:Ee,request:_e})),typeof pe>"u")_e.maxPriorityFeePerGas=ge??Te,_e.maxFeePerGas=Ee.baseFeePerGas*120n/100n+_e.maxPriorityFeePerGas;else{if(typeof ge>"u"&&pe<Te)throw new BaseError("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");_e.maxFeePerGas=pe,_e.maxPriorityFeePerGas=ge??Te}}else if(typeof he>"u"){if(typeof pe<"u"||typeof ge<"u")throw new BaseError("Chain does not support EIP-1559 fees.");_e.gasPrice=await getGasPrice(re)*120n/100n}return typeof ae>"u"&&(_e.gas=await estimateGas(re,{..._e,account:{address:we.address,type:"json-rpc"}})),assertRequest(_e),_e}async function estimateGas(re,ee){const ne=ee.account??re.account;if(!ne)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const oe=parseAccount(ne);try{const{accessList:ae,blockNumber:he,blockTag:pe,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae,...Se}=oe.type==="local"?await prepareRequest(re,ee):ee,Ne=(he?numberToHex(he):void 0)||pe;assertRequest(ee);const Me=re.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Le=Me({...extract(Se,{format:Me}),from:oe.address,accessList:ae,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae}),qe=await re.request({method:"eth_estimateGas",params:Ne?[Le,Ne]:[Le]});return BigInt(qe)}catch(ae){throw getEstimateGasError(ae,{...ee,account:oe,chain:re.chain})}}async function estimateContractGas(re,{abi:ee,address:ne,args:oe,functionName:ae,...he}){const pe=encodeFunctionData({abi:ee,args:oe,functionName:ae});try{return await estimateGas(re,{data:pe,to:ne,...he})}catch(ge){const ve=he.account?parseAccount(he.account):void 0;throw getContractError(ge,{abi:ee,address:ne,args:oe,docsPath:"/docs/contract/estimateContractGas",functionName:ae,sender:ve?.address})}}const docsPath$2="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:re,args:ee,functionName:ne,data:oe}){let ae=re[0];if(ne&&(ae=getAbiItem({abi:re,args:ee,name:ne}),!ae))throw new AbiFunctionNotFoundError(ne,{docsPath:docsPath$2});if(ae.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$2});if(!ae.outputs)throw new AbiFunctionOutputsNotFoundError(ae.name,{docsPath:docsPath$2});const he=decodeAbiParameters(ae.outputs,oe);if(he&&he.length>1)return he;if(he&&he.length===1)return he[0]}const multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:ee,chain:ne,contract:oe}){super(`Chain "${ne.name}" does not support contract "${oe.name}".`,{metaMessages:["This could be due to any of the following:",...ee&&oe.blockCreated&&oe.blockCreated>ee?[`- The contract "${oe.name}" was not deployed until block ${oe.blockCreated} (current block ${ee}).`]:[`- The chain does not have the contract "${oe.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:ee,currentChainId:ne}){super(`The current chain of the wallet (id: ${ne}) does not match the target chain for the transaction (id: ${ee.id} – ${ee.name}).`,{metaMessages:[`Current Chain ID:  ${ne}`,`Expected Chain ID: ${ee.id} – ${ee.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function assertCurrentChain({chain:re,currentChainId:ee}){if(!re)throw new ChainNotFoundError;if(ee!==re.id)throw new ChainMismatchError({chain:re,currentChainId:ee})}function getChainContractAddress({blockNumber:re,chain:ee,contract:ne}){const oe=ee?.contracts?.[ne];if(!oe)throw new ChainDoesNotSupportContract({chain:ee,contract:{name:ne}});if(re&&oe.blockCreated&&oe.blockCreated>re)throw new ChainDoesNotSupportContract({blockNumber:re,chain:ee,contract:{name:ne,blockCreated:oe.blockCreated}});return oe.address}function getCallError(re,{docsPath:ee,...ne}){let oe=re;return containsNodeError(re)&&(oe=getNodeError(re,ne)),new CallExecutionError(oe,{docsPath:ee,...ne})}const schedulerCache=new Map;function createBatchScheduler({fn:re,id:ee,shouldSplitBatch:ne,wait:oe=0}){const ae=async()=>{const we=ge();he();const Ee=we.map(({args:_e})=>_e);Ee.length!==0&&re(Ee).then(_e=>{we.forEach(({pendingPromise:Te},Pe)=>Te.resolve?.([_e[Pe],_e]))}).catch(_e=>{we.forEach(({pendingPromise:Te})=>Te.reject?.(_e))})},he=()=>schedulerCache.delete(ee),pe=()=>ge().map(({args:we})=>we),ge=()=>schedulerCache.get(ee)||[],ve=we=>schedulerCache.set(ee,[...ge(),we]);return{flush:he,async schedule(we){const Ee={},_e=new Promise((Ae,Se)=>{Ee.resolve=Ae,Ee.reject=Se});return ne?.([...pe(),we])&&ae(),ge().length>0?(ve({args:we,pendingPromise:Ee}),_e):(ve({args:we,pendingPromise:Ee}),setTimeout(ae,oe),_e)}}}async function call(re,ee){const{account:ne,batch:oe=!!re.batch?.multicall,blockNumber:ae,blockTag:he="latest",accessList:pe,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae,...Se}=ee,Re=ne?parseAccount(ne):void 0;try{assertRequest(ee);const Me=(ae?numberToHex(ae):void 0)||he,Le=re.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,qe=Le({...extract(Se,{format:Le}),from:Re?.address,accessList:pe,data:ge,gas:ve,gasPrice:we,maxFeePerGas:Ee,maxPriorityFeePerGas:_e,nonce:Te,to:Pe,value:Ae});if(oe&&shouldPerformMulticall({request:qe}))try{return await scheduleMulticall(re,{...qe,blockNumber:ae,blockTag:he})}catch(Qe){if(!(Qe instanceof ClientChainNotConfiguredError)&&!(Qe instanceof ChainDoesNotSupportContract))throw Qe}const We=await re.request({method:"eth_call",params:Me?[qe,Me]:[qe]});return We==="0x"?{data:void 0}:{data:We}}catch(Ne){const Me=getRevertErrorData(Ne),{offchainLookup:Le,offchainLookupSignature:qe}=await __vitePreload(()=>import("./ccip-7a3cf8c7.js"),[]);if(Me?.slice(0,10)===qe&&Pe)return{data:await Le(re,{data:Me,to:Pe})};throw getCallError(Ne,{...ee,account:Re,chain:re.chain})}}function shouldPerformMulticall({request:re}){const{data:ee,to:ne,...oe}=re;return!(!ee||ee.startsWith(aggregate3Signature)||!ne||Object.values(oe).filter(ae=>typeof ae<"u").length>0)}async function scheduleMulticall(re,ee){const{batchSize:ne=1024,wait:oe=0}=typeof re.batch?.multicall=="object"?re.batch.multicall:{},{blockNumber:ae,blockTag:he="latest",data:pe,multicallAddress:ge,to:ve}=ee;let we=ge;if(!we){if(!re.chain)throw new ClientChainNotConfiguredError;we=getChainContractAddress({blockNumber:ae,chain:re.chain,contract:"multicall3"})}const _e=(ae?numberToHex(ae):void 0)||he,{schedule:Te}=createBatchScheduler({id:`${re.uid}.${_e}`,wait:oe,shouldSplitBatch(Se){return Se.reduce((Ne,{data:Me})=>Ne+(Me.length-2),0)>ne*2},fn:async Se=>{const Re=Se.map(Le=>({allowFailure:!0,callData:Le.data,target:Le.to})),Ne=encodeFunctionData({abi:multicall3Abi,args:[Re],functionName:"aggregate3"}),Me=await re.request({method:"eth_call",params:[{data:Ne,to:we},_e]});return decodeFunctionResult({abi:multicall3Abi,args:[Re],functionName:"aggregate3",data:Me||"0x"})}}),[{returnData:Pe,success:Ae}]=await Te({data:pe,to:ve});if(!Ae)throw new RawContractError({data:Pe});return Pe==="0x"?{data:void 0}:{data:Pe}}function getRevertErrorData(re){if(!(re instanceof BaseError))return;const ee=re.walk();return typeof ee.data=="object"?ee.data.data:ee.data}async function readContract(re,{abi:ee,address:ne,args:oe,functionName:ae,...he}){const pe=encodeFunctionData({abi:ee,args:oe,functionName:ae});try{const{data:ge}=await call(re,{data:pe,to:ne,...he});return decodeFunctionResult({abi:ee,args:oe,functionName:ae,data:ge||"0x"})}catch(ge){throw getContractError(ge,{abi:ee,address:ne,args:oe,docsPath:"/docs/contract/readContract",functionName:ae})}}async function simulateContract(re,{abi:ee,address:ne,args:oe,dataSuffix:ae,functionName:he,...pe}){const ge=pe.account?parseAccount(pe.account):void 0,ve=encodeFunctionData({abi:ee,args:oe,functionName:he});try{const{data:we}=await call(re,{batch:!1,data:`${ve}${ae?ae.replace("0x",""):""}`,to:ne,...pe});return{result:decodeFunctionResult({abi:ee,args:oe,functionName:he,data:we||"0x"}),request:{abi:ee,address:ne,args:oe,dataSuffix:ae,functionName:he,...pe}}}catch(we){throw getContractError(we,{abi:ee,address:ne,args:oe,docsPath:"/docs/contract/simulateContract",functionName:he,sender:ge?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(re,ee,ne){const oe=++callbackCount,ae=()=>listenersCache.get(re)||[],he=()=>{const Ee=ae();listenersCache.set(re,Ee.filter(_e=>_e.id!==oe))},pe=()=>{const Ee=cleanupCache.get(re);ae().length===1&&Ee&&Ee(),he()},ge=ae();if(listenersCache.set(re,[...ge,{id:oe,fns:ee}]),ge&&ge.length>0)return pe;const ve={};for(const Ee in ee)ve[Ee]=(..._e)=>{const Te=ae();Te.length!==0&&Te.forEach(Pe=>Pe.fns[Ee]?.(..._e))};const we=ne(ve);return typeof we=="function"&&cleanupCache.set(re,we),pe}async function wait(re){return new Promise(ee=>setTimeout(ee,re))}function poll(re,{emitOnBegin:ee,initialWaitTime:ne,interval:oe}){let ae=!0;const he=()=>ae=!1;return(async()=>{let ge;ee&&(ge=await re({unpoll:he}));const ve=await ne?.(ge)??oe;await wait(ve);const we=async()=>{ae&&(await re({unpoll:he}),await wait(oe),we())};we()})(),he}const promiseCache=new Map,responseCache=new Map;function getCache(re){const ee=(ae,he)=>({clear:()=>he.delete(ae),get:()=>he.get(ae),set:pe=>he.set(ae,pe)}),ne=ee(re,promiseCache),oe=ee(re,responseCache);return{clear:()=>{ne.clear(),oe.clear()},promise:ne,response:oe}}async function withCache(re,{cacheKey:ee,cacheTime:ne=1/0}){const oe=getCache(ee),ae=oe.response.get();if(ae&&ne>0&&new Date().getTime()-ae.created.getTime()<ne)return ae.data;let he=oe.promise.get();he||(he=re(),oe.promise.set(he));try{const pe=await he;return oe.response.set({created:new Date,data:pe}),pe}finally{oe.promise.clear()}}const cacheKey=re=>`blockNumber.${re}`;async function getBlockNumber(re,{cacheTime:ee=re.cacheTime,maxAge:ne}={}){const oe=await withCache(()=>re.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(re.uid),cacheTime:ne??ee});return BigInt(oe)}const docsPath$1="/docs/contract/decodeEventLog";function decodeEventLog({abi:re,data:ee,strict:ne,topics:oe}){const ae=ne??!0,[he,...pe]=oe;if(!he)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$1});const ge=re.find(Ae=>Ae.type==="event"&&he===getEventSelector(formatAbiItem(Ae)));if(!(ge&&"name"in ge)||ge.type!=="event")throw new AbiEventSignatureNotFoundError(he,{docsPath:docsPath$1});const{name:ve,inputs:we}=ge,Ee=we?.some(Ae=>!("name"in Ae&&Ae.name));let _e=Ee?[]:{};const Te=we.filter(Ae=>"indexed"in Ae&&Ae.indexed);if(pe.length>0)for(let Ae=0;Ae<Te.length;Ae++){const Se=Te[Ae],Re=pe[Ae];if(!Re)throw new DecodeLogTopicsMismatch({abiItem:ge,param:Se});_e[Se.name||Ae]=decodeTopic({param:Se,value:Re})}const Pe=we.filter(Ae=>!("indexed"in Ae&&Ae.indexed));if(Pe.length>0){if(ee&&ee!=="0x")try{const Ae=decodeAbiParameters(Pe,ee);if(Ae)if(Ee)_e=[..._e,...Ae];else for(let Se=0;Se<Pe.length;Se++)_e[Pe[Se].name]=Ae[Se]}catch(Ae){if(ae)throw Ae instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:ge,data:Ae.data,params:Ae.params,size:Ae.size}):Ae}else if(ae)throw new DecodeLogDataMismatch({abiItem:ge,data:"0x",params:Pe,size:0})}return{eventName:ve,args:Object.values(_e).length>0?_e:void 0}}function decodeTopic({param:re,value:ee}){return re.type==="string"||re.type==="bytes"||re.type==="tuple"||re.type.match(/^(.*)\[(\d+)?\]$/)?ee:(decodeAbiParameters([re],ee)||[])[0]}function formatLog(re,{args:ee,eventName:ne}={}){return{...re,blockHash:re.blockHash?re.blockHash:null,blockNumber:re.blockNumber?BigInt(re.blockNumber):null,logIndex:re.logIndex?Number(re.logIndex):null,transactionHash:re.transactionHash?re.transactionHash:null,transactionIndex:re.transactionIndex?Number(re.transactionIndex):null,...ne?{args:ee,eventName:ne}:{}}}async function getFilterChanges(re,{filter:ee}){const ne="strict"in ee&&ee.strict;return(await ee.request({method:"eth_getFilterChanges",params:[ee.id]})).map(ae=>{if(typeof ae=="string")return ae;try{const{eventName:he,args:pe}="abi"in ee&&ee.abi?decodeEventLog({abi:ee.abi,data:ae.data,topics:ae.topics,strict:ne}):{eventName:void 0,args:void 0};return formatLog(ae,{args:pe,eventName:he})}catch(he){let pe,ge;if(he instanceof DecodeLogDataMismatch||he instanceof DecodeLogTopicsMismatch){if("strict"in ee&&ee.strict)return;pe=he.abiItem.name,ge=he.abiItem.inputs?.some(ve=>!("name"in ve&&ve.name))}return formatLog(ae,{args:ge?[]:{},eventName:pe})}}).filter(Boolean)}async function getLogs(re,{address:ee,blockHash:ne,fromBlock:oe,toBlock:ae,event:he,events:pe,args:ge,strict:ve}={}){const we=ve??!1,Ee=pe??(he?[he]:void 0);let _e=[];Ee&&(_e=[Ee.flatMap(Pe=>encodeEventTopics({abi:[Pe],eventName:Pe.name,args:ge}))],he&&(_e=_e[0]));let Te;return ne?Te=await re.request({method:"eth_getLogs",params:[{address:ee,topics:_e,blockHash:ne}]}):Te=await re.request({method:"eth_getLogs",params:[{address:ee,topics:_e,fromBlock:typeof oe=="bigint"?numberToHex(oe):oe,toBlock:typeof ae=="bigint"?numberToHex(ae):ae}]}),Te.map(Pe=>{try{const{eventName:Ae,args:Se}=Ee?decodeEventLog({abi:Ee,data:Pe.data,topics:Pe.topics,strict:we}):{eventName:void 0,args:void 0};return formatLog(Pe,{args:Se,eventName:Ae})}catch(Ae){let Se,Re;if(Ae instanceof DecodeLogDataMismatch||Ae instanceof DecodeLogTopicsMismatch){if(we)return;Se=Ae.abiItem.name,Re=Ae.abiItem.inputs?.some(Ne=>!("name"in Ne&&Ne.name))}return formatLog(Pe,{args:Re?[]:{},eventName:Se})}}).filter(Boolean)}async function uninstallFilter(re,{filter:ee}){return ee.request({method:"eth_uninstallFilter",params:[ee.id]})}function watchContractEvent(re,{abi:ee,address:ne,args:oe,batch:ae=!0,eventName:he,onError:pe,onLogs:ge,poll:ve,pollingInterval:we=re.pollingInterval,strict:Ee}){return(typeof ve<"u"?ve:re.transport.type!=="webSocket")?(()=>{const Ae=stringify(["watchContractEvent",ne,oe,ae,re.uid,he,we]),Se=Ee??!1;return observe(Ae,{onLogs:ge,onError:pe},Re=>{let Ne,Me,Le=!1;const qe=poll(async()=>{if(!Le){try{Me=await createContractEventFilter(re,{abi:ee,address:ne,args:oe,eventName:he,strict:Se})}catch{}Le=!0;return}try{let We;if(Me)We=await getFilterChanges(re,{filter:Me});else{const Qe=await getBlockNumber(re);Ne&&Ne!==Qe?We=await getLogs(re,{address:ne,args:oe,fromBlock:Ne+1n,toBlock:Qe,event:getAbiItem({abi:ee,name:he})}):We=[],Ne=Qe}if(We.length===0)return;ae?Re.onLogs(We):We.forEach(Qe=>Re.onLogs([Qe]))}catch(We){Me&&We instanceof InvalidInputRpcError&&(Le=!1),Re.onError?.(We)}},{emitOnBegin:!0,interval:we});return async()=>{Me&&await uninstallFilter(re,{filter:Me}),qe()}})})():(()=>{let Ae=!0,Se=()=>Ae=!1;return(async()=>{try{const Re=he?encodeEventTopics({abi:ee,eventName:he,args:oe}):[],{unsubscribe:Ne}=await re.transport.subscribe({params:["logs",{address:ne,topics:Re}],onData(Me){if(!Ae)return;const Le=Me.result;try{const{eventName:qe,args:We}=decodeEventLog({abi:ee,data:Le.data,topics:Le.topics,strict:Ee}),Qe=formatLog(Le,{args:We,eventName:qe});ge([Qe])}catch(qe){let We,Qe;if(qe instanceof DecodeLogDataMismatch||qe instanceof DecodeLogTopicsMismatch){if(Ee)return;We=qe.abiItem.name,Qe=qe.abiItem.inputs?.some(tt=>!("name"in tt&&tt.name))}const Xe=formatLog(Le,{args:Qe?[]:{},eventName:We});ge([Xe])}},onError(Me){pe?.(Me)}});Se=Ne,Ae||Se()}catch(Re){pe?.(Re)}})(),Se})()}function getTransactionError(re,{docsPath:ee,...ne}){let oe=re;return containsNodeError(re)&&(oe=getNodeError(re,ne)),new TransactionExecutionError(oe,{docsPath:ee,...ne})}async function getChainId(re){const ee=await re.request({method:"eth_chainId"});return hexToNumber(ee)}async function sendTransaction(re,ee){const{account:ne=re.account,chain:oe=re.chain,accessList:ae,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te,...Pe}=ee;if(!ne)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const Ae=parseAccount(ne);try{assertRequest(ee);let Se;if(oe!==null&&(Se=await getChainId(re),assertCurrentChain({currentChainId:Se,chain:oe})),Ae.type==="local"){const Me=await prepareRequest(re,{account:Ae,accessList:ae,chain:oe,data:he,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te,...Pe});Se||(Se=await getChainId(re));const Le=oe?.serializers?.transaction,qe=await Ae.signTransaction({...Me,chainId:Se},{serializer:Le});return await re.request({method:"eth_sendRawTransaction",params:[qe]})}const Re=oe?.formatters?.transactionRequest?.format||formatTransactionRequest,Ne=Re({...extract(Pe,{format:Re}),accessList:ae,data:he,from:Ae.address,gas:pe,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:Ee,to:_e,value:Te});return await re.request({method:"eth_sendTransaction",params:[Ne]})}catch(Se){throw getTransactionError(Se,{...ee,account:Ae,chain:ee.chain||void 0})}}async function writeContract(re,{abi:ee,address:ne,args:oe,dataSuffix:ae,functionName:he,...pe}){const ge=encodeFunctionData({abi:ee,args:oe,functionName:he});return await sendTransaction(re,{data:`${ge}${ae?ae.replace("0x",""):""}`,to:ne,...pe})}async function addChain(re,{chain:ee}){const{id:ne,name:oe,nativeCurrency:ae,rpcUrls:he,blockExplorers:pe}=ee;await re.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(ne),chainName:oe,nativeCurrency:ae,rpcUrls:he.default.http,blockExplorerUrls:pe?Object.values(pe).map(({url:ge})=>ge):void 0}]})}const size=256;let index=size,buffer;function uid(re=11){if(!buffer||index+re>size*2){buffer="",index=0;for(let ee=0;ee<size;ee++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++re)}function createClient$1(re){const{batch:ee,cacheTime:ne=re.pollingInterval??4e3,key:oe="base",name:ae="Base Client",pollingInterval:he=4e3,type:pe="base"}=re,ge=re.chain,ve=re.account?parseAccount(re.account):void 0,{config:we,request:Ee,value:_e}=re.transport({chain:ge,pollingInterval:he}),Te={...we,..._e},Pe={account:ve,batch:ee,cacheTime:ne,chain:ge,key:oe,name:ae,pollingInterval:he,request:Ee,transport:Te,type:pe,uid:uid()};function Ae(Se){return Re=>{const Ne=Re(Se);for(const Le in Pe)delete Ne[Le];const Me={...Se,...Ne};return Object.assign(Me,{extend:Ae(Me)})}}return Object.assign(Pe,{extend:Ae(Pe)})}function withRetry(re,{delay:ee=100,retryCount:ne=2,shouldRetry:oe=()=>!0}={}){return new Promise((ae,he)=>{const pe=async({count:ge=0}={})=>{const ve=async({error:we})=>{const Ee=typeof ee=="function"?ee({count:ge,error:we}):ee;Ee&&await wait(Ee),pe({count:ge+1})};try{const we=await re();ae(we)}catch(we){if(ge<ne&&await oe({count:ge,error:we}))return ve({error:we});he(we)}};pe()})}const isDeterministicError=re=>"code"in re?re.code!==-1&&re.code!==-32004&&re.code!==-32005&&re.code!==-32042&&re.code!==-32603:re instanceof HttpRequestError&&re.status?re.status!==403&&re.status!==408&&re.status!==413&&re.status!==429&&re.status!==500&&re.status!==502&&re.status!==503&&re.status!==504:!1;function buildRequest(re,{retryDelay:ee=150,retryCount:ne=3}={}){return async oe=>withRetry(async()=>{try{return await re(oe)}catch(ae){const he=ae;switch(he.code){case ParseRpcError.code:throw new ParseRpcError(he);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(he);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(he);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(he);case InternalRpcError.code:throw new InternalRpcError(he);case InvalidInputRpcError.code:throw new InvalidInputRpcError(he);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(he);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(he);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(he);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(he);case LimitExceededRpcError.code:throw new LimitExceededRpcError(he);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(he);case UserRejectedRequestError.code:throw new UserRejectedRequestError(he);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(he);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(he);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(he);case ChainDisconnectedError.code:throw new ChainDisconnectedError(he);case SwitchChainError.code:throw new SwitchChainError(he);default:throw ae instanceof BaseError?ae:new UnknownRpcError(he)}}},{delay:({count:ae,error:he})=>{if(he&&he instanceof HttpRequestError){const pe=he?.headers?.get("Retry-After");if(pe?.match(/\d/))return parseInt(pe)*1e3}return~~(1<<ae)*ee},retryCount:ne,shouldRetry:({error:ae})=>!isDeterministicError(ae)})}function createTransport({key:re,name:ee,request:ne,retryCount:oe=3,retryDelay:ae=150,timeout:he,type:pe},ge){return{config:{key:re,name:ee,request:ne,retryCount:oe,retryDelay:ae,timeout:he,type:pe},request:buildRequest(ne,{retryCount:oe,retryDelay:ae}),value:ge}}function fallback(re,ee={}){const{key:ne="fallback",name:oe="Fallback",rank:ae=!1,retryCount:he,retryDelay:pe}=ee;return({chain:ge,pollingInterval:ve=4e3,timeout:we})=>{let Ee=re,_e=()=>{};const Te=createTransport({key:ne,name:oe,async request({method:Pe,params:Ae}){const Se=async(Re=0)=>{const Ne=Ee[Re]({chain:ge,retryCount:0,timeout:we});try{const Me=await Ne.request({method:Pe,params:Ae});return _e({method:Pe,params:Ae,response:Me,transport:Ne,status:"success"}),Me}catch(Me){if(_e({error:Me,method:Pe,params:Ae,transport:Ne,status:"error"}),isDeterministicError(Me)||Re===Ee.length-1)throw Me;return Se(Re+1)}};return Se()},retryCount:he,retryDelay:pe,type:"fallback"},{onResponse:Pe=>_e=Pe,transports:Ee.map(Pe=>Pe({chain:ge,retryCount:0}))});if(ae){const Pe=typeof ae=="object"?ae:{};rankTransports({chain:ge,interval:Pe.interval??ve,onTransports:Ae=>Ee=Ae,sampleCount:Pe.sampleCount,timeout:Pe.timeout,transports:Ee,weights:Pe.weights})}return Te}}function rankTransports({chain:re,interval:ee=4e3,onTransports:ne,sampleCount:oe=10,timeout:ae=1e3,transports:he,weights:pe={}}){const{stability:ge=.7,latency:ve=.3}=pe,we=[],Ee=async()=>{const _e=await Promise.all(he.map(async Ae=>{const Se=Ae({chain:re,retryCount:0,timeout:ae}),Re=Date.now();let Ne,Me;try{await Se.request({method:"net_listening"}),Me=1}catch{Me=0}finally{Ne=Date.now()}return{latency:Ne-Re,success:Me}}));we.push(_e),we.length>oe&&we.shift();const Te=Math.max(...we.map(Ae=>Math.max(...Ae.map(({latency:Se})=>Se)))),Pe=he.map((Ae,Se)=>{const Re=we.map(We=>We[Se].latency),Me=1-Re.reduce((We,Qe)=>We+Qe,0)/Re.length/Te,Le=we.map(We=>We[Se].success),qe=Le.reduce((We,Qe)=>We+Qe,0)/Le.length;return qe===0?[0,Se]:[ve*Me+ge*qe,Se]}).sort((Ae,Se)=>Se[0]-Ae[0]);ne(Pe.map(([,Ae])=>he[Ae])),await wait(ee),Ee()};Ee()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function withTimeout(re,{errorInstance:ee,timeout:ne,signal:oe}){return new Promise((ae,he)=>{(async()=>{let pe;try{const ge=new AbortController;ne>0&&(pe=setTimeout(()=>{oe?ge.abort():he(ee)},ne)),ae(await re({signal:ge?.signal}))}catch(ge){ge.name==="AbortError"&&he(ee),he(ge)}finally{clearTimeout(pe)}})()})}let id=0;async function http$1(re,{body:ee,fetchOptions:ne={},timeout:oe=1e4}){const{headers:ae,method:he,signal:pe}=ne;try{const ge=await withTimeout(async({signal:we})=>await fetch(re,{...ne,body:Array.isArray(ee)?stringify(ee.map(_e=>({jsonrpc:"2.0",id:id++,..._e}))):stringify({jsonrpc:"2.0",id:id++,...ee}),headers:{...ae,"Content-Type":"application/json"},method:he||"POST",signal:pe||(oe>0?we:void 0)}),{errorInstance:new TimeoutError({body:ee,url:re}),timeout:oe,signal:!0});let ve;if(ge.headers.get("Content-Type")?.startsWith("application/json")?ve=await ge.json():ve=await ge.text(),!ge.ok)throw new HttpRequestError({body:ee,details:stringify(ve.error)||ge.statusText,headers:ge.headers,status:ge.status,url:re});return ve}catch(ge){throw ge instanceof HttpRequestError||ge instanceof TimeoutError?ge:new HttpRequestError({body:ee,details:ge.message,url:re})}}const sockets=new Map;async function getSocket(re){const ee=new URL(re),ne=ee.toString();let oe=sockets.get(ne);if(oe)return oe;const{schedule:ae}=createBatchScheduler({id:ne,fn:async()=>{let ge=await __vitePreload(()=>import("./browser-3852a342.js"),[]);ge.default?.constructor?ge=ge.default:ge=ge.WebSocket;const ve=new ge(ee),we=new Map,Ee=new Map,_e=({data:Pe})=>{const Ae=JSON.parse(Pe),Se=Ae.method==="eth_subscription",Re=Se?Ae.params.subscription:Ae.id,Ne=Se?Ee:we,Me=Ne.get(Re);Me&&Me({data:Pe}),Se||Ne.delete(Re)},Te=()=>{sockets.delete(ne),ve.removeEventListener("close",Te),ve.removeEventListener("message",_e)};return ve.addEventListener("close",Te),ve.addEventListener("message",_e),ve.readyState===ge.CONNECTING&&await new Promise((Pe,Ae)=>{ve&&(ve.onopen=Pe,ve.onerror=Ae)}),oe=Object.assign(ve,{requests:we,subscriptions:Ee}),sockets.set(ne,oe),[oe]}}),[he,[pe]]=await ae();return pe}function webSocket$1(re,{body:ee,onResponse:ne}){if(re.readyState===re.CLOSED||re.readyState===re.CLOSING)throw new WebSocketRequestError({body:ee,url:re.url,details:"Socket is closed."});const oe=id++,ae=({data:he})=>{const pe=JSON.parse(he);typeof pe.id=="number"&&oe!==pe.id||(ne?.(pe),ee.method==="eth_subscribe"&&typeof pe.result=="string"&&re.subscriptions.set(pe.result,ae),ee.method==="eth_unsubscribe"&&re.subscriptions.delete(ee.params?.[0]))};return re.requests.set(oe,ae),re.send(JSON.stringify({jsonrpc:"2.0",...ee,id:oe})),re}async function webSocketAsync(re,{body:ee,timeout:ne=1e4}){return withTimeout(()=>new Promise(oe=>rpc$1.webSocket(re,{body:ee,onResponse:oe})),{errorInstance:new TimeoutError({body:ee,url:re.url}),timeout:ne})}const rpc$1={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(re,ee={}){const{batch:ne,fetchOptions:oe,key:ae="http",name:he="HTTP JSON-RPC",retryDelay:pe}=ee;return({chain:ge,retryCount:ve,timeout:we})=>{const{batchSize:Ee=1e3,wait:_e=0}=typeof ne=="object"?ne:{},Te=ee.retryCount??ve,Pe=we??ee.timeout??1e4,Ae=re||ge?.rpcUrls.default.http[0];if(!Ae)throw new UrlRequiredError;return createTransport({key:ae,name:he,async request({method:Se,params:Re}){const Ne={method:Se,params:Re},{schedule:Me}=createBatchScheduler({id:`${re}`,wait:_e,shouldSplitBatch(Qe){return Qe.length>Ee},fn:Qe=>rpc$1.http(Ae,{body:Qe,fetchOptions:oe,timeout:Pe})}),Le=async Qe=>ne?Me(Qe):[await rpc$1.http(Ae,{body:Qe,fetchOptions:oe,timeout:Pe})],[{error:qe,result:We}]=await Le(Ne);if(qe)throw new RpcRequestError({body:Ne,error:qe,url:Ae});return We},retryCount:Te,retryDelay:pe,timeout:Pe,type:"http"},{url:re})}}function isNullUniversalResolverError(re,ee){if(!(re instanceof BaseError))return!1;const ne=re.walk(oe=>oe instanceof ContractFunctionRevertedError);return ne instanceof ContractFunctionRevertedError?!!(ne.data?.errorName==="ResolverNotFound"||ne.data?.errorName==="ResolverWildcardNotSupported"||ne.reason?.includes("Wildcard on non-extended resolvers is not supported")||ee==="reverse"&&ne.reason===panicReasons[50]):!1}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function validateTypedData({domain:re,message:ee,primaryType:ne,types:oe}){const ae=oe,he=(pe,ge)=>{for(const ve of pe){const{name:we,type:Ee}=ve,_e=Ee,Te=ge[we],Pe=_e.match(integerRegex);if(Pe&&(typeof Te=="number"||typeof Te=="bigint")){const[Re,Ne,Me]=Pe;numberToHex(Te,{signed:Ne==="int",size:parseInt(Me)/8})}if(_e==="address"&&typeof Te=="string"&&!isAddress(Te))throw new InvalidAddressError({address:Te});const Ae=_e.match(bytesRegex);if(Ae){const[Re,Ne]=Ae;if(Ne&&size$1(Te)!==parseInt(Ne))throw new BytesSizeMismatchError({expectedSize:parseInt(Ne),givenSize:size$1(Te)})}const Se=ae[_e];Se&&he(Se,Te)}};if(ae.EIP712Domain&&re&&he(ae.EIP712Domain,re),ne!=="EIP712Domain"){const pe=ae[ne];he(pe,ee)}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:re,args:ee,bytecode:ne}){if(!ee||ee.length===0)return ne;const oe=re.find(he=>"type"in he&&he.type==="constructor");if(!oe)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in oe))throw new AbiConstructorParamsNotFoundError({docsPath});if(!oe.inputs||oe.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const ae=encodeAbiParameters(oe.inputs,ee);return concatHex([ne,ae])}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(re){return{...re,blockNumber:re.blockNumber?BigInt(re.blockNumber):null,contractAddress:re.contractAddress?re.contractAddress:null,cumulativeGasUsed:re.cumulativeGasUsed?BigInt(re.cumulativeGasUsed):null,effectiveGasPrice:re.effectiveGasPrice?BigInt(re.effectiveGasPrice):null,gasUsed:re.gasUsed?BigInt(re.gasUsed):null,logs:re.logs?re.logs.map(ee=>formatLog(ee)):null,to:re.to?re.to:null,transactionIndex:re.transactionIndex?hexToNumber(re.transactionIndex):null,status:re.status?statuses[re.status]:null,type:re.type?transactionType[re.type]||re.type:null}}function hashTypedData({domain:re,message:ee,primaryType:ne,types:oe}){const ae=typeof re>"u"?{}:re,he={EIP712Domain:[typeof ae?.name=="string"&&{name:"name",type:"string"},ae?.version&&{name:"version",type:"string"},typeof ae?.chainId=="number"&&{name:"chainId",type:"uint256"},ae?.verifyingContract&&{name:"verifyingContract",type:"address"},ae?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...oe};validateTypedData({domain:ae,message:ee,primaryType:ne,types:he});const pe=["0x1901"];return ae&&pe.push(hashDomain({domain:ae,types:he})),ne!=="EIP712Domain"&&pe.push(hashStruct({data:ee,primaryType:ne,types:he})),keccak256(concat(pe))}function hashDomain({domain:re,types:ee}){return hashStruct({data:re,primaryType:"EIP712Domain",types:ee})}function hashStruct({data:re,primaryType:ee,types:ne}){const oe=encodeData({data:re,primaryType:ee,types:ne});return keccak256(oe)}function encodeData({data:re,primaryType:ee,types:ne}){const oe=[{type:"bytes32"}],ae=[hashType({primaryType:ee,types:ne})];for(const he of ne[ee]){const[pe,ge]=encodeField({types:ne,name:he.name,type:he.type,value:re[he.name]});oe.push(pe),ae.push(ge)}return encodeAbiParameters(oe,ae)}function hashType({primaryType:re,types:ee}){const ne=toHex(encodeType({primaryType:re,types:ee}));return keccak256(ne)}function encodeType({primaryType:re,types:ee}){let ne="";const oe=findTypeDependencies({primaryType:re,types:ee});oe.delete(re);const ae=[re,...Array.from(oe).sort()];for(const he of ae)ne+=`${he}(${ee[he].map(({name:pe,type:ge})=>`${ge} ${pe}`).join(",")})`;return ne}function findTypeDependencies({primaryType:re,types:ee},ne=new Set){const ae=re.match(/^\w*/u)?.[0];if(ne.has(ae)||ee[ae]===void 0)return ne;ne.add(ae);for(const he of ee[ae])findTypeDependencies({primaryType:he.type,types:ee},ne);return ne}function encodeField({types:re,name:ee,type:ne,value:oe}){if(re[ne]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:oe,primaryType:ne,types:re}))];if(ne==="bytes")return oe=`0x${(oe.length%2?"0":"")+oe.slice(2)}`,[{type:"bytes32"},keccak256(oe)];if(ne==="string")return[{type:"bytes32"},keccak256(toHex(oe))];if(ne.lastIndexOf("]")===ne.length-1){const ae=ne.slice(0,ne.lastIndexOf("[")),he=oe.map(pe=>encodeField({name:ee,type:ae,types:re,value:pe}));return[{type:"bytes32"},keccak256(encodeAbiParameters(he.map(([pe])=>pe),he.map(([,pe])=>pe)))]}return[{type:ne},oe]}function hashMessage(re,ee){const ne=(()=>typeof re=="string"?stringToBytes(re):re.raw instanceof Uint8Array?re.raw:toBytes$1(re.raw))(),oe=stringToBytes(`Ethereum Signed Message:
${ne.length}`);return keccak256(concat([oe,ne]),ee)}function parseUnits(re,ee){let[ne,oe="0"]=re.split(".");const ae=ne.startsWith("-");if(ae&&(ne=ne.slice(1)),oe=oe.replace(/(0+)$/,""),ee===0)Math.round(+`.${oe}`)===1&&(ne=`${BigInt(ne)+1n}`),oe="";else if(oe.length>ee){const[he,pe,ge]=[oe.slice(0,ee-1),oe.slice(ee-1,ee),oe.slice(ee)],ve=Math.round(+`${pe}.${ge}`);ve>9?oe=`${BigInt(he)+BigInt(1)}0`.padStart(he.length+1,"0"):oe=`${he}${ve}`,oe.length>ee&&(oe=oe.slice(1),ne=`${BigInt(ne)+1n}`),oe=oe.slice(0,ee)}else oe=oe.padEnd(ee,"0");return BigInt(`${ae?"-":""}${ne}${oe}`)}function parseEther(re,ee="wei"){return parseUnits(re,etherUnits[ee])}function encodedLabelToLabelhash(re){if(re.length!==66||re.indexOf("[")!==0||re.indexOf("]")!==65)return null;const ee=`0x${re.slice(1,65)}`;return isHex(ee)?ee:null}function namehash(re){let ee=new Uint8Array(32).fill(0);if(!re)return bytesToHex(ee);const ne=re.split(".");for(let oe=ne.length-1;oe>=0;oe-=1){const ae=encodedLabelToLabelhash(ne[oe]),he=ae?toBytes$1(ae):keccak256(stringToBytes(ne[oe]),"bytes");ee=keccak256(concat([ee,he]),"bytes")}return bytesToHex(ee)}function encodeLabelhash(re){return`[${re.slice(2)}]`}function labelhash(re){const ee=new Uint8Array(32).fill(0);return re?encodedLabelToLabelhash(re)||keccak256(stringToBytes(re)):bytesToHex(ee)}function packetToBytes(re){const ee=re.replace(/^\.|\.$/gm,"");if(ee.length===0)return new Uint8Array(1);const ne=new Uint8Array(stringToBytes(ee).byteLength+2);let oe=0;const ae=ee.split(".");for(let he=0;he<ae.length;he++){let pe=stringToBytes(ae[he]);pe.byteLength>255&&(pe=stringToBytes(encodeLabelhash(labelhash(ae[he])))),ne[oe]=pe.length,ne.set(pe,oe+1),oe+=pe.length+1}return ne.byteLength!==oe+1?ne.slice(0,oe+1):ne}async function getEnsAddress(re,{blockNumber:ee,blockTag:ne,coinType:oe,name:ae,universalResolverAddress:he}){let pe=he;if(!pe){if(!re.chain)throw new Error("client chain not configured. universalResolverAddress is required.");pe=getChainContractAddress({blockNumber:ee,chain:re.chain,contract:"ensUniversalResolver"})}try{const ge=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...oe!=null?{args:[namehash(ae),BigInt(oe)]}:{args:[namehash(ae)]}}),ve=await readContract(re,{address:pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ae)),ge],blockNumber:ee,blockTag:ne});if(ve[0]==="0x")return null;const we=trim(decodeFunctionResult({abi:addressResolverAbi,args:oe!=null?[namehash(ae),BigInt(oe)]:void 0,functionName:"addr",data:ve[0]}));return we==="0x"||trim(we)==="0x00"?null:we}catch(ge){if(isNullUniversalResolverError(ge,"resolve"))return null;throw ge}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:ee}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(ee)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:ee}){super(`ENS NFT avatar URI is invalid. ${ee}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:ee}){super(`Unable to resolve ENS avatar URI "${ee}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:ee}){super(`ENS NFT avatar namespace "${ee}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(re){try{const ee=await fetch(re,{method:"HEAD"});return ee.status===200?ee.headers.get("content-type")?.startsWith("image/"):!1}catch(ee){return typeof ee=="object"&&typeof ee.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(ne=>{const oe=new Image;oe.onload=()=>{ne(!0)},oe.onerror=()=>{ne(!1)},oe.src=re})}}function getGateway(re,ee){return re?re.endsWith("/")?re.slice(0,-1):re:ee}function resolveAvatarUri({uri:re,gatewayUrls:ee}){const ne=base64Regex.test(re);if(ne)return{uri:re,isOnChain:!0,isEncoded:ne};const oe=getGateway(ee?.ipfs,"https://ipfs.io"),ae=getGateway(ee?.arweave,"https://arweave.net"),he=re.match(networkRegex),{protocol:pe,subpath:ge,target:ve,subtarget:we=""}=he?.groups||{},Ee=pe==="ipns:/"||ge==="ipns/",_e=pe==="ipfs:/"||ge==="ipfs/"||ipfsHashRegex.test(re);if(re.startsWith("http")&&!Ee&&!_e){let Pe=re;return ee?.arweave&&(Pe=re.replace(/https:\/\/arweave.net/g,ee?.arweave)),{uri:Pe,isOnChain:!1,isEncoded:!1}}if((Ee||_e)&&ve)return{uri:`${oe}/${Ee?"ipns":"ipfs"}/${ve}${we}`,isOnChain:!1,isEncoded:!1};if(pe==="ar:/"&&ve)return{uri:`${ae}/${ve}${we||""}`,isOnChain:!1,isEncoded:!1};let Te=re.replace(dataURIRegex,"");if(Te.startsWith("<svg")&&(Te=`data:image/svg+xml;base64,${btoa(Te)}`),Te.startsWith("data:")||Te.startsWith("{"))return{uri:Te,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:re})}function getJsonImage(re){if(typeof re!="object"||!("image"in re)&&!("image_url"in re)&&!("image_data"in re))throw new EnsAvatarInvalidMetadataError({data:re});return re.image||re.image_url||re.image_data}async function getMetadataAvatarUri({gatewayUrls:re,uri:ee}){try{const ne=await fetch(ee).then(ae=>ae.json());return await parseAvatarUri({gatewayUrls:re,uri:getJsonImage(ne)})}catch{throw new EnsAvatarUriResolutionError({uri:ee})}}async function parseAvatarUri({gatewayUrls:re,uri:ee}){const{uri:ne,isOnChain:oe}=resolveAvatarUri({uri:ee,gatewayUrls:re});if(oe||await isImageUri(ne))return ne;throw new EnsAvatarUriResolutionError({uri:ee})}function parseNftUri(re){let ee=re;ee.startsWith("did:nft:")&&(ee=ee.replace("did:nft:","").replace(/_/g,"/"));const[ne,oe,ae]=ee.split("/"),[he,pe]=ne.split(":"),[ge,ve]=oe.split(":");if(!he||he.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!pe)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!ve)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!ae)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!ge)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(pe),namespace:ge.toLowerCase(),contractAddress:ve,tokenID:ae}}async function getNftTokenUri(re,{nft:ee}){if(ee.namespace==="erc721")return readContract(re,{address:ee.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(ee.tokenID)]});if(ee.namespace==="erc1155")return readContract(re,{address:ee.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(ee.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:ee.namespace})}async function parseAvatarRecord(re,{gatewayUrls:ee,record:ne}){return/eip155:/i.test(ne)?parseNftAvatarUri(re,{gatewayUrls:ee,record:ne}):parseAvatarUri({uri:ne,gatewayUrls:ee})}async function parseNftAvatarUri(re,{gatewayUrls:ee,record:ne}){const oe=parseNftUri(ne),ae=await getNftTokenUri(re,{nft:oe}),{uri:he,isOnChain:pe,isEncoded:ge}=resolveAvatarUri({uri:ae,gatewayUrls:ee});if(pe&&(he.includes("data:application/json;base64,")||he.startsWith("{"))){const we=ge?atob(he.replace("data:application/json;base64,","")):he,Ee=JSON.parse(we);return parseAvatarUri({uri:getJsonImage(Ee),gatewayUrls:ee})}let ve=oe.tokenID;return oe.namespace==="erc1155"&&(ve=ve.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:ee,uri:he.replace(/(?:0x)?{id}/,ve)})}async function getEnsText(re,{blockNumber:ee,blockTag:ne,name:oe,key:ae,universalResolverAddress:he}){let pe=he;if(!pe){if(!re.chain)throw new Error("client chain not configured. universalResolverAddress is required.");pe=getChainContractAddress({blockNumber:ee,chain:re.chain,contract:"ensUniversalResolver"})}try{const ge=await readContract(re,{address:pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(oe)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(oe),ae]})],blockNumber:ee,blockTag:ne});if(ge[0]==="0x")return null;const ve=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:ge[0]});return ve===""?null:ve}catch(ge){if(isNullUniversalResolverError(ge,"resolve"))return null;throw ge}}async function getEnsAvatar(re,{blockNumber:ee,blockTag:ne,gatewayUrls:oe,name:ae,universalResolverAddress:he}){const pe=await getEnsText(re,{blockNumber:ee,blockTag:ne,key:"avatar",name:ae,universalResolverAddress:he});if(!pe)return null;try{return await parseAvatarRecord(re,{record:pe,gatewayUrls:oe})}catch{return null}}async function getEnsName(re,{address:ee,blockNumber:ne,blockTag:oe,universalResolverAddress:ae}){let he=ae;if(!he){if(!re.chain)throw new Error("client chain not configured. universalResolverAddress is required.");he=getChainContractAddress({blockNumber:ne,chain:re.chain,contract:"ensUniversalResolver"})}const pe=`${ee.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(re,{address:he,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(pe))],blockNumber:ne,blockTag:oe}))[0]}catch(ge){if(isNullUniversalResolverError(ge,"reverse"))return null;throw ge}}async function getEnsResolver(re,{blockNumber:ee,blockTag:ne,name:oe,universalResolverAddress:ae}){let he=ae;if(!he){if(!re.chain)throw new Error("client chain not configured. universalResolverAddress is required.");he=getChainContractAddress({blockNumber:ee,chain:re.chain,contract:"ensUniversalResolver"})}const[pe]=await readContract(re,{address:he,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(oe))],blockNumber:ee,blockTag:ne});return pe}async function createBlockFilter(re){const ee=createFilterRequestScope(re,{method:"eth_newBlockFilter"}),ne=await re.request({method:"eth_newBlockFilter"});return{id:ne,request:ee(ne),type:"block"}}async function createEventFilter(re,{address:ee,args:ne,event:oe,events:ae,fromBlock:he,strict:pe,toBlock:ge}={}){const ve=ae??(oe?[oe]:void 0),we=createFilterRequestScope(re,{method:"eth_newFilter"});let Ee=[];ve&&(Ee=[ve.flatMap(Te=>encodeEventTopics({abi:[Te],eventName:Te.name,args:ne}))],oe&&(Ee=Ee[0]));const _e=await re.request({method:"eth_newFilter",params:[{address:ee,fromBlock:typeof he=="bigint"?numberToHex(he):he,toBlock:typeof ge=="bigint"?numberToHex(ge):ge,...Ee.length?{topics:Ee}:{}}]});return{abi:ve,args:ne,eventName:oe?oe.name:void 0,fromBlock:he,id:_e,request:we(_e),strict:pe,toBlock:ge,type:"event"}}async function createPendingTransactionFilter(re){const ee=createFilterRequestScope(re,{method:"eth_newPendingTransactionFilter"}),ne=await re.request({method:"eth_newPendingTransactionFilter"});return{id:ne,request:ee(ne),type:"transaction"}}async function getBalance(re,{address:ee,blockNumber:ne,blockTag:oe="latest"}){const ae=ne?numberToHex(ne):void 0,he=await re.request({method:"eth_getBalance",params:[ee,ae||oe]});return BigInt(he)}async function getBlockTransactionCount(re,{blockHash:ee,blockNumber:ne,blockTag:oe="latest"}={}){const ae=ne!==void 0?numberToHex(ne):void 0;let he;return ee?he=await re.request({method:"eth_getBlockTransactionCountByHash",params:[ee]}):he=await re.request({method:"eth_getBlockTransactionCountByNumber",params:[ae||oe]}),hexToNumber(he)}async function getBytecode(re,{address:ee,blockNumber:ne,blockTag:oe="latest"}){const ae=ne!==void 0?numberToHex(ne):void 0,he=await re.request({method:"eth_getCode",params:[ee,ae||oe]});if(he!=="0x")return he}function formatFeeHistory(re){return{baseFeePerGas:re.baseFeePerGas.map(ee=>BigInt(ee)),gasUsedRatio:re.gasUsedRatio,oldestBlock:BigInt(re.oldestBlock),reward:re.reward?.map(ee=>ee.map(ne=>BigInt(ne)))}}async function getFeeHistory(re,{blockCount:ee,blockNumber:ne,blockTag:oe="latest",rewardPercentiles:ae}){const he=ne?numberToHex(ne):void 0,pe=await re.request({method:"eth_feeHistory",params:[numberToHex(ee),he||oe,ae]});return formatFeeHistory(pe)}async function getFilterLogs(re,{filter:ee}){const ne=ee.strict??!1;return(await ee.request({method:"eth_getFilterLogs",params:[ee.id]})).map(ae=>{try{const{eventName:he,args:pe}="abi"in ee&&ee.abi?decodeEventLog({abi:ee.abi,data:ae.data,topics:ae.topics,strict:ne}):{eventName:void 0,args:void 0};return formatLog(ae,{args:pe,eventName:he})}catch(he){let pe,ge;if(he instanceof DecodeLogDataMismatch||he instanceof DecodeLogTopicsMismatch){if("strict"in ee&&ee.strict)return;pe=he.abiItem.name,ge=he.abiItem.inputs?.some(ve=>!("name"in ve&&ve.name))}return formatLog(ae,{args:ge?[]:{},eventName:pe})}}).filter(Boolean)}async function getStorageAt(re,{address:ee,blockNumber:ne,blockTag:oe="latest",slot:ae}){const he=ne!==void 0?numberToHex(ne):void 0;return await re.request({method:"eth_getStorageAt",params:[ee,ae,he||oe]})}async function getTransaction(re,{blockHash:ee,blockNumber:ne,blockTag:oe,hash:ae,index:he}){const pe=oe||"latest",ge=ne!==void 0?numberToHex(ne):void 0;let ve=null;if(ae?ve=await re.request({method:"eth_getTransactionByHash",params:[ae]}):ee?ve=await re.request({method:"eth_getTransactionByBlockHashAndIndex",params:[ee,numberToHex(he)]}):(ge||pe)&&(ve=await re.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[ge||pe,numberToHex(he)]})),!ve)throw new TransactionNotFoundError({blockHash:ee,blockNumber:ne,blockTag:pe,hash:ae,index:he});return(re.chain?.formatters?.transaction?.format||formatTransaction)(ve)}async function getTransactionConfirmations(re,{hash:ee,transactionReceipt:ne}){const[oe,ae]=await Promise.all([getBlockNumber(re),ee?getTransaction(re,{hash:ee}):void 0]),he=ne?.blockNumber||ae?.blockNumber;return he?oe-he+1n:0n}async function getTransactionReceipt(re,{hash:ee}){const ne=await re.request({method:"eth_getTransactionReceipt",params:[ee]});if(!ne)throw new TransactionReceiptNotFoundError({hash:ee});return(re.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(ne)}async function multicall(re,ee){const{allowFailure:ne=!0,batchSize:oe,blockNumber:ae,blockTag:he,contracts:pe,multicallAddress:ge}=ee,ve=oe??(typeof re.batch?.multicall=="object"&&re.batch.multicall.batchSize||1024),we=pe;let Ee=ge;if(!Ee){if(!re.chain)throw new Error("client chain not configured. multicallAddress is required.");Ee=getChainContractAddress({blockNumber:ae,chain:re.chain,contract:"multicall3"})}const _e=[[]];let Te=0,Pe=0;for(let Se=0;Se<we.length;Se++){const{abi:Re,address:Ne,args:Me,functionName:Le}=we[Se];try{const qe=encodeFunctionData({abi:Re,args:Me,functionName:Le});Pe+=qe.length,ve>0&&Pe>ve&&(Te++,Pe=(qe.length-2)/2,_e[Te]=[]),_e[Te]=[..._e[Te],{allowFailure:!0,callData:qe,target:Ne}]}catch(qe){const We=getContractError(qe,{abi:Re,address:Ne,args:Me,docsPath:"/docs/contract/multicall",functionName:Le});if(!ne)throw We;_e[Te]=[..._e[Te],{allowFailure:!0,callData:"0x",target:Ne}]}}return(await Promise.all(_e.map(Se=>readContract(re,{abi:multicall3Abi,address:Ee,args:[Se],blockNumber:ae,blockTag:he,functionName:"aggregate3"})))).flat().map(({returnData:Se,success:Re},Ne)=>{const Me=_e.flat(),{callData:Le}=Me[Ne],{abi:qe,address:We,functionName:Qe,args:Xe}=we[Ne];try{if(Le==="0x")throw new AbiDecodingZeroDataError;if(!Re)throw new RawContractError({data:Se});const tt=decodeFunctionResult({abi:qe,args:Xe,data:Se,functionName:Qe});return ne?{result:tt,status:"success"}:tt}catch(tt){const lt=getContractError(tt,{abi:qe,address:We,args:Xe,docsPath:"/docs/contract/multicall",functionName:Qe});if(!ne)throw lt;return{error:lt,result:void 0,status:"failure"}}})}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function equalBytes(re,ee){if(re.length!==ee.length)return!1;for(let ne=0;ne<re.length;ne++)if(re[ne]!==ee[ne])return!1;return!0}function isBytesEqual(re,ee){const ne=isHex(re)?toBytes$1(re):re,oe=isHex(ee)?toBytes$1(ee):ee;return equalBytes(ne,oe)}async function verifyHash(re,{address:ee,hash:ne,signature:oe,...ae}){const he=isHex(oe)?oe:toHex(oe);try{const{data:pe}=await call(re,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[ee,ne,he],bytecode:universalSignatureValidatorByteCode}),...ae});return isBytesEqual(pe??"0x0","0x1")}catch(pe){if(pe instanceof CallExecutionError)return!1;throw pe}}async function verifyMessage(re,{address:ee,message:ne,signature:oe,...ae}){const he=hashMessage(ne);return verifyHash(re,{address:ee,hash:he,signature:oe,...ae})}async function verifyTypedData(re,{address:ee,signature:ne,message:oe,primaryType:ae,types:he,domain:pe,...ge}){const ve=hashTypedData({message:oe,primaryType:ae,types:he,domain:pe});return verifyHash(re,{address:ee,hash:ve,signature:ne,...ge})}function watchBlockNumber(re,{emitOnBegin:ee=!1,emitMissed:ne=!1,onBlockNumber:oe,onError:ae,poll:he,pollingInterval:pe=re.pollingInterval}){const ge=typeof he<"u"?he:re.transport.type!=="webSocket";let ve;return ge?(()=>{const _e=stringify(["watchBlockNumber",re.uid,ee,ne,pe]);return observe(_e,{onBlockNumber:oe,onError:ae},Te=>poll(async()=>{try{const Pe=await getBlockNumber(re,{cacheTime:0});if(ve){if(Pe===ve)return;if(Pe-ve>1&&ne)for(let Ae=ve+1n;Ae<Pe;Ae++)Te.onBlockNumber(Ae,ve),ve=Ae}(!ve||Pe>ve)&&(Te.onBlockNumber(Pe,ve),ve=Pe)}catch(Pe){Te.onError?.(Pe)}},{emitOnBegin:ee,interval:pe}))})():(()=>{let _e=!0,Te=()=>_e=!1;return(async()=>{try{const{unsubscribe:Pe}=await re.transport.subscribe({params:["newHeads"],onData(Ae){if(!_e)return;const Se=hexToBigInt(Ae.result?.number);oe(Se,ve),ve=Se},onError(Ae){ae?.(Ae)}});Te=Pe,_e||Te()}catch(Pe){ae?.(Pe)}})(),Te})()}async function waitForTransactionReceipt(re,{confirmations:ee=1,hash:ne,onReplaced:oe,pollingInterval:ae=re.pollingInterval,timeout:he}){const pe=stringify(["waitForTransactionReceipt",re.uid,ne]);let ge,ve,we,Ee=!1;return new Promise((_e,Te)=>{he&&setTimeout(()=>Te(new WaitForTransactionReceiptTimeoutError({hash:ne})),he);const Pe=observe(pe,{onReplaced:oe,resolve:_e,reject:Te},Ae=>{const Se=watchBlockNumber(re,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:ae,async onBlockNumber(Re){if(Ee)return;let Ne=Re;const Me=Le=>{Se(),Le(),Pe()};try{if(we){if(Ne-we.blockNumber+1n<ee)return;Me(()=>Ae.resolve(we));return}if(ge||(Ee=!0,await withRetry(async()=>{ge=await getTransaction(re,{hash:ne}),ge.blockNumber&&(Ne=ge.blockNumber)},{delay:({count:Le})=>~~(1<<Le)*200,retryCount:6}),Ee=!1),we=await getTransactionReceipt(re,{hash:ne}),ee>0&&Ne-we.blockNumber+1n<ee)return;Me(()=>Ae.resolve(we))}catch(Le){if(ge&&(Le instanceof TransactionNotFoundError||Le instanceof TransactionReceiptNotFoundError)){ve=ge;const We=(await getBlock(re,{blockNumber:Ne,includeTransactions:!0})).transactions.find(({from:Xe,nonce:tt})=>Xe===ve.from&&tt===ve.nonce);if(!We||(we=await getTransactionReceipt(re,{hash:We.hash}),Ne-we.blockNumber+1n<ee))return;let Qe="replaced";We.to===ve.to&&We.value===ve.value?Qe="repriced":We.from===We.to&&We.value===0n&&(Qe="cancelled"),Me(()=>{Ae.onReplaced?.({reason:Qe,replacedTransaction:ve,transaction:We,transactionReceipt:we}),Ae.resolve(we)})}else Me(()=>Ae.reject(Le))}}})})})}function watchBlocks(re,{blockTag:ee="latest",emitMissed:ne=!1,emitOnBegin:oe=!1,onBlock:ae,onError:he,includeTransactions:pe,poll:ge,pollingInterval:ve=re.pollingInterval}){const we=typeof ge<"u"?ge:re.transport.type!=="webSocket",Ee=pe??!1;let _e;return we?(()=>{const Ae=stringify(["watchBlocks",re.uid,ne,oe,Ee,ve]);return observe(Ae,{onBlock:ae,onError:he},Se=>poll(async()=>{try{const Re=await getBlock(re,{blockTag:ee,includeTransactions:Ee});if(Re.number&&_e?.number){if(Re.number===_e.number)return;if(Re.number-_e.number>1&&ne)for(let Ne=_e?.number+1n;Ne<Re.number;Ne++){const Me=await getBlock(re,{blockNumber:Ne,includeTransactions:Ee});Se.onBlock(Me,_e),_e=Me}}(!_e?.number||ee==="pending"&&!Re?.number||Re.number&&Re.number>_e.number)&&(Se.onBlock(Re,_e),_e=Re)}catch(Re){Se.onError?.(Re)}},{emitOnBegin:oe,interval:ve}))})():(()=>{let Ae=!0,Se=()=>Ae=!1;return(async()=>{try{const{unsubscribe:Re}=await re.transport.subscribe({params:["newHeads"],onData(Ne){if(!Ae)return;const Le=(re.chain?.formatters?.block?.format||formatBlock)(Ne.result);ae(Le,_e),_e=Le},onError(Ne){he?.(Ne)}});Se=Re,Ae||Se()}catch(Re){he?.(Re)}})(),Se})()}function watchEvent(re,{address:ee,args:ne,batch:oe=!0,event:ae,events:he,onError:pe,onLogs:ge,poll:ve,pollingInterval:we=re.pollingInterval,strict:Ee}){const _e=typeof ve<"u"?ve:re.transport.type!=="webSocket",Te=Ee??!1;return _e?(()=>{const Se=stringify(["watchEvent",ee,ne,oe,re.uid,ae,we]);return observe(Se,{onLogs:ge,onError:pe},Re=>{let Ne,Me,Le=!1;const qe=poll(async()=>{if(!Le){try{Me=await createEventFilter(re,{address:ee,args:ne,event:ae,events:he,strict:Te})}catch{}Le=!0;return}try{let We;if(Me)We=await getFilterChanges(re,{filter:Me});else{const Qe=await getBlockNumber(re);Ne&&Ne!==Qe?We=await getLogs(re,{address:ee,args:ne,event:ae,events:he,fromBlock:Ne+1n,toBlock:Qe}):We=[],Ne=Qe}if(We.length===0)return;oe?Re.onLogs(We):We.forEach(Qe=>Re.onLogs([Qe]))}catch(We){Me&&We instanceof InvalidInputRpcError&&(Le=!1),Re.onError?.(We)}},{emitOnBegin:!0,interval:we});return async()=>{Me&&await uninstallFilter(re,{filter:Me}),qe()}})})():(()=>{let Se=!0,Re=()=>Se=!1;return(async()=>{try{const Ne=he??(ae?[ae]:void 0);let Me=[];Ne&&(Me=[Ne.flatMap(qe=>encodeEventTopics({abi:[qe],eventName:qe.name,args:ne}))],ae&&(Me=Me[0]));const{unsubscribe:Le}=await re.transport.subscribe({params:["logs",{address:ee,topics:Me}],onData(qe){if(!Se)return;const We=qe.result;try{const{eventName:Qe,args:Xe}=decodeEventLog({abi:Ne,data:We.data,topics:We.topics,strict:Te}),tt=formatLog(We,{args:Xe,eventName:Qe});ge([tt])}catch(Qe){let Xe,tt;if(Qe instanceof DecodeLogDataMismatch||Qe instanceof DecodeLogTopicsMismatch){if(Ee)return;Xe=Qe.abiItem.name,tt=Qe.abiItem.inputs?.some(ct=>!("name"in ct&&ct.name))}const lt=formatLog(We,{args:tt?[]:{},eventName:Xe});ge([lt])}},onError(qe){pe?.(qe)}});Re=Le,Se||Re()}catch(Ne){pe?.(Ne)}})(),Re})()}function watchPendingTransactions(re,{batch:ee=!0,onError:ne,onTransactions:oe,poll:ae,pollingInterval:he=re.pollingInterval}){return(typeof ae<"u"?ae:re.transport.type!=="webSocket")?(()=>{const we=stringify(["watchPendingTransactions",re.uid,ee,he]);return observe(we,{onTransactions:oe,onError:ne},Ee=>{let _e;const Te=poll(async()=>{try{if(!_e)try{_e=await createPendingTransactionFilter(re);return}catch(Ae){throw Te(),Ae}const Pe=await getFilterChanges(re,{filter:_e});if(Pe.length===0)return;ee?Ee.onTransactions(Pe):Pe.forEach(Ae=>Ee.onTransactions([Ae]))}catch(Pe){Ee.onError?.(Pe)}},{emitOnBegin:!0,interval:he});return async()=>{_e&&await uninstallFilter(re,{filter:_e}),Te()}})})():(()=>{let we=!0,Ee=()=>we=!1;return(async()=>{try{const{unsubscribe:_e}=await re.transport.subscribe({params:["newPendingTransactions"],onData(Te){if(!we)return;const Pe=Te.result;oe([Pe])},onError(Te){ne?.(Te)}});Ee=_e,we||Ee()}catch(_e){ne?.(_e)}})(),Ee})()}function publicActions(re){return{call:ee=>call(re,ee),createBlockFilter:()=>createBlockFilter(re),createContractEventFilter:ee=>createContractEventFilter(re,ee),createEventFilter:ee=>createEventFilter(re,ee),createPendingTransactionFilter:()=>createPendingTransactionFilter(re),estimateContractGas:ee=>estimateContractGas(re,ee),estimateGas:ee=>estimateGas(re,ee),getBalance:ee=>getBalance(re,ee),getBlock:ee=>getBlock(re,ee),getBlockNumber:ee=>getBlockNumber(re,ee),getBlockTransactionCount:ee=>getBlockTransactionCount(re,ee),getBytecode:ee=>getBytecode(re,ee),getChainId:()=>getChainId(re),getEnsAddress:ee=>getEnsAddress(re,ee),getEnsAvatar:ee=>getEnsAvatar(re,ee),getEnsName:ee=>getEnsName(re,ee),getEnsResolver:ee=>getEnsResolver(re,ee),getEnsText:ee=>getEnsText(re,ee),getFeeHistory:ee=>getFeeHistory(re,ee),getFilterChanges:ee=>getFilterChanges(re,ee),getFilterLogs:ee=>getFilterLogs(re,ee),getGasPrice:()=>getGasPrice(re),getLogs:ee=>getLogs(re,ee),getStorageAt:ee=>getStorageAt(re,ee),getTransaction:ee=>getTransaction(re,ee),getTransactionConfirmations:ee=>getTransactionConfirmations(re,ee),getTransactionCount:ee=>getTransactionCount(re,ee),getTransactionReceipt:ee=>getTransactionReceipt(re,ee),multicall:ee=>multicall(re,ee),readContract:ee=>readContract(re,ee),simulateContract:ee=>simulateContract(re,ee),verifyMessage:ee=>verifyMessage(re,ee),verifyTypedData:ee=>verifyTypedData(re,ee),uninstallFilter:ee=>uninstallFilter(re,ee),waitForTransactionReceipt:ee=>waitForTransactionReceipt(re,ee),watchBlocks:ee=>watchBlocks(re,ee),watchBlockNumber:ee=>watchBlockNumber(re,ee),watchContractEvent:ee=>watchContractEvent(re,ee),watchEvent:ee=>watchEvent(re,ee),watchPendingTransactions:ee=>watchPendingTransactions(re,ee)}}function createPublicClient(re){const{key:ee="public",name:ne="Public Client"}=re;return createClient$1({...re,key:ee,name:ne,type:"publicClient"}).extend(publicActions)}function deployContract(re,{abi:ee,args:ne,bytecode:oe,...ae}){const he=encodeDeployData({abi:ee,args:ne,bytecode:oe});return sendTransaction(re,{...ae,data:he})}async function getAddresses(re){return(await re.request({method:"eth_accounts"})).map(ne=>checksumAddress(ne))}async function getPermissions(re){return await re.request({method:"wallet_getPermissions"})}async function requestAddresses(re){return(await re.request({method:"eth_requestAccounts"})).map(ne=>getAddress(ne))}async function requestPermissions(re,ee){return re.request({method:"wallet_requestPermissions",params:[ee]})}async function signMessage(re,{account:ee=re.account,message:ne}){if(!ee)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const oe=parseAccount(ee);if(oe.type==="local")return oe.signMessage({message:ne});const ae=(()=>typeof ne=="string"?stringToHex(ne):ne.raw instanceof Uint8Array?toHex(ne.raw):ne.raw)();return re.request({method:"personal_sign",params:[ae,oe.address]})}async function signTypedData(re,{account:ee=re.account,domain:ne,message:oe,primaryType:ae,types:he}){if(!ee)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const pe=parseAccount(ee),ge={EIP712Domain:[typeof ne?.name=="string"&&{name:"name",type:"string"},ne?.version&&{name:"version",type:"string"},typeof ne?.chainId=="number"&&{name:"chainId",type:"uint256"},ne?.verifyingContract&&{name:"verifyingContract",type:"address"},ne?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...he};if(validateTypedData({domain:ne,message:oe,primaryType:ae,types:ge}),pe.type==="local")return pe.signTypedData({domain:ne,primaryType:ae,types:ge,message:oe});const ve=stringify({domain:ne??{},primaryType:ae,types:ge,message:oe},(we,Ee)=>isHex(Ee)?Ee.toLowerCase():Ee);return re.request({method:"eth_signTypedData_v4",params:[pe.address,ve]})}async function switchChain(re,{id:ee}){await re.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(ee)}]})}async function watchAsset(re,ee){return await re.request({method:"wallet_watchAsset",params:ee})}function walletActions(re){return{addChain:ee=>addChain(re,ee),deployContract:ee=>deployContract(re,ee),getAddresses:()=>getAddresses(re),getChainId:()=>getChainId(re),getPermissions:()=>getPermissions(re),requestAddresses:()=>requestAddresses(re),requestPermissions:ee=>requestPermissions(re,ee),sendTransaction:ee=>sendTransaction(re,ee),signMessage:ee=>signMessage(re,ee),signTypedData:ee=>signTypedData(re,ee),switchChain:ee=>switchChain(re,ee),watchAsset:ee=>watchAsset(re,ee),writeContract:ee=>writeContract(re,ee)}}function createWalletClient(re){const{key:ee="wallet",name:ne="Wallet Client",transport:oe}=re;return createClient$1({...re,key:ee,name:ne,transport:he=>oe({...he,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(re,ee={}){const{key:ne="webSocket",name:oe="WebSocket JSON-RPC",retryDelay:ae}=ee;return({chain:he,retryCount:pe,timeout:ge})=>{const ve=ee.retryCount??pe,we=ge??ee.timeout??1e4,Ee=re||he?.rpcUrls.default.webSocket?.[0];if(!Ee)throw new UrlRequiredError;return createTransport({key:ne,name:oe,async request({method:_e,params:Te}){const Pe={method:_e,params:Te},Ae=await getSocket(Ee),{error:Se,result:Re}=await rpc$1.webSocketAsync(Ae,{body:Pe,timeout:we});if(Se)throw new RpcRequestError({body:Pe,error:Se,url:Ee});return Re},retryCount:ve,retryDelay:ae,timeout:we,type:"webSocket"},{getSocket(){return getSocket(Ee)},async subscribe({params:_e,onData:Te,onError:Pe}){const Ae=await getSocket(Ee),{result:Se}=await new Promise((Re,Ne)=>rpc$1.webSocket(Ae,{body:{method:"eth_subscribe",params:_e},onResponse(Me){if(Me.error){Ne(Me.error),Pe?.(Me.error);return}if(typeof Me.id=="number"){Re(Me);return}Me.method==="eth_subscription"&&Te(Me.params)}}));return{subscriptionId:Se,async unsubscribe(){return new Promise(Re=>rpc$1.webSocket(Ae,{body:{method:"eth_unsubscribe",params:[Se]},onResponse:Re}))}}}})}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(re,ee,ne){this.low=re|0,this.high=ee|0,this.unsigned=!!ne}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(re){return(re&&re.__isLong__)===!0}function ctz32(re){var ee=Math.clz32(re&-re);return re?31-ee:ee}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(re,ee){var ne,oe,ae;return ee?(re>>>=0,(ae=0<=re&&re<256)&&(oe=UINT_CACHE[re],oe)?oe:(ne=fromBits(re,0,!0),ae&&(UINT_CACHE[re]=ne),ne)):(re|=0,(ae=-128<=re&&re<128)&&(oe=INT_CACHE[re],oe)?oe:(ne=fromBits(re,re<0?-1:0,!1),ae&&(INT_CACHE[re]=ne),ne))}Long.fromInt=fromInt;function fromNumber(re,ee){if(isNaN(re))return ee?UZERO:ZERO;if(ee){if(re<0)return UZERO;if(re>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(re<=-TWO_PWR_63_DBL)return MIN_VALUE;if(re+1>=TWO_PWR_63_DBL)return MAX_VALUE}return re<0?fromNumber(-re,ee).neg():fromBits(re%TWO_PWR_32_DBL|0,re/TWO_PWR_32_DBL|0,ee)}Long.fromNumber=fromNumber;function fromBits(re,ee,ne){return new Long(re,ee,ne)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(re,ee,ne){if(re.length===0)throw Error("empty string");if(typeof ee=="number"?(ne=ee,ee=!1):ee=!!ee,re==="NaN"||re==="Infinity"||re==="+Infinity"||re==="-Infinity")return ee?UZERO:ZERO;if(ne=ne||10,ne<2||36<ne)throw RangeError("radix");var oe;if((oe=re.indexOf("-"))>0)throw Error("interior hyphen");if(oe===0)return fromString(re.substring(1),ee,ne).neg();for(var ae=fromNumber(pow_dbl(ne,8)),he=ZERO,pe=0;pe<re.length;pe+=8){var ge=Math.min(8,re.length-pe),ve=parseInt(re.substring(pe,pe+ge),ne);if(ge<8){var we=fromNumber(pow_dbl(ne,ge));he=he.mul(we).add(fromNumber(ve))}else he=he.mul(ae),he=he.add(fromNumber(ve))}return he.unsigned=ee,he}Long.fromString=fromString;function fromValue(re,ee){return typeof re=="number"?fromNumber(re,ee):typeof re=="string"?fromString(re,ee):fromBits(re.low,re.high,typeof ee=="boolean"?ee:re.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(ee){if(ee=ee||10,ee<2||36<ee)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var ne=fromNumber(ee),oe=this.div(ne),ae=oe.mul(ne).sub(this);return oe.toString(ee)+ae.toInt().toString(ee)}else return"-"+this.neg().toString(ee);for(var he=fromNumber(pow_dbl(ee,6),this.unsigned),pe=this,ge="";;){var ve=pe.div(he),we=pe.sub(ve.mul(he)).toInt()>>>0,Ee=we.toString(ee);if(pe=ve,pe.isZero())return Ee+ge;for(;Ee.length<6;)Ee="0"+Ee;ge=""+Ee+ge}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var ee=this.high!=0?this.high:this.low,ne=31;ne>0&&!(ee&1<<ne);ne--);return this.high!=0?ne+33:ne+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(ee){return isLong(ee)||(ee=fromValue(ee)),this.unsigned!==ee.unsigned&&this.high>>>31===1&&ee.high>>>31===1?!1:this.high===ee.high&&this.low===ee.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(ee){return!this.eq(ee)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(ee){return this.comp(ee)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(ee){return this.comp(ee)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(ee){return this.comp(ee)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(ee){return this.comp(ee)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(ee){if(isLong(ee)||(ee=fromValue(ee)),this.eq(ee))return 0;var ne=this.isNegative(),oe=ee.isNegative();return ne&&!oe?-1:!ne&&oe?1:this.unsigned?ee.high>>>0>this.high>>>0||ee.high===this.high&&ee.low>>>0>this.low>>>0?-1:1:this.sub(ee).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(ee){isLong(ee)||(ee=fromValue(ee));var ne=this.high>>>16,oe=this.high&65535,ae=this.low>>>16,he=this.low&65535,pe=ee.high>>>16,ge=ee.high&65535,ve=ee.low>>>16,we=ee.low&65535,Ee=0,_e=0,Te=0,Pe=0;return Pe+=he+we,Te+=Pe>>>16,Pe&=65535,Te+=ae+ve,_e+=Te>>>16,Te&=65535,_e+=oe+ge,Ee+=_e>>>16,_e&=65535,Ee+=ne+pe,Ee&=65535,fromBits(Te<<16|Pe,Ee<<16|_e,this.unsigned)};LongPrototype.subtract=function(ee){return isLong(ee)||(ee=fromValue(ee)),this.add(ee.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(ee){if(this.isZero())return this;if(isLong(ee)||(ee=fromValue(ee)),wasm){var ne=wasm.mul(this.low,this.high,ee.low,ee.high);return fromBits(ne,wasm.get_high(),this.unsigned)}if(ee.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return ee.isOdd()?MIN_VALUE:ZERO;if(ee.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return ee.isNegative()?this.neg().mul(ee.neg()):this.neg().mul(ee).neg();if(ee.isNegative())return this.mul(ee.neg()).neg();if(this.lt(TWO_PWR_24)&&ee.lt(TWO_PWR_24))return fromNumber(this.toNumber()*ee.toNumber(),this.unsigned);var oe=this.high>>>16,ae=this.high&65535,he=this.low>>>16,pe=this.low&65535,ge=ee.high>>>16,ve=ee.high&65535,we=ee.low>>>16,Ee=ee.low&65535,_e=0,Te=0,Pe=0,Ae=0;return Ae+=pe*Ee,Pe+=Ae>>>16,Ae&=65535,Pe+=he*Ee,Te+=Pe>>>16,Pe&=65535,Pe+=pe*we,Te+=Pe>>>16,Pe&=65535,Te+=ae*Ee,_e+=Te>>>16,Te&=65535,Te+=he*we,_e+=Te>>>16,Te&=65535,Te+=pe*ve,_e+=Te>>>16,Te&=65535,_e+=oe*Ee+ae*we+he*ve+pe*ge,_e&=65535,fromBits(Pe<<16|Ae,_e<<16|Te,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(ee){if(isLong(ee)||(ee=fromValue(ee)),ee.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&ee.low===-1&&ee.high===-1)return this;var ne=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,ee.low,ee.high);return fromBits(ne,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var oe,ae,he;if(this.unsigned){if(ee.unsigned||(ee=ee.toUnsigned()),ee.gt(this))return UZERO;if(ee.gt(this.shru(1)))return UONE;he=UZERO}else{if(this.eq(MIN_VALUE)){if(ee.eq(ONE)||ee.eq(NEG_ONE))return MIN_VALUE;if(ee.eq(MIN_VALUE))return ONE;var pe=this.shr(1);return oe=pe.div(ee).shl(1),oe.eq(ZERO)?ee.isNegative()?ONE:NEG_ONE:(ae=this.sub(ee.mul(oe)),he=oe.add(ae.div(ee)),he)}else if(ee.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return ee.isNegative()?this.neg().div(ee.neg()):this.neg().div(ee).neg();if(ee.isNegative())return this.div(ee.neg()).neg();he=ZERO}for(ae=this;ae.gte(ee);){oe=Math.max(1,Math.floor(ae.toNumber()/ee.toNumber()));for(var ge=Math.ceil(Math.log(oe)/Math.LN2),ve=ge<=48?1:pow_dbl(2,ge-48),we=fromNumber(oe),Ee=we.mul(ee);Ee.isNegative()||Ee.gt(ae);)oe-=ve,we=fromNumber(oe,this.unsigned),Ee=we.mul(ee);we.isZero()&&(we=ONE),he=he.add(we),ae=ae.sub(Ee)}return he};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(ee){if(isLong(ee)||(ee=fromValue(ee)),wasm){var ne=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,ee.low,ee.high);return fromBits(ne,wasm.get_high(),this.unsigned)}return this.sub(this.div(ee).mul(ee))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(ee){return isLong(ee)||(ee=fromValue(ee)),fromBits(this.low&ee.low,this.high&ee.high,this.unsigned)};LongPrototype.or=function(ee){return isLong(ee)||(ee=fromValue(ee)),fromBits(this.low|ee.low,this.high|ee.high,this.unsigned)};LongPrototype.xor=function(ee){return isLong(ee)||(ee=fromValue(ee)),fromBits(this.low^ee.low,this.high^ee.high,this.unsigned)};LongPrototype.shiftLeft=function(ee){return isLong(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee<32?fromBits(this.low<<ee,this.high<<ee|this.low>>>32-ee,this.unsigned):fromBits(0,this.low<<ee-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(ee){return isLong(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee<32?fromBits(this.low>>>ee|this.high<<32-ee,this.high>>ee,this.unsigned):fromBits(this.high>>ee-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(ee){return isLong(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee<32?fromBits(this.low>>>ee|this.high<<32-ee,this.high>>>ee,this.unsigned):ee===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>ee-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(ee){var ne;return isLong(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee===32?fromBits(this.high,this.low,this.unsigned):ee<32?(ne=32-ee,fromBits(this.low<<ee|this.high>>>ne,this.high<<ee|this.low>>>ne,this.unsigned)):(ee-=32,ne=32-ee,fromBits(this.high<<ee|this.low>>>ne,this.low<<ee|this.high>>>ne,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(ee){var ne;return isLong(ee)&&(ee=ee.toInt()),(ee&=63)===0?this:ee===32?fromBits(this.high,this.low,this.unsigned):ee<32?(ne=32-ee,fromBits(this.high<<ne|this.low>>>ee,this.low<<ne|this.high>>>ee,this.unsigned)):(ee-=32,ne=32-ee,fromBits(this.low<<ne|this.high>>>ee,this.high<<ne|this.low>>>ee,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(ee){return ee?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var ee=this.high,ne=this.low;return[ne&255,ne>>>8&255,ne>>>16&255,ne>>>24,ee&255,ee>>>8&255,ee>>>16&255,ee>>>24]};LongPrototype.toBytesBE=function(){var ee=this.high,ne=this.low;return[ee>>>24,ee>>>16&255,ee>>>8&255,ee&255,ne>>>24,ne>>>16&255,ne>>>8&255,ne&255]};Long.fromBytes=function(ee,ne,oe){return oe?Long.fromBytesLE(ee,ne):Long.fromBytesBE(ee,ne)};Long.fromBytesLE=function(ee,ne){return new Long(ee[0]|ee[1]<<8|ee[2]<<16|ee[3]<<24,ee[4]|ee[5]<<8|ee[6]<<16|ee[7]<<24,ne)};Long.fromBytesBE=function(ee,ne){return new Long(ee[4]<<24|ee[5]<<16|ee[6]<<8|ee[7],ee[0]<<24|ee[1]<<16|ee[2]<<8|ee[3],ne)};var minimalExports={},minimal$1={get exports(){return minimalExports},set exports(re){minimalExports=re}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(re,ee){for(var ne=new Array(arguments.length-1),oe=0,ae=2,he=!0;ae<arguments.length;)ne[oe++]=arguments[ae++];return new Promise(function(ge,ve){ne[oe]=function(Ee){if(he)if(he=!1,Ee)ve(Ee);else{for(var _e=new Array(arguments.length-1),Te=0;Te<_e.length;)_e[Te++]=arguments[Te];ge.apply(null,_e)}};try{re.apply(ee||null,ne)}catch(we){he&&(he=!1,ve(we))}})}var base64$2={};(function(re){var ee=re;ee.length=function(ge){var ve=ge.length;if(!ve)return 0;for(var we=0;--ve%4>1&&ge.charAt(ve)==="=";)++we;return Math.ceil(ge.length*3)/4-we};for(var ne=new Array(64),oe=new Array(123),ae=0;ae<64;)oe[ne[ae]=ae<26?ae+65:ae<52?ae+71:ae<62?ae-4:ae-59|43]=ae++;ee.encode=function(ge,ve,we){for(var Ee=null,_e=[],Te=0,Pe=0,Ae;ve<we;){var Se=ge[ve++];switch(Pe){case 0:_e[Te++]=ne[Se>>2],Ae=(Se&3)<<4,Pe=1;break;case 1:_e[Te++]=ne[Ae|Se>>4],Ae=(Se&15)<<2,Pe=2;break;case 2:_e[Te++]=ne[Ae|Se>>6],_e[Te++]=ne[Se&63],Pe=0;break}Te>8191&&((Ee||(Ee=[])).push(String.fromCharCode.apply(String,_e)),Te=0)}return Pe&&(_e[Te++]=ne[Ae],_e[Te++]=61,Pe===1&&(_e[Te++]=61)),Ee?(Te&&Ee.push(String.fromCharCode.apply(String,_e.slice(0,Te))),Ee.join("")):String.fromCharCode.apply(String,_e.slice(0,Te))};var he="invalid encoding";ee.decode=function(ge,ve,we){for(var Ee=we,_e=0,Te,Pe=0;Pe<ge.length;){var Ae=ge.charCodeAt(Pe++);if(Ae===61&&_e>1)break;if((Ae=oe[Ae])===void 0)throw Error(he);switch(_e){case 0:Te=Ae,_e=1;break;case 1:ve[we++]=Te<<2|(Ae&48)>>4,Te=Ae,_e=2;break;case 2:ve[we++]=(Te&15)<<4|(Ae&60)>>2,Te=Ae,_e=3;break;case 3:ve[we++]=(Te&3)<<6|Ae,_e=0;break}}if(_e===1)throw Error(he);return we-Ee},ee.test=function(ge){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ge)}})(base64$2);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(ee,ne,oe){return(this._listeners[ee]||(this._listeners[ee]=[])).push({fn:ne,ctx:oe||this}),this};EventEmitter.prototype.off=function(ee,ne){if(ee===void 0)this._listeners={};else if(ne===void 0)this._listeners[ee]=[];else for(var oe=this._listeners[ee],ae=0;ae<oe.length;)oe[ae].fn===ne?oe.splice(ae,1):++ae;return this};EventEmitter.prototype.emit=function(ee){var ne=this._listeners[ee];if(ne){for(var oe=[],ae=1;ae<arguments.length;)oe.push(arguments[ae++]);for(ae=0;ae<ne.length;)ne[ae].fn.apply(ne[ae++].ctx,oe)}return this};var float=factory(factory);function factory(re){return typeof Float32Array<"u"?function(){var ee=new Float32Array([-0]),ne=new Uint8Array(ee.buffer),oe=ne[3]===128;function ae(ve,we,Ee){ee[0]=ve,we[Ee]=ne[0],we[Ee+1]=ne[1],we[Ee+2]=ne[2],we[Ee+3]=ne[3]}function he(ve,we,Ee){ee[0]=ve,we[Ee]=ne[3],we[Ee+1]=ne[2],we[Ee+2]=ne[1],we[Ee+3]=ne[0]}re.writeFloatLE=oe?ae:he,re.writeFloatBE=oe?he:ae;function pe(ve,we){return ne[0]=ve[we],ne[1]=ve[we+1],ne[2]=ve[we+2],ne[3]=ve[we+3],ee[0]}function ge(ve,we){return ne[3]=ve[we],ne[2]=ve[we+1],ne[1]=ve[we+2],ne[0]=ve[we+3],ee[0]}re.readFloatLE=oe?pe:ge,re.readFloatBE=oe?ge:pe}():function(){function ee(oe,ae,he,pe){var ge=ae<0?1:0;if(ge&&(ae=-ae),ae===0)oe(1/ae>0?0:2147483648,he,pe);else if(isNaN(ae))oe(2143289344,he,pe);else if(ae>34028234663852886e22)oe((ge<<31|2139095040)>>>0,he,pe);else if(ae<11754943508222875e-54)oe((ge<<31|Math.round(ae/1401298464324817e-60))>>>0,he,pe);else{var ve=Math.floor(Math.log(ae)/Math.LN2),we=Math.round(ae*Math.pow(2,-ve)*8388608)&8388607;oe((ge<<31|ve+127<<23|we)>>>0,he,pe)}}re.writeFloatLE=ee.bind(null,writeUintLE),re.writeFloatBE=ee.bind(null,writeUintBE);function ne(oe,ae,he){var pe=oe(ae,he),ge=(pe>>31)*2+1,ve=pe>>>23&255,we=pe&8388607;return ve===255?we?NaN:ge*(1/0):ve===0?ge*1401298464324817e-60*we:ge*Math.pow(2,ve-150)*(we+8388608)}re.readFloatLE=ne.bind(null,readUintLE),re.readFloatBE=ne.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var ee=new Float64Array([-0]),ne=new Uint8Array(ee.buffer),oe=ne[7]===128;function ae(ve,we,Ee){ee[0]=ve,we[Ee]=ne[0],we[Ee+1]=ne[1],we[Ee+2]=ne[2],we[Ee+3]=ne[3],we[Ee+4]=ne[4],we[Ee+5]=ne[5],we[Ee+6]=ne[6],we[Ee+7]=ne[7]}function he(ve,we,Ee){ee[0]=ve,we[Ee]=ne[7],we[Ee+1]=ne[6],we[Ee+2]=ne[5],we[Ee+3]=ne[4],we[Ee+4]=ne[3],we[Ee+5]=ne[2],we[Ee+6]=ne[1],we[Ee+7]=ne[0]}re.writeDoubleLE=oe?ae:he,re.writeDoubleBE=oe?he:ae;function pe(ve,we){return ne[0]=ve[we],ne[1]=ve[we+1],ne[2]=ve[we+2],ne[3]=ve[we+3],ne[4]=ve[we+4],ne[5]=ve[we+5],ne[6]=ve[we+6],ne[7]=ve[we+7],ee[0]}function ge(ve,we){return ne[7]=ve[we],ne[6]=ve[we+1],ne[5]=ve[we+2],ne[4]=ve[we+3],ne[3]=ve[we+4],ne[2]=ve[we+5],ne[1]=ve[we+6],ne[0]=ve[we+7],ee[0]}re.readDoubleLE=oe?pe:ge,re.readDoubleBE=oe?ge:pe}():function(){function ee(oe,ae,he,pe,ge,ve){var we=pe<0?1:0;if(we&&(pe=-pe),pe===0)oe(0,ge,ve+ae),oe(1/pe>0?0:2147483648,ge,ve+he);else if(isNaN(pe))oe(0,ge,ve+ae),oe(2146959360,ge,ve+he);else if(pe>17976931348623157e292)oe(0,ge,ve+ae),oe((we<<31|2146435072)>>>0,ge,ve+he);else{var Ee;if(pe<22250738585072014e-324)Ee=pe/5e-324,oe(Ee>>>0,ge,ve+ae),oe((we<<31|Ee/4294967296)>>>0,ge,ve+he);else{var _e=Math.floor(Math.log(pe)/Math.LN2);_e===1024&&(_e=1023),Ee=pe*Math.pow(2,-_e),oe(Ee*4503599627370496>>>0,ge,ve+ae),oe((we<<31|_e+1023<<20|Ee*1048576&1048575)>>>0,ge,ve+he)}}}re.writeDoubleLE=ee.bind(null,writeUintLE,0,4),re.writeDoubleBE=ee.bind(null,writeUintBE,4,0);function ne(oe,ae,he,pe,ge){var ve=oe(pe,ge+ae),we=oe(pe,ge+he),Ee=(we>>31)*2+1,_e=we>>>20&2047,Te=4294967296*(we&1048575)+ve;return _e===2047?Te?NaN:Ee*(1/0):_e===0?Ee*5e-324*Te:Ee*Math.pow(2,_e-1075)*(Te+4503599627370496)}re.readDoubleLE=ne.bind(null,readUintLE,0,4),re.readDoubleBE=ne.bind(null,readUintBE,4,0)}(),re}function writeUintLE(re,ee,ne){ee[ne]=re&255,ee[ne+1]=re>>>8&255,ee[ne+2]=re>>>16&255,ee[ne+3]=re>>>24}function writeUintBE(re,ee,ne){ee[ne]=re>>>24,ee[ne+1]=re>>>16&255,ee[ne+2]=re>>>8&255,ee[ne+3]=re&255}function readUintLE(re,ee){return(re[ee]|re[ee+1]<<8|re[ee+2]<<16|re[ee+3]<<24)>>>0}function readUintBE(re,ee){return(re[ee]<<24|re[ee+1]<<16|re[ee+2]<<8|re[ee+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(re){}return null}var utf8$2={};(function(re){var ee=re;ee.length=function(oe){for(var ae=0,he=0,pe=0;pe<oe.length;++pe)he=oe.charCodeAt(pe),he<128?ae+=1:he<2048?ae+=2:(he&64512)===55296&&(oe.charCodeAt(pe+1)&64512)===56320?(++pe,ae+=4):ae+=3;return ae},ee.read=function(oe,ae,he){var pe=he-ae;if(pe<1)return"";for(var ge=null,ve=[],we=0,Ee;ae<he;)Ee=oe[ae++],Ee<128?ve[we++]=Ee:Ee>191&&Ee<224?ve[we++]=(Ee&31)<<6|oe[ae++]&63:Ee>239&&Ee<365?(Ee=((Ee&7)<<18|(oe[ae++]&63)<<12|(oe[ae++]&63)<<6|oe[ae++]&63)-65536,ve[we++]=55296+(Ee>>10),ve[we++]=56320+(Ee&1023)):ve[we++]=(Ee&15)<<12|(oe[ae++]&63)<<6|oe[ae++]&63,we>8191&&((ge||(ge=[])).push(String.fromCharCode.apply(String,ve)),we=0);return ge?(we&&ge.push(String.fromCharCode.apply(String,ve.slice(0,we))),ge.join("")):String.fromCharCode.apply(String,ve.slice(0,we))},ee.write=function(oe,ae,he){for(var pe=he,ge,ve,we=0;we<oe.length;++we)ge=oe.charCodeAt(we),ge<128?ae[he++]=ge:ge<2048?(ae[he++]=ge>>6|192,ae[he++]=ge&63|128):(ge&64512)===55296&&((ve=oe.charCodeAt(we+1))&64512)===56320?(ge=65536+((ge&1023)<<10)+(ve&1023),++we,ae[he++]=ge>>18|240,ae[he++]=ge>>12&63|128,ae[he++]=ge>>6&63|128,ae[he++]=ge&63|128):(ae[he++]=ge>>12|224,ae[he++]=ge>>6&63|128,ae[he++]=ge&63|128);return he-pe}})(utf8$2);var pool_1=pool;function pool(re,ee,ne){var oe=ne||8192,ae=oe>>>1,he=null,pe=oe;return function(ve){if(ve<1||ve>ae)return re(ve);pe+ve>oe&&(he=re(oe),pe=0);var we=ee.call(he,pe,pe+=ve);return pe&7&&(pe=(pe|7)+1),we}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=ee;var re=requireMinimal();function ee(he,pe){this.lo=he>>>0,this.hi=pe>>>0}var ne=ee.zero=new ee(0,0);ne.toNumber=function(){return 0},ne.zzEncode=ne.zzDecode=function(){return this},ne.length=function(){return 1};var oe=ee.zeroHash="\0\0\0\0\0\0\0\0";ee.fromNumber=function(pe){if(pe===0)return ne;var ge=pe<0;ge&&(pe=-pe);var ve=pe>>>0,we=(pe-ve)/4294967296>>>0;return ge&&(we=~we>>>0,ve=~ve>>>0,++ve>4294967295&&(ve=0,++we>4294967295&&(we=0))),new ee(ve,we)},ee.from=function(pe){if(typeof pe=="number")return ee.fromNumber(pe);if(re.isString(pe))if(re.Long)pe=re.Long.fromString(pe);else return ee.fromNumber(parseInt(pe,10));return pe.low||pe.high?new ee(pe.low>>>0,pe.high>>>0):ne},ee.prototype.toNumber=function(pe){if(!pe&&this.hi>>>31){var ge=~this.lo+1>>>0,ve=~this.hi>>>0;return ge||(ve=ve+1>>>0),-(ge+ve*4294967296)}return this.lo+this.hi*4294967296},ee.prototype.toLong=function(pe){return re.Long?new re.Long(this.lo|0,this.hi|0,!!pe):{low:this.lo|0,high:this.hi|0,unsigned:!!pe}};var ae=String.prototype.charCodeAt;return ee.fromHash=function(pe){return pe===oe?ne:new ee((ae.call(pe,0)|ae.call(pe,1)<<8|ae.call(pe,2)<<16|ae.call(pe,3)<<24)>>>0,(ae.call(pe,4)|ae.call(pe,5)<<8|ae.call(pe,6)<<16|ae.call(pe,7)<<24)>>>0)},ee.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},ee.prototype.zzEncode=function(){var pe=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^pe)>>>0,this.lo=(this.lo<<1^pe)>>>0,this},ee.prototype.zzDecode=function(){var pe=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^pe)>>>0,this.hi=(this.hi>>>1^pe)>>>0,this},ee.prototype.length=function(){var pe=this.lo,ge=(this.lo>>>28|this.hi<<4)>>>0,ve=this.hi>>>24;return ve===0?ge===0?pe<16384?pe<128?1:2:pe<2097152?3:4:ge<16384?ge<128?5:6:ge<2097152?7:8:ve<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(re){var ee=re;ee.asPromise=aspromise,ee.base64=base64$2,ee.EventEmitter=eventemitter,ee.float=float,ee.inquire=inquire_1,ee.utf8=utf8$2,ee.pool=pool_1,ee.LongBits=requireLongbits(),ee.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),ee.global=ee.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,ee.emptyArray=Object.freeze?Object.freeze([]):[],ee.emptyObject=Object.freeze?Object.freeze({}):{},ee.isInteger=Number.isInteger||function(he){return typeof he=="number"&&isFinite(he)&&Math.floor(he)===he},ee.isString=function(he){return typeof he=="string"||he instanceof String},ee.isObject=function(he){return he&&typeof he=="object"},ee.isset=ee.isSet=function(he,pe){var ge=he[pe];return ge!=null&&he.hasOwnProperty(pe)?typeof ge!="object"||(Array.isArray(ge)?ge.length:Object.keys(ge).length)>0:!1},ee.Buffer=function(){try{var ae=ee.inquire("buffer").Buffer;return ae.prototype.utf8Write?ae:null}catch{return null}}(),ee._Buffer_from=null,ee._Buffer_allocUnsafe=null,ee.newBuffer=function(he){return typeof he=="number"?ee.Buffer?ee._Buffer_allocUnsafe(he):new ee.Array(he):ee.Buffer?ee._Buffer_from(he):typeof Uint8Array>"u"?he:new Uint8Array(he)},ee.Array=typeof Uint8Array<"u"?Uint8Array:Array,ee.Long=ee.global.dcodeIO&&ee.global.dcodeIO.Long||ee.global.Long||ee.inquire("long"),ee.key2Re=/^true|false|0|1$/,ee.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ee.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ee.longToHash=function(he){return he?ee.LongBits.from(he).toHash():ee.LongBits.zeroHash},ee.longFromHash=function(he,pe){var ge=ee.LongBits.fromHash(he);return ee.Long?ee.Long.fromBits(ge.lo,ge.hi,pe):ge.toNumber(!!pe)};function ne(ae,he,pe){for(var ge=Object.keys(he),ve=0;ve<ge.length;++ve)(ae[ge[ve]]===void 0||!pe)&&(ae[ge[ve]]=he[ge[ve]]);return ae}ee.merge=ne,ee.lcFirst=function(he){return he.charAt(0).toLowerCase()+he.substring(1)};function oe(ae){function he(pe,ge){if(!(this instanceof he))return new he(pe,ge);Object.defineProperty(this,"message",{get:function(){return pe}}),Error.captureStackTrace?Error.captureStackTrace(this,he):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ge&&ne(this,ge)}return he.prototype=Object.create(Error.prototype,{constructor:{value:he,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ae},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),he}ee.newError=oe,ee.ProtocolError=oe("ProtocolError"),ee.oneOfGetter=function(he){for(var pe={},ge=0;ge<he.length;++ge)pe[he[ge]]=1;return function(){for(var ve=Object.keys(this),we=ve.length-1;we>-1;--we)if(pe[ve[we]]===1&&this[ve[we]]!==void 0&&this[ve[we]]!==null)return ve[we]}},ee.oneOfSetter=function(he){return function(pe){for(var ge=0;ge<he.length;++ge)he[ge]!==pe&&delete this[he[ge]]}},ee.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ee._configure=function(){var ae=ee.Buffer;if(!ae){ee._Buffer_from=ee._Buffer_allocUnsafe=null;return}ee._Buffer_from=ae.from!==Uint8Array.from&&ae.from||function(pe,ge){return new ae(pe,ge)},ee._Buffer_allocUnsafe=ae.allocUnsafe||function(pe){return new ae(pe)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$1=util$4.base64,utf8$1=util$4.utf8;function Op(re,ee,ne){this.fn=re,this.len=ee,this.next=void 0,this.val=ne}function noop(){}function State(re){this.head=re.head,this.tail=re.tail,this.len=re.len,this.next=re.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function re(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function re(ee){return new util$4.Array(ee)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function re(ee,ne,oe){return this.tail=this.tail.next=new Op(ee,ne,oe),this.len+=ne,this};function writeByte(re,ee,ne){ee[ne]=re&255}function writeVarint32(re,ee,ne){for(;re>127;)ee[ne++]=re&127|128,re>>>=7;ee[ne]=re}function VarintOp(re,ee){this.len=re,this.next=void 0,this.val=ee}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function re(ee){return this.len+=(this.tail=this.tail.next=new VarintOp((ee=ee>>>0)<128?1:ee<16384?2:ee<2097152?3:ee<268435456?4:5,ee)).len,this};Writer$1.prototype.int32=function re(ee){return ee<0?this._push(writeVarint64,10,LongBits$1.fromNumber(ee)):this.uint32(ee)};Writer$1.prototype.sint32=function re(ee){return this.uint32((ee<<1^ee>>31)>>>0)};function writeVarint64(re,ee,ne){for(;re.hi;)ee[ne++]=re.lo&127|128,re.lo=(re.lo>>>7|re.hi<<25)>>>0,re.hi>>>=7;for(;re.lo>127;)ee[ne++]=re.lo&127|128,re.lo=re.lo>>>7;ee[ne++]=re.lo}Writer$1.prototype.uint64=function re(ee){var ne=LongBits$1.from(ee);return this._push(writeVarint64,ne.length(),ne)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function re(ee){var ne=LongBits$1.from(ee).zzEncode();return this._push(writeVarint64,ne.length(),ne)};Writer$1.prototype.bool=function re(ee){return this._push(writeByte,1,ee?1:0)};function writeFixed32(re,ee,ne){ee[ne]=re&255,ee[ne+1]=re>>>8&255,ee[ne+2]=re>>>16&255,ee[ne+3]=re>>>24}Writer$1.prototype.fixed32=function re(ee){return this._push(writeFixed32,4,ee>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function re(ee){var ne=LongBits$1.from(ee);return this._push(writeFixed32,4,ne.lo)._push(writeFixed32,4,ne.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function re(ee){return this._push(util$4.float.writeFloatLE,4,ee)};Writer$1.prototype.double=function re(ee){return this._push(util$4.float.writeDoubleLE,8,ee)};var writeBytes=util$4.Array.prototype.set?function re(ee,ne,oe){ne.set(ee,oe)}:function re(ee,ne,oe){for(var ae=0;ae<ee.length;++ae)ne[oe+ae]=ee[ae]};Writer$1.prototype.bytes=function re(ee){var ne=ee.length>>>0;if(!ne)return this._push(writeByte,1,0);if(util$4.isString(ee)){var oe=Writer$1.alloc(ne=base64$1.length(ee));base64$1.decode(ee,oe,0),ee=oe}return this.uint32(ne)._push(writeBytes,ne,ee)};Writer$1.prototype.string=function re(ee){var ne=utf8$1.length(ee);return ne?this.uint32(ne)._push(utf8$1.write,ne,ee):this._push(writeByte,1,0)};Writer$1.prototype.fork=function re(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function re(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function re(){var ee=this.head,ne=this.tail,oe=this.len;return this.reset().uint32(oe),oe&&(this.tail.next=ee.next,this.tail=ne,this.len+=oe),this};Writer$1.prototype.finish=function re(){for(var ee=this.head.next,ne=this.constructor.alloc(this.len),oe=0;ee;)ee.fn(ee.val,ne,oe),oe+=ee.len,ee=ee.next;return ne};Writer$1._configure=function(re){BufferWriter$1=re,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(ee,ne,oe){ne.set(ee,oe)}:function(ee,ne,oe){if(ee.copy)ee.copy(ne,oe,0,ee.length);else for(var ae=0;ae<ee.length;)ne[oe++]=ee[ae++]}};BufferWriter.prototype.bytes=function re(ee){util$3.isString(ee)&&(ee=util$3._Buffer_from(ee,"base64"));var ne=ee.length>>>0;return this.uint32(ne),ne&&this._push(BufferWriter.writeBytesBuffer,ne,ee),this};function writeStringBuffer(re,ee,ne){re.length<40?util$3.utf8.write(re,ee,ne):ee.utf8Write?ee.utf8Write(re,ne):ee.write(re,ne)}BufferWriter.prototype.string=function re(ee){var ne=util$3.Buffer.byteLength(ee);return this.uint32(ne),ne&&this._push(writeStringBuffer,ne,ee),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(re,ee){return RangeError("index out of range: "+re.pos+" + "+(ee||1)+" > "+re.len)}function Reader$1(re){this.buf=re,this.pos=0,this.len=re.length}var create_array=typeof Uint8Array<"u"?function re(ee){if(ee instanceof Uint8Array||Array.isArray(ee))return new Reader$1(ee);throw Error("illegal buffer")}:function re(ee){if(Array.isArray(ee))return new Reader$1(ee);throw Error("illegal buffer")},create=function re(){return util$2.Buffer?function(ne){return(Reader$1.create=function(ae){return util$2.Buffer.isBuffer(ae)?new BufferReader$1(ae):create_array(ae)})(ne)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function re(){var ee=4294967295;return function(){if(ee=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(ee=(ee|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(ee=(ee|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(ee=(ee|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(ee=(ee|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return ee;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return ee}}();Reader$1.prototype.int32=function re(){return this.uint32()|0};Reader$1.prototype.sint32=function re(){var ee=this.uint32();return ee>>>1^-(ee&1)|0};function readLongVarint(){var re=new LongBits(0,0),ee=0;if(this.len-this.pos>4){for(;ee<4;++ee)if(re.lo=(re.lo|(this.buf[this.pos]&127)<<ee*7)>>>0,this.buf[this.pos++]<128)return re;if(re.lo=(re.lo|(this.buf[this.pos]&127)<<28)>>>0,re.hi=(re.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return re;ee=0}else{for(;ee<3;++ee){if(this.pos>=this.len)throw indexOutOfRange(this);if(re.lo=(re.lo|(this.buf[this.pos]&127)<<ee*7)>>>0,this.buf[this.pos++]<128)return re}return re.lo=(re.lo|(this.buf[this.pos++]&127)<<ee*7)>>>0,re}if(this.len-this.pos>4){for(;ee<5;++ee)if(re.hi=(re.hi|(this.buf[this.pos]&127)<<ee*7+3)>>>0,this.buf[this.pos++]<128)return re}else for(;ee<5;++ee){if(this.pos>=this.len)throw indexOutOfRange(this);if(re.hi=(re.hi|(this.buf[this.pos]&127)<<ee*7+3)>>>0,this.buf[this.pos++]<128)return re}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function re(){return this.uint32()!==0};function readFixed32_end(re,ee){return(re[ee-4]|re[ee-3]<<8|re[ee-2]<<16|re[ee-1]<<24)>>>0}Reader$1.prototype.fixed32=function re(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function re(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function re(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var ee=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,ee};Reader$1.prototype.double=function re(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var ee=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,ee};Reader$1.prototype.bytes=function re(){var ee=this.uint32(),ne=this.pos,oe=this.pos+ee;if(oe>this.len)throw indexOutOfRange(this,ee);if(this.pos+=ee,Array.isArray(this.buf))return this.buf.slice(ne,oe);if(ne===oe){var ae=util$2.Buffer;return ae?ae.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,ne,oe)};Reader$1.prototype.string=function re(){var ee=this.bytes();return utf8.read(ee,0,ee.length)};Reader$1.prototype.skip=function re(ee){if(typeof ee=="number"){if(this.pos+ee>this.len)throw indexOutOfRange(this,ee);this.pos+=ee}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(re){switch(re){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(re=this.uint32()&7)!==4;)this.skipType(re);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+re+" at offset "+this.pos)}return this};Reader$1._configure=function(re){BufferReader$1=re,Reader$1.create=create(),BufferReader$1._configure();var ee=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[ee](!1)},uint64:function(){return readLongVarint.call(this)[ee](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[ee](!1)},fixed64:function(){return readFixed64.call(this)[ee](!0)},sfixed64:function(){return readFixed64.call(this)[ee](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(re){Reader.call(this,re)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function re(){var ee=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ee,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ee,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(re,ee,ne){if(typeof re!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=re,this.requestDelimited=!!ee,this.responseDelimited=!!ne}Service.prototype.rpcCall=function re(ee,ne,oe,ae,he){if(!ae)throw TypeError("request must be specified");var pe=this;if(!he)return util.asPromise(re,pe,ee,ne,oe,ae);if(!pe.rpcImpl){setTimeout(function(){he(Error("already ended"))},0);return}try{return pe.rpcImpl(ee,ne[pe.requestDelimited?"encodeDelimited":"encode"](ae).finish(),function(ve,we){if(ve)return pe.emit("error",ve,ee),he(ve);if(we===null){pe.end(!0);return}if(!(we instanceof oe))try{we=oe[pe.responseDelimited?"decodeDelimited":"decode"](we)}catch(Ee){return pe.emit("error",Ee,ee),he(Ee)}return pe.emit("data",we,ee),he(null,we)})}catch(ge){pe.emit("error",ge,ee),setTimeout(function(){he(ge)},0);return}};Service.prototype.end=function re(ee){return this.rpcImpl&&(ee||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(re){var ee=re;ee.Service=service})(rpc);var roots={};(function(re){var ee=re;ee.build="minimal",ee.Writer=writer,ee.BufferWriter=writer_buffer,ee.Reader=reader,ee.BufferReader=reader_buffer,ee.util=requireMinimal(),ee.rpc=rpc,ee.roots=roots,ee.configure=ne;function ne(){ee.util._configure(),ee.Writer._configure(ee.BufferWriter),ee.Reader._configure(ee.BufferReader)}ne()})(indexMinimal);(function(re){re.exports=indexMinimal})(minimal$1);const _m0=getDefaultExportFromCjs(minimalExports);var lib$1={},lib={},Metadata={};Object.defineProperty(Metadata,"__esModule",{value:!0});Metadata.Metadata=void 0;Metadata.Metadata=function re(ee){const ne=new Map,oe={set(ae,he){if(ae=normalizeKey(ae),Array.isArray(he))if(he.length===0)ne.delete(ae);else{for(const pe of he)validate(ae,pe);ne.set(ae,ae.endsWith("-bin")?he:[he.join(", ")])}else validate(ae,he),ne.set(ae,[he]);return oe},append(ae,he){ae=normalizeKey(ae),validate(ae,he);let pe=ne.get(ae);return pe==null&&(pe=[],ne.set(ae,pe)),pe.push(he),ae.endsWith("-bin")||ne.set(ae,[pe.join(", ")]),oe},delete(ae){ae=normalizeKey(ae),ne.delete(ae)},get(ae){var he;return ae=normalizeKey(ae),(he=ne.get(ae))===null||he===void 0?void 0:he[0]},getAll(ae){var he;return ae=normalizeKey(ae),(he=ne.get(ae))!==null&&he!==void 0?he:[]},has(ae){return ae=normalizeKey(ae),ne.has(ae)},[Symbol.iterator](){return ne[Symbol.iterator]()}};if(ee!=null){const ae=isIterable(ee)?ee:Object.entries(ee);for(const[he,pe]of ae)oe.set(he,pe)}return oe};function normalizeKey(re){return re.toLowerCase()}function validate(re,ee){if(!/^[0-9a-z_.-]+$/.test(re))throw new Error(`Metadata key '${re}' contains illegal characters`);if(re.endsWith("-bin")){if(!(ee instanceof Uint8Array))throw new Error(`Metadata key '${re}' ends with '-bin', thus it must have binary value`)}else{if(typeof ee!="string")throw new Error(`Metadata key '${re}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(ee))throw new Error(`Metadata value '${ee}' of key '${re}' contains illegal characters`)}}function isIterable(re){return Symbol.iterator in re}var Status={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.Status=void 0,function(ee){ee[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(re.Status||(re.Status={}))})(Status);var MethodDescriptor={};Object.defineProperty(MethodDescriptor,"__esModule",{value:!0});var CallOptions={};Object.defineProperty(CallOptions,"__esModule",{value:!0});var ClientMiddleware={};Object.defineProperty(ClientMiddleware,"__esModule",{value:!0});var composeClientMiddleware$1={};Object.defineProperty(composeClientMiddleware$1,"__esModule",{value:!0});composeClientMiddleware$1.composeClientMiddleware=void 0;function composeClientMiddleware(re,ee){return(ne,oe)=>ee(Object.assign(Object.assign({},ne),{next:(ae,he)=>re(Object.assign(Object.assign({},ne),{request:ae}),he)}),oe)}composeClientMiddleware$1.composeClientMiddleware=composeClientMiddleware;var ClientError$1={},cjs={},helpers={};helpers.__esModule=void 0;helpers.__esModule=!0;var objectSetPrototypeOfIsDefined=typeof Object.setPrototypeOf=="function",objectGetPrototypeOfIsDefined=typeof Object.getPrototypeOf=="function",objectDefinePropertyIsDefined=typeof Object.defineProperty=="function",objectCreateIsDefined=typeof Object.create=="function",objectHasOwnPropertyIsDefined=typeof Object.prototype.hasOwnProperty=="function",setPrototypeOf=function re(ee,ne){objectSetPrototypeOfIsDefined?Object.setPrototypeOf(ee,ne):ee.__proto__=ne};helpers.setPrototypeOf=setPrototypeOf;var getPrototypeOf=function re(ee){return objectGetPrototypeOfIsDefined?Object.getPrototypeOf(ee):ee.__proto__||ee.prototype};helpers.getPrototypeOf=getPrototypeOf;var ie8ObjectDefinePropertyBug=!1,defineProperty=function re(ee,ne,oe){if(objectDefinePropertyIsDefined&&!ie8ObjectDefinePropertyBug)try{Object.defineProperty(ee,ne,oe)}catch{ie8ObjectDefinePropertyBug=!0,re(ee,ne,oe)}else ee[ne]=oe.value};helpers.defineProperty=defineProperty;var hasOwnProperty=function re(ee,ne){return objectHasOwnPropertyIsDefined?ee.hasOwnProperty(ee,ne):ee[ne]===void 0};helpers.hasOwnProperty=hasOwnProperty;var objectCreate=function re(ee,ne){if(objectCreateIsDefined)return Object.create(ee,ne);var oe=function(){};oe.prototype=ee;var ae=new oe;if(typeof ne>"u")return ae;if(typeof ne=="null")throw new Error("PropertyDescriptors must not be null.");if(typeof ne=="object")for(var he in ne)hasOwnProperty(ne,he)&&(ae[he]=ne[he].value);return ae};helpers.objectCreate=objectCreate;(function(re){re.__esModule=void 0,re.__esModule=!0;var ee=helpers,ne=ee.setPrototypeOf,oe=ee.getPrototypeOf,ae=ee.defineProperty,he=ee.objectCreate,pe=new Error().toString()==="[object Error]",ge="";function ve(we){var Ee=this.constructor,_e=Ee.name||function(){var Re=Ee.toString().match(/^function\s*([^\s(]+)/);return Re===null?ge||"Error":Re[1]}(),Te=_e==="Error",Pe=Te?ge:_e,Ae=Error.apply(this,arguments);if(ne(Ae,oe(this)),!(Ae instanceof Ee)||!(Ae instanceof ve)){var Ae=this;Error.apply(this,arguments),ae(Ae,"message",{configurable:!0,enumerable:!1,value:we,writable:!0})}if(ae(Ae,"name",{configurable:!0,enumerable:!1,value:Pe,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(Ae,Te?ve:Ee),Ae.stack===void 0){var Se=new Error(we);Se.name=Ae.name,Ae.stack=Se.stack}return pe&&ae(Ae,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(typeof this.message>"u"?"":": "+this.message)},writable:!0}),Ae}ge=ve.name||"ExtendableError",ve.prototype=he(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),re.ExtendableError=ve,re.default=re.ExtendableError})(cjs);Object.defineProperty(ClientError$1,"__esModule",{value:!0});ClientError$1.ClientError=void 0;const ts_error_1$1=cjs,Status_1$1=Status;class ClientError extends ts_error_1$1.ExtendableError{constructor(ee,ne,oe){super(`${ee} ${Status_1$1.Status[ne]}: ${oe}`),this.path=ee,this.code=ne,this.details=oe,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](ee){return this!==ClientError?this.prototype.isPrototypeOf(ee):typeof ee=="object"&&ee!==null&&(ee.constructor===ClientError||ee["@@nice-grpc:ClientError"]===!0||ee.name==="ClientError"&&ee["@@nice-grpc"]===!0)}}ClientError$1.ClientError=ClientError;var CallContext={};Object.defineProperty(CallContext,"__esModule",{value:!0});var ServerMiddleware={};Object.defineProperty(ServerMiddleware,"__esModule",{value:!0});var composeServerMiddleware$1={};Object.defineProperty(composeServerMiddleware$1,"__esModule",{value:!0});composeServerMiddleware$1.composeServerMiddleware=void 0;function composeServerMiddleware(re,ee){return(ne,oe)=>re(Object.assign(Object.assign({},ne),{next:(ae,he)=>ee(Object.assign(Object.assign({},ne),{request:ae}),he)}),oe)}composeServerMiddleware$1.composeServerMiddleware=composeServerMiddleware;var ServerError$1={};Object.defineProperty(ServerError$1,"__esModule",{value:!0});ServerError$1.ServerError=void 0;const ts_error_1=cjs,Status_1=Status;class ServerError extends ts_error_1.ExtendableError{constructor(ee,ne){super(`${Status_1.Status[ee]}: ${ne}`),this.code=ee,this.details=ne,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](ee){return this!==ServerError?this.prototype.isPrototypeOf(ee):typeof ee=="object"&&ee!==null&&(ee.constructor===ServerError||ee["@@nice-grpc:ServerError"]===!0||ee.name==="ServerError"&&ee["@@nice-grpc"]===!0)}}ServerError$1.ServerError=ServerError;(function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(oe,ae,he,pe){pe===void 0&&(pe=he);var ge=Object.getOwnPropertyDescriptor(ae,he);(!ge||("get"in ge?!ae.__esModule:ge.writable||ge.configurable))&&(ge={enumerable:!0,get:function(){return ae[he]}}),Object.defineProperty(oe,pe,ge)}:function(oe,ae,he,pe){pe===void 0&&(pe=he),oe[pe]=ae[he]}),ne=commonjsGlobal&&commonjsGlobal.__exportStar||function(oe,ae){for(var he in oe)he!=="default"&&!Object.prototype.hasOwnProperty.call(ae,he)&&ee(ae,oe,he)};Object.defineProperty(re,"__esModule",{value:!0}),ne(Metadata,re),ne(Status,re),ne(MethodDescriptor,re),ne(CallOptions,re),ne(ClientMiddleware,re),ne(composeClientMiddleware$1,re),ne(ClientError$1,re),ne(CallContext,re),ne(ServerMiddleware,re),ne(composeServerMiddleware$1,re),ne(ServerError$1,re)})(lib);var serviceDefinitions={},grpcWeb={};Object.defineProperty(grpcWeb,"__esModule",{value:!0});grpcWeb.isGrpcWebServiceDefinition=grpcWeb.fromGrpcWebServiceDefinition=void 0;function fromGrpcWebServiceDefinition(re){const ee={};for(const[ne,oe]of Object.entries(re)){if(ne==="serviceName")continue;const ae=oe;ee[uncapitalize(ne)]={path:`/${re.serviceName}/${ne}`,requestStream:ae.requestStream,responseStream:ae.responseStream,requestDeserialize:ae.requestType.deserializeBinary,requestSerialize:he=>he.serializeBinary(),responseDeserialize:ae.responseType.deserializeBinary,responseSerialize:he=>he.serializeBinary(),options:{}}}return ee}grpcWeb.fromGrpcWebServiceDefinition=fromGrpcWebServiceDefinition;function isGrpcWebServiceDefinition(re){return"prototype"in re}grpcWeb.isGrpcWebServiceDefinition=isGrpcWebServiceDefinition;function uncapitalize(re){return re.length===0?re:re[0].toLowerCase()+re.slice(1)}var tsProto={};Object.defineProperty(tsProto,"__esModule",{value:!0});tsProto.isTsProtoServiceDefinition=tsProto.fromTsProtoServiceDefinition=void 0;function fromTsProtoServiceDefinition(re){const ee={};for(const[ne,oe]of Object.entries(re.methods)){const ae=oe.requestType.encode,he=oe.requestType.fromPartial,pe=oe.responseType.encode,ge=oe.responseType.fromPartial;ee[ne]={path:`/${re.fullName}/${oe.name}`,requestStream:oe.requestStream,responseStream:oe.responseStream,requestDeserialize:oe.requestType.decode,requestSerialize:he!=null?ve=>ae(he(ve)).finish():ve=>ae(ve).finish(),responseDeserialize:oe.responseType.decode,responseSerialize:ge!=null?ve=>pe(ge(ve)).finish():ve=>pe(ve).finish(),options:oe.options}}return ee}tsProto.fromTsProtoServiceDefinition=fromTsProtoServiceDefinition;function isTsProtoServiceDefinition(re){return"name"in re&&"fullName"in re&&"methods"in re}tsProto.isTsProtoServiceDefinition=isTsProtoServiceDefinition;Object.defineProperty(serviceDefinitions,"__esModule",{value:!0});serviceDefinitions.toGrpcWebMethodDefinition=serviceDefinitions.normalizeServiceDefinition=void 0;const grpc_web_1$5=grpcWeb,ts_proto_1=tsProto;function normalizeServiceDefinition(re){return(0,grpc_web_1$5.isGrpcWebServiceDefinition)(re)?(0,grpc_web_1$5.fromGrpcWebServiceDefinition)(re):(0,ts_proto_1.isTsProtoServiceDefinition)(re)?(0,ts_proto_1.fromTsProtoServiceDefinition)(re):re}serviceDefinitions.normalizeServiceDefinition=normalizeServiceDefinition;function toGrpcWebMethodDefinition(re){const[,ee,ne]=re.path.split("/");return{service:{serviceName:ee},methodName:ne,requestStream:re.requestStream,responseStream:re.responseStream,requestType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(oe){return re.requestDeserialize(oe)}},responseType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(oe){return re.responseDeserialize(oe)}}}}serviceDefinitions.toGrpcWebMethodDefinition=toGrpcWebMethodDefinition;var channel={};Object.defineProperty(channel,"__esModule",{value:!0});channel.createChannel=void 0;function createChannel(re,ee){return{address:re,transport:ee}}channel.createChannel=createChannel;var ClientFactory={},createBidiStreamingMethod$1={},grpcWebClient_umdExports={},grpcWebClient_umd={get exports(){return grpcWebClient_umdExports},set exports(re){grpcWebClient_umdExports=re}};(function(re,ee){(function(ne,oe){re.exports=oe()})(commonjsGlobal,function(){return ne={418:function(ae,he){(function(pe,ge){for(var ve in ge)pe[ve]=ge[ve]})(he,function(pe){var ge={};function ve(we){if(ge[we])return ge[we].exports;var Ee=ge[we]={i:we,l:!1,exports:{}};return pe[we].call(Ee.exports,Ee,Ee.exports,ve),Ee.l=!0,Ee.exports}return ve.m=pe,ve.c=ge,ve.i=function(we){return we},ve.d=function(we,Ee,_e){ve.o(we,Ee)||Object.defineProperty(we,Ee,{configurable:!1,enumerable:!0,get:_e})},ve.n=function(we){var Ee=we&&we.__esModule?function(){return we.default}:function(){return we};return ve.d(Ee,"a",Ee),Ee},ve.o=function(we,Ee){return Object.prototype.hasOwnProperty.call(we,Ee)},ve.p="",ve(ve.s=1)}([function(pe,ge,ve){Object.defineProperty(ge,"__esModule",{value:!0});var we=ve(3),Ee=function(){function _e(Te,Pe){Te===void 0&&(Te={}),Pe===void 0&&(Pe={splitValues:!1});var Ae,Se=this;this.headersMap={},Te&&(typeof Headers<"u"&&Te instanceof Headers?we.getHeaderKeys(Te).forEach(function(Re){we.getHeaderValues(Te,Re).forEach(function(Ne){Pe.splitValues?Se.append(Re,we.splitHeaderValue(Ne)):Se.append(Re,Ne)})}):typeof(Ae=Te)=="object"&&typeof Ae.headersMap=="object"&&typeof Ae.forEach=="function"?Te.forEach(function(Re,Ne){Se.append(Re,Ne)}):typeof Map<"u"&&Te instanceof Map?Te.forEach(function(Re,Ne){Se.append(Ne,Re)}):typeof Te=="string"?this.appendFromString(Te):typeof Te=="object"&&Object.getOwnPropertyNames(Te).forEach(function(Re){var Ne=Te[Re];Array.isArray(Ne)?Ne.forEach(function(Me){Se.append(Re,Me)}):Se.append(Re,Ne)}))}return _e.prototype.appendFromString=function(Te){for(var Pe=Te.split(`\r
`),Ae=0;Ae<Pe.length;Ae++){var Se=Pe[Ae],Re=Se.indexOf(":");if(Re>0){var Ne=Se.substring(0,Re).trim(),Me=Se.substring(Re+1).trim();this.append(Ne,Me)}}},_e.prototype.delete=function(Te,Pe){var Ae=we.normalizeName(Te);if(Pe===void 0)delete this.headersMap[Ae];else{var Se=this.headersMap[Ae];if(Se){var Re=Se.indexOf(Pe);Re>=0&&Se.splice(Re,1),Se.length===0&&delete this.headersMap[Ae]}}},_e.prototype.append=function(Te,Pe){var Ae=this,Se=we.normalizeName(Te);Array.isArray(this.headersMap[Se])||(this.headersMap[Se]=[]),Array.isArray(Pe)?Pe.forEach(function(Re){Ae.headersMap[Se].push(we.normalizeValue(Re))}):this.headersMap[Se].push(we.normalizeValue(Pe))},_e.prototype.set=function(Te,Pe){var Ae=we.normalizeName(Te);if(Array.isArray(Pe)){var Se=[];Pe.forEach(function(Re){Se.push(we.normalizeValue(Re))}),this.headersMap[Ae]=Se}else this.headersMap[Ae]=[we.normalizeValue(Pe)]},_e.prototype.has=function(Te,Pe){var Ae=this.headersMap[we.normalizeName(Te)];if(!Array.isArray(Ae))return!1;if(Pe!==void 0){var Se=we.normalizeValue(Pe);return Ae.indexOf(Se)>=0}return!0},_e.prototype.get=function(Te){var Pe=this.headersMap[we.normalizeName(Te)];return Pe!==void 0?Pe.concat():[]},_e.prototype.forEach=function(Te){var Pe=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Ae){Te(Ae,Pe.headersMap[Ae])},this)},_e.prototype.toHeaders=function(){if(typeof Headers<"u"){var Te=new Headers;return this.forEach(function(Pe,Ae){Ae.forEach(function(Se){Te.append(Pe,Se)})}),Te}throw new Error("Headers class is not defined")},_e}();ge.BrowserHeaders=Ee},function(pe,ge,ve){Object.defineProperty(ge,"__esModule",{value:!0});var we=ve(0);ge.BrowserHeaders=we.BrowserHeaders},function(pe,ge,ve){Object.defineProperty(ge,"__esModule",{value:!0}),ge.iterateHeaders=function(we,Ee){for(var _e=we[Symbol.iterator](),Te=_e.next();!Te.done;)Ee(Te.value[0]),Te=_e.next()},ge.iterateHeadersKeys=function(we,Ee){for(var _e=we.keys(),Te=_e.next();!Te.done;)Ee(Te.value),Te=_e.next()}},function(pe,ge,ve){Object.defineProperty(ge,"__esModule",{value:!0});var we=ve(2);ge.normalizeName=function(Ee){if(typeof Ee!="string"&&(Ee=String(Ee)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(Ee))throw new TypeError("Invalid character in header field name");return Ee.toLowerCase()},ge.normalizeValue=function(Ee){return typeof Ee!="string"&&(Ee=String(Ee)),Ee},ge.getHeaderValues=function(Ee,_e){var Te=Ee;if(Te instanceof Headers&&Te.getAll)return Te.getAll(_e);var Pe=Te.get(_e);return Pe&&typeof Pe=="string"?[Pe]:Pe},ge.getHeaderKeys=function(Ee){var _e=Ee,Te={},Pe=[];return _e.keys?we.iterateHeadersKeys(_e,function(Ae){Te[Ae]||(Te[Ae]=!0,Pe.push(Ae))}):_e.forEach?_e.forEach(function(Ae,Se){Te[Se]||(Te[Se]=!0,Pe.push(Se))}):we.iterateHeaders(_e,function(Ae){var Se=Ae[0];Te[Se]||(Te[Se]=!0,Pe.push(Se))}),Pe},ge.splitHeaderValue=function(Ee){var _e=[];return Ee.split(", ").forEach(function(Te){Te.split(",").forEach(function(Pe){_e.push(Pe)})}),_e}}]))},617:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.ChunkParser=he.ChunkType=he.encodeASCII=he.decodeASCII=void 0;var ge,ve=pe(65);function we(Re){return(Ne=Re)===9||Ne===10||Ne===13||Re>=32&&Re<=126;var Ne}function Ee(Re){for(var Ne=0;Ne!==Re.length;++Ne)if(!we(Re[Ne]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(Re))}function _e(Re){return(128&Re.getUint8(0))==128}function Te(Re){return Re.getUint32(1,!1)}function Pe(Re,Ne,Me){return Re.byteLength-Ne>=Me}function Ae(Re,Ne,Me){if(Re.slice)return Re.slice(Ne,Me);var Le=Re.length;Me!==void 0&&(Le=Me);for(var qe=new Uint8Array(Le-Ne),We=0,Qe=Ne;Qe<Le;Qe++)qe[We++]=Re[Qe];return qe}he.decodeASCII=Ee,he.encodeASCII=function(Re){for(var Ne=new Uint8Array(Re.length),Me=0;Me!==Re.length;++Me){var Le=Re.charCodeAt(Me);if(!we(Le))throw new Error("Metadata contains invalid ASCII");Ne[Me]=Le}return Ne},function(Re){Re[Re.MESSAGE=1]="MESSAGE",Re[Re.TRAILERS=2]="TRAILERS"}(ge=he.ChunkType||(he.ChunkType={}));var Se=function(){function Re(){this.buffer=null,this.position=0}return Re.prototype.parse=function(Ne,Me){if(Ne.length===0&&Me)return[];var Le,qe=[];if(this.buffer==null)this.buffer=Ne,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=Ne,this.position=0;else{var We=this.buffer.byteLength-this.position,Qe=new Uint8Array(We+Ne.byteLength),Xe=Ae(this.buffer,this.position);Qe.set(Xe,0);var tt=new Uint8Array(Ne);Qe.set(tt,We),this.buffer=Qe,this.position=0}for(;;){if(!Pe(this.buffer,this.position,5))return qe;var lt=Ae(this.buffer,this.position,this.position+5),ct=new DataView(lt.buffer,lt.byteOffset,lt.byteLength),st=Te(ct);if(!Pe(this.buffer,this.position,5+st))return qe;var ht=Ae(this.buffer,this.position+5,this.position+5+st);if(this.position+=5+st,_e(ct))return qe.push({chunkType:ge.TRAILERS,trailers:(Le=ht,new ve.Metadata(Ee(Le)))}),qe;qe.push({chunkType:ge.MESSAGE,data:ht})}},Re}();he.ChunkParser=Se},8:function(ae,he){var pe;Object.defineProperty(he,"__esModule",{value:!0}),he.httpStatusToCode=he.Code=void 0,function(ge){ge[ge.OK=0]="OK",ge[ge.Canceled=1]="Canceled",ge[ge.Unknown=2]="Unknown",ge[ge.InvalidArgument=3]="InvalidArgument",ge[ge.DeadlineExceeded=4]="DeadlineExceeded",ge[ge.NotFound=5]="NotFound",ge[ge.AlreadyExists=6]="AlreadyExists",ge[ge.PermissionDenied=7]="PermissionDenied",ge[ge.ResourceExhausted=8]="ResourceExhausted",ge[ge.FailedPrecondition=9]="FailedPrecondition",ge[ge.Aborted=10]="Aborted",ge[ge.OutOfRange=11]="OutOfRange",ge[ge.Unimplemented=12]="Unimplemented",ge[ge.Internal=13]="Internal",ge[ge.Unavailable=14]="Unavailable",ge[ge.DataLoss=15]="DataLoss",ge[ge.Unauthenticated=16]="Unauthenticated"}(pe=he.Code||(he.Code={})),he.httpStatusToCode=function(ge){switch(ge){case 0:return pe.Internal;case 200:return pe.OK;case 400:return pe.InvalidArgument;case 401:return pe.Unauthenticated;case 403:return pe.PermissionDenied;case 404:return pe.NotFound;case 409:return pe.Aborted;case 412:return pe.FailedPrecondition;case 429:return pe.ResourceExhausted;case 499:return pe.Canceled;case 500:return pe.Unknown;case 501:return pe.Unimplemented;case 503:return pe.Unavailable;case 504:return pe.DeadlineExceeded;default:return pe.Unknown}}},934:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.client=void 0;var ge=pe(65),ve=pe(617),we=pe(8),Ee=pe(346),_e=pe(57),Te=pe(882);he.client=function(Se,Re){return new Pe(Se,Re)};var Pe=function(){function Se(Re,Ne){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new ve.ChunkParser,this.methodDefinition=Re,this.props=Ne,this.createTransport()}return Se.prototype.createTransport=function(){var Re=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,Ne={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:Re,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(Ne):this.transport=_e.makeDefaultTransport(Ne)},Se.prototype.onTransportHeaders=function(Re,Ne){if(this.props.debug&&Ee.debug("onHeaders",Re,Ne),this.closed)this.props.debug&&Ee.debug("grpc.onHeaders received after request was closed - ignoring");else if(Ne!==0){this.responseHeaders=Re,this.props.debug&&Ee.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var Me=Ae(Re);this.props.debug&&Ee.debug("onHeaders.gRPCStatus",Me);var Le=Me&&Me>=0?Me:we.httpStatusToCode(Ne);this.props.debug&&Ee.debug("onHeaders.code",Le);var qe=Re.get("grpc-message")||[];if(this.props.debug&&Ee.debug("onHeaders.gRPCMessage",qe),this.rawOnHeaders(Re),Le!==we.Code.OK){var We=this.decodeGRPCStatus(qe[0]);this.rawOnError(Le,We,Re)}}},Se.prototype.onTransportChunk=function(Re){var Ne=this;if(this.closed)this.props.debug&&Ee.debug("grpc.onChunk received after request was closed - ignoring");else{var Me=[];try{Me=this.parser.parse(Re)}catch(Le){return this.props.debug&&Ee.debug("onChunk.parsing error",Le,Le.message),void this.rawOnError(we.Code.Internal,"parsing error: "+Le.message)}Me.forEach(function(Le){if(Le.chunkType===ve.ChunkType.MESSAGE){var qe=Ne.methodDefinition.responseType.deserializeBinary(Le.data);Ne.rawOnMessage(qe)}else Le.chunkType===ve.ChunkType.TRAILERS&&(Ne.responseHeaders?(Ne.responseTrailers=new ge.Metadata(Le.trailers),Ne.props.debug&&Ee.debug("onChunk.trailers",Ne.responseTrailers)):(Ne.responseHeaders=new ge.Metadata(Le.trailers),Ne.rawOnHeaders(Ne.responseHeaders)))})}},Se.prototype.onTransportEnd=function(){if(this.props.debug&&Ee.debug("grpc.onEnd"),this.closed)this.props.debug&&Ee.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var Re=Ae(this.responseTrailers);if(Re!==null){var Ne=this.responseTrailers.get("grpc-message"),Me=this.decodeGRPCStatus(Ne[0]);this.rawOnEnd(Re,Me,this.responseTrailers)}else this.rawOnError(we.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(we.Code.Unknown,"Response closed without headers");var Le=Ae(this.responseHeaders),qe=this.responseHeaders.get("grpc-message");if(this.props.debug&&Ee.debug("grpc.headers only response ",Le,qe),Le===null)return void this.rawOnEnd(we.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var We=this.decodeGRPCStatus(qe[0]);this.rawOnEnd(Le,We,this.responseHeaders)}},Se.prototype.decodeGRPCStatus=function(Re){if(!Re)return"";try{return decodeURIComponent(Re)}catch{return Re}},Se.prototype.rawOnEnd=function(Re,Ne,Me){var Le=this;this.props.debug&&Ee.debug("rawOnEnd",Re,Ne,Me),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(qe){if(!Le.closed)try{qe(Re,Ne,Me)}catch(We){setTimeout(function(){throw We},0)}}))},Se.prototype.rawOnHeaders=function(Re){this.props.debug&&Ee.debug("rawOnHeaders",Re),this.completed||this.onHeadersCallbacks.forEach(function(Ne){try{Ne(Re)}catch(Me){setTimeout(function(){throw Me},0)}})},Se.prototype.rawOnError=function(Re,Ne,Me){var Le=this;Me===void 0&&(Me=new ge.Metadata),this.props.debug&&Ee.debug("rawOnError",Re,Ne),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(qe){if(!Le.closed)try{qe(Re,Ne,Me)}catch(We){setTimeout(function(){throw We},0)}}))},Se.prototype.rawOnMessage=function(Re){var Ne=this;this.props.debug&&Ee.debug("rawOnMessage",Re.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(Me){if(!Ne.closed)try{Me(Re)}catch(Le){setTimeout(function(){throw Le},0)}})},Se.prototype.onHeaders=function(Re){this.onHeadersCallbacks.push(Re)},Se.prototype.onMessage=function(Re){this.onMessageCallbacks.push(Re)},Se.prototype.onEnd=function(Re){this.onEndCallbacks.push(Re)},Se.prototype.start=function(Re){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var Ne=new ge.Metadata(Re||{});Ne.set("content-type","application/grpc-web+proto"),Ne.set("x-grpc-web","1"),this.transport.start(Ne)},Se.prototype.send=function(Re){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var Ne=Te.frameRequest(Re);this.transport.sendMessage(Ne)},Se.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},Se.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&Ee.debug("request.abort aborting request"),this.transport.cancel()},Se}();function Ae(Se){var Re=Se.get("grpc-status")||[];if(Re.length>0)try{var Ne=Re[0];return parseInt(Ne,10)}catch{return null}return null}},346:function(ae,he){Object.defineProperty(he,"__esModule",{value:!0}),he.debug=void 0,he.debug=function(){for(var pe=[],ge=0;ge<arguments.length;ge++)pe[ge]=arguments[ge];console.debug?console.debug.apply(null,pe):console.log.apply(null,pe)}},607:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.grpc=void 0;var ge,ve=pe(418),we=pe(57),Ee=pe(229),_e=pe(540),Te=pe(210),Pe=pe(859),Ae=pe(8),Se=pe(938),Re=pe(35),Ne=pe(934);(ge=he.grpc||(he.grpc={})).setDefaultTransport=we.setDefaultTransportFactory,ge.CrossBrowserHttpTransport=Pe.CrossBrowserHttpTransport,ge.FetchReadableStreamTransport=Ee.FetchReadableStreamTransport,ge.XhrTransport=Te.XhrTransport,ge.WebsocketTransport=_e.WebsocketTransport,ge.Code=Ae.Code,ge.Metadata=ve.BrowserHeaders,ge.client=function(Me,Le){return Ne.client(Me,Le)},ge.invoke=Se.invoke,ge.unary=Re.unary},938:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.invoke=void 0;var ge=pe(934);he.invoke=function(ve,we){if(ve.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var Ee=ge.client(ve,{host:we.host,transport:we.transport,debug:we.debug});return we.onHeaders&&Ee.onHeaders(we.onHeaders),we.onMessage&&Ee.onMessage(we.onMessage),we.onEnd&&Ee.onEnd(we.onEnd),Ee.start(we.metadata),Ee.send(we.request),Ee.finishSend(),{close:function(){Ee.close()}}}},65:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.Metadata=void 0;var ge=pe(418);Object.defineProperty(he,"Metadata",{enumerable:!0,get:function(){return ge.BrowserHeaders}})},57:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.makeDefaultTransport=he.setDefaultTransportFactory=void 0;var ge=pe(859),ve=function(we){return ge.CrossBrowserHttpTransport({withCredentials:!1})(we)};he.setDefaultTransportFactory=function(we){ve=we},he.makeDefaultTransport=function(we){return ve(we)}},229:function(ae,he,pe){var ge=this&&this.__assign||function(){return(ge=Object.assign||function(_e){for(var Te,Pe=1,Ae=arguments.length;Pe<Ae;Pe++)for(var Se in Te=arguments[Pe])Object.prototype.hasOwnProperty.call(Te,Se)&&(_e[Se]=Te[Se]);return _e}).apply(this,arguments)};Object.defineProperty(he,"__esModule",{value:!0}),he.detectFetchSupport=he.FetchReadableStreamTransport=void 0;var ve=pe(65),we=pe(346);he.FetchReadableStreamTransport=function(_e){return function(Te){return function(Pe,Ae){return Pe.debug&&we.debug("fetchRequest",Pe),new Ee(Pe,Ae)}(Te,_e)}};var Ee=function(){function _e(Te,Pe){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=Te,this.init=Pe}return _e.prototype.pump=function(Te,Pe){var Ae=this;if(this.reader=Te,this.cancelled)return this.options.debug&&we.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(Se){Ae.options.debug&&we.debug("Fetch.pump.reader.cancel exception",Se)});this.reader.read().then(function(Se){if(Se.done)return Ae.options.onEnd(),Pe;Ae.options.onChunk(Se.value),Ae.pump(Ae.reader,Pe)}).catch(function(Se){Ae.cancelled?Ae.options.debug&&we.debug("Fetch.catch - request cancelled"):(Ae.cancelled=!0,Ae.options.debug&&we.debug("Fetch.catch",Se.message),Ae.options.onEnd(Se))})},_e.prototype.send=function(Te){var Pe=this;fetch(this.options.url,ge(ge({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:Te,signal:this.controller&&this.controller.signal})).then(function(Ae){if(Pe.options.debug&&we.debug("Fetch.response",Ae),Pe.options.onHeaders(new ve.Metadata(Ae.headers),Ae.status),!Ae.body)return Ae;Pe.pump(Ae.body.getReader(),Ae)}).catch(function(Ae){Pe.cancelled?Pe.options.debug&&we.debug("Fetch.catch - request cancelled"):(Pe.cancelled=!0,Pe.options.debug&&we.debug("Fetch.catch",Ae.message),Pe.options.onEnd(Ae))})},_e.prototype.sendMessage=function(Te){this.send(Te)},_e.prototype.finishSend=function(){},_e.prototype.start=function(Te){this.metadata=Te},_e.prototype.cancel=function(){var Te=this;this.cancelled?this.options.debug&&we.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&we.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&we.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&we.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(Pe){Te.options.debug&&we.debug("Fetch.cancel.reader.cancel exception",Pe)})):this.options.debug&&we.debug("Fetch.cancel before reader"))},_e}();he.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.CrossBrowserHttpTransport=void 0;var ge=pe(229),ve=pe(210);he.CrossBrowserHttpTransport=function(we){if(ge.detectFetchSupport()){var Ee={credentials:we.withCredentials?"include":"same-origin"};return ge.FetchReadableStreamTransport(Ee)}return ve.XhrTransport({withCredentials:we.withCredentials})}},210:function(ae,he,pe){var ge,ve=this&&this.__extends||(ge=function(Re,Ne){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Me,Le){Me.__proto__=Le}||function(Me,Le){for(var qe in Le)Object.prototype.hasOwnProperty.call(Le,qe)&&(Me[qe]=Le[qe])})(Re,Ne)},function(Re,Ne){function Me(){this.constructor=Re}ge(Re,Ne),Re.prototype=Ne===null?Object.create(Ne):(Me.prototype=Ne.prototype,new Me)});Object.defineProperty(he,"__esModule",{value:!0}),he.stringToArrayBuffer=he.MozChunkedArrayBufferXHR=he.XHR=he.XhrTransport=void 0;var we=pe(65),Ee=pe(346),_e=pe(849);he.XhrTransport=function(Re){return function(Ne){if(_e.detectMozXHRSupport())return new Pe(Ne,Re);if(_e.detectXHROverrideMimeTypeSupport())return new Te(Ne,Re);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var Te=function(){function Re(Ne,Me){this.options=Ne,this.init=Me}return Re.prototype.onProgressEvent=function(){this.options.debug&&Ee.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var Ne=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var Me=Se(Ne);this.options.onChunk(Me)},Re.prototype.onLoadEvent=function(){this.options.debug&&Ee.debug("XHR.onLoadEvent"),this.options.onEnd()},Re.prototype.onStateChange=function(){this.options.debug&&Ee.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new we.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},Re.prototype.sendMessage=function(Ne){this.xhr.send(Ne)},Re.prototype.finishSend=function(){},Re.prototype.start=function(Ne){var Me=this;this.metadata=Ne;var Le=new XMLHttpRequest;this.xhr=Le,Le.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(qe,We){Le.setRequestHeader(qe,We.join(", "))}),Le.withCredentials=!!this.init.withCredentials,Le.addEventListener("readystatechange",this.onStateChange.bind(this)),Le.addEventListener("progress",this.onProgressEvent.bind(this)),Le.addEventListener("loadend",this.onLoadEvent.bind(this)),Le.addEventListener("error",function(qe){Me.options.debug&&Ee.debug("XHR.error",qe),Me.options.onEnd(qe.error)})},Re.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},Re.prototype.cancel=function(){this.options.debug&&Ee.debug("XHR.abort"),this.xhr.abort()},Re}();he.XHR=Te;var Pe=function(Re){function Ne(){return Re!==null&&Re.apply(this,arguments)||this}return ve(Ne,Re),Ne.prototype.configureXhr=function(){this.options.debug&&Ee.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},Ne.prototype.onProgressEvent=function(){var Me=this.xhr.response;this.options.debug&&Ee.debug("MozXHR.onProgressEvent: ",new Uint8Array(Me)),this.options.onChunk(new Uint8Array(Me))},Ne}(Te);function Ae(Re,Ne){var Me=Re.charCodeAt(Ne);if(Me>=55296&&Me<=56319){var Le=Re.charCodeAt(Ne+1);Le>=56320&&Le<=57343&&(Me=65536+(Me-55296<<10)+(Le-56320))}return Me}function Se(Re){for(var Ne=new Uint8Array(Re.length),Me=0,Le=0;Le<Re.length;Le++){var qe=String.prototype.codePointAt?Re.codePointAt(Le):Ae(Re,Le);Ne[Me++]=255&qe}return Ne}he.MozChunkedArrayBufferXHR=Pe,he.stringToArrayBuffer=Se},849:function(ae,he){var pe;function ge(){if(pe!==void 0)return pe;if(XMLHttpRequest){pe=new XMLHttpRequest;try{pe.open("GET","https://localhost")}catch{}}return pe}function ve(we){var Ee=ge();if(!Ee)return!1;try{return Ee.responseType=we,Ee.responseType===we}catch{}return!1}Object.defineProperty(he,"__esModule",{value:!0}),he.detectXHROverrideMimeTypeSupport=he.detectMozXHRSupport=he.xhrSupportsResponseType=void 0,he.xhrSupportsResponseType=ve,he.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&ve("moz-chunked-arraybuffer")},he.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.WebsocketTransport=void 0;var ge,ve=pe(346),we=pe(617);(function(_e){_e[_e.FINISH_SEND=1]="FINISH_SEND"})(ge||(ge={}));var Ee=new Uint8Array([1]);he.WebsocketTransport=function(){return function(_e){return function(Te){Te.debug&&ve.debug("websocketRequest",Te);var Pe,Ae=function(Ne){if(Ne.substr(0,8)==="https://")return"wss://"+Ne.substr(8);if(Ne.substr(0,7)==="http://")return"ws://"+Ne.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(Te.url),Se=[];function Re(Ne){if(Ne===ge.FINISH_SEND)Pe.send(Ee);else{var Me=Ne,Le=new Int8Array(Me.byteLength+1);Le.set(new Uint8Array([0])),Le.set(Me,1),Pe.send(Le)}}return{sendMessage:function(Ne){Pe&&Pe.readyState!==Pe.CONNECTING?Re(Ne):Se.push(Ne)},finishSend:function(){Pe&&Pe.readyState!==Pe.CONNECTING?Re(ge.FINISH_SEND):Se.push(ge.FINISH_SEND)},start:function(Ne){(Pe=new WebSocket(Ae,["grpc-websockets"])).binaryType="arraybuffer",Pe.onopen=function(){var Me;Te.debug&&ve.debug("websocketRequest.onopen"),Pe.send((Me="",Ne.forEach(function(Le,qe){Me+=Le+": "+qe.join(", ")+`\r
`}),we.encodeASCII(Me))),Se.forEach(function(Le){Re(Le)})},Pe.onclose=function(Me){Te.debug&&ve.debug("websocketRequest.onclose",Me),Te.onEnd()},Pe.onerror=function(Me){Te.debug&&ve.debug("websocketRequest.onerror",Me)},Pe.onmessage=function(Me){Te.onChunk(new Uint8Array(Me.data))}},cancel:function(){Te.debug&&ve.debug("websocket.abort"),Pe.close()}}}(_e)}}},35:function(ae,he,pe){Object.defineProperty(he,"__esModule",{value:!0}),he.unary=void 0;var ge=pe(65),ve=pe(934);he.unary=function(we,Ee){if(we.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(we.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var _e=null,Te=null,Pe=ve.client(we,{host:Ee.host,transport:Ee.transport,debug:Ee.debug});return Pe.onHeaders(function(Ae){_e=Ae}),Pe.onMessage(function(Ae){Te=Ae}),Pe.onEnd(function(Ae,Se,Re){Ee.onEnd({status:Ae,statusMessage:Se,headers:_e||new ge.Metadata,message:Te,trailers:Re})}),Pe.start(Ee.metadata),Pe.send(Ee.request),Pe.finishSend(),{close:function(){Pe.close()}}}},882:function(ae,he){Object.defineProperty(he,"__esModule",{value:!0}),he.frameRequest=void 0,he.frameRequest=function(pe){var ge=pe.serializeBinary(),ve=new ArrayBuffer(ge.byteLength+5);return new DataView(ve,1,4).setUint32(0,ge.length,!1),new Uint8Array(ve,5).set(ge),new Uint8Array(ve)}}},oe={},function ae(he){if(oe[he])return oe[he].exports;var pe=oe[he]={exports:{}};return ne[he].call(pe.exports,pe,pe.exports,ae),pe.exports}(607);var ne,oe})})(grpcWebClient_umd);class AbortError extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}function isAbortError(re){return typeof re=="object"&&re!==null&&re.name==="AbortError"}function throwIfAborted(re){if(re.aborted)throw new AbortError}function rethrowAbortError(re){if(isAbortError(re))throw re}function catchAbortError(re){if(!isAbortError(re))throw re}function execute(re,ee){return new Promise((ne,oe)=>{if(re.aborted){oe(new AbortError);return}let ae,he=!1;function pe(){he||(he=!0,ae?.())}const ge=ee(ve=>{ne(ve),pe()},ve=>{oe(ve),pe()});if(!he){const ve=()=>{const we=ge();we==null?oe(new AbortError):we.then(()=>{oe(new AbortError)},Ee=>{oe(Ee)}),pe()};re.addEventListener("abort",ve),ae=()=>{re.removeEventListener("abort",ve)}}})}function abortable(re,ee){if(re.aborted){const ne=()=>{};ee.then(ne,ne)}return execute(re,(ne,oe)=>(ee.then(ne,oe),()=>{}))}function delay(re,ee){return execute(re,ne=>{const oe=typeof ee=="number"?ee:ee.getTime()-Date.now(),ae=setTimeout(ne,oe);return()=>{clearTimeout(ae)}})}function forever(re){return execute(re,()=>()=>{})}function waitForEvent(re,ee,ne,oe){return execute(re,ae=>{let he,pe=!1;return he=listen(ee,ne,(...ve)=>{ae(ve.length>1?ve:ve[0]),pe=!0,he?.()},oe),pe&&he(),()=>{pe=!0,he?.()}})}function listen(re,ee,ne,oe){if(isEventTarget(re))return re.addEventListener(ee,ne,oe),()=>re.removeEventListener(ee,ne,oe);if(isJQueryStyleEventEmitter(re))return re.on(ee,ne),()=>re.off(ee,ne);if(isNodeStyleEventEmitter(re))return re.addListener(ee,ne),()=>re.removeListener(ee,ne);throw new Error("Invalid event target")}function isNodeStyleEventEmitter(re){return isFunction(re.addListener)&&isFunction(re.removeListener)}function isJQueryStyleEventEmitter(re){return isFunction(re.on)&&isFunction(re.off)}function isEventTarget(re){return isFunction(re.addEventListener)&&isFunction(re.removeEventListener)}const isFunction=re=>typeof re=="function";function all(re,ee){return new Promise((ne,oe)=>{if(re.aborted){oe(new AbortError);return}const ae=new AbortController,he=ee(ae.signal);if(he.length===0){ne([]);return}const pe=()=>{ae.abort()};re.addEventListener("abort",pe);let ge;const ve=new Array(he.length);let we=0;function Ee(){we+=1,we===he.length&&(re.removeEventListener("abort",pe),ge!=null?oe(ge.reason):ne(ve))}for(const[_e,Te]of he.entries())Te.then(Pe=>{ve[_e]=Pe,Ee()},Pe=>{ae.abort(),(ge==null||!isAbortError(Pe)&&isAbortError(ge.reason))&&(ge={reason:Pe}),Ee()})})}function race(re,ee){return new Promise((ne,oe)=>{if(re.aborted){oe(new AbortError);return}const ae=new AbortController,he=ee(ae.signal),pe=()=>{ae.abort()};re.addEventListener("abort",pe);let ge=0;function ve(Ee){ae.abort(),ge+=1,ge===he.length&&(re.removeEventListener("abort",pe),Ee.status==="fulfilled"?ne(Ee.value):oe(Ee.reason))}let we;for(const Ee of he)Ee.then(_e=>{we==null&&(we={status:"fulfilled",value:_e}),ve(we)},_e=>{(we==null||!isAbortError(_e)&&(we.status==="fulfilled"||isAbortError(we.reason)))&&(we={status:"rejected",reason:_e}),ve(we)})})}async function retry(re,ee,ne={}){const{baseMs:oe=1e3,maxDelayMs:ae=3e4,onError:he,maxAttempts:pe=1/0}=ne;let ge=0;const ve=()=>{ge=-1};for(;;)try{return await ee(re,ge,ve)}catch(we){if(rethrowAbortError(we),ge>=pe)throw we;let Ee;if(ge===-1)Ee=0;else{const _e=Math.min(ae,Math.pow(2,ge)*oe);Ee=Math.round(_e*(1+Math.random())/2)}he&&he(we,ge,Ee),Ee!==0&&await delay(re,Ee),ge+=1}}function spawn(re,ee){if(re.aborted)return Promise.reject(new AbortError);const ne=[],oe=new AbortController,ae=oe.signal,he=()=>{oe.abort()};re.addEventListener("abort",he);const pe=()=>{re.removeEventListener("abort",he)},ge=new Set,ve=()=>{for(const _e of ge)_e.abort()};ae.addEventListener("abort",ve);const we=()=>{ae.removeEventListener("abort",ve)};let Ee=new Promise((_e,Te)=>{let Pe,Ae;Se(Re=>ee(Re,{defer(Ne){ne.push(Ne)},fork:Se})).join().then(Re=>{oe.abort(),Pe={value:Re}},Re=>{oe.abort(),(!isAbortError(Re)||Ae==null)&&(Ae={error:Re})});function Se(Re){if(ae.aborted)return{abort(){},async join(){throw new AbortError}};const Ne=new AbortController,Me=Ne.signal,Le=Re(Me),qe={abort(){Ne.abort()},join:()=>Le};return ge.add(qe),Le.catch(catchAbortError).catch(We=>{Ae={error:We},oe.abort()}).finally(()=>{ge.delete(qe),ge.size===0&&(Ae!=null?Te(Ae.error):_e(Pe.value))}),qe}});return Ee=Ee.finally(()=>{pe(),we();let _e=Promise.resolve();for(let Te=ne.length-1;Te>=0;Te--)_e=_e.finally(ne[Te]);return _e}),Ee}function run(re){const ee=new AbortController,ne=re(ee.signal).catch(catchAbortError);return()=>(ee.abort(),ne)}function proactiveRetry(re,ee,ne={}){const{baseMs:oe=1e3,onError:ae,maxAttempts:he=1/0}=ne;return execute(re,(pe,ge)=>{const ve=new AbortController;let we=!1;const Ee=new Map;function _e(Ae){ve.abort(),Ee.clear(),pe(Ae)}function Te(Ae,Se){if(Ee.delete(Se),we&&Ee.size===0){ge(Ae);return}if(!isAbortError(Ae)&&ae)try{ae(Ae,Se)}catch(Re){ve.abort(),Ee.clear(),ge(Re)}}async function Pe(Ae){for(let Se=0;;Se++){const Re=ee(Ae,Se);if(Ee.set(Se,Re),Re.then(_e,Le=>Te(Le,Se)),Se+1>=he)break;const Ne=Math.pow(2,Se)*oe,Me=Math.round(Ne*(1+Math.random())/2);await delay(Ae,Me)}we=!0}return Pe(ve.signal).catch(catchAbortError),()=>{ve.abort()}})}const es=Object.freeze(Object.defineProperty({__proto__:null,AbortError,abortable,all,catchAbortError,delay,execute,forever,isAbortError,proactiveRetry,race,rethrowAbortError,retry,run,spawn,throwIfAborted,waitForEvent},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(es);var AsyncSink$1={};Object.defineProperty(AsyncSink$1,"__esModule",{value:!0});AsyncSink$1.AsyncSink=void 0;const ARRAY_VALUE="value",ARRAY_ERROR="error";class AsyncSink{constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(ee){this._push({type:ARRAY_VALUE,value:ee})}error(ee){this._push({type:ARRAY_ERROR,error:ee})}_push(ee){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){const{resolve:ne,reject:oe}=this._resolvers.shift();ee.type===ARRAY_ERROR?oe(ee.error):ne({done:!1,value:ee.value})}else this._values.push(ee)}next(){if(this._values.length>0){const{type:ee,value:ne,error:oe}=this._values.shift();return ee===ARRAY_ERROR?Promise.reject(oe):Promise.resolve({done:!1,value:ne})}return this._ended?Promise.resolve({done:!0}):new Promise((ee,ne)=>{this._resolvers.push({resolve:ee,reject:ne})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}}AsyncSink$1.AsyncSink=AsyncSink;var isAsyncIterable$1={};Object.defineProperty(isAsyncIterable$1,"__esModule",{value:!0});isAsyncIterable$1.isAsyncIterable=void 0;function isAsyncIterable(re){return re!=null&&Symbol.asyncIterator in re}isAsyncIterable$1.isAsyncIterable=isAsyncIterable;var convertMetadata={},base64Exports={},base64={get exports(){return base64Exports},set exports(re){base64Exports=re}};(function(re,ee){(function(ne,oe){re.exports=oe()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var ne="3.7.5",oe=ne,ae=typeof atob=="function",he=typeof btoa=="function",pe=typeof Buffer=="function",ge=typeof TextDecoder=="function"?new TextDecoder:void 0,ve=typeof TextEncoder=="function"?new TextEncoder:void 0,we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ee=Array.prototype.slice.call(we),_e=function(ze){var Ve={};return ze.forEach(function(Je,ot){return Ve[Je]=ot}),Ve}(Ee),Te=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Pe=String.fromCharCode.bind(String),Ae=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(ze){return new Uint8Array(Array.prototype.slice.call(ze,0))},Se=function(ze){return ze.replace(/=/g,"").replace(/[+\/]/g,function(Ve){return Ve=="+"?"-":"_"})},Re=function(ze){return ze.replace(/[^A-Za-z0-9\+\/]/g,"")},Ne=function(ze){for(var Ve,Je,ot,rt,et="",pt=ze.length%3,it=0;it<ze.length;){if((Je=ze.charCodeAt(it++))>255||(ot=ze.charCodeAt(it++))>255||(rt=ze.charCodeAt(it++))>255)throw new TypeError("invalid character found");Ve=Je<<16|ot<<8|rt,et+=Ee[Ve>>18&63]+Ee[Ve>>12&63]+Ee[Ve>>6&63]+Ee[Ve&63]}return pt?et.slice(0,pt-3)+"===".substring(pt):et},Me=he?function(ze){return btoa(ze)}:pe?function(ze){return Buffer.from(ze,"binary").toString("base64")}:Ne,Le=pe?function(ze){return Buffer.from(ze).toString("base64")}:function(ze){for(var Ve=4096,Je=[],ot=0,rt=ze.length;ot<rt;ot+=Ve)Je.push(Pe.apply(null,ze.subarray(ot,ot+Ve)));return Me(Je.join(""))},qe=function(ze,Ve){return Ve===void 0&&(Ve=!1),Ve?Se(Le(ze)):Le(ze)},We=function(ze){if(ze.length<2){var Ve=ze.charCodeAt(0);return Ve<128?ze:Ve<2048?Pe(192|Ve>>>6)+Pe(128|Ve&63):Pe(224|Ve>>>12&15)+Pe(128|Ve>>>6&63)+Pe(128|Ve&63)}else{var Ve=65536+(ze.charCodeAt(0)-55296)*1024+(ze.charCodeAt(1)-56320);return Pe(240|Ve>>>18&7)+Pe(128|Ve>>>12&63)+Pe(128|Ve>>>6&63)+Pe(128|Ve&63)}},Qe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Xe=function(ze){return ze.replace(Qe,We)},tt=pe?function(ze){return Buffer.from(ze,"utf8").toString("base64")}:ve?function(ze){return Le(ve.encode(ze))}:function(ze){return Me(Xe(ze))},lt=function(ze,Ve){return Ve===void 0&&(Ve=!1),Ve?Se(tt(ze)):tt(ze)},ct=function(ze){return lt(ze,!0)},st=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ht=function(ze){switch(ze.length){case 4:var Ve=(7&ze.charCodeAt(0))<<18|(63&ze.charCodeAt(1))<<12|(63&ze.charCodeAt(2))<<6|63&ze.charCodeAt(3),Je=Ve-65536;return Pe((Je>>>10)+55296)+Pe((Je&1023)+56320);case 3:return Pe((15&ze.charCodeAt(0))<<12|(63&ze.charCodeAt(1))<<6|63&ze.charCodeAt(2));default:return Pe((31&ze.charCodeAt(0))<<6|63&ze.charCodeAt(1))}},Ze=function(ze){return ze.replace(st,ht)},$e=function(ze){if(ze=ze.replace(/\s+/g,""),!Te.test(ze))throw new TypeError("malformed base64.");ze+="==".slice(2-(ze.length&3));for(var Ve,Je="",ot,rt,et=0;et<ze.length;)Ve=_e[ze.charAt(et++)]<<18|_e[ze.charAt(et++)]<<12|(ot=_e[ze.charAt(et++)])<<6|(rt=_e[ze.charAt(et++)]),Je+=ot===64?Pe(Ve>>16&255):rt===64?Pe(Ve>>16&255,Ve>>8&255):Pe(Ve>>16&255,Ve>>8&255,Ve&255);return Je},Ie=ae?function(ze){return atob(Re(ze))}:pe?function(ze){return Buffer.from(ze,"base64").toString("binary")}:$e,Oe=pe?function(ze){return Ae(Buffer.from(ze,"base64"))}:function(ze){return Ae(Ie(ze).split("").map(function(Ve){return Ve.charCodeAt(0)}))},ke=function(ze){return Oe(He(ze))},Ue=pe?function(ze){return Buffer.from(ze,"base64").toString("utf8")}:ge?function(ze){return ge.decode(Oe(ze))}:function(ze){return Ze(Ie(ze))},He=function(ze){return Re(ze.replace(/[-_]/g,function(Ve){return Ve=="-"?"+":"/"}))},Ge=function(ze){return Ue(He(ze))},Fe=function(ze){if(typeof ze!="string")return!1;var Ve=ze.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Ve)||!/[^\s0-9a-zA-Z\-_]/.test(Ve)},xe=function(ze){return{value:ze,enumerable:!1,writable:!0,configurable:!0}},De=function(){var ze=function(Ve,Je){return Object.defineProperty(String.prototype,Ve,xe(Je))};ze("fromBase64",function(){return Ge(this)}),ze("toBase64",function(Ve){return lt(this,Ve)}),ze("toBase64URI",function(){return lt(this,!0)}),ze("toBase64URL",function(){return lt(this,!0)}),ze("toUint8Array",function(){return ke(this)})},at=function(){var ze=function(Ve,Je){return Object.defineProperty(Uint8Array.prototype,Ve,xe(Je))};ze("toBase64",function(Ve){return qe(this,Ve)}),ze("toBase64URI",function(){return qe(this,!0)}),ze("toBase64URL",function(){return qe(this,!0)})},Ce=function(){De(),at()},Ke={version:ne,VERSION:oe,atob:Ie,atobPolyfill:$e,btoa:Me,btoaPolyfill:Ne,fromBase64:Ge,toBase64:lt,encode:lt,encodeURI:ct,encodeURL:ct,utob:Xe,btou:Ze,decode:Ge,isValid:Fe,fromUint8Array:qe,toUint8Array:ke,extendString:De,extendUint8Array:at,extendBuiltins:Ce};return Ke.Base64={},Object.keys(Ke).forEach(function(ze){return Ke.Base64[ze]=Ke[ze]}),Ke})})(base64);Object.defineProperty(convertMetadata,"__esModule",{value:!0});convertMetadata.convertMetadataFromGrpcWeb=convertMetadata.convertMetadataToGrpcWeb=void 0;const grpc_web_1$4=grpcWebClient_umdExports,nice_grpc_common_1$5=lib,js_base64_1=base64Exports;function convertMetadataToGrpcWeb(re){const ee=new grpc_web_1$4.grpc.Metadata;for(const[ne,oe]of re)for(const ae of oe)ee.append(ne,typeof ae=="string"?ae:js_base64_1.Base64.fromUint8Array(ae));return ee}convertMetadata.convertMetadataToGrpcWeb=convertMetadataToGrpcWeb;function convertMetadataFromGrpcWeb(re){const ee=(0,nice_grpc_common_1$5.Metadata)();for(const[ne,oe]of Object.entries(re.headersMap))if(ne.endsWith("-bin"))for(const ae of oe)for(const he of ae.split(/,\s?/))ee.append(ne,js_base64_1.Base64.toUint8Array(he));else ee.set(ne,oe);return ee}convertMetadata.convertMetadataFromGrpcWeb=convertMetadataFromGrpcWeb;Object.defineProperty(createBidiStreamingMethod$1,"__esModule",{value:!0});createBidiStreamingMethod$1.createBidiStreamingMethod=void 0;const nice_grpc_common_1$4=lib,grpc_web_1$3=grpcWebClient_umdExports,abort_controller_x_1$3=require$$2,AsyncSink_1$1=AsyncSink$1,service_definitions_1$4=serviceDefinitions,isAsyncIterable_1$3=isAsyncIterable$1,convertMetadata_1$3=convertMetadata;function createBidiStreamingMethod(re,ee,ne,oe){const ae=(0,service_definitions_1$4.toGrpcWebMethodDefinition)(re),he={path:re.path,requestStream:re.requestStream,responseStream:re.responseStream,options:re.options};async function*pe(ve,we){if(!(0,isAsyncIterable_1$3.isAsyncIterable)(ve))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");const{metadata:Ee=(0,nice_grpc_common_1$4.Metadata)(),signal:_e=new AbortController().signal,onHeader:Te,onTrailer:Pe}=we,Ae=new AbortController,Se=new AsyncSink_1$1.AsyncSink,Re=grpc_web_1$3.grpc.client(ae,{host:ee.address,transport:ee.transport});Re.onHeaders(Le=>{Te?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Le))}),Re.onMessage(Le=>{Se.write(Le)}),Re.onEnd((Le,qe,We)=>{Pe?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(We)),Le===grpc_web_1$3.grpc.Code.OK?Se.end():Se.error(new nice_grpc_common_1$4.ClientError(re.path,+Le,qe))}),Re.start((0,convertMetadata_1$3.convertMetadataToGrpcWeb)(Ee));let Ne;pipeRequest$1(Ae.signal,ve,Re,re).then(()=>{Re.finishSend()},Le=>{(0,abort_controller_x_1$3.isAbortError)(Le)||(Ne=Le,Re.close(),Se.end())});const Me=()=>{Se.error(new abort_controller_x_1$3.AbortError),Ae.abort(),Re.close()};_e.addEventListener("abort",Me);try{yield*Se}finally{if(Ae.abort(),_e.removeEventListener("abort",Me),(0,abort_controller_x_1$3.throwIfAborted)(_e),Ne)throw Ne}}const ge=ne==null?pe:(ve,we)=>ne({method:he,requestStream:!0,request:ve,responseStream:!0,next:pe},we);return(ve,we)=>{const _e=ge(ve,{...oe,...we})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const Te=await _e.next();return Te.done&&Te.value!=null?await _e.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):Te},return(){return _e.return()},throw(Te){return _e.throw(Te)}}}}}}createBidiStreamingMethod$1.createBidiStreamingMethod=createBidiStreamingMethod;async function pipeRequest$1(re,ee,ne,oe){for await(const ae of ee)(0,abort_controller_x_1$3.throwIfAborted)(re),ne.send({serializeBinary:()=>oe.requestSerialize(ae)})}var createClientStreamingMethod$1={};Object.defineProperty(createClientStreamingMethod$1,"__esModule",{value:!0});createClientStreamingMethod$1.createClientStreamingMethod=void 0;const nice_grpc_common_1$3=lib,grpc_web_1$2=grpcWebClient_umdExports,abort_controller_x_1$2=require$$2,service_definitions_1$3=serviceDefinitions,isAsyncIterable_1$2=isAsyncIterable$1,convertMetadata_1$2=convertMetadata;function createClientStreamingMethod(re,ee,ne,oe){const ae=(0,service_definitions_1$3.toGrpcWebMethodDefinition)(re),he={path:re.path,requestStream:re.requestStream,responseStream:re.responseStream,options:re.options};async function*pe(ve,we){if(!(0,isAsyncIterable_1$2.isAsyncIterable)(ve))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");const{metadata:Ee=(0,nice_grpc_common_1$3.Metadata)(),signal:_e=new AbortController().signal,onHeader:Te,onTrailer:Pe}=we;return await(0,abort_controller_x_1$2.execute)(_e,(Ae,Se)=>{const Re=new AbortController;let Ne;const Me=grpc_web_1$2.grpc.client(ae,{host:ee.address,transport:ee.transport});return Me.onHeaders(Le=>{Te?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Le))}),Me.onMessage(Le=>{Ne=Le}),Me.onEnd((Le,qe,We)=>{Pe?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(We)),Re.abort(),Le===grpc_web_1$2.grpc.Code.OK?Ae(Ne):Se(new nice_grpc_common_1$3.ClientError(re.path,+Le,qe))}),Me.start((0,convertMetadata_1$2.convertMetadataToGrpcWeb)(Ee)),pipeRequest(Re.signal,ve,Me,re).then(()=>{Me.finishSend()},Le=>{(0,abort_controller_x_1$2.isAbortError)(Le)||(Se(Le),Me.close())}),()=>{Re.abort(),Me.close()}})}const ge=ne==null?pe:(ve,we)=>ne({method:he,requestStream:!0,request:ve,responseStream:!1,next:pe},we);return async(ve,we)=>{const _e=ge(ve,{...oe,...we})[Symbol.asyncIterator]();let Te=await _e.next();for(;;){if(!Te.done){Te=await _e.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(Te.value==null){Te=await _e.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return Te.value}}}createClientStreamingMethod$1.createClientStreamingMethod=createClientStreamingMethod;async function pipeRequest(re,ee,ne,oe){for await(const ae of ee)(0,abort_controller_x_1$2.throwIfAborted)(re),ne.send({serializeBinary:()=>oe.requestSerialize(ae)})}var createServerStreamingMethod$1={};Object.defineProperty(createServerStreamingMethod$1,"__esModule",{value:!0});createServerStreamingMethod$1.createServerStreamingMethod=void 0;const grpc_web_1$1=grpcWebClient_umdExports,abort_controller_x_1$1=require$$2,AsyncSink_1=AsyncSink$1,nice_grpc_common_1$2=lib,service_definitions_1$2=serviceDefinitions,convertMetadata_1$1=convertMetadata,isAsyncIterable_1$1=isAsyncIterable$1;function createServerStreamingMethod(re,ee,ne,oe){const ae=(0,service_definitions_1$2.toGrpcWebMethodDefinition)(re),he={path:re.path,requestStream:re.requestStream,responseStream:re.responseStream,options:re.options};async function*pe(ve,we){if((0,isAsyncIterable_1$1.isAsyncIterable)(ve))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");const{metadata:Ee=(0,nice_grpc_common_1$2.Metadata)(),signal:_e=new AbortController().signal,onHeader:Te,onTrailer:Pe}=we,Ae=new AsyncSink_1.AsyncSink,Se=grpc_web_1$1.grpc.client(ae,{host:ee.address,transport:ee.transport});Se.onHeaders(Ne=>{Te?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Ne))}),Se.onMessage(Ne=>{Ae.write(Ne)}),Se.onEnd((Ne,Me,Le)=>{Pe?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Le)),Ne===grpc_web_1$1.grpc.Code.OK?Ae.end():Ae.error(new nice_grpc_common_1$2.ClientError(re.path,+Ne,Me))}),Se.start((0,convertMetadata_1$1.convertMetadataToGrpcWeb)(Ee)),Se.send({serializeBinary:()=>re.requestSerialize(ve)}),Se.finishSend();const Re=()=>{Ae.error(new abort_controller_x_1$1.AbortError),Se.close()};_e.addEventListener("abort",Re);try{yield*Ae}finally{_e.removeEventListener("abort",Re),(0,abort_controller_x_1$1.throwIfAborted)(_e)}}const ge=ne==null?pe:(ve,we)=>ne({method:he,requestStream:!1,request:ve,responseStream:!0,next:pe},we);return(ve,we)=>{const _e=ge(ve,{...oe,...we})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const Te=await _e.next();return Te.done&&Te.value!=null?await _e.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):Te},return(){return _e.return()},throw(Te){return _e.throw(Te)}}}}}}createServerStreamingMethod$1.createServerStreamingMethod=createServerStreamingMethod;var createUnaryMethod$1={};Object.defineProperty(createUnaryMethod$1,"__esModule",{value:!0});createUnaryMethod$1.createUnaryMethod=void 0;const nice_grpc_common_1$1=lib,grpc_web_1=grpcWebClient_umdExports,abort_controller_x_1=require$$2,service_definitions_1$1=serviceDefinitions,isAsyncIterable_1=isAsyncIterable$1,convertMetadata_1=convertMetadata;function createUnaryMethod(re,ee,ne,oe){const ae=(0,service_definitions_1$1.toGrpcWebMethodDefinition)(re),he={path:re.path,requestStream:re.requestStream,responseStream:re.responseStream,options:re.options};async function*pe(ve,we){if((0,isAsyncIterable_1.isAsyncIterable)(ve))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");const{metadata:Ee=(0,nice_grpc_common_1$1.Metadata)(),signal:_e=new AbortController().signal,onHeader:Te,onTrailer:Pe}=we;return await(0,abort_controller_x_1.execute)(_e,(Ae,Se)=>{let Re;const Ne=grpc_web_1.grpc.client(ae,{host:ee.address,transport:ee.transport});return Ne.onHeaders(Me=>{Te?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Me))}),Ne.onMessage(Me=>{Re=Me}),Ne.onEnd((Me,Le,qe)=>{Pe?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(qe)),Me===grpc_web_1.grpc.Code.OK?Ae(Re):Se(new nice_grpc_common_1$1.ClientError(re.path,+Me,Le))}),Ne.start((0,convertMetadata_1.convertMetadataToGrpcWeb)(Ee)),Ne.send({serializeBinary:()=>re.requestSerialize(ve)}),Ne.finishSend(),()=>{Ne.close()}})}const ge=ne==null?pe:(ve,we)=>ne({method:he,requestStream:!1,request:ve,responseStream:!1,next:pe},we);return async(ve,we)=>{const _e=ge(ve,{...oe,...we})[Symbol.asyncIterator]();let Te=await _e.next();for(;;){if(!Te.done){Te=await _e.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(Te.value==null){Te=await _e.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return Te.value}}}createUnaryMethod$1.createUnaryMethod=createUnaryMethod;Object.defineProperty(ClientFactory,"__esModule",{value:!0});ClientFactory.createClient=ClientFactory.createClientFactory=void 0;const nice_grpc_common_1=lib,service_definitions_1=serviceDefinitions,createBidiStreamingMethod_1=createBidiStreamingMethod$1,createClientStreamingMethod_1=createClientStreamingMethod$1,createServerStreamingMethod_1=createServerStreamingMethod$1,createUnaryMethod_1=createUnaryMethod$1;function createClientFactory(){return createClientFactoryWithMiddleware()}ClientFactory.createClientFactory=createClientFactory;function createClient(re,ee,ne){return createClientFactory().create(re,ee,ne)}ClientFactory.createClient=createClient;function createClientFactoryWithMiddleware(re){return{use(ee){return createClientFactoryWithMiddleware(re==null?ee:(0,nice_grpc_common_1.composeClientMiddleware)(re,ee))},create(ee,ne,oe={}){const ae={},he=Object.entries((0,service_definitions_1.normalizeServiceDefinition)(ee));for(const[pe,ge]of he){const ve={...oe["*"],...oe[pe]};ge.requestStream?ge.responseStream?ae[pe]=(0,createBidiStreamingMethod_1.createBidiStreamingMethod)(ge,ne,re,ve):ae[pe]=(0,createClientStreamingMethod_1.createClientStreamingMethod)(ge,ne,re,ve):ge.responseStream?ae[pe]=(0,createServerStreamingMethod_1.createServerStreamingMethod)(ge,ne,re,ve):ae[pe]=(0,createUnaryMethod_1.createUnaryMethod)(ge,ne,re,ve)}return ae}}}var Client={};Object.defineProperty(Client,"__esModule",{value:!0});(function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ae,he,pe,ge){ge===void 0&&(ge=pe);var ve=Object.getOwnPropertyDescriptor(he,pe);(!ve||("get"in ve?!he.__esModule:ve.writable||ve.configurable))&&(ve={enumerable:!0,get:function(){return he[pe]}}),Object.defineProperty(ae,ge,ve)}:function(ae,he,pe,ge){ge===void 0&&(ge=pe),ae[ge]=he[pe]}),ne=commonjsGlobal&&commonjsGlobal.__exportStar||function(ae,he){for(var pe in ae)pe!=="default"&&!Object.prototype.hasOwnProperty.call(he,pe)&&ee(he,ae,pe)};Object.defineProperty(re,"__esModule",{value:!0}),re.Status=re.Metadata=re.composeClientMiddleware=re.ClientError=void 0;var oe=lib;Object.defineProperty(re,"ClientError",{enumerable:!0,get:function(){return oe.ClientError}}),Object.defineProperty(re,"composeClientMiddleware",{enumerable:!0,get:function(){return oe.composeClientMiddleware}}),Object.defineProperty(re,"Metadata",{enumerable:!0,get:function(){return oe.Metadata}}),Object.defineProperty(re,"Status",{enumerable:!0,get:function(){return oe.Status}}),ne(serviceDefinitions,re),ne(channel,re),ne(ClientFactory,re),ne(Client,re)})(lib$1);function createBaseLinkedTwitterPair(){return{username:"",address:""}}var LinkedTwitterPair={encode(re,ee=_m0.Writer.create()){return re.username!==""&&ee.uint32(10).string(re.username),re.address!==""&&ee.uint32(18).string(re.address),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseLinkedTwitterPair();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.username=ne.string();continue;case 2:if(he!=18)break;ae.address=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return LinkedTwitterPair.fromPartial(re??{})},fromPartial(re){const ee=createBaseLinkedTwitterPair();return ee.username=re.username??"",ee.address=re.address??"",ee}};function createBaseDripRequest(){return{username:"",address:""}}var DripRequest={encode(re,ee=_m0.Writer.create()){return re.username!==""&&ee.uint32(10).string(re.username),re.address!==""&&ee.uint32(18).string(re.address),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseDripRequest();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.username=ne.string();continue;case 2:if(he!=18)break;ae.address=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return DripRequest.fromPartial(re??{})},fromPartial(re){const ee=createBaseDripRequest();return ee.username=re.username??"",ee.address=re.address??"",ee}};function createBaseDripDevRequest(){return{address:""}}var DripDevRequest={encode(re,ee=_m0.Writer.create()){return re.address!==""&&ee.uint32(10).string(re.address),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseDripDevRequest();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.address=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return DripDevRequest.fromPartial(re??{})},fromPartial(re){const ee=createBaseDripDevRequest();return ee.address=re.address??"",ee}};function createBaseDripResponse(){return{dripTxHash:"",ecsTxHash:""}}var DripResponse={encode(re,ee=_m0.Writer.create()){return re.dripTxHash!==""&&ee.uint32(10).string(re.dripTxHash),re.ecsTxHash!==""&&ee.uint32(18).string(re.ecsTxHash),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseDripResponse();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.dripTxHash=ne.string();continue;case 2:if(he!=18)break;ae.ecsTxHash=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return DripResponse.fromPartial(re??{})},fromPartial(re){const ee=createBaseDripResponse();return ee.dripTxHash=re.dripTxHash??"",ee.ecsTxHash=re.ecsTxHash??"",ee}};function createBaseTimeUntilDripResponse(){return{timeUntilDripMinutes:0,timeUntilDripSeconds:0}}var TimeUntilDripResponse={encode(re,ee=_m0.Writer.create()){return re.timeUntilDripMinutes!==0&&ee.uint32(9).double(re.timeUntilDripMinutes),re.timeUntilDripSeconds!==0&&ee.uint32(17).double(re.timeUntilDripSeconds),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseTimeUntilDripResponse();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=9)break;ae.timeUntilDripMinutes=ne.double();continue;case 2:if(he!=17)break;ae.timeUntilDripSeconds=ne.double();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return TimeUntilDripResponse.fromPartial(re??{})},fromPartial(re){const ee=createBaseTimeUntilDripResponse();return ee.timeUntilDripMinutes=re.timeUntilDripMinutes??0,ee.timeUntilDripSeconds=re.timeUntilDripSeconds??0,ee}};function createBaseGetLinkedTwittersRequest(){return{}}var GetLinkedTwittersRequest={encode(re,ee=_m0.Writer.create()){return ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseGetLinkedTwittersRequest();for(;ne.pos<oe;){const he=ne.uint32();if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return GetLinkedTwittersRequest.fromPartial(re??{})},fromPartial(re){return createBaseGetLinkedTwittersRequest()}};function createBaseGetLinkedTwittersResponse(){return{linkedTwitters:[]}}var GetLinkedTwittersResponse={encode(re,ee=_m0.Writer.create()){for(const ne of re.linkedTwitters)LinkedTwitterPair.encode(ne,ee.uint32(10).fork()).ldelim();return ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseGetLinkedTwittersResponse();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.linkedTwitters.push(LinkedTwitterPair.decode(ne,ne.uint32()));continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return GetLinkedTwittersResponse.fromPartial(re??{})},fromPartial(re){const ee=createBaseGetLinkedTwittersResponse();return ee.linkedTwitters=re.linkedTwitters?.map(ne=>LinkedTwitterPair.fromPartial(ne))||[],ee}};function createBaseLinkedTwitterForAddressRequest(){return{address:""}}var LinkedTwitterForAddressRequest={encode(re,ee=_m0.Writer.create()){return re.address!==""&&ee.uint32(10).string(re.address),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseLinkedTwitterForAddressRequest();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.address=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return LinkedTwitterForAddressRequest.fromPartial(re??{})},fromPartial(re){const ee=createBaseLinkedTwitterForAddressRequest();return ee.address=re.address??"",ee}};function createBaseLinkedTwitterForAddressResponse(){return{username:""}}var LinkedTwitterForAddressResponse={encode(re,ee=_m0.Writer.create()){return re.username!==""&&ee.uint32(10).string(re.username),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseLinkedTwitterForAddressResponse();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.username=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return LinkedTwitterForAddressResponse.fromPartial(re??{})},fromPartial(re){const ee=createBaseLinkedTwitterForAddressResponse();return ee.username=re.username??"",ee}};function createBaseLinkedAddressForTwitterRequest(){return{username:""}}var LinkedAddressForTwitterRequest={encode(re,ee=_m0.Writer.create()){return re.username!==""&&ee.uint32(10).string(re.username),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseLinkedAddressForTwitterRequest();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.username=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return LinkedAddressForTwitterRequest.fromPartial(re??{})},fromPartial(re){const ee=createBaseLinkedAddressForTwitterRequest();return ee.username=re.username??"",ee}};function createBaseLinkedAddressForTwitterResponse(){return{address:""}}var LinkedAddressForTwitterResponse={encode(re,ee=_m0.Writer.create()){return re.address!==""&&ee.uint32(10).string(re.address),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseLinkedAddressForTwitterResponse();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.address=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return LinkedAddressForTwitterResponse.fromPartial(re??{})},fromPartial(re){const ee=createBaseLinkedAddressForTwitterResponse();return ee.address=re.address??"",ee}};function createBaseSetLinkedTwitterRequest(){return{address:"",username:"",signature:""}}var SetLinkedTwitterRequest={encode(re,ee=_m0.Writer.create()){return re.address!==""&&ee.uint32(10).string(re.address),re.username!==""&&ee.uint32(18).string(re.username),re.signature!==""&&ee.uint32(26).string(re.signature),ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseSetLinkedTwitterRequest();for(;ne.pos<oe;){const he=ne.uint32();switch(he>>>3){case 1:if(he!=10)break;ae.address=ne.string();continue;case 2:if(he!=18)break;ae.username=ne.string();continue;case 3:if(he!=26)break;ae.signature=ne.string();continue}if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return SetLinkedTwitterRequest.fromPartial(re??{})},fromPartial(re){const ee=createBaseSetLinkedTwitterRequest();return ee.address=re.address??"",ee.username=re.username??"",ee.signature=re.signature??"",ee}};function createBaseSetLinkedTwitterResponse(){return{}}var SetLinkedTwitterResponse={encode(re,ee=_m0.Writer.create()){return ee},decode(re,ee){const ne=re instanceof _m0.Reader?re:_m0.Reader.create(re);let oe=ee===void 0?ne.len:ne.pos+ee;const ae=createBaseSetLinkedTwitterResponse();for(;ne.pos<oe;){const he=ne.uint32();if((he&7)==4||he==0)break;ne.skipType(he&7)}return ae},create(re){return SetLinkedTwitterResponse.fromPartial(re??{})},fromPartial(re){return createBaseSetLinkedTwitterResponse()}},FaucetServiceDefinition={name:"FaucetService",fullName:"faucet.FaucetService",methods:{drip:{name:"Drip",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripDev:{name:"DripDev",requestType:DripDevRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripVerifyTweet:{name:"DripVerifyTweet",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},timeUntilDrip:{name:"TimeUntilDrip",requestType:DripRequest,requestStream:!1,responseType:TimeUntilDripResponse,responseStream:!1,options:{}},getLinkedTwitters:{name:"GetLinkedTwitters",requestType:GetLinkedTwittersRequest,requestStream:!1,responseType:GetLinkedTwittersResponse,responseStream:!1,options:{}},getLinkedTwitterForAddress:{name:"GetLinkedTwitterForAddress",requestType:LinkedTwitterForAddressRequest,requestStream:!1,responseType:LinkedTwitterForAddressResponse,responseStream:!1,options:{}},getLinkedAddressForTwitter:{name:"GetLinkedAddressForTwitter",requestType:LinkedAddressForTwitterRequest,requestStream:!1,responseType:LinkedAddressForTwitterResponse,responseStream:!1,options:{}},setLinkedTwitter:{name:"SetLinkedTwitter",requestType:SetLinkedTwitterRequest,requestStream:!1,responseType:SetLinkedTwitterResponse,responseStream:!1,options:{}}}};(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createFaucetService(re){return lib$1.createClient(FaucetServiceDefinition,lib$1.createChannel(re))}const worldsJson={4242:{address:"0x1d74488AE8f269F766db0B338084ee03b367fEAA",blockNumber:24291094},31337:{address:"0x6e9474e9c83676b9a71133ff96db43e7aa0a4342"}},foundry=defineChain({id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}});var t={name:"Lattice Testnet",id:4242,network:"lattice-testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]},public:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]}},blockExplorers:{default:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},r={...foundry,fees:{defaultPriorityFee:()=>0n}};const supportedChains=[r,t],worlds=worldsJson;async function getNetworkConfig(){const re=new URLSearchParams(window.location.search),ee=Number(re.get("chainId")||re.get("chainid")||"31337"),ne=supportedChains.findIndex(ge=>ge.id===ee),oe=supportedChains[ne];if(!oe)throw new Error(`Chain ${ee} not found`);const ae=worlds[oe.id.toString()],he=re.get("worldAddress")||ae?.address;if(!he)throw new Error(`No world address found for chain ${ee}. Did you run \`mud deploy\`?`);const pe=re.has("initialBlockNumber")?Number(re.get("initialBlockNumber")):ae?.blockNumber??0n;return{privateKey:nt(),chainId:ee,chain:oe,faucetServiceUrl:re.get("faucet")??oe.faucetUrl,worldAddress:he,initialBlockNumber:pe}}const world=ft(),_abi=[{inputs:[{internalType:"uint256",name:"length",type:"uint256"},{internalType:"uint256",name:"accessedIndex",type:"uint256"}],name:"Store_IndexOutOfBounds",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidDynamicDataLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidFieldNamesLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidKeyNamesLength",type:"error"},{inputs:[{internalType:"bytes2",name:"expected",type:"bytes2"},{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"Store_InvalidResourceType",type:"error"},{inputs:[{internalType:"uint40",name:"startWithinField",type:"uint40"},{internalType:"uint40",name:"deleteCount",type:"uint40"},{internalType:"uint40",name:"fieldLength",type:"uint40"}],name:"Store_InvalidSplice",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidValueSchemaLength",type:"error"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"Store_TableAlreadyExists",type:"error"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"Store_TableNotFound",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"},{internalType:"address",name:"caller",type:"address"}],name:"World_AccessDenied",type:"error"},{inputs:[],name:"World_AlreadyInitialized",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"World_CallbackNotAllowed",type:"error"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"address",name:"delegatee",type:"address"}],name:"World_DelegationNotFound",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"World_FunctionSelectorAlreadyExists",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"World_FunctionSelectorNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"World_InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"World_InterfaceNotSupported",type:"error"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_InvalidResourceId",type:"error"},{inputs:[{internalType:"bytes2",name:"expected",type:"bytes2"},{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_InvalidResourceType",type:"error"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_ResourceAlreadyExists",type:"error"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_ResourceNotFound",type:"error"},{inputs:[{internalType:"address",name:"system",type:"address"}],name:"World_SystemAlreadyExists",type:"error"},{inputs:[],name:"World_UnlimitedDelegationNotAllowed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"storeVersion",type:"bytes32"}],name:"HelloStore",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"worldVersion",type:"bytes32"}],name:"HelloWorld",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"}],name:"Store_DeleteRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"staticData",type:"bytes"},{indexed:!1,internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"dynamicData",type:"bytes"}],name:"Store_SetRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{indexed:!1,internalType:"uint48",name:"start",type:"uint48"},{indexed:!1,internalType:"uint40",name:"deleteCount",type:"uint40"},{indexed:!1,internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"Store_SpliceDynamicData",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{indexed:!1,internalType:"uint48",name:"start",type:"uint48"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"Store_SpliceStaticData",type:"event"},{inputs:[],name:"acceptTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"askStart",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct SystemCallData[]",name:"systemCalls",type:"tuple[]"}],name:"batchCall",outputs:[{internalType:"bytes[]",name:"returnDatas",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct SystemCallFromData[]",name:"systemCalls",type:"tuple[]"}],name:"batchCallFrom",outputs:[{internalType:"bytes[]",name:"returnDatas",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"call",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"callFrom",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"str",type:"string"},{internalType:"uint256",name:"num",type:"uint256"}],name:"concatenate",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"}],name:"deleteRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"finishGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"}],name:"getDynamicField",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"}],name:"getDynamicFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"getDynamicFieldSlice",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"}],name:"getFieldLayout",outputs:[{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"}],name:"getKeySchema",outputs:[{internalType:"Schema",name:"keySchema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getRecord",outputs:[{internalType:"bytes",name:"staticData",type:"bytes"},{internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{internalType:"bytes",name:"dynamicData",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"}],name:"getRecord",outputs:[{internalType:"bytes",name:"staticData",type:"bytes"},{internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{internalType:"bytes",name:"dynamicData",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getStaticField",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"}],name:"getValueSchema",outputs:[{internalType:"Schema",name:"valueSchema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"grantAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"coreModule",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installRootModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"joinGame",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"targetX",type:"uint256"},{internalType:"uint256",name:"targetY",type:"uint256"}],name:"move",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"assetKind",type:"uint8"}],name:"pickAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pickFund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"uint256",name:"byteLengthToPop",type:"uint256"}],name:"popFromDynamicField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"bytes",name:"dataToPush",type:"bytes"}],name:"pushToDynamicField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"ResourceId",name:"delegationControlId",type:"bytes32"},{internalType:"bytes",name:"initCallData",type:"bytes"}],name:"registerDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"string",name:"systemFunctionSignature",type:"string"}],name:"registerFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"namespaceId",type:"bytes32"}],name:"registerNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"namespaceId",type:"bytes32"},{internalType:"ResourceId",name:"delegationControlId",type:"bytes32"},{internalType:"bytes",name:"initCallData",type:"bytes"}],name:"registerNamespaceDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"string",name:"worldFunctionSignature",type:"string"},{internalType:"bytes4",name:"systemFunctionSelector",type:"bytes4"}],name:"registerRootFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"contract IStoreHook",name:"hookAddress",type:"address"},{internalType:"uint8",name:"enabledHooksBitmap",type:"uint8"}],name:"registerStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"contract WorldContextConsumer",name:"system",type:"address"},{internalType:"bool",name:"publicAccess",type:"bool"}],name:"registerSystem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"contract ISystemHook",name:"hookAddress",type:"address"},{internalType:"uint8",name:"enabledHooksBitmap",type:"uint8"}],name:"registerSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"},{internalType:"Schema",name:"keySchema",type:"bytes32"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"string[]",name:"keyNames",type:"string[]"},{internalType:"string[]",name:"fieldNames",type:"string[]"}],name:"registerTable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rejectTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"revokeAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setDynamicField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"bytes",name:"staticData",type:"bytes"},{internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{internalType:"bytes",name:"dynamicData",type:"bytes"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"setStaticField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"uint40",name:"startWithinField",type:"uint40"},{internalType:"uint40",name:"deleteCount",type:"uint40"},{internalType:"bytes",name:"data",type:"bytes"}],name:"spliceDynamicData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint48",name:"start",type:"uint48"},{internalType:"bytes",name:"data",type:"bytes"}],name:"spliceStaticData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"storeVersion",outputs:[{internalType:"bytes32",name:"version",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"targetPlayer",type:"bytes32"},{internalType:"uint8",name:"assetKind",type:"uint8"},{internalType:"uint32",name:"money",type:"uint32"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"fromNamespaceId",type:"bytes32"},{internalType:"address",name:"toAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferBalanceToAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"fromNamespaceId",type:"bytes32"},{internalType:"ResourceId",name:"toNamespaceId",type:"bytes32"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferBalanceToNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"namespaceId",type:"bytes32"},{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"contract IStoreHook",name:"hookAddress",type:"address"}],name:"unregisterStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"contract ISystemHook",name:"hookAddress",type:"address"}],name:"unregisterSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"worldVersion",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}];class IWorld__factory{static createInterface(){return new Interface(_abi)}static connect(ee,ne){return new Contract(ee,_abi,ne)}}IWorld__factory.abi=_abi;const mudConfig=m$2({enums:{},modules:[{name:"UniqueEntityModule",root:!0,args:[]},{name:"KeysInTableModule",root:!0,args:[te("Player")]},{name:"KeysWithValueModule",root:!0,args:[te("Player")]},{name:"KeysInTableModule",root:!0,args:[te("MapItem")]},{name:"KeysWithValueModule",root:!0,args:[te("MapItem")]}],tables:{Counter:{keySchema:{},valueSchema:"uint32"},Game:{keySchema:{},valueSchema:{gameId:"uint256",startTime:"uint256",endTime:"uint256"}},GameState:{keySchema:{},valueSchema:"uint32"},GameMap:{keySchema:{},valueSchema:{width:"uint256",height:"uint256",mapArray:"bytes"}},MapItem:{valueSchema:{x:"uint256",y:"uint256"}},MapItemValue:{valueSchema:"uint32"},IsPlayer:{dataStruct:!1,valueSchema:"bool"},Player:{dataStruct:!0,valueSchema:{gameId:"uint256",state:"uint32",money:"uint32",x:"uint256",y:"uint256"}},RaiseColddown:{dataStruct:!0,valueSchema:{start:"uint256",end:"uint256"}},AssetsList:{dataStruct:!0,valueSchema:{gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},Log:{dataStruct:!0,valueSchema:"uint8"},TransactionList:{dataStruct:!0,valueSchema:{list:"bytes32[]"}},TradeList:{dataStruct:!0,valueSchema:{list:"bytes"}},IsTrading:{dataStruct:!1,valueSchema:"bool"},PlayerGameResult:{dataStruct:!0,valueSchema:{rank:"int32",points:"int32",gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},UnsolicitedTransaction:{dataStruct:!0,valueSchema:{asset:"uint8",money:"uint32",to:"bytes32"}},PassiveTransaction:{dataStruct:!0,valueSchema:{asset:"uint8",money:"uint32",from:"bytes32"}}}});async function setupNetwork(){const re=await getNetworkConfig(),ee={chain:re.chain,transport:kt(fallback([webSocket(),http()])),pollingInterval:1e3},ne=createPublicClient(ee),oe=me(re.privateKey),ae=createWalletClient({...ee,account:oe}),he=new Subject,pe=se({address:re.worldAddress,abi:IWorld__factory.abi,publicClient:ne,walletClient:ae,onWrite:_e=>he.next(_e)}),{components:ge,latestBlock$:ve,blockStorageOperations$:we,waitForTransaction:Ee}=await be({world,config:mudConfig,address:re.worldAddress,publicClient:ne,startBlock:BigInt(re.initialBlockNumber)});if(re.faucetServiceUrl){const _e=oe.address;console.info("[Dev Faucet]: Player address -> ",_e);const Te=createFaucetService(re.faucetServiceUrl),Pe=async()=>{const Ae=await ne.getBalance({address:_e});console.info(`[Dev Faucet]: Player balance -> ${Ae}`),Ae<parseEther("1")&&(console.info("[Dev Faucet]: Balance is low, dripping funds to player"),await Te.dripDev({address:_e}),await Te.dripDev({address:_e}))};Pe(),setInterval(Pe,2e4)}return{world,components:ge,playerEntity:$({address:"address"},{address:ae.account.address}),publicClient:ne,walletClient:ae,latestBlock$:ve,blockStorageOperations$:we,waitForTransaction:Ee,worldContract:pe,write$:he.asObservable().pipe(share$1())}}async function setup(){const re=await setupNetwork(),ee=createClientComponents(re),ne=createSystemCalls(re,ee);return{network:re,components:ee,systemCalls:ne}}const{components,systemCalls:{increment,joinGame,askStart,move,pickAsset,pickFund,trade,acceptTrade,rejectTrade,finishGame},network}=await setup();globalThis.ponzi={counter:0,currentPlayer:network.playerEntity,gameState:null,game:null,gameMap:null,mapItems:null,players:null};globalThis.env={components};components.GameState.update$.subscribe(re=>{const[ee,ne]=re.value;console.log("GameState updated",re,{nextValue:ee,prevValue:ne}),globalThis.ponzi.gameState=ee.value,globalThis.ponzi.gamestate_update?.(ne?.value,ee?.value)});components.Game.update$.subscribe(re=>{const[ee,ne]=re.value;console.log("Game updated",re,{nextValue:ee,prevValue:ne}),globalThis.ponzi.game=ee,globalThis.ponzi.game_update?.(ne,ee)});components.Player.update$.subscribe(re=>{const[ee,ne]=re.value;console.log("Player updated",re,{nextValue:ee,prevValue:ne}),globalThis.ponzi.player_update?.(re)});components.GameMap.update$.subscribe(re=>{const[ee,ne]=re.value;console.log("GameMap updated",{nextValue:ee,prevValue:ne}),globalThis.ponzi.gameMap=ee,globalThis.ponzi.gamemap_update?.(ne,ee)});components.MapItem.update$.subscribe(re=>{const[ee,ne]=re.value;globalThis.ponzi.mapitems_update?.(ne,ee)});components.IsPlayer.update$.subscribe(re=>{re.value,console.log("IsPlayer updated",re),globalThis.ponzi.isplayer_update?.(re)});components.TransactionList.update$.subscribe(re=>{re.value,console.log("TransactionList updated",re),globalThis.ponzi.transactionlist_update?.(re)});components.Log.update$.subscribe(re=>{re.value,console.log("Log updated",re)});components.AssetsList.update$.subscribe(re=>{re.value,console.log("AssetsList updated",re),globalThis.ponzi.assetslist_update?.(re)});components.RaiseColddown.update$.subscribe(re=>{re.value,console.log("RaiseColddown updated",re),globalThis.ponzi.raiseColddown_update?.(re)});components.PassiveTransaction.update$.subscribe(re=>{re.value,console.log("PassiveTransaction updated",re),globalThis.ponzi.passivetransaction_update?.(re)});components.TradeList.update$.subscribe(re=>{re.value,console.log("TradeList updated",re),globalThis.ponzi.tradelist_update?.(re)});components.PlayerGameResult.update$.subscribe(re=>{re.value,console.log("PlayerGameResult updated",re),globalThis.ponzi.playergameresult_update?.(re)});window.getPlayers=()=>components.Player.values;window.getIsPlayers=()=>components.IsPlayer.values;window.getMapItems=()=>components.MapItem.values;window.getAssetsList=()=>components.AssetsList.values;window.queryValue=async(re,ee)=>{const ne=de(re,ee);return console.log("getValueByComAndEntity:",ne),ne};window.queryAssetsList=async()=>A$4([Ye(components.AssetsList)]);window.increment=async()=>{let re=await increment();return console.log("new counter value:",re),re};window.joinGame=async()=>{let re=await joinGame();return console.log("joinGame:",re),re};window.askStart=async()=>{let re=await askStart();return console.log("askStart:",re),re};window.move=async(re,ee)=>{let ne=await move(re,ee);return console.log("move:",ne),ne};window.pickAsset=async re=>{console.log("send pickAsset:",re),await pickAsset(re)};window.pickFund=async re=>{console.log("send pickFund:",re),await pickFund()};window.trade=async(re,ee,ne)=>{console.log("send trade:",re,ne,ee),await trade(re,ee,ne)};window.acceptTrade=async()=>{let re=await acceptTrade();console.log("send acceptTrade:"+re)};window.rejectTrade=async()=>{let re=await rejectTrade();console.log("send rejectTrade:"+re)};window.finishGame=async()=>{let re=await finishGame();console.log("send finishGame:"+re)};window.mudutils={};window.mudutils.hexToArray=function(re,ee,ne){const oe=Array.from(K$4(ne)).map((he,pe)=>he),ae=[];for(let he=0;he<oe.length;he+=Number(re)){const pe=oe.slice(he,he+Number(re));ae.push(pe)}return ae};export{BaseError$1 as B,HttpRequestError$1 as H,InvalidAddressError$1 as I,concat$1 as a,isHex$1 as b,call$1 as c,decodeErrorResult$1 as d,encodeAbiParameters$1 as e,BaseError as f,getUrl$2 as g,getUrl as h,isAddress$1 as i,stringify as j,isAddress as k,InvalidAddressError as l,decodeErrorResult as m,call as n,concat as o,encodeAbiParameters as p,HttpRequestError as q,isHex as r,stringify$1 as s};
//# sourceMappingURL=index-ab02e988.js.map
